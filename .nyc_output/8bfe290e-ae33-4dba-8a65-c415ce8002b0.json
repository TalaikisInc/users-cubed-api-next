{"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\config.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\config.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":869}},"1":{"start":{"line":1,"column":889},"end":{"line":1,"column":1116}},"2":{"start":{"line":1,"column":976},"end":{"line":1,"column":991}},"3":{"start":{"line":1,"column":1005},"end":{"line":1,"column":1104}},"4":{"start":{"line":1,"column":1130},"end":{"line":1,"column":1147}},"5":{"start":{"line":1,"column":1160},"end":{"line":1,"column":1180}},"6":{"start":{"line":1,"column":1181},"end":{"line":1,"column":2514}},"7":{"start":{"line":1,"column":2534},"end":{"line":1,"column":2542}},"8":{"start":{"line":1,"column":2543},"end":{"line":1,"column":2576}},"9":{"start":{"line":1,"column":2595},"end":{"line":1,"column":2604}},"10":{"start":{"line":1,"column":2605},"end":{"line":1,"column":2638}},"11":{"start":{"line":1,"column":2659},"end":{"line":1,"column":2667}},"12":{"start":{"line":1,"column":2668},"end":{"line":1,"column":2702}},"13":{"start":{"line":1,"column":2714},"end":{"line":1,"column":2718}},"14":{"start":{"line":1,"column":2719},"end":{"line":1,"column":2740}},"15":{"start":{"line":1,"column":2750},"end":{"line":1,"column":2775}},"16":{"start":{"line":2,"column":0},"end":{"line":2,"column":20}},"17":{"start":{"line":2,"column":40},"end":{"line":2,"column":48}},"18":{"start":{"line":2,"column":49},"end":{"line":2,"column":89}},"19":{"start":{"line":2,"column":110},"end":{"line":2,"column":160}},"20":{"start":{"line":2,"column":161},"end":{"line":2,"column":203}},"21":{"start":{"line":2,"column":220},"end":{"line":2,"column":244}},"22":{"start":{"line":2,"column":245},"end":{"line":2,"column":279}},"23":{"start":{"line":2,"column":297},"end":{"line":2,"column":322}},"24":{"start":{"line":2,"column":323},"end":{"line":2,"column":359}},"25":{"start":{"line":2,"column":375},"end":{"line":2,"column":377}},"26":{"start":{"line":2,"column":378},"end":{"line":2,"column":401}},"27":{"start":{"line":2,"column":413},"end":{"line":2,"column":517}},"28":{"start":{"line":2,"column":518},"end":{"line":2,"column":542}},"29":{"start":{"line":2,"column":553},"end":{"line":2,"column":650}},"30":{"start":{"line":2,"column":651},"end":{"line":2,"column":673}},"31":{"start":{"line":2,"column":689},"end":{"line":2,"column":712}},"32":{"start":{"line":2,"column":713},"end":{"line":2,"column":745}},"33":{"start":{"line":2,"column":757},"end":{"line":2,"column":772}},"34":{"start":{"line":2,"column":773},"end":{"line":2,"column":805}},"35":{"start":{"line":2,"column":818},"end":{"line":2,"column":828}},"36":{"start":{"line":2,"column":829},"end":{"line":2,"column":857}},"37":{"start":{"line":2,"column":875},"end":{"line":2,"column":882}},"38":{"start":{"line":2,"column":883},"end":{"line":2,"column":913}},"39":{"start":{"line":2,"column":935},"end":{"line":2,"column":940}},"40":{"start":{"line":2,"column":941},"end":{"line":2,"column":973}},"41":{"start":{"line":2,"column":990},"end":{"line":2,"column":1019}},"42":{"start":{"line":2,"column":1020},"end":{"line":2,"column":1071}},"43":{"start":{"line":2,"column":1091},"end":{"line":2,"column":1118}},"44":{"start":{"line":2,"column":1119},"end":{"line":2,"column":1159}},"45":{"start":{"line":2,"column":1183},"end":{"line":2,"column":1214}},"46":{"start":{"line":2,"column":1215},"end":{"line":2,"column":1263}},"47":{"start":{"line":2,"column":1285},"end":{"line":2,"column":1314}},"48":{"start":{"line":2,"column":1315},"end":{"line":2,"column":1359}},"49":{"start":{"line":2,"column":1371},"end":{"line":2,"column":1427}},"50":{"start":{"line":2,"column":1428},"end":{"line":2,"column":1452}},"51":{"start":{"line":2,"column":1472},"end":{"line":2,"column":1499}},"52":{"start":{"line":2,"column":1500},"end":{"line":2,"column":1540}},"53":{"start":{"line":2,"column":1557},"end":{"line":2,"column":1581}},"54":{"start":{"line":2,"column":1582},"end":{"line":2,"column":1616}},"55":{"start":{"line":2,"column":1633},"end":{"line":2,"column":1686}},"56":{"start":{"line":2,"column":1687},"end":{"line":2,"column":1748}},"57":{"start":{"line":2,"column":1762},"end":{"line":2,"column":1773}},"58":{"start":{"line":2,"column":1774},"end":{"line":2,"column":1802}},"59":{"start":{"line":2,"column":1820},"end":{"line":2,"column":1849}},"60":{"start":{"line":2,"column":1850},"end":{"line":2,"column":1886}},"61":{"start":{"line":2,"column":1907},"end":{"line":2,"column":1940}},"62":{"start":{"line":2,"column":1941},"end":{"line":2,"column":1983}},"63":{"start":{"line":2,"column":1997},"end":{"line":2,"column":2018}},"64":{"start":{"line":2,"column":2019},"end":{"line":2,"column":2047}},"65":{"start":{"line":2,"column":2064},"end":{"line":2,"column":2073}},"66":{"start":{"line":2,"column":2074},"end":{"line":2,"column":2105}},"67":{"start":{"line":2,"column":2117},"end":{"line":2,"column":2136}},"68":{"start":{"line":2,"column":2137},"end":{"line":2,"column":2161}},"69":{"start":{"line":2,"column":2178},"end":{"line":2,"column":2181}},"70":{"start":{"line":2,"column":2182},"end":{"line":2,"column":2207}},"71":{"start":{"line":2,"column":2230},"end":{"line":2,"column":2260}},"72":{"start":{"line":2,"column":2261},"end":{"line":2,"column":2307}},"73":{"start":{"line":2,"column":2330},"end":{"line":2,"column":2360}},"74":{"start":{"line":2,"column":2361},"end":{"line":2,"column":2407}},"75":{"start":{"line":2,"column":2426},"end":{"line":2,"column":2428}},"76":{"start":{"line":2,"column":2429},"end":{"line":2,"column":2455}},"77":{"start":{"line":2,"column":2481},"end":{"line":2,"column":2483}},"78":{"start":{"line":2,"column":2484},"end":{"line":2,"column":2517}},"79":{"start":{"line":2,"column":2532},"end":{"line":2,"column":2534}},"80":{"start":{"line":2,"column":2535},"end":{"line":2,"column":2557}}},"fnMap":{"0":{"name":"_typeof","decl":{"start":{"line":1,"column":878},"end":{"line":1,"column":885}},"loc":{"start":{"line":1,"column":888},"end":{"line":1,"column":1117}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":964},"end":{"line":1,"column":965}},"loc":{"start":{"line":1,"column":975},"end":{"line":1,"column":992}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":993},"end":{"line":1,"column":994}},"loc":{"start":{"line":1,"column":1004},"end":{"line":1,"column":1105}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":904},"end":{"line":1,"column":1105}},"type":"cond-expr","locations":[{"start":{"line":1,"column":964},"end":{"line":1,"column":992}},{"start":{"line":1,"column":993},"end":{"line":1,"column":1105}}],"line":1},"1":{"loc":{"start":{"line":1,"column":904},"end":{"line":1,"column":963}},"type":"binary-expr","locations":[{"start":{"line":1,"column":904},"end":{"line":1,"column":929}},{"start":{"line":1,"column":931},"end":{"line":1,"column":963}}],"line":1},"2":{"loc":{"start":{"line":1,"column":1012},"end":{"line":1,"column":1104}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1087},"end":{"line":1,"column":1095}},{"start":{"line":1,"column":1096},"end":{"line":1,"column":1104}}],"line":1},"3":{"loc":{"start":{"line":1,"column":1012},"end":{"line":1,"column":1086}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1012},"end":{"line":1,"column":1013}},{"start":{"line":1,"column":1015},"end":{"line":1,"column":1040}},{"start":{"line":1,"column":1042},"end":{"line":1,"column":1064}},{"start":{"line":1,"column":1066},"end":{"line":1,"column":1086}}],"line":1}},"s":{"0":1,"1":1,"2":16,"3":0,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1},"f":{"0":1,"1":16,"2":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0,0]},"inputSourceMap":{"version":3,"sources":["config.js"],"names":["require","strictEqual","process","env","HASH_SECRET","TWILIO_FROM","TWILIO_SID","TWILIO_AUTH_TOKEN","MAILGUN_FROM","MAILGUN_DOMAIN","MAILGUN_KEY","ENCRYPTION_SALT","ENCRYPTION_PASSWORD","USERS_BUCKET_NAME","AUTH0_CLIENT_ID","AUTH0_DOMAIN","S3_ACCESS_KEY","S3_ACCESS_SECRET","S3_REGION","API_KEY","MOBILE_PROVIDER","EMAIL_PROVIDER","PAYMENT_PROVIDER","DB_TYPE","ROLES","FIRST_USER_ROLE","SOCIAL_PROVIDERS","WAPID_PUBLIC","WAPID_PRIVATE","WAPID_EMAIL","MAILGUN","nameFrom","domainName","apiKey","TWILIO","from","sid","authToken","COMPANY","BASE_URL","FIRST_CONFIRM","USER_TOKEN_EXPIRY","FRONTEND_URL","WORKERS","tokenClean","logRotate","unconfirmedClean","REDIRECT_URL","LANGUAGES","AWS_ACCESS_KEY_ID","AWS_SECRET_ACCESS_KEY","UPLOAD_TABLE","ALLOW_ORIGIN","STRIPE_TEST_SECRET","STRIPE_LIVE_SECRET","STRIPE_ACCOUNT","STRIPE_WEBHOOK_SECRET","STRIPE_ENV"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app","sourcesContent":["const { strictEqual } = require('assert')\r\nstrictEqual(typeof process.env.HASH_SECRET, 'string', 'You need hash secret!')\r\nstrictEqual(typeof process.env.TWILIO_FROM, 'string', 'You need Twilio from!')\r\nstrictEqual(typeof process.env.TWILIO_SID, 'string', 'You need TWILIO_SID!')\r\nstrictEqual(typeof process.env.TWILIO_AUTH_TOKEN, 'string', 'You need TWILIO_AUTH_TOKEN!')\r\nstrictEqual(typeof process.env.MAILGUN_FROM, 'string', 'You need MAILGUN_FROM!')\r\nstrictEqual(typeof process.env.MAILGUN_DOMAIN, 'string', 'You need MAILGUN_DOMAIN!')\r\nstrictEqual(typeof process.env.MAILGUN_KEY, 'string', 'You need MAILGUN_KEY!')\r\nstrictEqual(typeof process.env.ENCRYPTION_SALT, 'string', 'You need ENCRYPTION_SALT!')\r\nstrictEqual(typeof process.env.ENCRYPTION_PASSWORD, 'string', 'You need ENCRYPTION_PASSWORD!')\r\nstrictEqual(typeof process.env.USERS_BUCKET_NAME, 'string', 'You need USERS_BUCKET_NAME!')\r\nstrictEqual(typeof process.env.AUTH0_CLIENT_ID, 'string', 'You need AUTH0_CLIENT_ID!')\r\nstrictEqual(typeof process.env.AUTH0_DOMAIN, 'string', 'You need AUTH0_CLIENT_ID!')\r\nstrictEqual(typeof process.env.S3_ACCESS_KEY, 'string', 'You need S3_ACCESS_KEY!')\r\nstrictEqual(typeof process.env.S3_ACCESS_SECRET, 'string', 'You need S3_ACCESS_SECRET!')\r\nstrictEqual(typeof process.env.S3_REGION, 'string', 'You need S3_REGION!')\r\nstrictEqual(typeof process.env.API_KEY, 'string', 'You need API_KEY!')\r\n\r\nexport const MOBILE_PROVIDER = 'twilio'\r\nexport const EMAIL_PROVIDER = 'mailgun'\r\nexport const PAYMENT_PROVIDER = 'stripe'\r\nexport const DB_TYPE = 's3'\r\nexport const ROLES = ['user', 'admin', 'editor'] // 1st should be always default, 2nd - admin\r\nexport const FIRST_USER_ROLE = ROLES[1]\r\nexport const SOCIAL_PROVIDERS = ['auth0', 'google', 'facebook', 'twitter', 'linkedin']\r\n\r\nexport const WAPID_PUBLIC = process.env.WAPID_PUBLIC\r\nexport const WAPID_PRIVATE = process.env.WAPID_PRIVATE\r\nexport const WAPID_EMAIL = ''\r\n\r\nexport const MAILGUN = {\r\n  nameFrom: process.env.MAILGUN_FROM,\r\n  domainName: process.env.MAILGUN_DOMAIN,\r\n  apiKey: process.env.MAILGUN_KEY\r\n}\r\n\r\nexport const TWILIO = {\r\n  from: process.env.TWILIO_FROM,\r\n  sid: process.env.TWILIO_SID,\r\n  authToken: process.env.TWILIO_AUTH_TOKEN\r\n}\r\n\r\nexport const HASH_SECRET = process.env.HASH_SECRET\r\n\r\nexport const COMPANY = 'Talaikis Ltd.'\r\n\r\nexport const BASE_URL = 'https://'\r\n\r\nexport const FIRST_CONFIRM = 'email'\r\n\r\nexport const USER_TOKEN_EXPIRY = 60 * 60 * 15\r\n\r\nexport const FRONTEND_URL = 'https://cubed.talaikis.com/'\r\n\r\nexport const ENCRYPTION_SALT = process.env.ENCRYPTION_SALT\r\n\r\nexport const ENCRYPTION_PASSWORD = process.env.ENCRYPTION_PASSWORD\r\n\r\nexport const USERS_BUCKET_NAME = process.env.USERS_BUCKET_NAME\r\n\r\nexport const WORKERS = {\r\n  tokenClean: 60 * 60,\r\n  logRotate: 60 * 60 * 24,\r\n  unconfirmedClean: 60 * 60 * 3\r\n}\r\n\r\nexport const AUTH0_CLIENT_ID = process.env.AUTH0_CLIENT_ID\r\nexport const AUTH0_DOMAIN = process.env.AUTH0_DOMAIN\r\nexport const REDIRECT_URL = `${FRONTEND_URL}/dashboard`\r\n\r\nexport const LANGUAGES = ['en', 'fr']\r\n\r\nexport const S3_ACCESS_KEY = process.env.AWS_ACCESS_KEY_ID\r\nexport const S3_ACCESS_SECRET = process.env.AWS_SECRET_ACCESS_KEY\r\nexport const S3_REGION = process.env.S3_REGION\r\nexport const UPLOAD_TABLE = 'avatars'\r\n\r\nexport const API_KEY = process.env.API_KEY\r\nexport const ALLOW_ORIGIN = '*'\r\n\r\nexport const STRIPE_TEST_SECRET = process.env.STRIPE_TEST_SECRET\r\nexport const STRIPE_LIVE_SECRET = process.env.STRIPE_LIVE_SECRET\r\nexport const STRIPE_ACCOUNT = ''\r\nexport const STRIPE_WEBHOOK_SECRET = ''\r\nexport const STRIPE_ENV = ''\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2833d2327b11fb010889924c36da9479452affbe","contentHash":"823a7c7a3271fbbb28a632962d081ecaec7c111805521ab7aafeedf5ef3a7941"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\proto\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\proto\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":172}},"1":{"start":{"line":1,"column":182},"end":{"line":1,"column":197}},"2":{"start":{"line":1,"column":210},"end":{"line":1,"column":255}},"3":{"start":{"line":1,"column":262},"end":{"line":1,"column":277}},"4":{"start":{"line":1,"column":286},"end":{"line":1,"column":309}},"5":{"start":{"line":1,"column":317},"end":{"line":1,"column":336}},"6":{"start":{"line":1,"column":372},"end":{"line":1,"column":408}},"7":{"start":{"line":1,"column":452},"end":{"line":1,"column":506}},"8":{"start":{"line":1,"column":462},"end":{"line":1,"column":469}},"9":{"start":{"line":1,"column":472},"end":{"line":1,"column":479}},"10":{"start":{"line":1,"column":489},"end":{"line":1,"column":505}},"11":{"start":{"line":1,"column":506},"end":{"line":1,"column":546}},"12":{"start":{"line":1,"column":577},"end":{"line":1,"column":789}},"13":{"start":{"line":1,"column":601},"end":{"line":1,"column":605}},"14":{"start":{"line":1,"column":608},"end":{"line":1,"column":617}},"15":{"start":{"line":1,"column":618},"end":{"line":1,"column":788}},"16":{"start":{"line":1,"column":665},"end":{"line":1,"column":703}},"17":{"start":{"line":1,"column":718},"end":{"line":1,"column":757}},"18":{"start":{"line":1,"column":764},"end":{"line":1,"column":776}},"19":{"start":{"line":1,"column":777},"end":{"line":1,"column":786}},"20":{"start":{"line":1,"column":815},"end":{"line":1,"column":856}},"21":{"start":{"line":1,"column":865},"end":{"line":1,"column":1069}},"22":{"start":{"line":1,"column":883},"end":{"line":1,"column":1068}},"23":{"start":{"line":1,"column":927},"end":{"line":1,"column":1066}},"24":{"start":{"line":1,"column":936},"end":{"line":1,"column":1046}},"25":{"start":{"line":1,"column":946},"end":{"line":1,"column":961}},"26":{"start":{"line":1,"column":964},"end":{"line":1,"column":997}},"27":{"start":{"line":1,"column":1000},"end":{"line":1,"column":1013}},"28":{"start":{"line":1,"column":1014},"end":{"line":1,"column":1023}},"29":{"start":{"line":1,"column":1033},"end":{"line":1,"column":1045}},"30":{"start":{"line":1,"column":1051},"end":{"line":1,"column":1066}},"31":{"start":{"line":1,"column":1091},"end":{"line":1,"column":1436}},"32":{"start":{"line":1,"column":1108},"end":{"line":1,"column":1383}},"33":{"start":{"line":1,"column":1187},"end":{"line":1,"column":1380}},"34":{"start":{"line":1,"column":1230},"end":{"line":1,"column":1376}},"35":{"start":{"line":1,"column":1237},"end":{"line":1,"column":1376}},"36":{"start":{"line":1,"column":1266},"end":{"line":1,"column":1342}},"37":{"start":{"line":1,"column":1359},"end":{"line":1,"column":1375}},"38":{"start":{"line":1,"column":1384},"end":{"line":1,"column":1433}},"39":{"start":{"line":1,"column":1402},"end":{"line":1,"column":1432}},"40":{"start":{"line":1,"column":1444},"end":{"line":1,"column":1472}},"41":{"start":{"line":1,"column":1473},"end":{"line":1,"column":1495}},"42":{"start":{"line":1,"column":1507},"end":{"line":1,"column":1693}},"43":{"start":{"line":1,"column":1525},"end":{"line":1,"column":1692}},"44":{"start":{"line":1,"column":1569},"end":{"line":1,"column":1690}},"45":{"start":{"line":1,"column":1578},"end":{"line":1,"column":1673}},"46":{"start":{"line":1,"column":1588},"end":{"line":1,"column":1603}},"47":{"start":{"line":1,"column":1606},"end":{"line":1,"column":1617}},"48":{"start":{"line":1,"column":1620},"end":{"line":1,"column":1640}},"49":{"start":{"line":1,"column":1641},"end":{"line":1,"column":1650}},"50":{"start":{"line":1,"column":1660},"end":{"line":1,"column":1672}},"51":{"start":{"line":1,"column":1678},"end":{"line":1,"column":1690}},"52":{"start":{"line":1,"column":1702},"end":{"line":1,"column":1798}},"53":{"start":{"line":1,"column":1724},"end":{"line":1,"column":1780}},"54":{"start":{"line":1,"column":1781},"end":{"line":1,"column":1797}},"55":{"start":{"line":1,"column":1806},"end":{"line":1,"column":1834}},"56":{"start":{"line":1,"column":1835},"end":{"line":1,"column":1857}},"57":{"start":{"line":1,"column":1876},"end":{"line":1,"column":1972}},"58":{"start":{"line":1,"column":1898},"end":{"line":1,"column":1954}},"59":{"start":{"line":1,"column":1955},"end":{"line":1,"column":1971}},"60":{"start":{"line":1,"column":1987},"end":{"line":1,"column":2022}},"61":{"start":{"line":1,"column":2023},"end":{"line":1,"column":2059}},"62":{"start":{"line":1,"column":2079},"end":{"line":1,"column":2175}},"63":{"start":{"line":1,"column":2101},"end":{"line":1,"column":2157}},"64":{"start":{"line":1,"column":2158},"end":{"line":1,"column":2174}},"65":{"start":{"line":1,"column":2191},"end":{"line":1,"column":2227}},"66":{"start":{"line":1,"column":2228},"end":{"line":1,"column":2266}},"67":{"start":{"line":1,"column":2298},"end":{"line":1,"column":3183}},"68":{"start":{"line":1,"column":2315},"end":{"line":1,"column":3130}},"69":{"start":{"line":1,"column":2396},"end":{"line":1,"column":3127}},"70":{"start":{"line":1,"column":2439},"end":{"line":1,"column":3123}},"71":{"start":{"line":1,"column":2446},"end":{"line":1,"column":3123}},"72":{"start":{"line":1,"column":2475},"end":{"line":1,"column":2895}},"73":{"start":{"line":1,"column":2542},"end":{"line":1,"column":2840}},"74":{"start":{"line":1,"column":2611},"end":{"line":1,"column":2837}},"75":{"start":{"line":1,"column":2654},"end":{"line":1,"column":2833}},"76":{"start":{"line":1,"column":2661},"end":{"line":1,"column":2833}},"77":{"start":{"line":1,"column":2690},"end":{"line":1,"column":2739}},"78":{"start":{"line":1,"column":2746},"end":{"line":1,"column":2799}},"79":{"start":{"line":1,"column":2816},"end":{"line":1,"column":2832}},"80":{"start":{"line":1,"column":2841},"end":{"line":1,"column":2890}},"81":{"start":{"line":1,"column":2859},"end":{"line":1,"column":2889}},"82":{"start":{"line":1,"column":2902},"end":{"line":1,"column":3089}},"83":{"start":{"line":1,"column":3106},"end":{"line":1,"column":3122}},"84":{"start":{"line":1,"column":3131},"end":{"line":1,"column":3180}},"85":{"start":{"line":1,"column":3149},"end":{"line":1,"column":3179}},"86":{"start":{"line":1,"column":3198},"end":{"line":1,"column":3233}},"87":{"start":{"line":1,"column":3234},"end":{"line":1,"column":3270}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":346},"end":{"line":1,"column":368}},"loc":{"start":{"line":1,"column":371},"end":{"line":1,"column":409}},"line":1},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":418},"end":{"line":1,"column":436}},"loc":{"start":{"line":1,"column":451},"end":{"line":1,"column":547}},"line":1},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":556},"end":{"line":1,"column":573}},"loc":{"start":{"line":1,"column":576},"end":{"line":1,"column":790}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":584},"end":{"line":1,"column":585}},"loc":{"start":{"line":1,"column":594},"end":{"line":1,"column":789}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":637},"end":{"line":1,"column":638}},"loc":{"start":{"line":1,"column":650},"end":{"line":1,"column":787}},"line":1},"5":{"name":"f","decl":{"start":{"line":1,"column":660},"end":{"line":1,"column":661}},"loc":{"start":{"line":1,"column":664},"end":{"line":1,"column":704}},"line":1},"6":{"name":"g","decl":{"start":{"line":1,"column":713},"end":{"line":1,"column":714}},"loc":{"start":{"line":1,"column":717},"end":{"line":1,"column":758}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":1,"column":865},"end":{"line":1,"column":866}},"loc":{"start":{"line":1,"column":882},"end":{"line":1,"column":1069}},"line":1},"8":{"name":"(anonymous_8)","decl":{"start":{"line":1,"column":913},"end":{"line":1,"column":914}},"loc":{"start":{"line":1,"column":926},"end":{"line":1,"column":1067}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":1091},"end":{"line":1,"column":1092}},"loc":{"start":{"line":1,"column":1101},"end":{"line":1,"column":1434}},"line":1},"10":{"name":"a","decl":{"start":{"line":1,"column":1172},"end":{"line":1,"column":1173}},"loc":{"start":{"line":1,"column":1180},"end":{"line":1,"column":1381}},"line":1},"11":{"name":"(anonymous_11)","decl":{"start":{"line":1,"column":1218},"end":{"line":1,"column":1219}},"loc":{"start":{"line":1,"column":1229},"end":{"line":1,"column":1377}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":1391},"end":{"line":1,"column":1392}},"loc":{"start":{"line":1,"column":1401},"end":{"line":1,"column":1433}},"line":1},"13":{"name":"(anonymous_13)","decl":{"start":{"line":1,"column":1507},"end":{"line":1,"column":1508}},"loc":{"start":{"line":1,"column":1524},"end":{"line":1,"column":1693}},"line":1},"14":{"name":"(anonymous_14)","decl":{"start":{"line":1,"column":1555},"end":{"line":1,"column":1556}},"loc":{"start":{"line":1,"column":1568},"end":{"line":1,"column":1691}},"line":1},"15":{"name":"(anonymous_15)","decl":{"start":{"line":1,"column":1702},"end":{"line":1,"column":1703}},"loc":{"start":{"line":1,"column":1717},"end":{"line":1,"column":1798}},"line":1},"16":{"name":"(anonymous_16)","decl":{"start":{"line":1,"column":1876},"end":{"line":1,"column":1877}},"loc":{"start":{"line":1,"column":1891},"end":{"line":1,"column":1972}},"line":1},"17":{"name":"(anonymous_17)","decl":{"start":{"line":1,"column":2079},"end":{"line":1,"column":2080}},"loc":{"start":{"line":1,"column":2094},"end":{"line":1,"column":2175}},"line":1},"18":{"name":"(anonymous_18)","decl":{"start":{"line":1,"column":2298},"end":{"line":1,"column":2299}},"loc":{"start":{"line":1,"column":2308},"end":{"line":1,"column":3181}},"line":1},"19":{"name":"a","decl":{"start":{"line":1,"column":2379},"end":{"line":1,"column":2380}},"loc":{"start":{"line":1,"column":2389},"end":{"line":1,"column":3128}},"line":1},"20":{"name":"(anonymous_20)","decl":{"start":{"line":1,"column":2427},"end":{"line":1,"column":2428}},"loc":{"start":{"line":1,"column":2438},"end":{"line":1,"column":3124}},"line":1},"21":{"name":"(anonymous_21)","decl":{"start":{"line":1,"column":2525},"end":{"line":1,"column":2526}},"loc":{"start":{"line":1,"column":2535},"end":{"line":1,"column":2891}},"line":1},"22":{"name":"a","decl":{"start":{"line":1,"column":2606},"end":{"line":1,"column":2607}},"loc":{"start":{"line":1,"column":2610},"end":{"line":1,"column":2838}},"line":1},"23":{"name":"(anonymous_23)","decl":{"start":{"line":1,"column":2642},"end":{"line":1,"column":2643}},"loc":{"start":{"line":1,"column":2653},"end":{"line":1,"column":2834}},"line":1},"24":{"name":"(anonymous_24)","decl":{"start":{"line":1,"column":2848},"end":{"line":1,"column":2849}},"loc":{"start":{"line":1,"column":2858},"end":{"line":1,"column":2890}},"line":1},"25":{"name":"(anonymous_25)","decl":{"start":{"line":1,"column":3138},"end":{"line":1,"column":3139}},"loc":{"start":{"line":1,"column":3148},"end":{"line":1,"column":3180}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":379},"end":{"line":1,"column":408}},"type":"cond-expr","locations":[{"start":{"line":1,"column":395},"end":{"line":1,"column":396}},{"start":{"line":1,"column":397},"end":{"line":1,"column":408}}],"line":1},"1":{"loc":{"start":{"line":1,"column":379},"end":{"line":1,"column":394}},"type":"binary-expr","locations":[{"start":{"line":1,"column":379},"end":{"line":1,"column":380}},{"start":{"line":1,"column":382},"end":{"line":1,"column":394}}],"line":1},"2":{"loc":{"start":{"line":1,"column":506},"end":{"line":1,"column":546}},"type":"cond-expr","locations":[{"start":{"line":1,"column":513},"end":{"line":1,"column":517}},{"start":{"line":1,"column":518},"end":{"line":1,"column":546}}],"line":1},"3":{"loc":{"start":{"line":1,"column":927},"end":{"line":1,"column":1066}},"type":"if","locations":[{"start":{"line":1,"column":927},"end":{"line":1,"column":1066}},{"start":{"line":1,"column":927},"end":{"line":1,"column":1066}}],"line":1},"4":{"loc":{"start":{"line":1,"column":930},"end":{"line":1,"column":935}},"type":"binary-expr","locations":[{"start":{"line":1,"column":930},"end":{"line":1,"column":932}},{"start":{"line":1,"column":934},"end":{"line":1,"column":935}}],"line":1},"5":{"loc":{"start":{"line":1,"column":1051},"end":{"line":1,"column":1066}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1051},"end":{"line":1,"column":1052}},{"start":{"line":1,"column":1054},"end":{"line":1,"column":1066}}],"line":1},"6":{"loc":{"start":{"line":1,"column":1237},"end":{"line":1,"column":1376}},"type":"switch","locations":[{"start":{"line":1,"column":1259},"end":{"line":1,"column":1342}},{"start":{"line":1,"column":1342},"end":{"line":1,"column":1349}},{"start":{"line":1,"column":1349},"end":{"line":1,"column":1375}}],"line":1},"7":{"loc":{"start":{"line":1,"column":1569},"end":{"line":1,"column":1690}},"type":"if","locations":[{"start":{"line":1,"column":1569},"end":{"line":1,"column":1690}},{"start":{"line":1,"column":1569},"end":{"line":1,"column":1690}}],"line":1},"8":{"loc":{"start":{"line":1,"column":1572},"end":{"line":1,"column":1577}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1572},"end":{"line":1,"column":1574}},{"start":{"line":1,"column":1576},"end":{"line":1,"column":1577}}],"line":1},"9":{"loc":{"start":{"line":1,"column":2446},"end":{"line":1,"column":3123}},"type":"switch","locations":[{"start":{"line":1,"column":2468},"end":{"line":1,"column":2895}},{"start":{"line":1,"column":2895},"end":{"line":1,"column":3089}},{"start":{"line":1,"column":3089},"end":{"line":1,"column":3096}},{"start":{"line":1,"column":3096},"end":{"line":1,"column":3122}}],"line":1},"10":{"loc":{"start":{"line":1,"column":2661},"end":{"line":1,"column":2833}},"type":"switch","locations":[{"start":{"line":1,"column":2683},"end":{"line":1,"column":2739}},{"start":{"line":1,"column":2739},"end":{"line":1,"column":2799}},{"start":{"line":1,"column":2799},"end":{"line":1,"column":2806}},{"start":{"line":1,"column":2806},"end":{"line":1,"column":2832}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":51,"8":51,"9":51,"10":0,"11":51,"12":20,"13":33,"14":33,"15":33,"16":51,"17":0,"18":33,"19":33,"20":1,"21":1,"22":17,"23":17,"24":17,"25":17,"26":17,"27":17,"28":17,"29":0,"30":0,"31":1,"32":1,"33":15,"34":15,"35":15,"36":15,"37":15,"38":1,"39":15,"40":1,"41":1,"42":1,"43":36,"44":36,"45":36,"46":36,"47":36,"48":36,"49":34,"50":2,"51":0,"52":1,"53":21,"54":21,"55":1,"56":1,"57":1,"58":15,"59":15,"60":1,"61":1,"62":1,"63":2,"64":2,"65":1,"66":1,"67":1,"68":1,"69":18,"70":36,"71":36,"72":18,"73":18,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":18,"81":0,"82":18,"83":18,"84":1,"85":18,"86":1,"87":1},"f":{"0":1,"1":51,"2":20,"3":33,"4":33,"5":51,"6":0,"7":17,"8":17,"9":1,"10":15,"11":15,"12":15,"13":36,"14":36,"15":21,"16":15,"17":2,"18":1,"19":18,"20":36,"21":18,"22":0,"23":0,"24":0,"25":18},"b":{"0":[0,1],"1":[1,1],"2":[33,18],"3":[17,0],"4":[17,17],"5":[0,0],"6":[15,15,15],"7":[36,0],"8":[36,36],"9":[18,18,18,18],"10":[0,0,0,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["definitionsDirectory","__dirname","decoder","p","base64Buffer","messageType","done","protobuf","load","err","root","MsgType","lookupType","message","decode","Buffer","from","obj","toObject","e","_decode","encoder","output","create","enc","encode","finish","_encode","_encodeRequest","encodeRequest","_decodeResponse","decodeResponse","_protoResponse","statusCode","buffer","headers","ALLOW_ORIGIN","Action","body","toString","isBase64Encoded","protoResponse"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\proto","sourcesContent":["import { resolve } from 'path'\r\nimport protobuf from 'protobufjs'\r\nimport { promisify } from 'util'\r\n\r\nimport { ALLOW_ORIGIN } from '../../config'\r\nimport { sendErr } from '../utils'\r\nconst definitionsDirectory = resolve(__dirname, '../schemas')\r\n\r\nconst decoder = (p, base64Buffer, messageType, done) => {\r\n  protobuf.load(p, (err, root) => {\r\n    if (!err && root) {\r\n      try {\r\n        const MsgType = root.lookupType(messageType)\r\n        const message = MsgType.decode(Buffer.from(base64Buffer, 'base64'))\r\n        const obj = MsgType.toObject(message)\r\n        done(null, obj)\r\n      } catch (e) {\r\n        done(e.message)\r\n      }\r\n    } else if (err) {\r\n      done(err.message)\r\n    }\r\n  })\r\n}\r\n\r\nconst _decode = async (base64Buffer, messageType, done) => {\r\n  const p = resolve(definitionsDirectory, 'reqBundle.json')\r\n  decoder(p, base64Buffer, messageType, done)\r\n}\r\n\r\nexport const decode = promisify(_decode)\r\n\r\nconst encoder = (p, output, messageType, done) => {\r\n  protobuf.load(p, (err, root) => {\r\n    if (!err && root) {\r\n      try {\r\n        const MsgType = root.lookupType(messageType)\r\n        const message = MsgType.create(output)\r\n        const enc = MsgType.encode(message).finish()\r\n        done(null, enc)\r\n      } catch (e) {\r\n        done(e.message)\r\n      }\r\n    } else {\r\n      done(err.message)\r\n    }\r\n  })\r\n}\r\n\r\nconst _encode = (output, messageType, done) => {\r\n  const p = resolve(definitionsDirectory, 'resBundle.json')\r\n  encoder(p, output, messageType, done)\r\n}\r\n\r\nexport const encode = promisify(_encode)\r\n\r\nconst _encodeRequest = (output, messageType, done) => {\r\n  const p = resolve(definitionsDirectory, 'reqBundle.json')\r\n  encoder(p, output, messageType, done)\r\n}\r\n\r\nexport const encodeRequest = promisify(_encodeRequest)\r\n\r\nconst _decodeResponse = (base64Buffer, messageType, done) => {\r\n  const p = resolve(definitionsDirectory, 'resBundle.json')\r\n  decoder(p, base64Buffer, messageType, done)\r\n}\r\n\r\nexport const decodeResponse = promisify(_decodeResponse)\r\n\r\nconst _protoResponse = async (statusCode, output, messageType, done) => {\r\n  const buffer = await encode(output, messageType).catch(async (e) => done(await sendErr(500, e)))\r\n  done(null, {\r\n    statusCode,\r\n    headers: {\r\n      'Content-Type': 'application/x-protobuf',\r\n      'Access-Control-Allow-Origin': ALLOW_ORIGIN,\r\n      Action: messageType\r\n    },\r\n    body: buffer.toString('base64'),\r\n    isBase64Encoded: true\r\n  })\r\n}\r\n\r\nexport const protoResponse = promisify(_protoResponse)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"df322d7ed22da4811143e9e80e99959978d1432a","contentHash":"34ea72990fe9f3599fa798ab0871058fba2b549ba617666a5ed9c9d940c154f6"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\utils\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\utils\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":221}},"1":{"start":{"line":1,"column":231},"end":{"line":1,"column":270}},"2":{"start":{"line":1,"column":278},"end":{"line":1,"column":318}},"3":{"start":{"line":1,"column":332},"end":{"line":1,"column":354}},"4":{"start":{"line":1,"column":362},"end":{"line":1,"column":402}},"5":{"start":{"line":1,"column":409},"end":{"line":1,"column":424}},"6":{"start":{"line":1,"column":434},"end":{"line":1,"column":452}},"7":{"start":{"line":1,"column":460},"end":{"line":1,"column":479}},"8":{"start":{"line":1,"column":484},"end":{"line":1,"column":524}},"9":{"start":{"line":1,"column":539},"end":{"line":1,"column":565}},"10":{"start":{"line":1,"column":572},"end":{"line":1,"column":590}},"11":{"start":{"line":1,"column":601},"end":{"line":1,"column":626}},"12":{"start":{"line":1,"column":662},"end":{"line":1,"column":698}},"13":{"start":{"line":1,"column":719},"end":{"line":1,"column":946}},"14":{"start":{"line":1,"column":806},"end":{"line":1,"column":821}},"15":{"start":{"line":1,"column":835},"end":{"line":1,"column":934}},"16":{"start":{"line":1,"column":990},"end":{"line":1,"column":1044}},"17":{"start":{"line":1,"column":1000},"end":{"line":1,"column":1007}},"18":{"start":{"line":1,"column":1010},"end":{"line":1,"column":1017}},"19":{"start":{"line":1,"column":1027},"end":{"line":1,"column":1043}},"20":{"start":{"line":1,"column":1044},"end":{"line":1,"column":1084}},"21":{"start":{"line":1,"column":1115},"end":{"line":1,"column":1327}},"22":{"start":{"line":1,"column":1139},"end":{"line":1,"column":1143}},"23":{"start":{"line":1,"column":1146},"end":{"line":1,"column":1155}},"24":{"start":{"line":1,"column":1156},"end":{"line":1,"column":1326}},"25":{"start":{"line":1,"column":1203},"end":{"line":1,"column":1241}},"26":{"start":{"line":1,"column":1256},"end":{"line":1,"column":1295}},"27":{"start":{"line":1,"column":1302},"end":{"line":1,"column":1314}},"28":{"start":{"line":1,"column":1315},"end":{"line":1,"column":1324}},"29":{"start":{"line":1,"column":1353},"end":{"line":1,"column":1716}},"30":{"start":{"line":1,"column":1370},"end":{"line":1,"column":1663}},"31":{"start":{"line":1,"column":1441},"end":{"line":1,"column":1660}},"32":{"start":{"line":1,"column":1484},"end":{"line":1,"column":1656}},"33":{"start":{"line":1,"column":1491},"end":{"line":1,"column":1656}},"34":{"start":{"line":1,"column":1520},"end":{"line":1,"column":1582}},"35":{"start":{"line":1,"column":1589},"end":{"line":1,"column":1622}},"36":{"start":{"line":1,"column":1639},"end":{"line":1,"column":1655}},"37":{"start":{"line":1,"column":1664},"end":{"line":1,"column":1713}},"38":{"start":{"line":1,"column":1682},"end":{"line":1,"column":1712}},"39":{"start":{"line":1,"column":1717},"end":{"line":1,"column":1741}},"40":{"start":{"line":1,"column":1765},"end":{"line":1,"column":2128}},"41":{"start":{"line":1,"column":1782},"end":{"line":1,"column":2075}},"42":{"start":{"line":1,"column":1850},"end":{"line":1,"column":2072}},"43":{"start":{"line":1,"column":1893},"end":{"line":1,"column":2068}},"44":{"start":{"line":1,"column":1900},"end":{"line":1,"column":2068}},"45":{"start":{"line":1,"column":1929},"end":{"line":1,"column":1994}},"46":{"start":{"line":1,"column":2001},"end":{"line":1,"column":2034}},"47":{"start":{"line":1,"column":2051},"end":{"line":1,"column":2067}},"48":{"start":{"line":1,"column":2076},"end":{"line":1,"column":2125}},"49":{"start":{"line":1,"column":2094},"end":{"line":1,"column":2124}},"50":{"start":{"line":1,"column":2129},"end":{"line":1,"column":2151}},"51":{"start":{"line":1,"column":2164},"end":{"line":1,"column":2684}},"52":{"start":{"line":1,"column":2186},"end":{"line":1,"column":2251}},"53":{"start":{"line":1,"column":2254},"end":{"line":1,"column":2319}},"54":{"start":{"line":1,"column":2320},"end":{"line":1,"column":2683}},"55":{"start":{"line":1,"column":2357},"end":{"line":1,"column":2406}},"56":{"start":{"line":1,"column":2412},"end":{"line":1,"column":2510}},"57":{"start":{"line":1,"column":2442},"end":{"line":1,"column":2454}},"58":{"start":{"line":1,"column":2455},"end":{"line":1,"column":2508}},"59":{"start":{"line":1,"column":2511},"end":{"line":1,"column":2637}},"60":{"start":{"line":1,"column":2536},"end":{"line":1,"column":2548}},"61":{"start":{"line":1,"column":2577},"end":{"line":1,"column":2616}},"62":{"start":{"line":1,"column":2643},"end":{"line":1,"column":2683}},"63":{"start":{"line":1,"column":2685},"end":{"line":1,"column":2711}},"64":{"start":{"line":1,"column":2723},"end":{"line":1,"column":2752}},"65":{"start":{"line":1,"column":2753},"end":{"line":1,"column":2777}},"66":{"start":{"line":1,"column":2797},"end":{"line":1,"column":3603}},"67":{"start":{"line":1,"column":2817},"end":{"line":1,"column":3602}},"68":{"start":{"line":1,"column":2893},"end":{"line":1,"column":3167}},"69":{"start":{"line":1,"column":2962},"end":{"line":1,"column":3164}},"70":{"start":{"line":1,"column":3005},"end":{"line":1,"column":3160}},"71":{"start":{"line":1,"column":3012},"end":{"line":1,"column":3160}},"72":{"start":{"line":1,"column":3041},"end":{"line":1,"column":3126}},"73":{"start":{"line":1,"column":3143},"end":{"line":1,"column":3159}},"74":{"start":{"line":1,"column":3168},"end":{"line":1,"column":3217}},"75":{"start":{"line":1,"column":3186},"end":{"line":1,"column":3216}},"76":{"start":{"line":1,"column":3274},"end":{"line":1,"column":3548}},"77":{"start":{"line":1,"column":3343},"end":{"line":1,"column":3545}},"78":{"start":{"line":1,"column":3386},"end":{"line":1,"column":3541}},"79":{"start":{"line":1,"column":3393},"end":{"line":1,"column":3541}},"80":{"start":{"line":1,"column":3422},"end":{"line":1,"column":3507}},"81":{"start":{"line":1,"column":3524},"end":{"line":1,"column":3540}},"82":{"start":{"line":1,"column":3549},"end":{"line":1,"column":3598}},"83":{"start":{"line":1,"column":3567},"end":{"line":1,"column":3597}},"84":{"start":{"line":1,"column":3604},"end":{"line":1,"column":3644}},"85":{"start":{"line":1,"column":3673},"end":{"line":1,"column":4149}},"86":{"start":{"line":1,"column":3690},"end":{"line":1,"column":4096}},"87":{"start":{"line":1,"column":3767},"end":{"line":1,"column":4093}},"88":{"start":{"line":1,"column":3810},"end":{"line":1,"column":4089}},"89":{"start":{"line":1,"column":3817},"end":{"line":1,"column":4089}},"90":{"start":{"line":1,"column":3846},"end":{"line":1,"column":3891}},"91":{"start":{"line":1,"column":3876},"end":{"line":1,"column":3885}},"92":{"start":{"line":1,"column":3885},"end":{"line":1,"column":3890}},"93":{"start":{"line":1,"column":3891},"end":{"line":1,"column":3972}},"94":{"start":{"line":1,"column":3952},"end":{"line":1,"column":3969}},"95":{"start":{"line":1,"column":3979},"end":{"line":1,"column":4031}},"96":{"start":{"line":1,"column":4031},"end":{"line":1,"column":4037}},"97":{"start":{"line":1,"column":4044},"end":{"line":1,"column":4055}},"98":{"start":{"line":1,"column":4072},"end":{"line":1,"column":4088}},"99":{"start":{"line":1,"column":4097},"end":{"line":1,"column":4146}},"100":{"start":{"line":1,"column":4115},"end":{"line":1,"column":4145}},"101":{"start":{"line":1,"column":4161},"end":{"line":1,"column":4193}},"102":{"start":{"line":1,"column":4194},"end":{"line":1,"column":4224}},"103":{"start":{"line":1,"column":4256},"end":{"line":1,"column":4969}},"104":{"start":{"line":1,"column":4273},"end":{"line":1,"column":4916}},"105":{"start":{"line":1,"column":4358},"end":{"line":1,"column":4913}},"106":{"start":{"line":1,"column":4401},"end":{"line":1,"column":4909}},"107":{"start":{"line":1,"column":4408},"end":{"line":1,"column":4909}},"108":{"start":{"line":1,"column":4437},"end":{"line":1,"column":4509}},"109":{"start":{"line":1,"column":4495},"end":{"line":1,"column":4506}},"110":{"start":{"line":1,"column":4516},"end":{"line":1,"column":4548}},"111":{"start":{"line":1,"column":4532},"end":{"line":1,"column":4542}},"112":{"start":{"line":1,"column":4542},"end":{"line":1,"column":4547}},"113":{"start":{"line":1,"column":4548},"end":{"line":1,"column":4750}},"114":{"start":{"line":1,"column":4736},"end":{"line":1,"column":4747}},"115":{"start":{"line":1,"column":4757},"end":{"line":1,"column":4815}},"116":{"start":{"line":1,"column":4815},"end":{"line":1,"column":4821}},"117":{"start":{"line":1,"column":4829},"end":{"line":1,"column":4874}},"118":{"start":{"line":1,"column":4892},"end":{"line":1,"column":4908}},"119":{"start":{"line":1,"column":4917},"end":{"line":1,"column":4966}},"120":{"start":{"line":1,"column":4935},"end":{"line":1,"column":4965}},"121":{"start":{"line":1,"column":4984},"end":{"line":1,"column":5019}},"122":{"start":{"line":1,"column":5020},"end":{"line":1,"column":5056}},"123":{"start":{"line":1,"column":5083},"end":{"line":1,"column":6660}},"124":{"start":{"line":1,"column":5100},"end":{"line":1,"column":6607}},"125":{"start":{"line":1,"column":5181},"end":{"line":1,"column":6604}},"126":{"start":{"line":1,"column":5224},"end":{"line":1,"column":6600}},"127":{"start":{"line":1,"column":5231},"end":{"line":1,"column":6600}},"128":{"start":{"line":1,"column":5260},"end":{"line":1,"column":5679}},"129":{"start":{"line":1,"column":5332},"end":{"line":1,"column":5624}},"130":{"start":{"line":1,"column":5401},"end":{"line":1,"column":5621}},"131":{"start":{"line":1,"column":5444},"end":{"line":1,"column":5617}},"132":{"start":{"line":1,"column":5451},"end":{"line":1,"column":5617}},"133":{"start":{"line":1,"column":5480},"end":{"line":1,"column":5518}},"134":{"start":{"line":1,"column":5525},"end":{"line":1,"column":5583}},"135":{"start":{"line":1,"column":5600},"end":{"line":1,"column":5616}},"136":{"start":{"line":1,"column":5625},"end":{"line":1,"column":5674}},"137":{"start":{"line":1,"column":5643},"end":{"line":1,"column":5673}},"138":{"start":{"line":1,"column":5686},"end":{"line":1,"column":5718}},"139":{"start":{"line":1,"column":5702},"end":{"line":1,"column":5712}},"140":{"start":{"line":1,"column":5712},"end":{"line":1,"column":5717}},"141":{"start":{"line":1,"column":5718},"end":{"line":1,"column":6415}},"142":{"start":{"line":1,"column":5884},"end":{"line":1,"column":6360}},"143":{"start":{"line":1,"column":5955},"end":{"line":1,"column":6357}},"144":{"start":{"line":1,"column":5998},"end":{"line":1,"column":6353}},"145":{"start":{"line":1,"column":6005},"end":{"line":1,"column":6353}},"146":{"start":{"line":1,"column":6034},"end":{"line":1,"column":6072}},"147":{"start":{"line":1,"column":6057},"end":{"line":1,"column":6066}},"148":{"start":{"line":1,"column":6066},"end":{"line":1,"column":6071}},"149":{"start":{"line":1,"column":6072},"end":{"line":1,"column":6140}},"150":{"start":{"line":1,"column":6147},"end":{"line":1,"column":6189}},"151":{"start":{"line":1,"column":6189},"end":{"line":1,"column":6195}},"152":{"start":{"line":1,"column":6202},"end":{"line":1,"column":6237}},"153":{"start":{"line":1,"column":6221},"end":{"line":1,"column":6231}},"154":{"start":{"line":1,"column":6231},"end":{"line":1,"column":6236}},"155":{"start":{"line":1,"column":6237},"end":{"line":1,"column":6278}},"156":{"start":{"line":1,"column":6286},"end":{"line":1,"column":6318}},"157":{"start":{"line":1,"column":6336},"end":{"line":1,"column":6352}},"158":{"start":{"line":1,"column":6361},"end":{"line":1,"column":6410}},"159":{"start":{"line":1,"column":6379},"end":{"line":1,"column":6409}},"160":{"start":{"line":1,"column":6422},"end":{"line":1,"column":6432}},"161":{"start":{"line":1,"column":6432},"end":{"line":1,"column":6438}},"162":{"start":{"line":1,"column":6446},"end":{"line":1,"column":6525}},"163":{"start":{"line":1,"column":6533},"end":{"line":1,"column":6565}},"164":{"start":{"line":1,"column":6583},"end":{"line":1,"column":6599}},"165":{"start":{"line":1,"column":6608},"end":{"line":1,"column":6657}},"166":{"start":{"line":1,"column":6626},"end":{"line":1,"column":6656}},"167":{"start":{"line":1,"column":6670},"end":{"line":1,"column":6700}},"168":{"start":{"line":1,"column":6701},"end":{"line":1,"column":6727}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":636},"end":{"line":1,"column":658}},"loc":{"start":{"line":1,"column":661},"end":{"line":1,"column":699}},"line":1},"1":{"name":"_typeof","decl":{"start":{"line":1,"column":708},"end":{"line":1,"column":715}},"loc":{"start":{"line":1,"column":718},"end":{"line":1,"column":947}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":794},"end":{"line":1,"column":795}},"loc":{"start":{"line":1,"column":805},"end":{"line":1,"column":822}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":823},"end":{"line":1,"column":824}},"loc":{"start":{"line":1,"column":834},"end":{"line":1,"column":935}},"line":1},"4":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":956},"end":{"line":1,"column":974}},"loc":{"start":{"line":1,"column":989},"end":{"line":1,"column":1085}},"line":1},"5":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":1094},"end":{"line":1,"column":1111}},"loc":{"start":{"line":1,"column":1114},"end":{"line":1,"column":1328}},"line":1},"6":{"name":"(anonymous_6)","decl":{"start":{"line":1,"column":1122},"end":{"line":1,"column":1123}},"loc":{"start":{"line":1,"column":1132},"end":{"line":1,"column":1327}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":1,"column":1175},"end":{"line":1,"column":1176}},"loc":{"start":{"line":1,"column":1188},"end":{"line":1,"column":1325}},"line":1},"8":{"name":"f","decl":{"start":{"line":1,"column":1198},"end":{"line":1,"column":1199}},"loc":{"start":{"line":1,"column":1202},"end":{"line":1,"column":1242}},"line":1},"9":{"name":"g","decl":{"start":{"line":1,"column":1251},"end":{"line":1,"column":1252}},"loc":{"start":{"line":1,"column":1255},"end":{"line":1,"column":1296}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":1353},"end":{"line":1,"column":1354}},"loc":{"start":{"line":1,"column":1363},"end":{"line":1,"column":1714}},"line":1},"11":{"name":"a","decl":{"start":{"line":1,"column":1434},"end":{"line":1,"column":1435}},"loc":{"start":{"line":1,"column":1440},"end":{"line":1,"column":1661}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":1472},"end":{"line":1,"column":1473}},"loc":{"start":{"line":1,"column":1483},"end":{"line":1,"column":1657}},"line":1},"13":{"name":"(anonymous_13)","decl":{"start":{"line":1,"column":1671},"end":{"line":1,"column":1672}},"loc":{"start":{"line":1,"column":1681},"end":{"line":1,"column":1713}},"line":1},"14":{"name":"(anonymous_14)","decl":{"start":{"line":1,"column":1765},"end":{"line":1,"column":1766}},"loc":{"start":{"line":1,"column":1775},"end":{"line":1,"column":2126}},"line":1},"15":{"name":"a","decl":{"start":{"line":1,"column":1846},"end":{"line":1,"column":1847}},"loc":{"start":{"line":1,"column":1849},"end":{"line":1,"column":2073}},"line":1},"16":{"name":"(anonymous_16)","decl":{"start":{"line":1,"column":1881},"end":{"line":1,"column":1882}},"loc":{"start":{"line":1,"column":1892},"end":{"line":1,"column":2069}},"line":1},"17":{"name":"(anonymous_17)","decl":{"start":{"line":1,"column":2083},"end":{"line":1,"column":2084}},"loc":{"start":{"line":1,"column":2093},"end":{"line":1,"column":2125}},"line":1},"18":{"name":"(anonymous_18)","decl":{"start":{"line":1,"column":2164},"end":{"line":1,"column":2165}},"loc":{"start":{"line":1,"column":2179},"end":{"line":1,"column":2684}},"line":1},"19":{"name":"(anonymous_19)","decl":{"start":{"line":1,"column":2424},"end":{"line":1,"column":2425}},"loc":{"start":{"line":1,"column":2435},"end":{"line":1,"column":2509}},"line":1},"20":{"name":"(anonymous_20)","decl":{"start":{"line":1,"column":2524},"end":{"line":1,"column":2525}},"loc":{"start":{"line":1,"column":2535},"end":{"line":1,"column":2549}},"line":1},"21":{"name":"(anonymous_21)","decl":{"start":{"line":1,"column":2566},"end":{"line":1,"column":2567}},"loc":{"start":{"line":1,"column":2576},"end":{"line":1,"column":2617}},"line":1},"22":{"name":"(anonymous_22)","decl":{"start":{"line":1,"column":2797},"end":{"line":1,"column":2798}},"loc":{"start":{"line":1,"column":2816},"end":{"line":1,"column":3603}},"line":1},"23":{"name":"(anonymous_23)","decl":{"start":{"line":1,"column":2876},"end":{"line":1,"column":2877}},"loc":{"start":{"line":1,"column":2886},"end":{"line":1,"column":3218}},"line":1},"24":{"name":"a","decl":{"start":{"line":1,"column":2957},"end":{"line":1,"column":2958}},"loc":{"start":{"line":1,"column":2961},"end":{"line":1,"column":3165}},"line":1},"25":{"name":"(anonymous_25)","decl":{"start":{"line":1,"column":2993},"end":{"line":1,"column":2994}},"loc":{"start":{"line":1,"column":3004},"end":{"line":1,"column":3161}},"line":1},"26":{"name":"(anonymous_26)","decl":{"start":{"line":1,"column":3175},"end":{"line":1,"column":3176}},"loc":{"start":{"line":1,"column":3185},"end":{"line":1,"column":3217}},"line":1},"27":{"name":"(anonymous_27)","decl":{"start":{"line":1,"column":3257},"end":{"line":1,"column":3258}},"loc":{"start":{"line":1,"column":3267},"end":{"line":1,"column":3599}},"line":1},"28":{"name":"a","decl":{"start":{"line":1,"column":3338},"end":{"line":1,"column":3339}},"loc":{"start":{"line":1,"column":3342},"end":{"line":1,"column":3546}},"line":1},"29":{"name":"(anonymous_29)","decl":{"start":{"line":1,"column":3374},"end":{"line":1,"column":3375}},"loc":{"start":{"line":1,"column":3385},"end":{"line":1,"column":3542}},"line":1},"30":{"name":"(anonymous_30)","decl":{"start":{"line":1,"column":3556},"end":{"line":1,"column":3557}},"loc":{"start":{"line":1,"column":3566},"end":{"line":1,"column":3598}},"line":1},"31":{"name":"(anonymous_31)","decl":{"start":{"line":1,"column":3673},"end":{"line":1,"column":3674}},"loc":{"start":{"line":1,"column":3683},"end":{"line":1,"column":4147}},"line":1},"32":{"name":"a","decl":{"start":{"line":1,"column":3754},"end":{"line":1,"column":3755}},"loc":{"start":{"line":1,"column":3760},"end":{"line":1,"column":4094}},"line":1},"33":{"name":"(anonymous_33)","decl":{"start":{"line":1,"column":3798},"end":{"line":1,"column":3799}},"loc":{"start":{"line":1,"column":3809},"end":{"line":1,"column":4090}},"line":1},"34":{"name":"(anonymous_34)","decl":{"start":{"line":1,"column":3941},"end":{"line":1,"column":3942}},"loc":{"start":{"line":1,"column":3951},"end":{"line":1,"column":3970}},"line":1},"35":{"name":"(anonymous_35)","decl":{"start":{"line":1,"column":4104},"end":{"line":1,"column":4105}},"loc":{"start":{"line":1,"column":4114},"end":{"line":1,"column":4146}},"line":1},"36":{"name":"(anonymous_36)","decl":{"start":{"line":1,"column":4256},"end":{"line":1,"column":4257}},"loc":{"start":{"line":1,"column":4266},"end":{"line":1,"column":4967}},"line":1},"37":{"name":"a","decl":{"start":{"line":1,"column":4337},"end":{"line":1,"column":4338}},"loc":{"start":{"line":1,"column":4343},"end":{"line":1,"column":4914}},"line":1},"38":{"name":"(anonymous_38)","decl":{"start":{"line":1,"column":4389},"end":{"line":1,"column":4390}},"loc":{"start":{"line":1,"column":4400},"end":{"line":1,"column":4910}},"line":1},"39":{"name":"(anonymous_39)","decl":{"start":{"line":1,"column":4483},"end":{"line":1,"column":4484}},"loc":{"start":{"line":1,"column":4494},"end":{"line":1,"column":4507}},"line":1},"40":{"name":"(anonymous_40)","decl":{"start":{"line":1,"column":4724},"end":{"line":1,"column":4725}},"loc":{"start":{"line":1,"column":4735},"end":{"line":1,"column":4748}},"line":1},"41":{"name":"(anonymous_41)","decl":{"start":{"line":1,"column":4924},"end":{"line":1,"column":4925}},"loc":{"start":{"line":1,"column":4934},"end":{"line":1,"column":4966}},"line":1},"42":{"name":"(anonymous_42)","decl":{"start":{"line":1,"column":5083},"end":{"line":1,"column":5084}},"loc":{"start":{"line":1,"column":5093},"end":{"line":1,"column":6658}},"line":1},"43":{"name":"a","decl":{"start":{"line":1,"column":5164},"end":{"line":1,"column":5165}},"loc":{"start":{"line":1,"column":5170},"end":{"line":1,"column":6605}},"line":1},"44":{"name":"(anonymous_44)","decl":{"start":{"line":1,"column":5212},"end":{"line":1,"column":5213}},"loc":{"start":{"line":1,"column":5223},"end":{"line":1,"column":6601}},"line":1},"45":{"name":"(anonymous_45)","decl":{"start":{"line":1,"column":5315},"end":{"line":1,"column":5316}},"loc":{"start":{"line":1,"column":5325},"end":{"line":1,"column":5675}},"line":1},"46":{"name":"a","decl":{"start":{"line":1,"column":5396},"end":{"line":1,"column":5397}},"loc":{"start":{"line":1,"column":5400},"end":{"line":1,"column":5622}},"line":1},"47":{"name":"(anonymous_47)","decl":{"start":{"line":1,"column":5432},"end":{"line":1,"column":5433}},"loc":{"start":{"line":1,"column":5443},"end":{"line":1,"column":5618}},"line":1},"48":{"name":"(anonymous_48)","decl":{"start":{"line":1,"column":5632},"end":{"line":1,"column":5633}},"loc":{"start":{"line":1,"column":5642},"end":{"line":1,"column":5674}},"line":1},"49":{"name":"(anonymous_49)","decl":{"start":{"line":1,"column":5867},"end":{"line":1,"column":5868}},"loc":{"start":{"line":1,"column":5877},"end":{"line":1,"column":6411}},"line":1},"50":{"name":"a","decl":{"start":{"line":1,"column":5948},"end":{"line":1,"column":5949}},"loc":{"start":{"line":1,"column":5954},"end":{"line":1,"column":6358}},"line":1},"51":{"name":"(anonymous_51)","decl":{"start":{"line":1,"column":5986},"end":{"line":1,"column":5987}},"loc":{"start":{"line":1,"column":5997},"end":{"line":1,"column":6354}},"line":1},"52":{"name":"(anonymous_52)","decl":{"start":{"line":1,"column":6368},"end":{"line":1,"column":6369}},"loc":{"start":{"line":1,"column":6378},"end":{"line":1,"column":6410}},"line":1},"53":{"name":"(anonymous_53)","decl":{"start":{"line":1,"column":6615},"end":{"line":1,"column":6616}},"loc":{"start":{"line":1,"column":6625},"end":{"line":1,"column":6657}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":669},"end":{"line":1,"column":698}},"type":"cond-expr","locations":[{"start":{"line":1,"column":685},"end":{"line":1,"column":686}},{"start":{"line":1,"column":687},"end":{"line":1,"column":698}}],"line":1},"1":{"loc":{"start":{"line":1,"column":669},"end":{"line":1,"column":684}},"type":"binary-expr","locations":[{"start":{"line":1,"column":669},"end":{"line":1,"column":670}},{"start":{"line":1,"column":672},"end":{"line":1,"column":684}}],"line":1},"2":{"loc":{"start":{"line":1,"column":734},"end":{"line":1,"column":935}},"type":"cond-expr","locations":[{"start":{"line":1,"column":794},"end":{"line":1,"column":822}},{"start":{"line":1,"column":823},"end":{"line":1,"column":935}}],"line":1},"3":{"loc":{"start":{"line":1,"column":734},"end":{"line":1,"column":793}},"type":"binary-expr","locations":[{"start":{"line":1,"column":734},"end":{"line":1,"column":759}},{"start":{"line":1,"column":761},"end":{"line":1,"column":793}}],"line":1},"4":{"loc":{"start":{"line":1,"column":842},"end":{"line":1,"column":934}},"type":"cond-expr","locations":[{"start":{"line":1,"column":917},"end":{"line":1,"column":925}},{"start":{"line":1,"column":926},"end":{"line":1,"column":934}}],"line":1},"5":{"loc":{"start":{"line":1,"column":842},"end":{"line":1,"column":916}},"type":"binary-expr","locations":[{"start":{"line":1,"column":842},"end":{"line":1,"column":843}},{"start":{"line":1,"column":845},"end":{"line":1,"column":870}},{"start":{"line":1,"column":872},"end":{"line":1,"column":894}},{"start":{"line":1,"column":896},"end":{"line":1,"column":916}}],"line":1},"6":{"loc":{"start":{"line":1,"column":1044},"end":{"line":1,"column":1084}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1051},"end":{"line":1,"column":1055}},{"start":{"line":1,"column":1056},"end":{"line":1,"column":1084}}],"line":1},"7":{"loc":{"start":{"line":1,"column":1491},"end":{"line":1,"column":1656}},"type":"switch","locations":[{"start":{"line":1,"column":1513},"end":{"line":1,"column":1582}},{"start":{"line":1,"column":1582},"end":{"line":1,"column":1622}},{"start":{"line":1,"column":1622},"end":{"line":1,"column":1629}},{"start":{"line":1,"column":1629},"end":{"line":1,"column":1655}}],"line":1},"8":{"loc":{"start":{"line":1,"column":1900},"end":{"line":1,"column":2068}},"type":"switch","locations":[{"start":{"line":1,"column":1922},"end":{"line":1,"column":1994}},{"start":{"line":1,"column":1994},"end":{"line":1,"column":2034}},{"start":{"line":1,"column":2034},"end":{"line":1,"column":2041}},{"start":{"line":1,"column":2041},"end":{"line":1,"column":2067}}],"line":1},"9":{"loc":{"start":{"line":1,"column":2186},"end":{"line":1,"column":2251}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2217},"end":{"line":1,"column":2233}},{"start":{"line":1,"column":2234},"end":{"line":1,"column":2251}}],"line":1},"10":{"loc":{"start":{"line":1,"column":2186},"end":{"line":1,"column":2216}},"type":"binary-expr","locations":[{"start":{"line":1,"column":2186},"end":{"line":1,"column":2204}},{"start":{"line":1,"column":2206},"end":{"line":1,"column":2216}}],"line":1},"11":{"loc":{"start":{"line":1,"column":2254},"end":{"line":1,"column":2319}},"type":"binary-expr","locations":[{"start":{"line":1,"column":2254},"end":{"line":1,"column":2283}},{"start":{"line":1,"column":2285},"end":{"line":1,"column":2319}}],"line":1},"12":{"loc":{"start":{"line":1,"column":2320},"end":{"line":1,"column":2683}},"type":"if","locations":[{"start":{"line":1,"column":2320},"end":{"line":1,"column":2683}},{"start":{"line":1,"column":2320},"end":{"line":1,"column":2683}}],"line":1},"13":{"loc":{"start":{"line":1,"column":2323},"end":{"line":1,"column":2355}},"type":"binary-expr","locations":[{"start":{"line":1,"column":2323},"end":{"line":1,"column":2324}},{"start":{"line":1,"column":2326},"end":{"line":1,"column":2355}}],"line":1},"14":{"loc":{"start":{"line":1,"column":2455},"end":{"line":1,"column":2508}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2472},"end":{"line":1,"column":2475}},{"start":{"line":1,"column":2476},"end":{"line":1,"column":2508}}],"line":1},"15":{"loc":{"start":{"line":1,"column":2455},"end":{"line":1,"column":2471}},"type":"binary-expr","locations":[{"start":{"line":1,"column":2455},"end":{"line":1,"column":2462}},{"start":{"line":1,"column":2464},"end":{"line":1,"column":2471}}],"line":1},"16":{"loc":{"start":{"line":1,"column":2817},"end":{"line":1,"column":3602}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2839},"end":{"line":1,"column":3221}},{"start":{"line":1,"column":3222},"end":{"line":1,"column":3602}}],"line":1},"17":{"loc":{"start":{"line":1,"column":3012},"end":{"line":1,"column":3160}},"type":"switch","locations":[{"start":{"line":1,"column":3034},"end":{"line":1,"column":3126}},{"start":{"line":1,"column":3126},"end":{"line":1,"column":3133}},{"start":{"line":1,"column":3133},"end":{"line":1,"column":3159}}],"line":1},"18":{"loc":{"start":{"line":1,"column":3041},"end":{"line":1,"column":3125}},"type":"cond-expr","locations":[{"start":{"line":1,"column":3043},"end":{"line":1,"column":3093}},{"start":{"line":1,"column":3094},"end":{"line":1,"column":3125}}],"line":1},"19":{"loc":{"start":{"line":1,"column":3393},"end":{"line":1,"column":3541}},"type":"switch","locations":[{"start":{"line":1,"column":3415},"end":{"line":1,"column":3507}},{"start":{"line":1,"column":3507},"end":{"line":1,"column":3514}},{"start":{"line":1,"column":3514},"end":{"line":1,"column":3540}}],"line":1},"20":{"loc":{"start":{"line":1,"column":3422},"end":{"line":1,"column":3506}},"type":"cond-expr","locations":[{"start":{"line":1,"column":3424},"end":{"line":1,"column":3474}},{"start":{"line":1,"column":3475},"end":{"line":1,"column":3506}}],"line":1},"21":{"loc":{"start":{"line":1,"column":3817},"end":{"line":1,"column":4089}},"type":"switch","locations":[{"start":{"line":1,"column":3839},"end":{"line":1,"column":3972}},{"start":{"line":1,"column":3972},"end":{"line":1,"column":4037}},{"start":{"line":1,"column":4037},"end":{"line":1,"column":4055}},{"start":{"line":1,"column":4055},"end":{"line":1,"column":4062}},{"start":{"line":1,"column":4062},"end":{"line":1,"column":4088}}],"line":1},"22":{"loc":{"start":{"line":1,"column":3846},"end":{"line":1,"column":3891}},"type":"if","locations":[{"start":{"line":1,"column":3846},"end":{"line":1,"column":3891}},{"start":{"line":1,"column":3846},"end":{"line":1,"column":3891}}],"line":1},"23":{"loc":{"start":{"line":1,"column":3988},"end":{"line":1,"column":4021}},"type":"cond-expr","locations":[{"start":{"line":1,"column":4001},"end":{"line":1,"column":4010}},{"start":{"line":1,"column":4011},"end":{"line":1,"column":4021}}],"line":1},"24":{"loc":{"start":{"line":1,"column":3988},"end":{"line":1,"column":4000}},"type":"binary-expr","locations":[{"start":{"line":1,"column":3988},"end":{"line":1,"column":3989}},{"start":{"line":1,"column":3991},"end":{"line":1,"column":4000}}],"line":1},"25":{"loc":{"start":{"line":1,"column":4408},"end":{"line":1,"column":4909}},"type":"switch","locations":[{"start":{"line":1,"column":4430},"end":{"line":1,"column":4509}},{"start":{"line":1,"column":4509},"end":{"line":1,"column":4750}},{"start":{"line":1,"column":4750},"end":{"line":1,"column":4821}},{"start":{"line":1,"column":4821},"end":{"line":1,"column":4874}},{"start":{"line":1,"column":4874},"end":{"line":1,"column":4882}},{"start":{"line":1,"column":4882},"end":{"line":1,"column":4908}}],"line":1},"26":{"loc":{"start":{"line":1,"column":4516},"end":{"line":1,"column":4548}},"type":"if","locations":[{"start":{"line":1,"column":4516},"end":{"line":1,"column":4548}},{"start":{"line":1,"column":4516},"end":{"line":1,"column":4548}}],"line":1},"27":{"loc":{"start":{"line":1,"column":4576},"end":{"line":1,"column":4668}},"type":"cond-expr","locations":[{"start":{"line":1,"column":4618},"end":{"line":1,"column":4646}},{"start":{"line":1,"column":4647},"end":{"line":1,"column":4668}}],"line":1},"28":{"loc":{"start":{"line":1,"column":5231},"end":{"line":1,"column":6600}},"type":"switch","locations":[{"start":{"line":1,"column":5253},"end":{"line":1,"column":5679}},{"start":{"line":1,"column":5679},"end":{"line":1,"column":6415}},{"start":{"line":1,"column":6415},"end":{"line":1,"column":6438}},{"start":{"line":1,"column":6438},"end":{"line":1,"column":6525}},{"start":{"line":1,"column":6525},"end":{"line":1,"column":6565}},{"start":{"line":1,"column":6565},"end":{"line":1,"column":6573}},{"start":{"line":1,"column":6573},"end":{"line":1,"column":6599}}],"line":1},"29":{"loc":{"start":{"line":1,"column":5451},"end":{"line":1,"column":5617}},"type":"switch","locations":[{"start":{"line":1,"column":5473},"end":{"line":1,"column":5518}},{"start":{"line":1,"column":5518},"end":{"line":1,"column":5583}},{"start":{"line":1,"column":5583},"end":{"line":1,"column":5590}},{"start":{"line":1,"column":5590},"end":{"line":1,"column":5616}}],"line":1},"30":{"loc":{"start":{"line":1,"column":5686},"end":{"line":1,"column":5718}},"type":"if","locations":[{"start":{"line":1,"column":5686},"end":{"line":1,"column":5718}},{"start":{"line":1,"column":5686},"end":{"line":1,"column":5718}}],"line":1},"31":{"loc":{"start":{"line":1,"column":5746},"end":{"line":1,"column":5838}},"type":"cond-expr","locations":[{"start":{"line":1,"column":5788},"end":{"line":1,"column":5816}},{"start":{"line":1,"column":5817},"end":{"line":1,"column":5838}}],"line":1},"32":{"loc":{"start":{"line":1,"column":6005},"end":{"line":1,"column":6353}},"type":"switch","locations":[{"start":{"line":1,"column":6027},"end":{"line":1,"column":6140}},{"start":{"line":1,"column":6140},"end":{"line":1,"column":6195}},{"start":{"line":1,"column":6195},"end":{"line":1,"column":6278}},{"start":{"line":1,"column":6278},"end":{"line":1,"column":6318}},{"start":{"line":1,"column":6318},"end":{"line":1,"column":6326}},{"start":{"line":1,"column":6326},"end":{"line":1,"column":6352}}],"line":1},"33":{"loc":{"start":{"line":1,"column":6034},"end":{"line":1,"column":6072}},"type":"if","locations":[{"start":{"line":1,"column":6034},"end":{"line":1,"column":6072}},{"start":{"line":1,"column":6034},"end":{"line":1,"column":6072}}],"line":1},"34":{"loc":{"start":{"line":1,"column":6039},"end":{"line":1,"column":6054}},"type":"binary-expr","locations":[{"start":{"line":1,"column":6039},"end":{"line":1,"column":6041}},{"start":{"line":1,"column":6043},"end":{"line":1,"column":6044}},{"start":{"line":1,"column":6046},"end":{"line":1,"column":6049}},{"start":{"line":1,"column":6051},"end":{"line":1,"column":6054}}],"line":1},"35":{"loc":{"start":{"line":1,"column":6202},"end":{"line":1,"column":6237}},"type":"if","locations":[{"start":{"line":1,"column":6202},"end":{"line":1,"column":6237}},{"start":{"line":1,"column":6202},"end":{"line":1,"column":6237}}],"line":1},"36":{"loc":{"start":{"line":1,"column":6207},"end":{"line":1,"column":6218}},"type":"binary-expr","locations":[{"start":{"line":1,"column":6207},"end":{"line":1,"column":6208}},{"start":{"line":1,"column":6210},"end":{"line":1,"column":6213}},{"start":{"line":1,"column":6215},"end":{"line":1,"column":6218}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":4,"13":1,"14":7,"15":0,"16":147,"17":147,"18":147,"19":0,"20":147,"21":39,"22":62,"23":62,"24":62,"25":147,"26":0,"27":62,"28":62,"29":1,"30":1,"31":4,"32":12,"33":12,"34":4,"35":4,"36":4,"37":1,"38":4,"39":1,"40":1,"41":1,"42":1,"43":3,"44":3,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":1,"63":1,"64":1,"65":1,"66":1,"67":5,"68":4,"69":4,"70":4,"71":4,"72":4,"73":4,"74":4,"75":4,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":7,"88":13,"89":20,"90":7,"91":1,"92":1,"93":6,"94":1,"95":6,"96":6,"97":1,"98":7,"99":1,"100":7,"101":1,"102":1,"103":1,"104":1,"105":15,"106":44,"107":59,"108":15,"109":0,"110":15,"111":1,"112":1,"113":14,"114":0,"115":14,"116":14,"117":1,"118":15,"119":1,"120":15,"121":1,"122":1,"123":1,"124":1,"125":15,"126":45,"127":60,"128":15,"129":15,"130":1,"131":3,"132":3,"133":1,"134":1,"135":1,"136":15,"137":1,"138":15,"139":1,"140":1,"141":14,"142":14,"143":14,"144":28,"145":42,"146":14,"147":1,"148":1,"149":13,"150":13,"151":13,"152":1,"153":0,"154":0,"155":1,"156":1,"157":14,"158":14,"159":14,"160":14,"161":14,"162":1,"163":1,"164":15,"165":1,"166":15,"167":1,"168":1},"f":{"0":4,"1":1,"2":7,"3":0,"4":147,"5":39,"6":62,"7":62,"8":147,"9":0,"10":1,"11":4,"12":12,"13":4,"14":1,"15":1,"16":3,"17":1,"18":1,"19":0,"20":0,"21":0,"22":5,"23":4,"24":4,"25":4,"26":4,"27":1,"28":1,"29":1,"30":1,"31":1,"32":7,"33":13,"34":1,"35":7,"36":1,"37":15,"38":44,"39":0,"40":0,"41":15,"42":1,"43":15,"44":45,"45":15,"46":1,"47":3,"48":1,"49":14,"50":14,"51":28,"52":14,"53":15},"b":{"0":[1,3],"1":[4,4],"2":[1,0],"3":[1,1],"4":[0,0],"5":[0,0,0,0],"6":[62,85],"7":[4,4,0,4],"8":[1,1,0,1],"9":[0,1],"10":[1,1],"11":[1,1],"12":[0,1],"13":[1,1],"14":[0,0],"15":[0,0],"16":[4,1],"17":[4,4,4],"18":[0,4],"19":[1,1,1],"20":[0,1],"21":[7,6,1,7,7],"22":[1,6],"23":[5,1],"24":[6,5],"25":[15,15,14,1,15,15],"26":[1,14],"27":[0,14],"28":[15,15,14,1,1,15,15],"29":[1,1,0,1],"30":[1,14],"31":[0,14],"32":[14,13,1,1,14,14],"33":[1,13],"34":[14,13,13,13],"35":[0,1],"36":[1,1,1]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["sendErr","status","msg","error","sendOk","_request","schema","obj","done","schemaLib","http","https","payloadString","data","headers","Buffer","byteLength","req","request","res","statusCode","on","err","message","write","end","finalizeRequest","collection","id","action","final","db","s","e","o","_validEmail","email","r","isValid","validEmail","_decodeRequest","event","authorized","Action","handler","handlers","NOT_FOUND","body","decodeRequest","_response","payload","h","response"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\utils","sourcesContent":["import http from 'http'\r\nimport https from 'https'\r\nimport { stringify } from 'querystring'\r\nimport legit from 'legit'\r\nimport { promisify } from 'util'\r\nimport { validate } from 'isemail'\r\n\r\nimport { protoResponse, decode } from '../proto'\r\nimport db from '../db'\r\nimport { t } from '../translations'\r\nimport { apiAuth } from '../auth'\r\nimport { handlers } from '../../handlers'\r\n\r\nexport const sendErr = async (status, msg) => {\r\n  return await protoResponse(status, { error: msg }, 'Error')\r\n}\r\n\r\nexport const sendOk = async () => {\r\n  return await protoResponse(200, { status: 'Ok' }, 'Ok')\r\n}\r\n\r\nexport const _request = (schema, obj, done) => {\r\n  const schemaLib = typeof schema === 'string' && schema === 'http' ? http : https\r\n  const payloadString = typeof obj.data === 'object' ? stringify(obj.data) : false\r\n  if (payloadString && typeof obj.headers === 'object') {\r\n    obj.headers['Content-Length'] = Buffer.byteLength(payloadString)\r\n    const req = schemaLib.request(obj, (res) => {\r\n      const status = res.statusCode\r\n      if (status === 200 || status === 201) {\r\n        done()\r\n      } else {\r\n        done(`Response status: ${status}`)\r\n      }\r\n    })\r\n\r\n    req.on('error', (err) => {\r\n      done(err.message)\r\n    })\r\n\r\n    req.on('timeout', () => {\r\n      done(t('error.timeout'))\r\n    })\r\n\r\n    req.write(payloadString)\r\n    req.end()\r\n  } else {\r\n    done(t('error.required'))\r\n  }\r\n}\r\n\r\nexport const request = promisify(_request)\r\n\r\nexport const finalizeRequest = (collection, id, action, obj, final) => {\r\n  if (typeof obj === 'object') {\r\n    db[action](collection, id, obj, async (err, data) => {\r\n      if (!err) {\r\n        final(null, { s: 200, o: { status: 'ok' } })\r\n      } else {\r\n        final(null, { s: 500, e: t('error.internal') })\r\n      }\r\n    })\r\n  } else {\r\n    db[action](collection, id, async (err, data) => {\r\n      if (!err) {\r\n        final(null, { s: 200, o: { status: 'ok' } })\r\n      } else {\r\n        final(null, { s: 500, e: t('error.internal') })\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst _validEmail = async (email, done) => {\r\n  if (validate(email)) {\r\n    const r = await legit(email).catch(() => done(null, false))\r\n    if (r && r.isValid) {\r\n      done(null, email)\r\n    } else {\r\n      done(null, false)\r\n    }\r\n  } else {\r\n    done(null, false)\r\n  }\r\n}\r\n\r\nexport const validEmail = promisify(_validEmail)\r\n\r\nconst _decodeRequest = async (event, done) => {\r\n  const authorized = await apiAuth(event).catch((e) => done(e))\r\n  if (authorized) {\r\n    const action = event.headers.Action\r\n    const handler = typeof handlers[action] !== 'undefined' ? handlers[action] : handlers.NOT_FOUND\r\n    const body = await decode(event.body, handler.class).catch((e) => done(e))\r\n    const obj = {\r\n      body,\r\n      headers: event.headers\r\n    }\r\n    done(null, obj)\r\n  } else {\r\n    done(t('error.unauthorized'))\r\n  }\r\n}\r\n\r\nexport const decodeRequest = promisify(_decodeRequest)\r\n\r\nconst _response = async (event, done) => {\r\n  const payload = await decodeRequest(event).catch(async (e) => done(null, await sendErr(403, e)))\r\n  if (payload) {\r\n    const action = event.headers.Action\r\n    const handler = typeof handlers[action] !== 'undefined' ? handlers[action] : handlers.NOT_FOUND\r\n    await handler.h(payload, async (e, r) => {\r\n      if (!e && r && r.s && r.o) {\r\n        done(null, await protoResponse(r.s, r.o, handler.class))\r\n      } else if (e && e.s && e.e) {\r\n        done(null, await sendErr(e.s, e.e))\r\n      }\r\n    })\r\n  } else {\r\n    done(null, await sendErr(403, t('error.unauthorized')))\r\n  }\r\n}\r\n\r\nexport const response = promisify(_response)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7e72f2bc31ecf82009b133d450dda983356f7bd1","contentHash":"fabf4eee289d86791ab5c61b63b88e66b17dfb2f09534202a98be8b156e00e4c"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\db\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\db\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":120}},"1":{"start":{"line":1,"column":130},"end":{"line":1,"column":145}},"2":{"start":{"line":1,"column":154},"end":{"line":1,"column":177}},"3":{"start":{"line":1,"column":189},"end":{"line":1,"column":235}},"4":{"start":{"line":1,"column":250},"end":{"line":1,"column":276}},"5":{"start":{"line":1,"column":312},"end":{"line":1,"column":348}},"6":{"start":{"line":1,"column":372},"end":{"line":1,"column":576}},"7":{"start":{"line":1,"column":394},"end":{"line":1,"column":402}},"8":{"start":{"line":1,"column":403},"end":{"line":1,"column":575}},"9":{"start":{"line":1,"column":417},"end":{"line":1,"column":418}},"10":{"start":{"line":1,"column":421},"end":{"line":1,"column":423}},"11":{"start":{"line":1,"column":424},"end":{"line":1,"column":566}},"12":{"start":{"line":1,"column":446},"end":{"line":1,"column":564}},"13":{"start":{"line":1,"column":492},"end":{"line":1,"column":562}},"14":{"start":{"line":1,"column":572},"end":{"line":1,"column":575}},"15":{"start":{"line":1,"column":595},"end":{"line":1,"column":634}},"16":{"start":{"line":1,"column":635},"end":{"line":1,"column":679}},"17":{"start":{"line":1,"column":692},"end":{"line":1,"column":739}},"18":{"start":{"line":1,"column":740},"end":{"line":1,"column":768}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":286},"end":{"line":1,"column":308}},"loc":{"start":{"line":1,"column":311},"end":{"line":1,"column":349}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":372},"end":{"line":1,"column":373}},"loc":{"start":{"line":1,"column":387},"end":{"line":1,"column":576}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":434},"end":{"line":1,"column":435}},"loc":{"start":{"line":1,"column":445},"end":{"line":1,"column":565}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":480},"end":{"line":1,"column":481}},"loc":{"start":{"line":1,"column":491},"end":{"line":1,"column":563}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":319},"end":{"line":1,"column":348}},"type":"cond-expr","locations":[{"start":{"line":1,"column":335},"end":{"line":1,"column":336}},{"start":{"line":1,"column":337},"end":{"line":1,"column":348}}],"line":1},"1":{"loc":{"start":{"line":1,"column":319},"end":{"line":1,"column":334}},"type":"binary-expr","locations":[{"start":{"line":1,"column":319},"end":{"line":1,"column":320}},{"start":{"line":1,"column":322},"end":{"line":1,"column":334}}],"line":1},"2":{"loc":{"start":{"line":1,"column":403},"end":{"line":1,"column":575}},"type":"if","locations":[{"start":{"line":1,"column":403},"end":{"line":1,"column":575}},{"start":{"line":1,"column":403},"end":{"line":1,"column":575}}],"line":1},"3":{"loc":{"start":{"line":1,"column":492},"end":{"line":1,"column":503}},"type":"cond-expr","locations":[{"start":{"line":1,"column":494},"end":{"line":1,"column":498}},{"start":{"line":1,"column":499},"end":{"line":1,"column":503}}],"line":1},"4":{"loc":{"start":{"line":1,"column":504},"end":{"line":1,"column":562}},"type":"binary-expr","locations":[{"start":{"line":1,"column":504},"end":{"line":1,"column":509}},{"start":{"line":1,"column":512},"end":{"line":1,"column":561}}],"line":1},"5":{"loc":{"start":{"line":1,"column":512},"end":{"line":1,"column":561}},"type":"cond-expr","locations":[{"start":{"line":1,"column":514},"end":{"line":1,"column":557}},{"start":{"line":1,"column":558},"end":{"line":1,"column":561}}],"line":1},"6":{"loc":{"start":{"line":1,"column":692},"end":{"line":1,"column":739}},"type":"cond-expr","locations":[{"start":{"line":1,"column":715},"end":{"line":1,"column":736}},{"start":{"line":1,"column":737},"end":{"line":1,"column":739}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2,"8":2,"9":1,"10":1,"11":1,"12":3,"13":3,"14":1,"15":1,"16":1,"17":1,"18":1},"f":{"0":1,"1":2,"2":3,"3":3},"b":{"0":[1,0],"1":[1,1],"2":[1,1],"3":[0,3],"4":[3,1],"5":[0,1],"6":[1,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["_joinedTableDelete","table","col","done","toDelete","length","deleted","errors","forEach","id","db","destroy","err","joinedTableDelete"],"mappings":"gWAMMA,CAAAA,kBAAkB,CAAG,SAACC,CAAD,CAAQC,CAAR,CAAaC,CAAb,CAAsB,CAC/C,GAAMC,CAAAA,CAAQ,CAAGF,CAAG,CAACG,MAArB,CACA,GAAe,CAAX,CAAAD,CAAJ,CAAkB,IACZE,CAAAA,CAAO,CAAG,CADE,CAEZC,CAAM,GAFM,CAGhBL,CAAG,CAACM,OAAJ,CAAY,SAACC,CAAD,CAAQ,CAClBC,sBAAGC,OAAH,CAAWV,CAAX,CAAkBQ,CAAlB,CAAsB,SAACG,CAAD,CAAS,CACxBA,CADwB,CAI3BL,CAAM,GAJqB,CAE3BD,CAAO,EAAI,CAFgB,CAOzBA,CAAO,GAAKF,CAPa,GAQtBG,CARsB,CAWzBJ,CAAI,CAAC,oBAAE,mBAAF,CAAD,CAXqB,CASzBA,CAAI,EATqB,CAc9B,CAdD,CAeD,CAhBD,CAiBD,CApBD,IAqBEA,CAAAA,CAAI,EAEP,C,CAEYU,iBAAiB,CAAG,oBAAUb,kBAAV,C,0DAEN,IAAZ,mBAAmBU,qBAAnB,CAAwB,E","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\db","sourcesContent":["import { promisify } from 'util'\r\n\r\nimport { DB_TYPE } from '../../config'\r\nimport db from './functions'\r\nimport { t } from '../translations'\r\n\r\nconst _joinedTableDelete = (table, col, done) => {\r\n  const toDelete = col.length\r\n  if (toDelete > 0) {\r\n    let deleted = 0\r\n    let errors = false\r\n    col.forEach((id) => {\r\n      db.destroy(table, id, (err) => {\r\n        if (!err) {\r\n          deleted += 1\r\n        } else {\r\n          errors = true\r\n        }\r\n\r\n        if (deleted === toDelete) {\r\n          if (!errors) {\r\n            done()\r\n          } else {\r\n            done(t('error.join_delete'))\r\n          }\r\n        }\r\n      })\r\n    })\r\n  } else {\r\n    done()\r\n  }\r\n}\r\n\r\nexport const joinedTableDelete = promisify(_joinedTableDelete)\r\n\r\nexport default DB_TYPE === 's3' ? db : {}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"aadf34306f963a10e4870196bb5bc77fb52a3ef0","contentHash":"26a85ac07f5eea5808757f6058402e802488858737376a37ceb49613db25516e"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\db\\functions.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\db\\functions.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":94}},"1":{"start":{"line":1,"column":104},"end":{"line":1,"column":119}},"2":{"start":{"line":1,"column":123},"end":{"line":1,"column":163}},"3":{"start":{"line":1,"column":199},"end":{"line":1,"column":235}},"4":{"start":{"line":1,"column":279},"end":{"line":1,"column":333}},"5":{"start":{"line":1,"column":289},"end":{"line":1,"column":296}},"6":{"start":{"line":1,"column":299},"end":{"line":1,"column":306}},"7":{"start":{"line":1,"column":316},"end":{"line":1,"column":332}},"8":{"start":{"line":1,"column":333},"end":{"line":1,"column":373}},"9":{"start":{"line":1,"column":404},"end":{"line":1,"column":616}},"10":{"start":{"line":1,"column":428},"end":{"line":1,"column":432}},"11":{"start":{"line":1,"column":435},"end":{"line":1,"column":444}},"12":{"start":{"line":1,"column":445},"end":{"line":1,"column":615}},"13":{"start":{"line":1,"column":492},"end":{"line":1,"column":530}},"14":{"start":{"line":1,"column":545},"end":{"line":1,"column":584}},"15":{"start":{"line":1,"column":591},"end":{"line":1,"column":603}},"16":{"start":{"line":1,"column":604},"end":{"line":1,"column":613}},"17":{"start":{"line":1,"column":624},"end":{"line":1,"column":626}},"18":{"start":{"line":1,"column":648},"end":{"line":1,"column":1045}},"19":{"start":{"line":1,"column":665},"end":{"line":1,"column":992}},"20":{"start":{"line":1,"column":746},"end":{"line":1,"column":989}},"21":{"start":{"line":1,"column":789},"end":{"line":1,"column":985}},"22":{"start":{"line":1,"column":796},"end":{"line":1,"column":985}},"23":{"start":{"line":1,"column":825},"end":{"line":1,"column":925}},"24":{"start":{"line":1,"column":911},"end":{"line":1,"column":922}},"25":{"start":{"line":1,"column":932},"end":{"line":1,"column":951}},"26":{"start":{"line":1,"column":968},"end":{"line":1,"column":984}},"27":{"start":{"line":1,"column":993},"end":{"line":1,"column":1042}},"28":{"start":{"line":1,"column":1011},"end":{"line":1,"column":1041}},"29":{"start":{"line":1,"column":1065},"end":{"line":1,"column":1461}},"30":{"start":{"line":1,"column":1082},"end":{"line":1,"column":1408}},"31":{"start":{"line":1,"column":1161},"end":{"line":1,"column":1405}},"32":{"start":{"line":1,"column":1204},"end":{"line":1,"column":1401}},"33":{"start":{"line":1,"column":1211},"end":{"line":1,"column":1401}},"34":{"start":{"line":1,"column":1240},"end":{"line":1,"column":1341}},"35":{"start":{"line":1,"column":1327},"end":{"line":1,"column":1338}},"36":{"start":{"line":1,"column":1348},"end":{"line":1,"column":1367}},"37":{"start":{"line":1,"column":1384},"end":{"line":1,"column":1400}},"38":{"start":{"line":1,"column":1409},"end":{"line":1,"column":1458}},"39":{"start":{"line":1,"column":1427},"end":{"line":1,"column":1457}},"40":{"start":{"line":1,"column":1483},"end":{"line":1,"column":2130}},"41":{"start":{"line":1,"column":1500},"end":{"line":1,"column":2077}},"42":{"start":{"line":1,"column":1583},"end":{"line":1,"column":2074}},"43":{"start":{"line":1,"column":1626},"end":{"line":1,"column":2070}},"44":{"start":{"line":1,"column":1633},"end":{"line":1,"column":2070}},"45":{"start":{"line":1,"column":1662},"end":{"line":1,"column":1763}},"46":{"start":{"line":1,"column":1749},"end":{"line":1,"column":1760}},"47":{"start":{"line":1,"column":1770},"end":{"line":1,"column":1802}},"48":{"start":{"line":1,"column":1786},"end":{"line":1,"column":1796}},"49":{"start":{"line":1,"column":1796},"end":{"line":1,"column":1801}},"50":{"start":{"line":1,"column":1802},"end":{"line":1,"column":1902}},"51":{"start":{"line":1,"column":1888},"end":{"line":1,"column":1899}},"52":{"start":{"line":1,"column":1909},"end":{"line":1,"column":2009}},"53":{"start":{"line":1,"column":1995},"end":{"line":1,"column":2006}},"54":{"start":{"line":1,"column":2016},"end":{"line":1,"column":2035}},"55":{"start":{"line":1,"column":2053},"end":{"line":1,"column":2069}},"56":{"start":{"line":1,"column":2078},"end":{"line":1,"column":2127}},"57":{"start":{"line":1,"column":2096},"end":{"line":1,"column":2126}},"58":{"start":{"line":1,"column":2152},"end":{"line":1,"column":2526}},"59":{"start":{"line":1,"column":2169},"end":{"line":1,"column":2473}},"60":{"start":{"line":1,"column":2242},"end":{"line":1,"column":2470}},"61":{"start":{"line":1,"column":2285},"end":{"line":1,"column":2466}},"62":{"start":{"line":1,"column":2292},"end":{"line":1,"column":2466}},"63":{"start":{"line":1,"column":2321},"end":{"line":1,"column":2421}},"64":{"start":{"line":1,"column":2407},"end":{"line":1,"column":2418}},"65":{"start":{"line":1,"column":2428},"end":{"line":1,"column":2432}},"66":{"start":{"line":1,"column":2449},"end":{"line":1,"column":2465}},"67":{"start":{"line":1,"column":2474},"end":{"line":1,"column":2523}},"68":{"start":{"line":1,"column":2492},"end":{"line":1,"column":2522}},"69":{"start":{"line":1,"column":2546},"end":{"line":1,"column":2917}},"70":{"start":{"line":1,"column":2563},"end":{"line":1,"column":2864}},"71":{"start":{"line":1,"column":2640},"end":{"line":1,"column":2861}},"72":{"start":{"line":1,"column":2683},"end":{"line":1,"column":2857}},"73":{"start":{"line":1,"column":2690},"end":{"line":1,"column":2857}},"74":{"start":{"line":1,"column":2719},"end":{"line":1,"column":2797}},"75":{"start":{"line":1,"column":2783},"end":{"line":1,"column":2794}},"76":{"start":{"line":1,"column":2804},"end":{"line":1,"column":2823}},"77":{"start":{"line":1,"column":2840},"end":{"line":1,"column":2856}},"78":{"start":{"line":1,"column":2865},"end":{"line":1,"column":2914}},"79":{"start":{"line":1,"column":2883},"end":{"line":1,"column":2913}},"80":{"start":{"line":1,"column":2925},"end":{"line":1,"column":2953}},"81":{"start":{"line":1,"column":2959},"end":{"line":1,"column":2985}},"82":{"start":{"line":1,"column":2993},"end":{"line":1,"column":3021}},"83":{"start":{"line":1,"column":3030},"end":{"line":1,"column":3058}},"84":{"start":{"line":1,"column":3067},"end":{"line":1,"column":3093}},"85":{"start":{"line":1,"column":3094},"end":{"line":1,"column":3179}},"86":{"start":{"line":1,"column":3192},"end":{"line":1,"column":3194}},"87":{"start":{"line":1,"column":3195},"end":{"line":1,"column":3223}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":173},"end":{"line":1,"column":195}},"loc":{"start":{"line":1,"column":198},"end":{"line":1,"column":236}},"line":1},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":245},"end":{"line":1,"column":263}},"loc":{"start":{"line":1,"column":278},"end":{"line":1,"column":374}},"line":1},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":383},"end":{"line":1,"column":400}},"loc":{"start":{"line":1,"column":403},"end":{"line":1,"column":617}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":411},"end":{"line":1,"column":412}},"loc":{"start":{"line":1,"column":421},"end":{"line":1,"column":616}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":464},"end":{"line":1,"column":465}},"loc":{"start":{"line":1,"column":477},"end":{"line":1,"column":614}},"line":1},"5":{"name":"f","decl":{"start":{"line":1,"column":487},"end":{"line":1,"column":488}},"loc":{"start":{"line":1,"column":491},"end":{"line":1,"column":531}},"line":1},"6":{"name":"g","decl":{"start":{"line":1,"column":540},"end":{"line":1,"column":541}},"loc":{"start":{"line":1,"column":544},"end":{"line":1,"column":585}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":1,"column":648},"end":{"line":1,"column":649}},"loc":{"start":{"line":1,"column":658},"end":{"line":1,"column":1043}},"line":1},"8":{"name":"a","decl":{"start":{"line":1,"column":729},"end":{"line":1,"column":730}},"loc":{"start":{"line":1,"column":739},"end":{"line":1,"column":990}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":777},"end":{"line":1,"column":778}},"loc":{"start":{"line":1,"column":788},"end":{"line":1,"column":986}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":899},"end":{"line":1,"column":900}},"loc":{"start":{"line":1,"column":910},"end":{"line":1,"column":923}},"line":1},"11":{"name":"(anonymous_11)","decl":{"start":{"line":1,"column":1000},"end":{"line":1,"column":1001}},"loc":{"start":{"line":1,"column":1010},"end":{"line":1,"column":1042}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":1065},"end":{"line":1,"column":1066}},"loc":{"start":{"line":1,"column":1075},"end":{"line":1,"column":1459}},"line":1},"13":{"name":"a","decl":{"start":{"line":1,"column":1146},"end":{"line":1,"column":1147}},"loc":{"start":{"line":1,"column":1154},"end":{"line":1,"column":1406}},"line":1},"14":{"name":"(anonymous_14)","decl":{"start":{"line":1,"column":1192},"end":{"line":1,"column":1193}},"loc":{"start":{"line":1,"column":1203},"end":{"line":1,"column":1402}},"line":1},"15":{"name":"(anonymous_15)","decl":{"start":{"line":1,"column":1315},"end":{"line":1,"column":1316}},"loc":{"start":{"line":1,"column":1326},"end":{"line":1,"column":1339}},"line":1},"16":{"name":"(anonymous_16)","decl":{"start":{"line":1,"column":1416},"end":{"line":1,"column":1417}},"loc":{"start":{"line":1,"column":1426},"end":{"line":1,"column":1458}},"line":1},"17":{"name":"(anonymous_17)","decl":{"start":{"line":1,"column":1483},"end":{"line":1,"column":1484}},"loc":{"start":{"line":1,"column":1493},"end":{"line":1,"column":2128}},"line":1},"18":{"name":"a","decl":{"start":{"line":1,"column":1564},"end":{"line":1,"column":1565}},"loc":{"start":{"line":1,"column":1574},"end":{"line":1,"column":2075}},"line":1},"19":{"name":"(anonymous_19)","decl":{"start":{"line":1,"column":1614},"end":{"line":1,"column":1615}},"loc":{"start":{"line":1,"column":1625},"end":{"line":1,"column":2071}},"line":1},"20":{"name":"(anonymous_20)","decl":{"start":{"line":1,"column":1737},"end":{"line":1,"column":1738}},"loc":{"start":{"line":1,"column":1748},"end":{"line":1,"column":1761}},"line":1},"21":{"name":"(anonymous_21)","decl":{"start":{"line":1,"column":1876},"end":{"line":1,"column":1877}},"loc":{"start":{"line":1,"column":1887},"end":{"line":1,"column":1900}},"line":1},"22":{"name":"(anonymous_22)","decl":{"start":{"line":1,"column":1983},"end":{"line":1,"column":1984}},"loc":{"start":{"line":1,"column":1994},"end":{"line":1,"column":2007}},"line":1},"23":{"name":"(anonymous_23)","decl":{"start":{"line":1,"column":2085},"end":{"line":1,"column":2086}},"loc":{"start":{"line":1,"column":2095},"end":{"line":1,"column":2127}},"line":1},"24":{"name":"(anonymous_24)","decl":{"start":{"line":1,"column":2152},"end":{"line":1,"column":2153}},"loc":{"start":{"line":1,"column":2162},"end":{"line":1,"column":2524}},"line":1},"25":{"name":"a","decl":{"start":{"line":1,"column":2233},"end":{"line":1,"column":2234}},"loc":{"start":{"line":1,"column":2241},"end":{"line":1,"column":2471}},"line":1},"26":{"name":"(anonymous_26)","decl":{"start":{"line":1,"column":2273},"end":{"line":1,"column":2274}},"loc":{"start":{"line":1,"column":2284},"end":{"line":1,"column":2467}},"line":1},"27":{"name":"(anonymous_27)","decl":{"start":{"line":1,"column":2395},"end":{"line":1,"column":2396}},"loc":{"start":{"line":1,"column":2406},"end":{"line":1,"column":2419}},"line":1},"28":{"name":"(anonymous_28)","decl":{"start":{"line":1,"column":2481},"end":{"line":1,"column":2482}},"loc":{"start":{"line":1,"column":2491},"end":{"line":1,"column":2523}},"line":1},"29":{"name":"(anonymous_29)","decl":{"start":{"line":1,"column":2546},"end":{"line":1,"column":2547}},"loc":{"start":{"line":1,"column":2556},"end":{"line":1,"column":2915}},"line":1},"30":{"name":"a","decl":{"start":{"line":1,"column":2627},"end":{"line":1,"column":2628}},"loc":{"start":{"line":1,"column":2633},"end":{"line":1,"column":2862}},"line":1},"31":{"name":"(anonymous_31)","decl":{"start":{"line":1,"column":2671},"end":{"line":1,"column":2672}},"loc":{"start":{"line":1,"column":2682},"end":{"line":1,"column":2858}},"line":1},"32":{"name":"(anonymous_32)","decl":{"start":{"line":1,"column":2771},"end":{"line":1,"column":2772}},"loc":{"start":{"line":1,"column":2782},"end":{"line":1,"column":2795}},"line":1},"33":{"name":"(anonymous_33)","decl":{"start":{"line":1,"column":2872},"end":{"line":1,"column":2873}},"loc":{"start":{"line":1,"column":2882},"end":{"line":1,"column":2914}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":206},"end":{"line":1,"column":235}},"type":"cond-expr","locations":[{"start":{"line":1,"column":222},"end":{"line":1,"column":223}},{"start":{"line":1,"column":224},"end":{"line":1,"column":235}}],"line":1},"1":{"loc":{"start":{"line":1,"column":206},"end":{"line":1,"column":221}},"type":"binary-expr","locations":[{"start":{"line":1,"column":206},"end":{"line":1,"column":207}},{"start":{"line":1,"column":209},"end":{"line":1,"column":221}}],"line":1},"2":{"loc":{"start":{"line":1,"column":333},"end":{"line":1,"column":373}},"type":"cond-expr","locations":[{"start":{"line":1,"column":340},"end":{"line":1,"column":344}},{"start":{"line":1,"column":345},"end":{"line":1,"column":373}}],"line":1},"3":{"loc":{"start":{"line":1,"column":796},"end":{"line":1,"column":985}},"type":"switch","locations":[{"start":{"line":1,"column":818},"end":{"line":1,"column":925}},{"start":{"line":1,"column":925},"end":{"line":1,"column":951}},{"start":{"line":1,"column":951},"end":{"line":1,"column":958}},{"start":{"line":1,"column":958},"end":{"line":1,"column":984}}],"line":1},"4":{"loc":{"start":{"line":1,"column":1211},"end":{"line":1,"column":1401}},"type":"switch","locations":[{"start":{"line":1,"column":1233},"end":{"line":1,"column":1341}},{"start":{"line":1,"column":1341},"end":{"line":1,"column":1367}},{"start":{"line":1,"column":1367},"end":{"line":1,"column":1374}},{"start":{"line":1,"column":1374},"end":{"line":1,"column":1400}}],"line":1},"5":{"loc":{"start":{"line":1,"column":1633},"end":{"line":1,"column":2070}},"type":"switch","locations":[{"start":{"line":1,"column":1655},"end":{"line":1,"column":1763}},{"start":{"line":1,"column":1763},"end":{"line":1,"column":1902}},{"start":{"line":1,"column":1902},"end":{"line":1,"column":2009}},{"start":{"line":1,"column":2009},"end":{"line":1,"column":2035}},{"start":{"line":1,"column":2035},"end":{"line":1,"column":2043}},{"start":{"line":1,"column":2043},"end":{"line":1,"column":2069}}],"line":1},"6":{"loc":{"start":{"line":1,"column":1770},"end":{"line":1,"column":1802}},"type":"if","locations":[{"start":{"line":1,"column":1770},"end":{"line":1,"column":1802}},{"start":{"line":1,"column":1770},"end":{"line":1,"column":1802}}],"line":1},"7":{"loc":{"start":{"line":1,"column":2292},"end":{"line":1,"column":2466}},"type":"switch","locations":[{"start":{"line":1,"column":2314},"end":{"line":1,"column":2421}},{"start":{"line":1,"column":2421},"end":{"line":1,"column":2432}},{"start":{"line":1,"column":2432},"end":{"line":1,"column":2439}},{"start":{"line":1,"column":2439},"end":{"line":1,"column":2465}}],"line":1},"8":{"loc":{"start":{"line":1,"column":2690},"end":{"line":1,"column":2857}},"type":"switch","locations":[{"start":{"line":1,"column":2712},"end":{"line":1,"column":2797}},{"start":{"line":1,"column":2797},"end":{"line":1,"column":2823}},{"start":{"line":1,"column":2823},"end":{"line":1,"column":2830}},{"start":{"line":1,"column":2830},"end":{"line":1,"column":2856}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":124,"5":124,"6":124,"7":0,"8":124,"9":5,"10":55,"11":55,"12":55,"13":124,"14":0,"15":55,"16":55,"17":1,"18":1,"19":1,"20":14,"21":28,"22":28,"23":14,"24":0,"25":14,"26":14,"27":1,"28":14,"29":1,"30":1,"31":21,"32":42,"33":42,"34":21,"35":2,"36":21,"37":21,"38":1,"39":21,"40":1,"41":1,"42":7,"43":28,"44":28,"45":7,"46":0,"47":7,"48":0,"49":0,"50":7,"51":0,"52":7,"53":0,"54":7,"55":7,"56":1,"57":7,"58":1,"59":1,"60":8,"61":16,"62":16,"63":8,"64":0,"65":8,"66":8,"67":1,"68":8,"69":1,"70":1,"71":5,"72":10,"73":10,"74":5,"75":0,"76":5,"77":5,"78":1,"79":5,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1},"f":{"0":1,"1":124,"2":5,"3":55,"4":55,"5":124,"6":0,"7":1,"8":14,"9":28,"10":0,"11":14,"12":1,"13":21,"14":42,"15":2,"16":21,"17":1,"18":7,"19":28,"20":0,"21":0,"22":0,"23":7,"24":1,"25":8,"26":16,"27":0,"28":8,"29":1,"30":5,"31":10,"32":0,"33":5},"b":{"0":[1,0],"1":[1,1],"2":[55,69],"3":[14,14,14,14],"4":[21,21,21,21],"5":[7,7,7,7,7,7],"6":[0,7],"7":[8,8,8,8],"8":[5,5,5,5]},"inputSourceMap":{"version":3,"sources":["functions.js"],"names":["db","_create","dir","file","data","done","s3","save","e","res","_read","getData","_update","newData","remove","res2","_delete","_list","listItems","create","read","update","destroy","listDir"],"mappings":"4mBAGMA,CAAAA,EAAE,CAAG,E,CAELC,OAAO,sFAAG,WAAOC,CAAP,CAAYC,CAAZ,CAAkBC,CAAlB,CAAwBC,CAAxB,uGACIC,cAAGC,IAAH,WAAWL,CAAX,aAAkBC,CAAlB,EAA0BC,CAA1B,WAAsC,SAACI,CAAD,QAAOH,CAAAA,CAAI,CAACG,CAAD,CAAX,CAAtC,CADJ,QACRC,CADQ,QAEdJ,CAAI,CAAC,IAAD,CAAOI,CAAP,CAFU,wCAAH,uD,CAKPC,KAAK,sFAAG,WAAOR,CAAP,CAAYC,CAAZ,CAAkBE,CAAlB,uGACMC,cAAGK,OAAH,WAAcT,CAAd,aAAqBC,CAArB,YAAmC,SAACK,CAAD,QAAOH,CAAAA,CAAI,CAACG,CAAD,CAAX,CAAnC,CADN,QACNC,CADM,QAEZJ,CAAI,CAAC,IAAD,CAAOI,CAAP,CAFQ,wCAAH,uD,CAKLG,OAAO,sFAAG,WAAOV,CAAP,CAAYC,CAAZ,CAAkBU,CAAlB,CAA2BR,CAA3B,yGACIC,cAAGK,OAAH,WAAcT,CAAd,aAAqBC,CAArB,YAAmC,SAACK,CAAD,QAAOH,CAAAA,CAAI,CAACG,CAAD,CAAX,CAAnC,CADJ,WACRC,CADQ,SAEVA,CAFU,kCAGNH,cAAGQ,MAAH,WAAaZ,CAAb,aAAoBC,CAApB,YAAkC,SAACK,CAAD,QAAOH,CAAAA,CAAI,CAACG,CAAD,CAAX,CAAlC,CAHM,wBAIOF,cAAGC,IAAH,WAAWL,CAAX,aAAkBC,CAAlB,EAA0BU,CAA1B,WAAyC,SAACL,CAAD,QAAOH,CAAAA,CAAI,CAACG,CAAD,CAAX,CAAzC,CAJP,QAINO,CAJM,QAKZV,CAAI,CAAC,IAAD,CAAOU,CAAP,CALQ,yCAAH,uD,CASPC,OAAO,sFAAG,WAAOd,CAAP,CAAYC,CAAZ,CAAkBE,CAAlB,iGACRC,cAAGQ,MAAH,WAAaZ,CAAb,aAAoBC,CAApB,YAAkC,SAACK,CAAD,QAAOH,CAAAA,CAAI,CAACG,CAAD,CAAX,CAAlC,CADQ,QAEdH,CAAI,EAFU,wCAAH,uD,CAKPY,KAAK,sFAAG,WAAOf,CAAP,CAAYG,CAAZ,uGACMC,cAAGY,SAAH,CAAahB,CAAb,WAAwB,SAACM,CAAD,QAAOH,CAAAA,CAAI,CAACG,CAAD,CAAX,CAAxB,CADN,QACNC,CADM,QAEZJ,CAAI,CAAC,IAAD,CAAOI,CAAP,CAFQ,wCAAH,uD,CAKLU,MAAM,CAAG,oBAAUlB,OAAV,C,CACTmB,IAAI,CAAG,oBAAUV,KAAV,C,CACPW,MAAM,CAAG,oBAAUT,OAAV,C,CACTU,OAAO,CAAG,oBAAUN,OAAV,C,CACVO,OAAO,CAAG,oBAAUN,KAAV,C,CAEhBjB,EAAE,CAACmB,MAAH,CAAYA,M,CACZnB,EAAE,CAACoB,IAAH,CAAUA,I,CACVpB,EAAE,CAACqB,MAAH,CAAYA,M,CACZrB,EAAE,CAACsB,OAAH,CAAaA,O,CACbtB,EAAE,CAACuB,OAAH,CAAaA,O,cAEEvB,E","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\db","sourcesContent":["import { promisify } from 'util'\r\n\r\nimport s3 from '../s3'\r\nconst db = {}\r\n\r\nconst _create = async (dir, file, data, done) => {\r\n  const res = await s3.save(`${dir}/${file}`, data).catch((e) => done(e))\r\n  done(null, res)\r\n}\r\n\r\nconst _read = async (dir, file, done) => {\r\n  const res = await s3.getData(`${dir}/${file}`).catch((e) => done(e))\r\n  done(null, res)\r\n}\r\n\r\nconst _update = async (dir, file, newData, done) => {\r\n  const res = await s3.getData(`${dir}/${file}`).catch((e) => done(e))\r\n  if (res) {\r\n    await s3.remove(`${dir}/${file}`).catch((e) => done(e))\r\n    const res2 = await s3.save(`${dir}/${file}`, newData).catch((e) => done(e))\r\n    done(null, res2)\r\n  }\r\n}\r\n\r\nconst _delete = async (dir, file, done) => {\r\n  await s3.remove(`${dir}/${file}`).catch((e) => done(e))\r\n  done()\r\n}\r\n\r\nconst _list = async (dir, done) => {\r\n  const res = await s3.listItems(dir).catch((e) => done(e))\r\n  done(null, res)\r\n}\r\n\r\nconst create = promisify(_create)\r\nconst read = promisify(_read)\r\nconst update = promisify(_update)\r\nconst destroy = promisify(_delete)\r\nconst listDir = promisify(_list)\r\n\r\ndb.create = create\r\ndb.read = read\r\ndb.update = update\r\ndb.destroy = destroy\r\ndb.listDir = listDir\r\n\r\nexport default db\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1f05c1d331b083d772affeb109583a155935439b","contentHash":"2acc181063a3d6f441755d196c5143fb35f52544dd64706f90d267651e953ae1"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":94}},"1":{"start":{"line":1,"column":101},"end":{"line":1,"column":140}},"2":{"start":{"line":1,"column":147},"end":{"line":1,"column":188}},"3":{"start":{"line":1,"column":224},"end":{"line":1,"column":260}},"4":{"start":{"line":1,"column":274},"end":{"line":1,"column":337}},"5":{"start":{"line":1,"column":338},"end":{"line":1,"column":366}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":198},"end":{"line":1,"column":220}},"loc":{"start":{"line":1,"column":223},"end":{"line":1,"column":261}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":231},"end":{"line":1,"column":260}},"type":"cond-expr","locations":[{"start":{"line":1,"column":247},"end":{"line":1,"column":248}},{"start":{"line":1,"column":249},"end":{"line":1,"column":260}}],"line":1},"1":{"loc":{"start":{"line":1,"column":231},"end":{"line":1,"column":246}},"type":"binary-expr","locations":[{"start":{"line":1,"column":231},"end":{"line":1,"column":232}},{"start":{"line":1,"column":234},"end":{"line":1,"column":246}}],"line":1},"2":{"loc":{"start":{"line":1,"column":274},"end":{"line":1,"column":337}},"type":"cond-expr","locations":[{"start":{"line":1,"column":307},"end":{"line":1,"column":323}},{"start":{"line":1,"column":324},"end":{"line":1,"column":337}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":2,"4":1,"5":1},"f":{"0":2},"b":{"0":[2,0],"1":[2,2],"2":[1,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["process","env","NODE_ENV","mock","s3"],"mappings":"kRAGwC,SAAzB,GAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,CAAqCC,gBAArC,CAA4CC,a","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3","sourcesContent":["import s3 from './s3'\r\nimport mock from './mock'\r\n\r\nexport default process.env.NODE_ENV === 'testing' ? mock : s3\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fccdf57ada02854fbf2cdefdc1e9545fc7def9ee","contentHash":"5853cf43ada14155935805a21114a4fc7bd1ad5ee02fc1bf236fcdfe18f822d2"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3\\s3.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3\\s3.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":94}},"1":{"start":{"line":1,"column":106},"end":{"line":1,"column":148}},"2":{"start":{"line":1,"column":155},"end":{"line":1,"column":170}},"3":{"start":{"line":1,"column":179},"end":{"line":1,"column":202}},"4":{"start":{"line":1,"column":213},"end":{"line":1,"column":235}},"5":{"start":{"line":1,"column":271},"end":{"line":1,"column":307}},"6":{"start":{"line":1,"column":328},"end":{"line":1,"column":555}},"7":{"start":{"line":1,"column":415},"end":{"line":1,"column":430}},"8":{"start":{"line":1,"column":444},"end":{"line":1,"column":543}},"9":{"start":{"line":1,"column":599},"end":{"line":1,"column":653}},"10":{"start":{"line":1,"column":609},"end":{"line":1,"column":616}},"11":{"start":{"line":1,"column":619},"end":{"line":1,"column":626}},"12":{"start":{"line":1,"column":636},"end":{"line":1,"column":652}},"13":{"start":{"line":1,"column":653},"end":{"line":1,"column":693}},"14":{"start":{"line":1,"column":724},"end":{"line":1,"column":936}},"15":{"start":{"line":1,"column":748},"end":{"line":1,"column":752}},"16":{"start":{"line":1,"column":755},"end":{"line":1,"column":764}},"17":{"start":{"line":1,"column":765},"end":{"line":1,"column":935}},"18":{"start":{"line":1,"column":812},"end":{"line":1,"column":850}},"19":{"start":{"line":1,"column":865},"end":{"line":1,"column":904}},"20":{"start":{"line":1,"column":911},"end":{"line":1,"column":923}},"21":{"start":{"line":1,"column":924},"end":{"line":1,"column":933}},"22":{"start":{"line":1,"column":937},"end":{"line":1,"column":1093}},"23":{"start":{"line":1,"column":1100},"end":{"line":1,"column":1125}},"24":{"start":{"line":1,"column":1131},"end":{"line":1,"column":1133}},"25":{"start":{"line":1,"column":1143},"end":{"line":1,"column":1311}},"26":{"start":{"line":1,"column":1163},"end":{"line":1,"column":1203}},"27":{"start":{"line":1,"column":1204},"end":{"line":1,"column":1310}},"28":{"start":{"line":1,"column":1233},"end":{"line":1,"column":1308}},"29":{"start":{"line":1,"column":1238},"end":{"line":1,"column":1251}},"30":{"start":{"line":1,"column":1262},"end":{"line":1,"column":1297}},"31":{"start":{"line":1,"column":1298},"end":{"line":1,"column":1307}},"32":{"start":{"line":1,"column":1320},"end":{"line":1,"column":1349}},"33":{"start":{"line":1,"column":1355},"end":{"line":1,"column":1451}},"34":{"start":{"line":1,"column":1369},"end":{"line":1,"column":1450}},"35":{"start":{"line":1,"column":1396},"end":{"line":1,"column":1448}},"36":{"start":{"line":1,"column":1475},"end":{"line":1,"column":2074}},"37":{"start":{"line":1,"column":1492},"end":{"line":1,"column":2021}},"38":{"start":{"line":1,"column":1575},"end":{"line":1,"column":2018}},"39":{"start":{"line":1,"column":1618},"end":{"line":1,"column":2014}},"40":{"start":{"line":1,"column":1625},"end":{"line":1,"column":2014}},"41":{"start":{"line":1,"column":1654},"end":{"line":1,"column":1980}},"42":{"start":{"line":1,"column":1997},"end":{"line":1,"column":2013}},"43":{"start":{"line":1,"column":2022},"end":{"line":1,"column":2071}},"44":{"start":{"line":1,"column":2040},"end":{"line":1,"column":2070}},"45":{"start":{"line":1,"column":2084},"end":{"line":1,"column":2114}},"46":{"start":{"line":1,"column":2134},"end":{"line":1,"column":2705}},"47":{"start":{"line":1,"column":2151},"end":{"line":1,"column":2652}},"48":{"start":{"line":1,"column":2232},"end":{"line":1,"column":2649}},"49":{"start":{"line":1,"column":2275},"end":{"line":1,"column":2645}},"50":{"start":{"line":1,"column":2282},"end":{"line":1,"column":2645}},"51":{"start":{"line":1,"column":2311},"end":{"line":1,"column":2611}},"52":{"start":{"line":1,"column":2628},"end":{"line":1,"column":2644}},"53":{"start":{"line":1,"column":2653},"end":{"line":1,"column":2702}},"54":{"start":{"line":1,"column":2671},"end":{"line":1,"column":2701}},"55":{"start":{"line":1,"column":2711},"end":{"line":1,"column":2737}},"56":{"start":{"line":1,"column":2746},"end":{"line":1,"column":2866}},"57":{"start":{"line":1,"column":2766},"end":{"line":1,"column":2806}},"58":{"start":{"line":1,"column":2807},"end":{"line":1,"column":2865}},"59":{"start":{"line":1,"column":2839},"end":{"line":1,"column":2863}},"60":{"start":{"line":1,"column":2874},"end":{"line":1,"column":2902}},"61":{"start":{"line":1,"column":2916},"end":{"line":1,"column":3059}},"62":{"start":{"line":1,"column":2936},"end":{"line":1,"column":2998}},"63":{"start":{"line":1,"column":2999},"end":{"line":1,"column":3058}},"64":{"start":{"line":1,"column":3032},"end":{"line":1,"column":3056}},"65":{"start":{"line":1,"column":3072},"end":{"line":1,"column":3105}},"66":{"start":{"line":1,"column":3112},"end":{"line":1,"column":3256}},"67":{"start":{"line":1,"column":3132},"end":{"line":1,"column":3186}},"68":{"start":{"line":1,"column":3187},"end":{"line":1,"column":3255}},"69":{"start":{"line":1,"column":3220},"end":{"line":1,"column":3253}},"70":{"start":{"line":1,"column":3267},"end":{"line":1,"column":3293}},"71":{"start":{"line":1,"column":3309},"end":{"line":1,"column":3533}},"72":{"start":{"line":1,"column":3327},"end":{"line":1,"column":3466}},"73":{"start":{"line":1,"column":3467},"end":{"line":1,"column":3532}},"74":{"start":{"line":1,"column":3506},"end":{"line":1,"column":3530}},"75":{"start":{"line":1,"column":3548},"end":{"line":1,"column":3583}},"76":{"start":{"line":1,"column":3592},"end":{"line":1,"column":3685}},"77":{"start":{"line":1,"column":3610},"end":{"line":1,"column":3684}},"78":{"start":{"line":1,"column":3658},"end":{"line":1,"column":3682}},"79":{"start":{"line":1,"column":3693},"end":{"line":1,"column":3721}},"80":{"start":{"line":1,"column":3730},"end":{"line":2,"column":338}},"81":{"start":{"line":2,"column":0},"end":{"line":2,"column":337}},"82":{"start":{"line":2,"column":218},"end":{"line":2,"column":311}},"83":{"start":{"line":2,"column":250},"end":{"line":2,"column":309}},"84":{"start":{"line":2,"column":270},"end":{"line":2,"column":287}},"85":{"start":{"line":2,"column":288},"end":{"line":2,"column":308}},"86":{"start":{"line":2,"column":331},"end":{"line":2,"column":335}},"87":{"start":{"line":2,"column":346},"end":{"line":2,"column":374}},"88":{"start":{"line":2,"column":375},"end":{"line":2,"column":578}},"89":{"start":{"line":2,"column":591},"end":{"line":2,"column":595}},"90":{"start":{"line":2,"column":596},"end":{"line":2,"column":624}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":245},"end":{"line":1,"column":267}},"loc":{"start":{"line":1,"column":270},"end":{"line":1,"column":308}},"line":1},"1":{"name":"_typeof","decl":{"start":{"line":1,"column":317},"end":{"line":1,"column":324}},"loc":{"start":{"line":1,"column":327},"end":{"line":1,"column":556}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":403},"end":{"line":1,"column":404}},"loc":{"start":{"line":1,"column":414},"end":{"line":1,"column":431}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":432},"end":{"line":1,"column":433}},"loc":{"start":{"line":1,"column":443},"end":{"line":1,"column":544}},"line":1},"4":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":565},"end":{"line":1,"column":583}},"loc":{"start":{"line":1,"column":598},"end":{"line":1,"column":694}},"line":1},"5":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":703},"end":{"line":1,"column":720}},"loc":{"start":{"line":1,"column":723},"end":{"line":1,"column":937}},"line":1},"6":{"name":"(anonymous_6)","decl":{"start":{"line":1,"column":731},"end":{"line":1,"column":732}},"loc":{"start":{"line":1,"column":741},"end":{"line":1,"column":936}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":1,"column":784},"end":{"line":1,"column":785}},"loc":{"start":{"line":1,"column":797},"end":{"line":1,"column":934}},"line":1},"8":{"name":"f","decl":{"start":{"line":1,"column":807},"end":{"line":1,"column":808}},"loc":{"start":{"line":1,"column":811},"end":{"line":1,"column":851}},"line":1},"9":{"name":"g","decl":{"start":{"line":1,"column":860},"end":{"line":1,"column":861}},"loc":{"start":{"line":1,"column":864},"end":{"line":1,"column":905}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":1143},"end":{"line":1,"column":1144}},"loc":{"start":{"line":1,"column":1156},"end":{"line":1,"column":1311}},"line":1},"11":{"name":"(anonymous_11)","decl":{"start":{"line":1,"column":1219},"end":{"line":1,"column":1220}},"loc":{"start":{"line":1,"column":1232},"end":{"line":1,"column":1309}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":1355},"end":{"line":1,"column":1356}},"loc":{"start":{"line":1,"column":1368},"end":{"line":1,"column":1451}},"line":1},"13":{"name":"(anonymous_13)","decl":{"start":{"line":1,"column":1384},"end":{"line":1,"column":1385}},"loc":{"start":{"line":1,"column":1395},"end":{"line":1,"column":1449}},"line":1},"14":{"name":"(anonymous_14)","decl":{"start":{"line":1,"column":1475},"end":{"line":1,"column":1476}},"loc":{"start":{"line":1,"column":1485},"end":{"line":1,"column":2072}},"line":1},"15":{"name":"a","decl":{"start":{"line":1,"column":1556},"end":{"line":1,"column":1557}},"loc":{"start":{"line":1,"column":1566},"end":{"line":1,"column":2019}},"line":1},"16":{"name":"(anonymous_16)","decl":{"start":{"line":1,"column":1606},"end":{"line":1,"column":1607}},"loc":{"start":{"line":1,"column":1617},"end":{"line":1,"column":2015}},"line":1},"17":{"name":"(anonymous_17)","decl":{"start":{"line":1,"column":2029},"end":{"line":1,"column":2030}},"loc":{"start":{"line":1,"column":2039},"end":{"line":1,"column":2071}},"line":1},"18":{"name":"(anonymous_18)","decl":{"start":{"line":1,"column":2134},"end":{"line":1,"column":2135}},"loc":{"start":{"line":1,"column":2144},"end":{"line":1,"column":2703}},"line":1},"19":{"name":"a","decl":{"start":{"line":1,"column":2215},"end":{"line":1,"column":2216}},"loc":{"start":{"line":1,"column":2223},"end":{"line":1,"column":2650}},"line":1},"20":{"name":"(anonymous_20)","decl":{"start":{"line":1,"column":2263},"end":{"line":1,"column":2264}},"loc":{"start":{"line":1,"column":2274},"end":{"line":1,"column":2646}},"line":1},"21":{"name":"(anonymous_21)","decl":{"start":{"line":1,"column":2660},"end":{"line":1,"column":2661}},"loc":{"start":{"line":1,"column":2670},"end":{"line":1,"column":2702}},"line":1},"22":{"name":"(anonymous_22)","decl":{"start":{"line":1,"column":2746},"end":{"line":1,"column":2747}},"loc":{"start":{"line":1,"column":2759},"end":{"line":1,"column":2866}},"line":1},"23":{"name":"(anonymous_23)","decl":{"start":{"line":1,"column":2825},"end":{"line":1,"column":2826}},"loc":{"start":{"line":1,"column":2838},"end":{"line":1,"column":2864}},"line":1},"24":{"name":"(anonymous_24)","decl":{"start":{"line":1,"column":2916},"end":{"line":1,"column":2917}},"loc":{"start":{"line":1,"column":2929},"end":{"line":1,"column":3059}},"line":1},"25":{"name":"(anonymous_25)","decl":{"start":{"line":1,"column":3018},"end":{"line":1,"column":3019}},"loc":{"start":{"line":1,"column":3031},"end":{"line":1,"column":3057}},"line":1},"26":{"name":"(anonymous_26)","decl":{"start":{"line":1,"column":3112},"end":{"line":1,"column":3113}},"loc":{"start":{"line":1,"column":3125},"end":{"line":1,"column":3256}},"line":1},"27":{"name":"(anonymous_27)","decl":{"start":{"line":1,"column":3206},"end":{"line":1,"column":3207}},"loc":{"start":{"line":1,"column":3219},"end":{"line":1,"column":3254}},"line":1},"28":{"name":"(anonymous_28)","decl":{"start":{"line":1,"column":3309},"end":{"line":1,"column":3310}},"loc":{"start":{"line":1,"column":3320},"end":{"line":1,"column":3533}},"line":1},"29":{"name":"(anonymous_29)","decl":{"start":{"line":1,"column":3492},"end":{"line":1,"column":3493}},"loc":{"start":{"line":1,"column":3505},"end":{"line":1,"column":3531}},"line":1},"30":{"name":"(anonymous_30)","decl":{"start":{"line":1,"column":3592},"end":{"line":1,"column":3593}},"loc":{"start":{"line":1,"column":3609},"end":{"line":1,"column":3685}},"line":1},"31":{"name":"(anonymous_31)","decl":{"start":{"line":1,"column":3644},"end":{"line":1,"column":3645}},"loc":{"start":{"line":1,"column":3657},"end":{"line":1,"column":3683}},"line":1},"32":{"name":"(anonymous_32)","decl":{"start":{"line":1,"column":3730},"end":{"line":1,"column":3731}},"loc":{"start":{"line":1,"column":3747},"end":{"line":2,"column":338}},"line":1},"33":{"name":"(anonymous_33)","decl":{"start":{"line":2,"column":206},"end":{"line":2,"column":207}},"loc":{"start":{"line":2,"column":217},"end":{"line":2,"column":312}},"line":2},"34":{"name":"(anonymous_34)","decl":{"start":{"line":2,"column":238},"end":{"line":2,"column":239}},"loc":{"start":{"line":2,"column":249},"end":{"line":2,"column":310}},"line":2},"35":{"name":"(anonymous_35)","decl":{"start":{"line":2,"column":319},"end":{"line":2,"column":320}},"loc":{"start":{"line":2,"column":330},"end":{"line":2,"column":336}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":278},"end":{"line":1,"column":307}},"type":"cond-expr","locations":[{"start":{"line":1,"column":294},"end":{"line":1,"column":295}},{"start":{"line":1,"column":296},"end":{"line":1,"column":307}}],"line":1},"1":{"loc":{"start":{"line":1,"column":278},"end":{"line":1,"column":293}},"type":"binary-expr","locations":[{"start":{"line":1,"column":278},"end":{"line":1,"column":279}},{"start":{"line":1,"column":281},"end":{"line":1,"column":293}}],"line":1},"2":{"loc":{"start":{"line":1,"column":343},"end":{"line":1,"column":544}},"type":"cond-expr","locations":[{"start":{"line":1,"column":403},"end":{"line":1,"column":431}},{"start":{"line":1,"column":432},"end":{"line":1,"column":544}}],"line":1},"3":{"loc":{"start":{"line":1,"column":343},"end":{"line":1,"column":402}},"type":"binary-expr","locations":[{"start":{"line":1,"column":343},"end":{"line":1,"column":368}},{"start":{"line":1,"column":370},"end":{"line":1,"column":402}}],"line":1},"4":{"loc":{"start":{"line":1,"column":451},"end":{"line":1,"column":543}},"type":"cond-expr","locations":[{"start":{"line":1,"column":526},"end":{"line":1,"column":534}},{"start":{"line":1,"column":535},"end":{"line":1,"column":543}}],"line":1},"5":{"loc":{"start":{"line":1,"column":451},"end":{"line":1,"column":525}},"type":"binary-expr","locations":[{"start":{"line":1,"column":451},"end":{"line":1,"column":452}},{"start":{"line":1,"column":454},"end":{"line":1,"column":479}},{"start":{"line":1,"column":481},"end":{"line":1,"column":503}},{"start":{"line":1,"column":505},"end":{"line":1,"column":525}}],"line":1},"6":{"loc":{"start":{"line":1,"column":653},"end":{"line":1,"column":693}},"type":"cond-expr","locations":[{"start":{"line":1,"column":660},"end":{"line":1,"column":664}},{"start":{"line":1,"column":665},"end":{"line":1,"column":693}}],"line":1},"7":{"loc":{"start":{"line":1,"column":1233},"end":{"line":1,"column":1308}},"type":"if","locations":[{"start":{"line":1,"column":1233},"end":{"line":1,"column":1308}},{"start":{"line":1,"column":1233},"end":{"line":1,"column":1308}}],"line":1},"8":{"loc":{"start":{"line":1,"column":1396},"end":{"line":1,"column":1448}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1398},"end":{"line":1,"column":1410}},{"start":{"line":1,"column":1411},"end":{"line":1,"column":1448}}],"line":1},"9":{"loc":{"start":{"line":1,"column":1625},"end":{"line":1,"column":2014}},"type":"switch","locations":[{"start":{"line":1,"column":1647},"end":{"line":1,"column":1980}},{"start":{"line":1,"column":1980},"end":{"line":1,"column":1987}},{"start":{"line":1,"column":1987},"end":{"line":1,"column":2013}}],"line":1},"10":{"loc":{"start":{"line":1,"column":1656},"end":{"line":1,"column":1697}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1678},"end":{"line":1,"column":1695}},{"start":{"line":1,"column":1696},"end":{"line":1,"column":1697}}],"line":1},"11":{"loc":{"start":{"line":1,"column":2282},"end":{"line":1,"column":2645}},"type":"switch","locations":[{"start":{"line":1,"column":2304},"end":{"line":1,"column":2611}},{"start":{"line":1,"column":2611},"end":{"line":1,"column":2618}},{"start":{"line":1,"column":2618},"end":{"line":1,"column":2644}}],"line":1},"12":{"loc":{"start":{"line":1,"column":2313},"end":{"line":1,"column":2354}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2335},"end":{"line":1,"column":2352}},{"start":{"line":1,"column":2353},"end":{"line":1,"column":2354}}],"line":1},"13":{"loc":{"start":{"line":1,"column":2839},"end":{"line":1,"column":2863}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2841},"end":{"line":1,"column":2853}},{"start":{"line":1,"column":2854},"end":{"line":1,"column":2863}}],"line":1},"14":{"loc":{"start":{"line":1,"column":3032},"end":{"line":1,"column":3056}},"type":"cond-expr","locations":[{"start":{"line":1,"column":3034},"end":{"line":1,"column":3046}},{"start":{"line":1,"column":3047},"end":{"line":1,"column":3056}}],"line":1},"15":{"loc":{"start":{"line":1,"column":3220},"end":{"line":1,"column":3253}},"type":"cond-expr","locations":[{"start":{"line":1,"column":3222},"end":{"line":1,"column":3234}},{"start":{"line":1,"column":3235},"end":{"line":1,"column":3253}}],"line":1},"16":{"loc":{"start":{"line":1,"column":3506},"end":{"line":1,"column":3530}},"type":"cond-expr","locations":[{"start":{"line":1,"column":3508},"end":{"line":1,"column":3520}},{"start":{"line":1,"column":3521},"end":{"line":1,"column":3530}}],"line":1},"17":{"loc":{"start":{"line":1,"column":3658},"end":{"line":1,"column":3682}},"type":"cond-expr","locations":[{"start":{"line":1,"column":3660},"end":{"line":1,"column":3672}},{"start":{"line":1,"column":3673},"end":{"line":1,"column":3682}}],"line":1},"18":{"loc":{"start":{"line":2,"column":250},"end":{"line":2,"column":309}},"type":"if","locations":[{"start":{"line":2,"column":250},"end":{"line":2,"column":309}},{"start":{"line":2,"column":250},"end":{"line":2,"column":309}}],"line":2}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":2,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":1,"34":0,"35":0,"36":1,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1,"44":0,"45":1,"46":1,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":1,"56":1,"57":0,"58":0,"59":0,"60":1,"61":1,"62":0,"63":0,"64":0,"65":1,"66":1,"67":0,"68":0,"69":0,"70":1,"71":1,"72":0,"73":0,"74":0,"75":1,"76":1,"77":0,"78":0,"79":1,"80":1,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":1,"88":1,"89":1,"90":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":2,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},"b":{"0":[0,1],"1":[1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0,0],"10":[0,0],"11":[0,0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0]},"inputSourceMap":{"version":3,"sources":["s3.js"],"names":["AWS","config","apiVersions","s3","accessKeyId","S3_ACCESS_KEY","secretAccessKey","S3_ACCESS_SECRET","region","S3_REGION","S3","s3db","_getData","id","done","params","Bucket","USERS_BUCKET_NAME","Key","getObject","err","data","message","o","JSON","parse","Body","toString","getData","_put","putObject","_saveUser","role","s","stringify","Buffer","from","ServerSideEncryption","ContentMD5","SSECustomerKey","ENCRYPTION_PASSWORD","SSECustomerKeyMD5","Tagging","saveUser","_save","save","_remove","deleteObject","remove","_multiRemove","objs","Delete","Objects","Quiet","deleteObjects","multiRemove","_list","dir","MaxKeys","Prefix","listObjectsV2","Contents","listItems","_setEncryption","ServerSideEncryptionConfiguration","Rules","ApplyServerSideEncryptionByDefault","SSEAlgorithm","putBucketEncryption","setEncryption","_upload","name","key","stream","upload","_select","bucket","query","selectObjectContent","ExpressionType","Expression","InputSerialization","CompressionType","Type","OutputSerialization","RecordDelimiter","promise","then","output","Payload","on","event","Records","buffer","select"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3","sourcesContent":["import AWS from 'aws-sdk'\r\nimport { promisify } from 'util'\r\n\r\nimport { USERS_BUCKET_NAME, ENCRYPTION_PASSWORD, S3_ACCESS_KEY, S3_ACCESS_SECRET, S3_REGION } from '../../config'\r\nimport { md5 } from '../security'\r\nAWS.config.apiVersions = {\r\n  s3: '2006-03-01',\r\n  accessKeyId: S3_ACCESS_KEY,\r\n  secretAccessKey: S3_ACCESS_SECRET,\r\n  region: S3_REGION\r\n}\r\nconst s3 = new AWS.S3()\r\nconst s3db = {}\r\n\r\nconst _getData = (id, done) => {\r\n  const params = {\r\n    Bucket: USERS_BUCKET_NAME,\r\n    Key: id\r\n  }\r\n\r\n  s3.getObject(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      const o = JSON.parse(data.Body.toString('utf8'))\r\n      done(null, o)\r\n    }\r\n  })\r\n}\r\n\r\nconst getData = promisify(_getData)\r\n\r\nconst _put = (params, done) => {\r\n  s3.putObject(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, JSON.parse(params.Body.toString()))\r\n    }\r\n  })\r\n}\r\n\r\nconst _saveUser = async (id, data, role, done) => {\r\n  const s = typeof data === 'object' ? JSON.stringify(data) : data\r\n  const params = {\r\n    Body: Buffer.from(s),\r\n    Bucket: USERS_BUCKET_NAME,\r\n    Key: id,\r\n    ServerSideEncryption: 'AES256',\r\n    ContentMD5: md5(s),\r\n    SSECustomerKey: Buffer.from(ENCRYPTION_PASSWORD),\r\n    SSECustomerKeyMD5: md5(ENCRYPTION_PASSWORD),\r\n    Tagging: `role=${role}`\r\n  }\r\n  _put(params, done)\r\n}\r\n\r\nconst saveUser = promisify(_saveUser)\r\n\r\nconst _save = async (id, data, done) => {\r\n  const s = typeof data === 'object' ? JSON.stringify(data) : data\r\n  const params = {\r\n    Body: Buffer.from(s),\r\n    Bucket: USERS_BUCKET_NAME,\r\n    ServerSideEncryption: 'AES256',\r\n    ContentMD5: md5(s),\r\n    SSECustomerKey: Buffer.from(ENCRYPTION_PASSWORD),\r\n    SSECustomerKeyMD5: md5(ENCRYPTION_PASSWORD),\r\n    Key: id\r\n  }\r\n  _put(params, done)\r\n}\r\n\r\nconst save = promisify(_save)\r\n\r\nconst _remove = (id, done) => {\r\n  const params = {\r\n    Bucket: USERS_BUCKET_NAME,\r\n    Key: id\r\n  }\r\n\r\n  s3.deleteObject(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, data)\r\n    }\r\n  })\r\n}\r\n\r\nconst remove = promisify(_remove)\r\n\r\nconst _multiRemove = (objs, done) => {\r\n  const params = {\r\n    Bucket: USERS_BUCKET_NAME,\r\n    Delete: {\r\n      Objects: objs,\r\n      Quiet: false\r\n    }\r\n  }\r\n\r\n  s3.deleteObjects(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, data)\r\n    }\r\n  })\r\n}\r\n\r\nconst multiRemove = promisify(_multiRemove)\r\n\r\nconst _list = (dir, done) => {\r\n  const params = {\r\n    Bucket: USERS_BUCKET_NAME,\r\n    MaxKeys: 10,\r\n    Prefix: dir\r\n  }\r\n\r\n  s3.listObjectsV2(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, data.Contents)\r\n    }\r\n  })\r\n}\r\n\r\nconst listItems = promisify(_list)\r\n\r\nconst _setEncryption = (done) => {\r\n  const params = {\r\n    Bucket: USERS_BUCKET_NAME,\r\n    ServerSideEncryptionConfiguration: {\r\n      Rules: [\r\n        {\r\n          ApplyServerSideEncryptionByDefault: {\r\n            SSEAlgorithm: 'AES256'\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n\r\n  s3.putBucketEncryption(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, data)\r\n    }\r\n  })\r\n}\r\n\r\nconst setEncryption = promisify(_setEncryption)\r\n\r\nconst _upload = (name, key, stream, done) => {\r\n  const params = { Bucket: name, Key: key, Body: stream }\r\n  s3.upload(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, data)\r\n    }\r\n  })\r\n}\r\n\r\nconst upload = promisify(_upload)\r\n\r\nconst _select = (bucket, key, query, done) => {\r\n  // ex.: 'SELECT s.* FROM S3Object[*][*] s WHERE s.price < 9 LIMIT 10'\r\n  const params = {\r\n    Bucket: bucket,\r\n    Key: key,\r\n    ExpressionType: 'SQL',\r\n    Expression: query,\r\n    InputSerialization: {\r\n      CompressionType: 'GZIP',\r\n      JSON: {\r\n        Type: 'DOCUMENT'\r\n      }\r\n    },\r\n    OutputSerialization: {\r\n      JSON: {\r\n        RecordDelimiter: ','\r\n      }\r\n    }\r\n  }\r\n  s3.selectObjectContent(params)\r\n    .promise()\r\n    .then((output) => {\r\n      output.Payload.on('data', (event) => {\r\n        if (event.Records) {\r\n          const buffer = event.Records.Payload\r\n          done(null, buffer.toString())\r\n        }\r\n      })\r\n    })\r\n    .then((err) => {\r\n      done(err)\r\n    })\r\n}\r\n\r\nconst select = promisify(_select)\r\n\r\ns3db.getData = getData\r\ns3db.saveUser = saveUser\r\ns3db.save = save\r\ns3db.remove = remove\r\ns3db.multiRemove = multiRemove\r\ns3db.listItems = listItems\r\ns3db.setEncryption = setEncryption\r\ns3db.upload = upload\r\ns3db.select = select\r\n\r\nexport default s3db\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0ab34aa2939d38fc89c55ed6e26a77558876618d","contentHash":"5e1b2065476c3bbbee04fc04fa483eabaa7164764355277ae20d562b5917eeae"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\security\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\security\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":224}},"1":{"start":{"line":1,"column":240},"end":{"line":1,"column":262}},"2":{"start":{"line":1,"column":269},"end":{"line":1,"column":284}},"3":{"start":{"line":1,"column":293},"end":{"line":1,"column":310}},"4":{"start":{"line":1,"column":315},"end":{"line":1,"column":355}},"5":{"start":{"line":1,"column":364},"end":{"line":1,"column":387}},"6":{"start":{"line":1,"column":402},"end":{"line":1,"column":428}},"7":{"start":{"line":1,"column":464},"end":{"line":1,"column":500}},"8":{"start":{"line":1,"column":544},"end":{"line":1,"column":598}},"9":{"start":{"line":1,"column":554},"end":{"line":1,"column":561}},"10":{"start":{"line":1,"column":564},"end":{"line":1,"column":571}},"11":{"start":{"line":1,"column":581},"end":{"line":1,"column":597}},"12":{"start":{"line":1,"column":598},"end":{"line":1,"column":638}},"13":{"start":{"line":1,"column":669},"end":{"line":1,"column":881}},"14":{"start":{"line":1,"column":693},"end":{"line":1,"column":697}},"15":{"start":{"line":1,"column":700},"end":{"line":1,"column":709}},"16":{"start":{"line":1,"column":710},"end":{"line":1,"column":880}},"17":{"start":{"line":1,"column":757},"end":{"line":1,"column":795}},"18":{"start":{"line":1,"column":810},"end":{"line":1,"column":849}},"19":{"start":{"line":1,"column":856},"end":{"line":1,"column":868}},"20":{"start":{"line":1,"column":869},"end":{"line":1,"column":878}},"21":{"start":{"line":1,"column":902},"end":{"line":1,"column":1129}},"22":{"start":{"line":1,"column":989},"end":{"line":1,"column":1004}},"23":{"start":{"line":1,"column":1018},"end":{"line":1,"column":1117}},"24":{"start":{"line":1,"column":1144},"end":{"line":1,"column":1157}},"25":{"start":{"line":1,"column":1166},"end":{"line":1,"column":1264}},"26":{"start":{"line":1,"column":1180},"end":{"line":1,"column":1263}},"27":{"start":{"line":1,"column":1220},"end":{"line":1,"column":1261}},"28":{"start":{"line":1,"column":1272},"end":{"line":1,"column":1300}},"29":{"start":{"line":1,"column":1301},"end":{"line":1,"column":1323}},"30":{"start":{"line":1,"column":1334},"end":{"line":1,"column":1477}},"31":{"start":{"line":1,"column":1354},"end":{"line":1,"column":1356}},"32":{"start":{"line":1,"column":1357},"end":{"line":1,"column":1476}},"33":{"start":{"line":1,"column":1484},"end":{"line":1,"column":1511}},"34":{"start":{"line":1,"column":1529},"end":{"line":1,"column":1901}},"35":{"start":{"line":1,"column":1546},"end":{"line":1,"column":1848}},"36":{"start":{"line":1,"column":1615},"end":{"line":1,"column":1845}},"37":{"start":{"line":1,"column":1658},"end":{"line":1,"column":1841}},"38":{"start":{"line":1,"column":1665},"end":{"line":1,"column":1841}},"39":{"start":{"line":1,"column":1694},"end":{"line":1,"column":1721}},"40":{"start":{"line":1,"column":1706},"end":{"line":1,"column":1715}},"41":{"start":{"line":1,"column":1715},"end":{"line":1,"column":1720}},"42":{"start":{"line":1,"column":1721},"end":{"line":1,"column":1751}},"43":{"start":{"line":1,"column":1758},"end":{"line":1,"column":1772}},"44":{"start":{"line":1,"column":1779},"end":{"line":1,"column":1807}},"45":{"start":{"line":1,"column":1824},"end":{"line":1,"column":1840}},"46":{"start":{"line":1,"column":1849},"end":{"line":1,"column":1898}},"47":{"start":{"line":1,"column":1867},"end":{"line":1,"column":1897}},"48":{"start":{"line":1,"column":1902},"end":{"line":1,"column":1918}},"49":{"start":{"line":1,"column":1931},"end":{"line":1,"column":2109}},"50":{"start":{"line":1,"column":1949},"end":{"line":1,"column":2108}},"51":{"start":{"line":1,"column":1959},"end":{"line":1,"column":2038}},"52":{"start":{"line":1,"column":2041},"end":{"line":1,"column":2065}},"53":{"start":{"line":1,"column":2066},"end":{"line":1,"column":2093}},"54":{"start":{"line":1,"column":2103},"end":{"line":1,"column":2107}},"55":{"start":{"line":1,"column":2119},"end":{"line":1,"column":2300}},"56":{"start":{"line":1,"column":2137},"end":{"line":1,"column":2299}},"57":{"start":{"line":1,"column":2147},"end":{"line":1,"column":2228}},"58":{"start":{"line":1,"column":2231},"end":{"line":1,"column":2255}},"59":{"start":{"line":1,"column":2256},"end":{"line":1,"column":2284}},"60":{"start":{"line":1,"column":2294},"end":{"line":1,"column":2298}},"61":{"start":{"line":1,"column":2305},"end":{"line":1,"column":2377}},"62":{"start":{"line":1,"column":2317},"end":{"line":1,"column":2376}},"63":{"start":{"line":1,"column":2378},"end":{"line":1,"column":2394}},"64":{"start":{"line":1,"column":2406},"end":{"line":1,"column":2435}},"65":{"start":{"line":1,"column":2436},"end":{"line":1,"column":2460}},"66":{"start":{"line":1,"column":2472},"end":{"line":1,"column":2501}},"67":{"start":{"line":1,"column":2502},"end":{"line":1,"column":2526}},"68":{"start":{"line":1,"column":2537},"end":{"line":1,"column":2688}},"69":{"start":{"line":1,"column":2548},"end":{"line":1,"column":2687}},"70":{"start":{"line":1,"column":2627},"end":{"line":1,"column":2645}},"71":{"start":{"line":1,"column":2648},"end":{"line":1,"column":2663}},"72":{"start":{"line":1,"column":2664},"end":{"line":1,"column":2685}},"73":{"start":{"line":1,"column":2689},"end":{"line":1,"column":2711}},"74":{"start":{"line":1,"column":2721},"end":{"line":1,"column":2891}},"75":{"start":{"line":1,"column":2735},"end":{"line":1,"column":2890}},"76":{"start":{"line":1,"column":2897},"end":{"line":1,"column":2923}},"77":{"start":{"line":1,"column":2924},"end":{"line":1,"column":2942}},"78":{"start":{"line":1,"column":2956},"end":{"line":1,"column":3078}},"79":{"start":{"line":1,"column":2970},"end":{"line":1,"column":3077}},"80":{"start":{"line":1,"column":3010},"end":{"line":1,"column":3075}},"81":{"start":{"line":1,"column":3088},"end":{"line":1,"column":3118}},"82":{"start":{"line":1,"column":3119},"end":{"line":1,"column":3145}},"83":{"start":{"line":1,"column":3162},"end":{"line":1,"column":3366}},"84":{"start":{"line":1,"column":3176},"end":{"line":1,"column":3365}},"85":{"start":{"line":1,"column":3238},"end":{"line":1,"column":3283}},"86":{"start":{"line":1,"column":3284},"end":{"line":1,"column":3315}},"87":{"start":{"line":1,"column":3321},"end":{"line":1,"column":3365}},"88":{"start":{"line":1,"column":3379},"end":{"line":1,"column":3412}},"89":{"start":{"line":1,"column":3413},"end":{"line":1,"column":3445}},"90":{"start":{"line":1,"column":3468},"end":{"line":1,"column":4056}},"91":{"start":{"line":1,"column":3485},"end":{"line":1,"column":4003}},"92":{"start":{"line":1,"column":3564},"end":{"line":1,"column":4000}},"93":{"start":{"line":1,"column":3607},"end":{"line":1,"column":3996}},"94":{"start":{"line":1,"column":3614},"end":{"line":1,"column":3996}},"95":{"start":{"line":1,"column":3643},"end":{"line":1,"column":3709}},"96":{"start":{"line":1,"column":3695},"end":{"line":1,"column":3706}},"97":{"start":{"line":1,"column":3716},"end":{"line":1,"column":3747}},"98":{"start":{"line":1,"column":3732},"end":{"line":1,"column":3741}},"99":{"start":{"line":1,"column":3741},"end":{"line":1,"column":3746}},"100":{"start":{"line":1,"column":3747},"end":{"line":1,"column":3860}},"101":{"start":{"line":1,"column":3815},"end":{"line":1,"column":3857}},"102":{"start":{"line":1,"column":3867},"end":{"line":1,"column":3910}},"103":{"start":{"line":1,"column":3917},"end":{"line":1,"column":3962}},"104":{"start":{"line":1,"column":3979},"end":{"line":1,"column":3995}},"105":{"start":{"line":1,"column":4004},"end":{"line":1,"column":4053}},"106":{"start":{"line":1,"column":4022},"end":{"line":1,"column":4052}},"107":{"start":{"line":1,"column":4062},"end":{"line":1,"column":4088}},"108":{"start":{"line":1,"column":4089},"end":{"line":1,"column":4107}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":438},"end":{"line":1,"column":460}},"loc":{"start":{"line":1,"column":463},"end":{"line":1,"column":501}},"line":1},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":510},"end":{"line":1,"column":528}},"loc":{"start":{"line":1,"column":543},"end":{"line":1,"column":639}},"line":1},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":648},"end":{"line":1,"column":665}},"loc":{"start":{"line":1,"column":668},"end":{"line":1,"column":882}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":676},"end":{"line":1,"column":677}},"loc":{"start":{"line":1,"column":686},"end":{"line":1,"column":881}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":729},"end":{"line":1,"column":730}},"loc":{"start":{"line":1,"column":742},"end":{"line":1,"column":879}},"line":1},"5":{"name":"f","decl":{"start":{"line":1,"column":752},"end":{"line":1,"column":753}},"loc":{"start":{"line":1,"column":756},"end":{"line":1,"column":796}},"line":1},"6":{"name":"g","decl":{"start":{"line":1,"column":805},"end":{"line":1,"column":806}},"loc":{"start":{"line":1,"column":809},"end":{"line":1,"column":850}},"line":1},"7":{"name":"_typeof","decl":{"start":{"line":1,"column":891},"end":{"line":1,"column":898}},"loc":{"start":{"line":1,"column":901},"end":{"line":1,"column":1130}},"line":1},"8":{"name":"(anonymous_8)","decl":{"start":{"line":1,"column":977},"end":{"line":1,"column":978}},"loc":{"start":{"line":1,"column":988},"end":{"line":1,"column":1005}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":1006},"end":{"line":1,"column":1007}},"loc":{"start":{"line":1,"column":1017},"end":{"line":1,"column":1118}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":1166},"end":{"line":1,"column":1167}},"loc":{"start":{"line":1,"column":1179},"end":{"line":1,"column":1264}},"line":1},"11":{"name":"(anonymous_11)","decl":{"start":{"line":1,"column":1206},"end":{"line":1,"column":1207}},"loc":{"start":{"line":1,"column":1219},"end":{"line":1,"column":1262}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":1334},"end":{"line":1,"column":1335}},"loc":{"start":{"line":1,"column":1347},"end":{"line":1,"column":1477}},"line":1},"13":{"name":"(anonymous_13)","decl":{"start":{"line":1,"column":1529},"end":{"line":1,"column":1530}},"loc":{"start":{"line":1,"column":1539},"end":{"line":1,"column":1899}},"line":1},"14":{"name":"a","decl":{"start":{"line":1,"column":1610},"end":{"line":1,"column":1611}},"loc":{"start":{"line":1,"column":1614},"end":{"line":1,"column":1846}},"line":1},"15":{"name":"(anonymous_15)","decl":{"start":{"line":1,"column":1646},"end":{"line":1,"column":1647}},"loc":{"start":{"line":1,"column":1657},"end":{"line":1,"column":1842}},"line":1},"16":{"name":"(anonymous_16)","decl":{"start":{"line":1,"column":1856},"end":{"line":1,"column":1857}},"loc":{"start":{"line":1,"column":1866},"end":{"line":1,"column":1898}},"line":1},"17":{"name":"(anonymous_17)","decl":{"start":{"line":1,"column":1931},"end":{"line":1,"column":1932}},"loc":{"start":{"line":1,"column":1948},"end":{"line":1,"column":2109}},"line":1},"18":{"name":"(anonymous_18)","decl":{"start":{"line":1,"column":2119},"end":{"line":1,"column":2120}},"loc":{"start":{"line":1,"column":2136},"end":{"line":1,"column":2300}},"line":1},"19":{"name":"(anonymous_19)","decl":{"start":{"line":1,"column":2305},"end":{"line":1,"column":2306}},"loc":{"start":{"line":1,"column":2316},"end":{"line":1,"column":2377}},"line":1},"20":{"name":"(anonymous_20)","decl":{"start":{"line":1,"column":2537},"end":{"line":1,"column":2538}},"loc":{"start":{"line":1,"column":2547},"end":{"line":1,"column":2688}},"line":1},"21":{"name":"(anonymous_21)","decl":{"start":{"line":1,"column":2609},"end":{"line":1,"column":2610}},"loc":{"start":{"line":1,"column":2620},"end":{"line":1,"column":2686}},"line":1},"22":{"name":"(anonymous_22)","decl":{"start":{"line":1,"column":2721},"end":{"line":1,"column":2722}},"loc":{"start":{"line":1,"column":2734},"end":{"line":1,"column":2891}},"line":1},"23":{"name":"(anonymous_23)","decl":{"start":{"line":1,"column":2956},"end":{"line":1,"column":2957}},"loc":{"start":{"line":1,"column":2969},"end":{"line":1,"column":3078}},"line":1},"24":{"name":"(anonymous_24)","decl":{"start":{"line":1,"column":2996},"end":{"line":1,"column":2997}},"loc":{"start":{"line":1,"column":3009},"end":{"line":1,"column":3076}},"line":1},"25":{"name":"(anonymous_25)","decl":{"start":{"line":1,"column":3162},"end":{"line":1,"column":3163}},"loc":{"start":{"line":1,"column":3175},"end":{"line":1,"column":3366}},"line":1},"26":{"name":"(anonymous_26)","decl":{"start":{"line":1,"column":3468},"end":{"line":1,"column":3469}},"loc":{"start":{"line":1,"column":3478},"end":{"line":1,"column":4054}},"line":1},"27":{"name":"a","decl":{"start":{"line":1,"column":3549},"end":{"line":1,"column":3550}},"loc":{"start":{"line":1,"column":3555},"end":{"line":1,"column":4001}},"line":1},"28":{"name":"(anonymous_28)","decl":{"start":{"line":1,"column":3595},"end":{"line":1,"column":3596}},"loc":{"start":{"line":1,"column":3606},"end":{"line":1,"column":3997}},"line":1},"29":{"name":"(anonymous_29)","decl":{"start":{"line":1,"column":3683},"end":{"line":1,"column":3684}},"loc":{"start":{"line":1,"column":3694},"end":{"line":1,"column":3707}},"line":1},"30":{"name":"(anonymous_30)","decl":{"start":{"line":1,"column":3804},"end":{"line":1,"column":3805}},"loc":{"start":{"line":1,"column":3814},"end":{"line":1,"column":3858}},"line":1},"31":{"name":"(anonymous_31)","decl":{"start":{"line":1,"column":4011},"end":{"line":1,"column":4012}},"loc":{"start":{"line":1,"column":4021},"end":{"line":1,"column":4053}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":471},"end":{"line":1,"column":500}},"type":"cond-expr","locations":[{"start":{"line":1,"column":487},"end":{"line":1,"column":488}},{"start":{"line":1,"column":489},"end":{"line":1,"column":500}}],"line":1},"1":{"loc":{"start":{"line":1,"column":471},"end":{"line":1,"column":486}},"type":"binary-expr","locations":[{"start":{"line":1,"column":471},"end":{"line":1,"column":472}},{"start":{"line":1,"column":474},"end":{"line":1,"column":486}}],"line":1},"2":{"loc":{"start":{"line":1,"column":598},"end":{"line":1,"column":638}},"type":"cond-expr","locations":[{"start":{"line":1,"column":605},"end":{"line":1,"column":609}},{"start":{"line":1,"column":610},"end":{"line":1,"column":638}}],"line":1},"3":{"loc":{"start":{"line":1,"column":917},"end":{"line":1,"column":1118}},"type":"cond-expr","locations":[{"start":{"line":1,"column":977},"end":{"line":1,"column":1005}},{"start":{"line":1,"column":1006},"end":{"line":1,"column":1118}}],"line":1},"4":{"loc":{"start":{"line":1,"column":917},"end":{"line":1,"column":976}},"type":"binary-expr","locations":[{"start":{"line":1,"column":917},"end":{"line":1,"column":942}},{"start":{"line":1,"column":944},"end":{"line":1,"column":976}}],"line":1},"5":{"loc":{"start":{"line":1,"column":1025},"end":{"line":1,"column":1117}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1100},"end":{"line":1,"column":1108}},{"start":{"line":1,"column":1109},"end":{"line":1,"column":1117}}],"line":1},"6":{"loc":{"start":{"line":1,"column":1025},"end":{"line":1,"column":1099}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1025},"end":{"line":1,"column":1026}},{"start":{"line":1,"column":1028},"end":{"line":1,"column":1053}},{"start":{"line":1,"column":1055},"end":{"line":1,"column":1077}},{"start":{"line":1,"column":1079},"end":{"line":1,"column":1099}}],"line":1},"7":{"loc":{"start":{"line":1,"column":1220},"end":{"line":1,"column":1235}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1220},"end":{"line":1,"column":1221}},{"start":{"line":1,"column":1223},"end":{"line":1,"column":1235}}],"line":1},"8":{"loc":{"start":{"line":1,"column":1357},"end":{"line":1,"column":1406}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1357},"end":{"line":1,"column":1378}},{"start":{"line":1,"column":1381},"end":{"line":1,"column":1405}}],"line":1},"9":{"loc":{"start":{"line":1,"column":1446},"end":{"line":1,"column":1466}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1446},"end":{"line":1,"column":1447}},{"start":{"line":1,"column":1450},"end":{"line":1,"column":1465}}],"line":1},"10":{"loc":{"start":{"line":1,"column":1665},"end":{"line":1,"column":1841}},"type":"switch","locations":[{"start":{"line":1,"column":1687},"end":{"line":1,"column":1751}},{"start":{"line":1,"column":1751},"end":{"line":1,"column":1772}},{"start":{"line":1,"column":1772},"end":{"line":1,"column":1807}},{"start":{"line":1,"column":1807},"end":{"line":1,"column":1814}},{"start":{"line":1,"column":1814},"end":{"line":1,"column":1840}}],"line":1},"11":{"loc":{"start":{"line":1,"column":1694},"end":{"line":1,"column":1721}},"type":"if","locations":[{"start":{"line":1,"column":1694},"end":{"line":1,"column":1721}},{"start":{"line":1,"column":1694},"end":{"line":1,"column":1721}}],"line":1},"12":{"loc":{"start":{"line":1,"column":2648},"end":{"line":1,"column":2663}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2656},"end":{"line":1,"column":2657}},{"start":{"line":1,"column":2658},"end":{"line":1,"column":2663}}],"line":1},"13":{"loc":{"start":{"line":1,"column":2735},"end":{"line":1,"column":2890}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2766},"end":{"line":1,"column":2850}},{"start":{"line":1,"column":2851},"end":{"line":1,"column":2890}}],"line":1},"14":{"loc":{"start":{"line":1,"column":2735},"end":{"line":1,"column":2765}},"type":"binary-expr","locations":[{"start":{"line":1,"column":2735},"end":{"line":1,"column":2753}},{"start":{"line":1,"column":2755},"end":{"line":1,"column":2765}}],"line":1},"15":{"loc":{"start":{"line":1,"column":3010},"end":{"line":1,"column":3075}},"type":"cond-expr","locations":[{"start":{"line":1,"column":3012},"end":{"line":1,"column":3049}},{"start":{"line":1,"column":3050},"end":{"line":1,"column":3075}}],"line":1},"16":{"loc":{"start":{"line":1,"column":3176},"end":{"line":1,"column":3365}},"type":"if","locations":[{"start":{"line":1,"column":3176},"end":{"line":1,"column":3365}},{"start":{"line":1,"column":3176},"end":{"line":1,"column":3365}}],"line":1},"17":{"loc":{"start":{"line":1,"column":3179},"end":{"line":1,"column":3230}},"type":"binary-expr","locations":[{"start":{"line":1,"column":3179},"end":{"line":1,"column":3188}},{"start":{"line":1,"column":3190},"end":{"line":1,"column":3230}}],"line":1},"18":{"loc":{"start":{"line":1,"column":3286},"end":{"line":1,"column":3305}},"type":"binary-expr","locations":[{"start":{"line":1,"column":3286},"end":{"line":1,"column":3302}},{"start":{"line":1,"column":3304},"end":{"line":1,"column":3305}}],"line":1},"19":{"loc":{"start":{"line":1,"column":3614},"end":{"line":1,"column":3996}},"type":"switch","locations":[{"start":{"line":1,"column":3636},"end":{"line":1,"column":3709}},{"start":{"line":1,"column":3709},"end":{"line":1,"column":3860}},{"start":{"line":1,"column":3860},"end":{"line":1,"column":3910}},{"start":{"line":1,"column":3910},"end":{"line":1,"column":3962}},{"start":{"line":1,"column":3962},"end":{"line":1,"column":3969}},{"start":{"line":1,"column":3969},"end":{"line":1,"column":3995}}],"line":1},"20":{"loc":{"start":{"line":1,"column":3716},"end":{"line":1,"column":3747}},"type":"if","locations":[{"start":{"line":1,"column":3716},"end":{"line":1,"column":3747}},{"start":{"line":1,"column":3716},"end":{"line":1,"column":3747}}],"line":1},"21":{"loc":{"start":{"line":1,"column":3876},"end":{"line":1,"column":3909}},"type":"binary-expr","locations":[{"start":{"line":1,"column":3876},"end":{"line":1,"column":3877}},{"start":{"line":1,"column":3879},"end":{"line":1,"column":3898}},{"start":{"line":1,"column":3900},"end":{"line":1,"column":3909}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":32,"9":32,"10":32,"11":0,"12":32,"13":2,"14":21,"15":21,"16":21,"17":32,"18":0,"19":21,"20":21,"21":1,"22":1,"23":0,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":16,"37":33,"38":48,"39":16,"40":15,"41":15,"42":1,"43":1,"44":16,"45":16,"46":1,"47":16,"48":1,"49":1,"50":2,"51":2,"52":2,"53":2,"54":0,"55":1,"56":1,"57":1,"58":1,"59":1,"60":0,"61":1,"62":43,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":31,"71":31,"72":31,"73":1,"74":1,"75":4,"76":1,"77":1,"78":1,"79":100007,"80":100007,"81":1,"82":1,"83":1,"84":6,"85":5,"86":5,"87":1,"88":1,"89":1,"90":1,"91":1,"92":5,"93":15,"94":15,"95":5,"96":0,"97":5,"98":0,"99":0,"100":5,"101":0,"102":5,"103":5,"104":5,"105":1,"106":5,"107":1,"108":1},"f":{"0":1,"1":32,"2":2,"3":21,"4":21,"5":32,"6":0,"7":1,"8":1,"9":0,"10":0,"11":0,"12":1,"13":1,"14":16,"15":33,"16":16,"17":2,"18":1,"19":43,"20":1,"21":31,"22":4,"23":100007,"24":100007,"25":6,"26":1,"27":5,"28":15,"29":0,"30":0,"31":5},"b":{"0":[1,0],"1":[1,1],"2":[21,11],"3":[1,0],"4":[1,1],"5":[0,0],"6":[0,0,0,0],"7":[0,0],"8":[1,0],"9":[1,0],"10":[16,1,16,0,16],"11":[15,1],"12":[30,1],"13":[4,0],"14":[4,4],"15":[0,100007],"16":[5,1],"17":[6,5],"18":[5,5],"19":[5,5,5,5,5,5],"20":[0,5],"21":[5,5,5]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["algorithm","_random","n","done","err","buf","message","toString","random","_clean","data","isObject","JSON","stringify","trim","parse","clean","xss","event","body","_encrypt","key","iv","cipher","Buffer","from","encrypted","update","e","_decrypt","decipher","decrypted","md5","digest","encrypt","decrypt","uuidv4","replace","c","r","Math","v","_hash","msg","length","HASH_SECRET","hash","_randomID","randomID","_tokenHeader","headers","Authorization","token","tokenHeader","_auth","db","read","tokenData","expiry","Date","now","auth"],"mappings":"6mCAOMA,CAAAA,SAAS,CAAG,a,CAEZC,OAAO,CAAG,SAACC,CAAD,CAAIC,CAAJ,CAAa,CAC3B,wBAAYD,CAAZ,CAAe,SAACE,CAAD,CAAMC,CAAN,CAAc,CACvBD,CADuB,EAEzBD,CAAI,CAACC,CAAG,CAACE,OAAL,CAFqB,CAI3BH,CAAI,CAAC,IAAD,CAAOE,CAAG,CAACE,QAAJ,CAAa,KAAb,CAAP,CACL,CALD,CAMD,C,CAEYC,MAAM,CAAG,oBAAUP,OAAV,C,0BAEhBQ,CAAAA,MAAM,CAAG,SAACC,CAAD,CAAOP,CAAP,CAAgB,CAC7B,GAAIQ,CAAAA,CAAQ,GAAZ,CACoB,QAAhB,WAAOD,CAAP,CAFyB,GAG3BA,CAAI,CAAGE,IAAI,CAACC,SAAL,CAAeH,CAAf,CAHoB,CAI3BC,CAAQ,GAJmB,EAO7BD,CAAI,CAAG,2BAAWA,CAAX,EAAiBI,IAAjB,EAPsB,CAQzBH,CARyB,GAS3BD,CAAI,CAAGE,IAAI,CAACG,KAAL,CAAWL,CAAX,CAToB,EAY7BP,CAAI,CAAC,IAAD,CAAOO,CAAP,CACL,C,CAEKM,KAAK,CAAG,oBAAUP,MAAV,C,CAEDQ,GAAG,sFAAG,WAAOC,CAAP,qFACbA,CAAK,CAACC,IADO,iCAEIH,KAAK,CAACE,CAAK,CAACC,IAAP,CAFT,QAEfD,CAAK,CAACC,IAFS,wCAIVD,CAJU,yCAAH,uD,oBAOVE,CAAAA,QAAQ,CAAG,SAACV,CAAD,CAAOW,CAAP,CAAYC,CAAZ,CAAgBnB,CAAhB,CAAyB,CACxC,GAAI,IACIoB,CAAAA,CAAM,CAAG,2BAAevB,SAAf,CAA0BwB,MAAM,CAACC,IAAP,CAAYJ,CAAZ,CAAiB,KAAjB,CAA1B,CAAmDG,MAAM,CAACC,IAAP,CAAYH,CAAZ,CAAgB,KAAhB,CAAnD,CADb,CAEEI,CAAS,CAAGH,CAAM,CAACI,MAAP,CAAcjB,CAAd,CAAoB,MAApB,CAA4B,KAA5B,CAFd,CAGFgB,CAAS,EAAIH,CAAM,MAAN,CAAa,KAAb,CAHX,CAIFpB,CAAI,CAAC,IAAD,CAAOuB,CAAP,CACL,CAAC,MAAOE,CAAP,CAAU,CACVzB,CAAI,CAACyB,CAAD,CACL,CACF,C,CAEKC,QAAQ,CAAG,SAACH,CAAD,CAAYL,CAAZ,CAAiBC,CAAjB,CAAqBnB,CAArB,CAA8B,CAC7C,GAAI,IACI2B,CAAAA,CAAQ,CAAG,6BAAiB9B,SAAjB,CAA4BwB,MAAM,CAACC,IAAP,CAAYJ,CAAZ,CAAiB,KAAjB,CAA5B,CAAqDG,MAAM,CAACC,IAAP,CAAYH,CAAZ,CAAgB,KAAhB,CAArD,CADf,CAEES,CAAS,CAAGD,CAAQ,CAACH,MAAT,CAAgBD,CAAhB,CAA2B,KAA3B,CAAkC,MAAlC,CAFd,CAGFK,CAAS,EAAID,CAAQ,MAAR,CAAe,MAAf,CAHX,CAIF3B,CAAI,CAAC,IAAD,CAAO4B,CAAP,CACL,CAAC,MAAOH,CAAP,CAAU,CACVzB,CAAI,CAACyB,CAAD,CACL,CACF,C,CAEYI,GAAG,CAAG,SAACtB,CAAD,CAAU,CAC3B,MAAO,uBAAW,KAAX,EAAkBiB,MAAlB,CAAyBjB,CAAzB,EAA+BuB,MAA/B,CAAsC,KAAtC,CACR,C,iBAEM,GAAMC,CAAAA,OAAO,CAAG,oBAAUd,QAAV,CAAhB,C,wBAEA,GAAMe,CAAAA,OAAO,CAAG,oBAAUN,QAAV,CAAhB,C,wBAEA,GAAMO,CAAAA,MAAM,CAAG,UAAM,CAC1B,MAAO,uCAAuCC,OAAvC,CAA+C,OAA/C,CAAwD,SAACC,CAAD,CAAO,IAC9DC,CAAAA,CAAC,CAAwB,CAArB,CAAgB,EAAhB,CAAAC,IAAI,CAAChC,MAAL,EAD0D,CAE9DiC,CAAC,CAAS,GAAN,GAAAH,CAAC,CAAWC,CAAX,CAA0B,CAAV,CAAI,CAAJ,CAAAA,CAFyC,CAGpE,MAAOE,CAAAA,CAAC,CAAClC,QAAF,CAAW,EAAX,CACR,CAJM,CAKR,CANM,C,yBAQDmC,CAAAA,KAAK,CAAG,SAACC,CAAD,CAAMxC,CAAN,CAAe,CACR,QAAf,QAAOwC,CAAAA,CAAP,EAAwC,CAAb,CAAAA,CAAG,CAACC,MADR,CAEzBzC,CAAI,CAAC,IAAD,CAAO,uBAAW,QAAX,CAAqB0C,mBAArB,EAAkClB,MAAlC,CAAyCgB,CAAzC,EAA8CV,MAA9C,CAAqD,KAArD,CAAP,CAFqB,CAIzB9B,CAAI,CAAC,oBAAE,eAAF,CAAD,CAEP,C,CAEY2C,IAAI,CAAG,oBAAUJ,KAAV,C,sBAEdK,CAAAA,SAAS,CAAG,SAAC7C,CAAD,CAAIC,CAAJ,CAAa,CAC7B,wBAAYD,CAAZ,CAAe,SAACE,CAAD,CAAMC,CAAN,CAAc,CACvBD,CADuB,CAEzBD,CAAI,CAAC,oBAAE,aAAF,CAAD,CAFqB,CAIzBA,CAAI,CAAC,IAAD,CAAOE,CAAG,CAACE,QAAJ,CAAa,KAAb,CAAP,CAEP,CAND,CAOD,C,CAEYyC,QAAQ,CAAG,oBAAUD,SAAV,C,8BAElBE,CAAAA,YAAY,CAAG,SAACvC,CAAD,CAAOP,CAAP,CAAgB,CACnC,GAAIO,CAAI,CAACwC,OAAL,EAAsD,QAAtC,QAAOxC,CAAAA,CAAI,CAACwC,OAAL,CAAaC,aAAxC,CAAoE,CAClE,GAAIC,CAAAA,CAAK,CAAG1C,CAAI,CAACwC,OAAL,CAAaC,aAAb,CAA2Bd,OAA3B,CAAmC,SAAnC,CAA8C,EAA9C,CAAZ,CACAe,CAAK,GAAoB,EAAjB,GAAAA,CAAK,CAACR,MAAT,GAAyBQ,CAFoC,CAGlEjD,CAAI,CAAC,IAAD,CAAOiD,CAAP,CACL,CAJD,IAKEjD,CAAAA,CAAI,CAAC,oBAAE,oBAAF,CAAD,CAEP,C,CAEYkD,WAAW,CAAG,oBAAUJ,YAAV,C,oCAErBK,CAAAA,KAAK,sFAAG,WAAO5C,CAAP,CAAaP,CAAb,yGACQkD,WAAW,CAAC3C,CAAD,CAAX,UAAwB,SAACkB,CAAD,QAAOzB,CAAAA,CAAI,CAACyB,CAAD,CAAX,CAAxB,CADR,WACNwB,CADM,SAERA,CAFQ,iCAGcG,eAAGC,IAAH,CAAQ,QAAR,CAAkBJ,CAAlB,WAA+B,iBAAM,oBAAE,eAAF,CAAN,CAA/B,CAHd,QAGJK,CAHI,QAINA,CAAS,EAAIA,CAAS,CAACC,MAAV,CAAmBC,IAAI,CAACC,GAAL,EAJ1B,EAKRzD,CAAI,CAAC,IAAD,CAAOsD,CAAP,CALI,QAQZtD,CAAI,CAAC,oBAAE,oBAAF,CAAD,CARQ,wCAAH,uD,CAWE0D,IAAI,CAAG,oBAAUP,KAAV,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\security","sourcesContent":["import { inHTMLData } from 'xss-filters'\r\nimport { promisify } from 'util'\r\nimport { createHash, createHmac, createCipheriv, createDecipheriv, randomBytes } from 'crypto'\r\n\r\nimport db from '../db'\r\nimport { HASH_SECRET } from '../../config'\r\nimport { t } from '../translations'\r\nconst algorithm = 'aes-256-cbc'\r\n\r\nconst _random = (n, done) => {\r\n  randomBytes(n, (err, buf) => {\r\n    if (err) {\r\n      done(err.message)\r\n    }\r\n    done(null, buf.toString('hex'))\r\n  })\r\n}\r\n\r\nexport const random = promisify(_random)\r\n\r\nconst _clean = (data, done) => {\r\n  let isObject = false\r\n  if (typeof data === 'object') {\r\n    data = JSON.stringify(data)\r\n    isObject = true\r\n  }\r\n\r\n  data = inHTMLData(data).trim()\r\n  if (isObject) {\r\n    data = JSON.parse(data)\r\n  }\r\n\r\n  done(null, data)\r\n}\r\n\r\nconst clean = promisify(_clean)\r\n\r\nexport const xss = async (event) => {\r\n  if (event.body) {\r\n    event.body = await clean(event.body)\r\n  }\r\n  return event\r\n}\r\n\r\nconst _encrypt = (data, key, iv, done) => {\r\n  try {\r\n    const cipher = createCipheriv(algorithm, Buffer.from(key, 'hex'), Buffer.from(iv, 'hex'))\r\n    let encrypted = cipher.update(data, 'utf8', 'hex')\r\n    encrypted += cipher.final('hex')\r\n    done(null, encrypted)\r\n  } catch (e) {\r\n    done(e)\r\n  }\r\n}\r\n\r\nconst _decrypt = (encrypted, key, iv, done) => {\r\n  try {\r\n    const decipher = createDecipheriv(algorithm, Buffer.from(key, 'hex'), Buffer.from(iv, 'hex'))\r\n    let decrypted = decipher.update(encrypted, 'hex', 'utf8')\r\n    decrypted += decipher.final('utf8')\r\n    done(null, decrypted)\r\n  } catch (e) {\r\n    done(e)\r\n  }\r\n}\r\n\r\nexport const md5 = (data) => {\r\n  return createHash('md5').update(data).digest('hex')\r\n}\r\n\r\nexport const encrypt = promisify(_encrypt)\r\n\r\nexport const decrypt = promisify(_decrypt)\r\n\r\nexport const uuidv4 = () => {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\r\n    const r = Math.random() * 16 | 0\r\n    const v = c === 'x' ? r : (r & 0x3 | 0x8)\r\n    return v.toString(16)\r\n  })\r\n}\r\n\r\nconst _hash = (msg, done) => {\r\n  if (typeof msg === 'string' && msg.length > 0) {\r\n    done(null, createHmac('sha256', HASH_SECRET).update(msg).digest('hex'))\r\n  } else {\r\n    done(t('error.hashing'))\r\n  }\r\n}\r\n\r\nexport const hash = promisify(_hash)\r\n\r\nconst _randomID = (n, done) => {\r\n  randomBytes(n, (err, buf) => {\r\n    if (err) {\r\n      done(t('error.bytes'))\r\n    } else {\r\n      done(null, buf.toString('hex'))\r\n    }\r\n  })\r\n}\r\n\r\nexport const randomID = promisify(_randomID)\r\n\r\nconst _tokenHeader = (data, done) => {\r\n  if (data.headers && typeof data.headers.Authorization === 'string') {\r\n    let token = data.headers.Authorization.replace('Bearer ', '')\r\n    token = token.length === 64 ? token : false\r\n    done(null, token)\r\n  } else {\r\n    done(t('error.unauthorized'))\r\n  }\r\n}\r\n\r\nexport const tokenHeader = promisify(_tokenHeader)\r\n\r\nconst _auth = async (data, done) => {\r\n  const token = await tokenHeader(data).catch((e) => done(e))\r\n  if (token) {\r\n    const tokenData = await db.read('tokens', token).catch(() => t('token.expired'))\r\n    if (tokenData && tokenData.expiry > Date.now()) {\r\n      done(null, tokenData)\r\n    }\r\n  }\r\n  done(t('error.unauthorized'))\r\n}\r\n\r\nexport const auth = promisify(_auth)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f2443fee07299948b0577263466b0799e024fd0a","contentHash":"8e2466839aa4547c175cdbf07a73dc982d2b41fb5c09e5ef87a2b5ed89646cd4"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":185}},"1":{"start":{"line":1,"column":136},"end":{"line":1,"column":156}},"2":{"start":{"line":1,"column":201},"end":{"line":1,"column":222}},"3":{"start":{"line":1,"column":229},"end":{"line":1,"column":244}},"4":{"start":{"line":1,"column":249},"end":{"line":1,"column":272}},"5":{"start":{"line":1,"column":277},"end":{"line":1,"column":300}},"6":{"start":{"line":1,"column":301},"end":{"line":1,"column":367}},"7":{"start":{"line":1,"column":382},"end":{"line":1,"column":482}},"8":{"start":{"line":1,"column":402},"end":{"line":1,"column":451}},"9":{"start":{"line":1,"column":452},"end":{"line":1,"column":481}},"10":{"start":{"line":1,"column":493},"end":{"line":1,"column":524}},"11":{"start":{"line":1,"column":525},"end":{"line":1,"column":584}}},"fnMap":{"0":{"name":"get","decl":{"start":{"line":1,"column":130},"end":{"line":1,"column":133}},"loc":{"start":{"line":1,"column":135},"end":{"line":1,"column":157}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":382},"end":{"line":1,"column":383}},"loc":{"start":{"line":1,"column":395},"end":{"line":1,"column":482}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":402},"end":{"line":1,"column":451}},"type":"cond-expr","locations":[{"start":{"line":1,"column":433},"end":{"line":1,"column":446}},{"start":{"line":1,"column":447},"end":{"line":1,"column":451}}],"line":1}},"s":{"0":1,"1":17,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":14,"9":14,"10":1,"11":1},"f":{"0":17,"1":14},"b":{"0":[14,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["fr","en","_setLocale","data","done","loc","body","locale","setLocale"],"mappings":"6SAMA,oBAAI,IAAJ,CAAUA,MAAV,C,CACA,oBAAI,IAAJ,CAAUC,MAAV,C,IAEMC,CAAAA,UAAU,CAAG,SAACC,CAAD,CAAOC,CAAP,CAAgB,CACjC,GAAMC,CAAAA,CAAG,CAA+B,QAA5B,QAAOF,CAAAA,CAAI,CAACG,IAAL,CAAUC,MAAjB,CAAuCJ,CAAI,CAACG,IAAL,CAAUC,MAAjD,CAA0D,IAAtE,CACA,uBAAOF,CAAP,CAFiC,CAGjCD,CAAI,EACL,C,CAEYI,SAAS,CAAG,oBAAUN,UAAV,C,6BAEzB,yBAAS,IAAT,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations","sourcesContent":["import { locale, fallback, set, t } from 'frenchkiss'\r\nimport { promisify } from 'util'\r\n\r\nimport { en } from './locales/en'\r\nimport { fr } from './locales/fr'\r\n\r\nset('fr', fr)\r\nset('en', en)\r\n\r\nconst _setLocale = (data, done) => {\r\n  const loc = typeof data.body.locale === 'string' ? data.body.locale : 'en'\r\n  locale(loc)\r\n  done()\r\n}\r\n\r\nexport const setLocale = promisify(_setLocale)\r\n\r\nfallback('en')\r\n\r\nexport { t }\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d4c152b3f9b1b3d6bbb6b1f79e58afb8abb8c6c3","contentHash":"63618963f1ebc90431983467c872a06e5137f61f2f0a403053340bc859e05553"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations\\locales\\en.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations\\locales\\en.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":105}},"1":{"start":{"line":1,"column":112},"end":{"line":1,"column":2805}},"2":{"start":{"line":1,"column":2806},"end":{"line":1,"column":2820}},"3":{"start":{"line":1,"column":2835},"end":{"line":1,"column":3054}},"4":{"start":{"line":1,"column":3055},"end":{"line":1,"column":3085}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["en.js"],"names":["en","langSchema","title","type","required","uniqueItems","properties","error","token","account","refer","reset","ok"],"mappings":"yGAAO,GAAMA,CAAAA,EAAE,soFAAR,C,cAkEA,GAAMC,CAAAA,UAAU,CAAG,CACxBC,KAAK,CAAE,sBADiB,CAExBC,IAAI,CAAE,QAFkB,CAGxBC,QAAQ,CAAE,CAAC,IAAD,CAHc,CAIxBC,WAAW,GAJa,CAKxBC,UAAU,CAAE,CACVC,KAAK,CAAE,CACLJ,IAAI,CAAE,QADD,CADG,CAIVK,KAAK,CAAE,CACLL,IAAI,CAAE,QADD,CAJG,CAOVM,OAAO,CAAE,CACPN,IAAI,CAAE,QADC,CAPC,CAUVO,KAAK,CAAE,CACLP,IAAI,CAAE,QADD,CAVG,CAaVQ,KAAK,CAAE,CACLR,IAAI,CAAE,QADD,CAbG,CAgBVS,EAAE,CAAE,CACFT,IAAI,CAAE,QADJ,CAhBM,CALY,CAAnB,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations\\locales","sourcesContent":["export const en = {\r\n  error: {\r\n    unauthorized: 'Unauthorized.',\r\n    not_allowed: 'Bad request.',\r\n    server: 'Server error',\r\n    email: 'Send email parameters missing or are invalid or could not send email.',\r\n    phone: 'Send SMS parameters missing or are invalid.',\r\n    required: 'Missing required fields.',\r\n    confirmation_save: 'Unable to save confirmation code.',\r\n    confirmation_generate: 'Unable to generate confirmation code.',\r\n    no_user: 'No such user.',\r\n    user_exists: 'User exists.',\r\n    user_delete: 'Could not delete user.',\r\n    confirmed: 'Account is not confirmed.',\r\n    hash: 'Unable to hash password, please try again later.',\r\n    user_create: 'Could not create user.',\r\n    sms: 'Could not send SMS.',\r\n    token_notfound: 'Token not found.',\r\n    not_found: 'Not found.',\r\n    token_expired: 'Token is expired.',\r\n    token_invalid: 'Invalid token.',\r\n    generate: 'Unable to generate password, please try again later.',\r\n    invalid_password: 'Wrong login details.',\r\n    id: 'Unable to generate ID.',\r\n    token: 'Could not create token.',\r\n    cannot_read: 'Cannot read.',\r\n    cannot_update: 'Cannot Update',\r\n    unknown: 'Uknown problem.',\r\n    internal: 'Internal error',\r\n    save: 'Save error.',\r\n    refer_email: 'Cannot send referral email',\r\n    wrong_token: 'Wrong token provided.',\r\n    ref_reg: 'Referred user already registered.',\r\n    hashing: 'Error hashing.',\r\n    bytes: 'Error generating bytes.',\r\n    join_delete: 'Error occurred when deleting some column from table.',\r\n    no_payload: 'No payload.',\r\n    invalid_email: 'Invalid email.',\r\n    profile: 'There was an error getting the profile.',\r\n    timeout: 'Request timed out.',\r\n    fileType: 'Wrong file type, only png, jpeg and webp are accepted.',\r\n    bad_request: 'Bad request.',\r\n    token_delete: 'Error with confirmation token.',\r\n    social_decline: 'Account email not verified or account is blocked.',\r\n    notify: 'Error sending notifications.'\r\n  },\r\n  token: {\r\n    expired: 'Token expired.'\r\n  },\r\n  account: {\r\n    confirm_subject: 'Please confirm your account for {company}',\r\n    confirm_message: 'Your code for <a href=\"{baseUrl}\">{company}</a> account:<h4><a href=\"{baseUrl}confirm/{code}\">{code}</a></h4>',\r\n    confirm_phone: 'Your code for {company} account: {code}',\r\n    reset_phone: 'Your code for {company} password reset: {code}',\r\n  },\r\n  ok: 'OK.',\r\n  refer: {\r\n    email: 'Click the following link: <a href=\"{baseUrl}refer/{token}\">{token}</a>',\r\n  },\r\n  reset: {\r\n    email: 'Please confirm your password reset for {company}',\r\n    reset_email_text: 'Click here to confirm password reset: <h4><a href=\"{baseUrl}confirm-reset/{code}\">{code}</a></h4>',\r\n    email_password: 'Your new password for'\r\n  }\r\n}\r\n\r\nexport const langSchema = {\r\n  title: 'English schema v.1.0',\r\n  type: 'object',\r\n  required: ['ok'],\r\n  uniqueItems: true,\r\n  properties: {\r\n    error: {\r\n      type: 'object'\r\n    },\r\n    token: {\r\n      type: 'object'\r\n    },\r\n    account: {\r\n      type: 'object'\r\n    },\r\n    refer: {\r\n      type: 'object'\r\n    },\r\n    reset: {\r\n      type: 'object'\r\n    },\r\n    ok: {\r\n      type: 'string'\r\n    }\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ad0d3ad24d4e3a7ea2ded73a328a7a76bd098237","contentHash":"ebd99a93381e89c29159c5412ecb5f6739d5aceb4bf52a419671e1ca9bc4b5f4"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations\\locales\\fr.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations\\locales\\fr.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":86}},"1":{"start":{"line":1,"column":93},"end":{"line":1,"column":134}},"2":{"start":{"line":1,"column":135},"end":{"line":1,"column":149}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["fr.js"],"names":["fr","error","unauthorized"],"mappings":"sFAAO,GAAMA,CAAAA,EAAE,CAAG,CAChBC,KAAK,CAAE,CACLC,YAAY,CAAE,kBADT,CADS,CAAX,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations\\locales","sourcesContent":["export const fr = {\r\n  error: {\r\n    unauthorized: 'Non autorisé.'\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fa859058fb760a6ebf0b9216adc2e7dacd0cc737","contentHash":"e84a0d0012bb551c01121ca15f2ebc09e98c00f07571db647af0a2cfa96c002c"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3\\mock.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3\\mock.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":94}},"1":{"start":{"line":1,"column":104},"end":{"line":1,"column":119}},"2":{"start":{"line":1,"column":126},"end":{"line":1,"column":141}},"3":{"start":{"line":1,"column":152},"end":{"line":1,"column":198}},"4":{"start":{"line":1,"column":207},"end":{"line":1,"column":230}},"5":{"start":{"line":1,"column":241},"end":{"line":1,"column":263}},"6":{"start":{"line":1,"column":299},"end":{"line":1,"column":335}},"7":{"start":{"line":1,"column":356},"end":{"line":1,"column":583}},"8":{"start":{"line":1,"column":443},"end":{"line":1,"column":458}},"9":{"start":{"line":1,"column":472},"end":{"line":1,"column":571}},"10":{"start":{"line":1,"column":627},"end":{"line":1,"column":681}},"11":{"start":{"line":1,"column":637},"end":{"line":1,"column":644}},"12":{"start":{"line":1,"column":647},"end":{"line":1,"column":654}},"13":{"start":{"line":1,"column":664},"end":{"line":1,"column":680}},"14":{"start":{"line":1,"column":681},"end":{"line":1,"column":721}},"15":{"start":{"line":1,"column":752},"end":{"line":1,"column":964}},"16":{"start":{"line":1,"column":776},"end":{"line":1,"column":780}},"17":{"start":{"line":1,"column":783},"end":{"line":1,"column":792}},"18":{"start":{"line":1,"column":793},"end":{"line":1,"column":963}},"19":{"start":{"line":1,"column":840},"end":{"line":1,"column":878}},"20":{"start":{"line":1,"column":893},"end":{"line":1,"column":932}},"21":{"start":{"line":1,"column":939},"end":{"line":1,"column":951}},"22":{"start":{"line":1,"column":952},"end":{"line":1,"column":961}},"23":{"start":{"line":1,"column":974},"end":{"line":1,"column":976}},"24":{"start":{"line":1,"column":977},"end":{"line":1,"column":1068}},"25":{"start":{"line":1,"column":1075},"end":{"line":1,"column":1143}},"26":{"start":{"line":1,"column":1153},"end":{"line":1,"column":1304}},"27":{"start":{"line":1,"column":1173},"end":{"line":1,"column":1213}},"28":{"start":{"line":1,"column":1214},"end":{"line":1,"column":1303}},"29":{"start":{"line":1,"column":1243},"end":{"line":1,"column":1301}},"30":{"start":{"line":1,"column":1313},"end":{"line":1,"column":1342}},"31":{"start":{"line":1,"column":1348},"end":{"line":1,"column":1444}},"32":{"start":{"line":1,"column":1362},"end":{"line":1,"column":1443}},"33":{"start":{"line":1,"column":1389},"end":{"line":1,"column":1441}},"34":{"start":{"line":1,"column":1468},"end":{"line":1,"column":2067}},"35":{"start":{"line":1,"column":1485},"end":{"line":1,"column":2014}},"36":{"start":{"line":1,"column":1568},"end":{"line":1,"column":2011}},"37":{"start":{"line":1,"column":1611},"end":{"line":1,"column":2007}},"38":{"start":{"line":1,"column":1618},"end":{"line":1,"column":2007}},"39":{"start":{"line":1,"column":1647},"end":{"line":1,"column":1973}},"40":{"start":{"line":1,"column":1990},"end":{"line":1,"column":2006}},"41":{"start":{"line":1,"column":2015},"end":{"line":1,"column":2064}},"42":{"start":{"line":1,"column":2033},"end":{"line":1,"column":2063}},"43":{"start":{"line":1,"column":2077},"end":{"line":1,"column":2107}},"44":{"start":{"line":1,"column":2127},"end":{"line":1,"column":2698}},"45":{"start":{"line":1,"column":2144},"end":{"line":1,"column":2645}},"46":{"start":{"line":1,"column":2225},"end":{"line":1,"column":2642}},"47":{"start":{"line":1,"column":2268},"end":{"line":1,"column":2638}},"48":{"start":{"line":1,"column":2275},"end":{"line":1,"column":2638}},"49":{"start":{"line":1,"column":2304},"end":{"line":1,"column":2604}},"50":{"start":{"line":1,"column":2621},"end":{"line":1,"column":2637}},"51":{"start":{"line":1,"column":2646},"end":{"line":1,"column":2695}},"52":{"start":{"line":1,"column":2664},"end":{"line":1,"column":2694}},"53":{"start":{"line":1,"column":2704},"end":{"line":1,"column":2730}},"54":{"start":{"line":1,"column":2739},"end":{"line":1,"column":2859}},"55":{"start":{"line":1,"column":2759},"end":{"line":1,"column":2799}},"56":{"start":{"line":1,"column":2800},"end":{"line":1,"column":2858}},"57":{"start":{"line":1,"column":2832},"end":{"line":1,"column":2856}},"58":{"start":{"line":1,"column":2867},"end":{"line":1,"column":2895}},"59":{"start":{"line":1,"column":2909},"end":{"line":1,"column":3052}},"60":{"start":{"line":1,"column":2929},"end":{"line":1,"column":2991}},"61":{"start":{"line":1,"column":2992},"end":{"line":1,"column":3051}},"62":{"start":{"line":1,"column":3025},"end":{"line":1,"column":3049}},"63":{"start":{"line":1,"column":3065},"end":{"line":1,"column":3098}},"64":{"start":{"line":1,"column":3105},"end":{"line":1,"column":3249}},"65":{"start":{"line":1,"column":3125},"end":{"line":1,"column":3179}},"66":{"start":{"line":1,"column":3180},"end":{"line":1,"column":3248}},"67":{"start":{"line":1,"column":3213},"end":{"line":1,"column":3246}},"68":{"start":{"line":1,"column":3260},"end":{"line":1,"column":3286}},"69":{"start":{"line":1,"column":3287},"end":{"line":1,"column":3419}},"70":{"start":{"line":1,"column":3432},"end":{"line":1,"column":3436}},"71":{"start":{"line":1,"column":3437},"end":{"line":1,"column":3465}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":273},"end":{"line":1,"column":295}},"loc":{"start":{"line":1,"column":298},"end":{"line":1,"column":336}},"line":1},"1":{"name":"_typeof","decl":{"start":{"line":1,"column":345},"end":{"line":1,"column":352}},"loc":{"start":{"line":1,"column":355},"end":{"line":1,"column":584}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":431},"end":{"line":1,"column":432}},"loc":{"start":{"line":1,"column":442},"end":{"line":1,"column":459}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":460},"end":{"line":1,"column":461}},"loc":{"start":{"line":1,"column":471},"end":{"line":1,"column":572}},"line":1},"4":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":593},"end":{"line":1,"column":611}},"loc":{"start":{"line":1,"column":626},"end":{"line":1,"column":722}},"line":1},"5":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":731},"end":{"line":1,"column":748}},"loc":{"start":{"line":1,"column":751},"end":{"line":1,"column":965}},"line":1},"6":{"name":"(anonymous_6)","decl":{"start":{"line":1,"column":759},"end":{"line":1,"column":760}},"loc":{"start":{"line":1,"column":769},"end":{"line":1,"column":964}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":1,"column":812},"end":{"line":1,"column":813}},"loc":{"start":{"line":1,"column":825},"end":{"line":1,"column":962}},"line":1},"8":{"name":"f","decl":{"start":{"line":1,"column":835},"end":{"line":1,"column":836}},"loc":{"start":{"line":1,"column":839},"end":{"line":1,"column":879}},"line":1},"9":{"name":"g","decl":{"start":{"line":1,"column":888},"end":{"line":1,"column":889}},"loc":{"start":{"line":1,"column":892},"end":{"line":1,"column":933}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":1153},"end":{"line":1,"column":1154}},"loc":{"start":{"line":1,"column":1166},"end":{"line":1,"column":1304}},"line":1},"11":{"name":"(anonymous_11)","decl":{"start":{"line":1,"column":1229},"end":{"line":1,"column":1230}},"loc":{"start":{"line":1,"column":1242},"end":{"line":1,"column":1302}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":1348},"end":{"line":1,"column":1349}},"loc":{"start":{"line":1,"column":1361},"end":{"line":1,"column":1444}},"line":1},"13":{"name":"(anonymous_13)","decl":{"start":{"line":1,"column":1377},"end":{"line":1,"column":1378}},"loc":{"start":{"line":1,"column":1388},"end":{"line":1,"column":1442}},"line":1},"14":{"name":"(anonymous_14)","decl":{"start":{"line":1,"column":1468},"end":{"line":1,"column":1469}},"loc":{"start":{"line":1,"column":1478},"end":{"line":1,"column":2065}},"line":1},"15":{"name":"a","decl":{"start":{"line":1,"column":1549},"end":{"line":1,"column":1550}},"loc":{"start":{"line":1,"column":1559},"end":{"line":1,"column":2012}},"line":1},"16":{"name":"(anonymous_16)","decl":{"start":{"line":1,"column":1599},"end":{"line":1,"column":1600}},"loc":{"start":{"line":1,"column":1610},"end":{"line":1,"column":2008}},"line":1},"17":{"name":"(anonymous_17)","decl":{"start":{"line":1,"column":2022},"end":{"line":1,"column":2023}},"loc":{"start":{"line":1,"column":2032},"end":{"line":1,"column":2064}},"line":1},"18":{"name":"(anonymous_18)","decl":{"start":{"line":1,"column":2127},"end":{"line":1,"column":2128}},"loc":{"start":{"line":1,"column":2137},"end":{"line":1,"column":2696}},"line":1},"19":{"name":"a","decl":{"start":{"line":1,"column":2208},"end":{"line":1,"column":2209}},"loc":{"start":{"line":1,"column":2216},"end":{"line":1,"column":2643}},"line":1},"20":{"name":"(anonymous_20)","decl":{"start":{"line":1,"column":2256},"end":{"line":1,"column":2257}},"loc":{"start":{"line":1,"column":2267},"end":{"line":1,"column":2639}},"line":1},"21":{"name":"(anonymous_21)","decl":{"start":{"line":1,"column":2653},"end":{"line":1,"column":2654}},"loc":{"start":{"line":1,"column":2663},"end":{"line":1,"column":2695}},"line":1},"22":{"name":"(anonymous_22)","decl":{"start":{"line":1,"column":2739},"end":{"line":1,"column":2740}},"loc":{"start":{"line":1,"column":2752},"end":{"line":1,"column":2859}},"line":1},"23":{"name":"(anonymous_23)","decl":{"start":{"line":1,"column":2818},"end":{"line":1,"column":2819}},"loc":{"start":{"line":1,"column":2831},"end":{"line":1,"column":2857}},"line":1},"24":{"name":"(anonymous_24)","decl":{"start":{"line":1,"column":2909},"end":{"line":1,"column":2910}},"loc":{"start":{"line":1,"column":2922},"end":{"line":1,"column":3052}},"line":1},"25":{"name":"(anonymous_25)","decl":{"start":{"line":1,"column":3011},"end":{"line":1,"column":3012}},"loc":{"start":{"line":1,"column":3024},"end":{"line":1,"column":3050}},"line":1},"26":{"name":"(anonymous_26)","decl":{"start":{"line":1,"column":3105},"end":{"line":1,"column":3106}},"loc":{"start":{"line":1,"column":3118},"end":{"line":1,"column":3249}},"line":1},"27":{"name":"(anonymous_27)","decl":{"start":{"line":1,"column":3199},"end":{"line":1,"column":3200}},"loc":{"start":{"line":1,"column":3212},"end":{"line":1,"column":3247}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":306},"end":{"line":1,"column":335}},"type":"cond-expr","locations":[{"start":{"line":1,"column":322},"end":{"line":1,"column":323}},{"start":{"line":1,"column":324},"end":{"line":1,"column":335}}],"line":1},"1":{"loc":{"start":{"line":1,"column":306},"end":{"line":1,"column":321}},"type":"binary-expr","locations":[{"start":{"line":1,"column":306},"end":{"line":1,"column":307}},{"start":{"line":1,"column":309},"end":{"line":1,"column":321}}],"line":1},"2":{"loc":{"start":{"line":1,"column":371},"end":{"line":1,"column":572}},"type":"cond-expr","locations":[{"start":{"line":1,"column":431},"end":{"line":1,"column":459}},{"start":{"line":1,"column":460},"end":{"line":1,"column":572}}],"line":1},"3":{"loc":{"start":{"line":1,"column":371},"end":{"line":1,"column":430}},"type":"binary-expr","locations":[{"start":{"line":1,"column":371},"end":{"line":1,"column":396}},{"start":{"line":1,"column":398},"end":{"line":1,"column":430}}],"line":1},"4":{"loc":{"start":{"line":1,"column":479},"end":{"line":1,"column":571}},"type":"cond-expr","locations":[{"start":{"line":1,"column":554},"end":{"line":1,"column":562}},{"start":{"line":1,"column":563},"end":{"line":1,"column":571}}],"line":1},"5":{"loc":{"start":{"line":1,"column":479},"end":{"line":1,"column":553}},"type":"binary-expr","locations":[{"start":{"line":1,"column":479},"end":{"line":1,"column":480}},{"start":{"line":1,"column":482},"end":{"line":1,"column":507}},{"start":{"line":1,"column":509},"end":{"line":1,"column":531}},{"start":{"line":1,"column":533},"end":{"line":1,"column":553}}],"line":1},"6":{"loc":{"start":{"line":1,"column":681},"end":{"line":1,"column":721}},"type":"cond-expr","locations":[{"start":{"line":1,"column":688},"end":{"line":1,"column":692}},{"start":{"line":1,"column":693},"end":{"line":1,"column":721}}],"line":1},"7":{"loc":{"start":{"line":1,"column":1243},"end":{"line":1,"column":1301}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1245},"end":{"line":1,"column":1257}},{"start":{"line":1,"column":1258},"end":{"line":1,"column":1301}}],"line":1},"8":{"loc":{"start":{"line":1,"column":1389},"end":{"line":1,"column":1441}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1391},"end":{"line":1,"column":1403}},{"start":{"line":1,"column":1404},"end":{"line":1,"column":1441}}],"line":1},"9":{"loc":{"start":{"line":1,"column":1618},"end":{"line":1,"column":2007}},"type":"switch","locations":[{"start":{"line":1,"column":1640},"end":{"line":1,"column":1973}},{"start":{"line":1,"column":1973},"end":{"line":1,"column":1980}},{"start":{"line":1,"column":1980},"end":{"line":1,"column":2006}}],"line":1},"10":{"loc":{"start":{"line":1,"column":1649},"end":{"line":1,"column":1690}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1671},"end":{"line":1,"column":1688}},{"start":{"line":1,"column":1689},"end":{"line":1,"column":1690}}],"line":1},"11":{"loc":{"start":{"line":1,"column":2275},"end":{"line":1,"column":2638}},"type":"switch","locations":[{"start":{"line":1,"column":2297},"end":{"line":1,"column":2604}},{"start":{"line":1,"column":2604},"end":{"line":1,"column":2611}},{"start":{"line":1,"column":2611},"end":{"line":1,"column":2637}}],"line":1},"12":{"loc":{"start":{"line":1,"column":2306},"end":{"line":1,"column":2347}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2328},"end":{"line":1,"column":2345}},{"start":{"line":1,"column":2346},"end":{"line":1,"column":2347}}],"line":1},"13":{"loc":{"start":{"line":1,"column":2832},"end":{"line":1,"column":2856}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2834},"end":{"line":1,"column":2846}},{"start":{"line":1,"column":2847},"end":{"line":1,"column":2856}}],"line":1},"14":{"loc":{"start":{"line":1,"column":3025},"end":{"line":1,"column":3049}},"type":"cond-expr","locations":[{"start":{"line":1,"column":3027},"end":{"line":1,"column":3039}},{"start":{"line":1,"column":3040},"end":{"line":1,"column":3049}}],"line":1},"15":{"loc":{"start":{"line":1,"column":3213},"end":{"line":1,"column":3246}},"type":"cond-expr","locations":[{"start":{"line":1,"column":3215},"end":{"line":1,"column":3227}},{"start":{"line":1,"column":3228},"end":{"line":1,"column":3246}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":21,"9":0,"10":21,"11":21,"12":21,"13":0,"14":21,"15":2,"16":21,"17":21,"18":21,"19":21,"20":0,"21":21,"22":21,"23":1,"24":1,"25":1,"26":1,"27":28,"28":28,"29":28,"30":1,"31":1,"32":21,"33":21,"34":1,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":1,"44":1,"45":1,"46":21,"47":21,"48":21,"49":21,"50":21,"51":1,"52":21,"53":1,"54":1,"55":15,"56":15,"57":15,"58":1,"59":1,"60":0,"61":0,"62":0,"63":1,"64":1,"65":5,"66":5,"67":5,"68":1,"69":1,"70":1,"71":1},"f":{"0":1,"1":1,"2":21,"3":0,"4":21,"5":2,"6":21,"7":21,"8":21,"9":0,"10":28,"11":28,"12":21,"13":21,"14":1,"15":0,"16":0,"17":0,"18":1,"19":21,"20":21,"21":21,"22":15,"23":15,"24":0,"25":0,"26":5,"27":5},"b":{"0":[0,1],"1":[1,1],"2":[1,0],"3":[1,1],"4":[0,0],"5":[0,0,0,0],"6":[21,0],"7":[2,26],"8":[0,21],"9":[0,0,0],"10":[0,0],"11":[21,21,21],"12":[21,0],"13":[0,15],"14":[0,0],"15":[0,5]},"inputSourceMap":{"version":3,"sources":["mock.js"],"names":["s3db","AWSMock","config","basePath","__dirname","s3","S3","params","Bucket","USERS_BUCKET_NAME","_getData","id","done","Key","getObject","err","data","message","JSON","parse","Body","toString","getData","_put","putObject","_saveUser","role","s","stringify","Buffer","from","ServerSideEncryption","ContentMD5","SSECustomerKey","ENCRYPTION_PASSWORD","SSECustomerKeyMD5","Tagging","saveUser","_save","save","_remove","deleteObject","remove","_multiRemove","objs","Delete","Objects","Quiet","deleteObjects","multiRemove","_list","dir","MaxKeys","Prefix","listObjectsV2","Contents","listItems"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3","sourcesContent":["import { promisify } from 'util'\r\nimport { resolve } from 'path'\r\nimport AWSMock from 'mock-aws-s3'\r\n\r\nimport { USERS_BUCKET_NAME, ENCRYPTION_PASSWORD } from '../../config'\r\nimport { md5 } from '../security'\r\nconst s3db = {}\r\nAWSMock.config.basePath = resolve(__dirname, '../../../tests/buckets')\r\nconst s3 = AWSMock.S3({ params: { Bucket: USERS_BUCKET_NAME } })\r\n\r\nconst _getData = (id, done) => {\r\n  const params = {\r\n    Bucket: USERS_BUCKET_NAME,\r\n    Key: id\r\n  }\r\n\r\n  s3.getObject(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, JSON.parse(data.Body.toString('utf8')))\r\n    }\r\n  })\r\n}\r\n\r\nconst getData = promisify(_getData)\r\n\r\nconst _put = (params, done) => {\r\n  s3.putObject(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, JSON.parse(params.Body.toString()))\r\n    }\r\n  })\r\n}\r\n\r\nconst _saveUser = async (id, data, role, done) => {\r\n  const s = typeof data === 'object' ? JSON.stringify(data) : data\r\n  const params = {\r\n    Body: Buffer.from(s),\r\n    Bucket: USERS_BUCKET_NAME,\r\n    Key: id,\r\n    ServerSideEncryption: 'AES256',\r\n    ContentMD5: md5(s),\r\n    SSECustomerKey: Buffer.from(ENCRYPTION_PASSWORD),\r\n    SSECustomerKeyMD5: md5(ENCRYPTION_PASSWORD),\r\n    Tagging: `role=${role}`\r\n  }\r\n  _put(params, done)\r\n}\r\n\r\nconst saveUser = promisify(_saveUser)\r\n\r\nconst _save = async (id, data, done) => {\r\n  const s = typeof data === 'object' ? JSON.stringify(data) : data\r\n  const params = {\r\n    Body: Buffer.from(s),\r\n    Bucket: USERS_BUCKET_NAME,\r\n    ServerSideEncryption: 'AES256',\r\n    ContentMD5: md5(s),\r\n    SSECustomerKey: Buffer.from(ENCRYPTION_PASSWORD),\r\n    SSECustomerKeyMD5: md5(ENCRYPTION_PASSWORD),\r\n    Key: id\r\n  }\r\n  _put(params, done)\r\n}\r\n\r\nconst save = promisify(_save)\r\n\r\nconst _remove = (id, done) => {\r\n  const params = {\r\n    Bucket: USERS_BUCKET_NAME,\r\n    Key: id\r\n  }\r\n\r\n  s3.deleteObject(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, data)\r\n    }\r\n  })\r\n}\r\n\r\nconst remove = promisify(_remove)\r\n\r\nconst _multiRemove = (objs, done) => {\r\n  const params = {\r\n    Bucket: USERS_BUCKET_NAME,\r\n    Delete: {\r\n      Objects: objs,\r\n      Quiet: false\r\n    }\r\n  }\r\n\r\n  s3.deleteObjects(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, data)\r\n    }\r\n  })\r\n}\r\n\r\nconst multiRemove = promisify(_multiRemove)\r\n\r\nconst _list = (dir, done) => {\r\n  const params = {\r\n    Bucket: USERS_BUCKET_NAME,\r\n    MaxKeys: 10,\r\n    Prefix: dir\r\n  }\r\n\r\n  s3.listObjectsV2(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, data.Contents)\r\n    }\r\n  })\r\n}\r\n\r\nconst listItems = promisify(_list)\r\n\r\ns3db.getData = getData\r\ns3db.saveUser = saveUser\r\ns3db.save = save\r\ns3db.remove = remove\r\ns3db.multiRemove = multiRemove\r\ns3db.listItems = listItems\r\n\r\nexport default s3db\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2a4cba6dc9080217f9c909f788e3c1077fcb5580","contentHash":"01c78d6ec69082d3818f2e192146708343466a905bb66a10e8f240b90c5a8f47"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\auth\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\auth\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":112}},"1":{"start":{"line":1,"column":126},"end":{"line":1,"column":148}},"2":{"start":{"line":1,"column":157},"end":{"line":1,"column":180}},"3":{"start":{"line":1,"column":224},"end":{"line":1,"column":278}},"4":{"start":{"line":1,"column":234},"end":{"line":1,"column":241}},"5":{"start":{"line":1,"column":244},"end":{"line":1,"column":251}},"6":{"start":{"line":1,"column":261},"end":{"line":1,"column":277}},"7":{"start":{"line":1,"column":278},"end":{"line":1,"column":318}},"8":{"start":{"line":1,"column":349},"end":{"line":1,"column":561}},"9":{"start":{"line":1,"column":373},"end":{"line":1,"column":377}},"10":{"start":{"line":1,"column":380},"end":{"line":1,"column":389}},"11":{"start":{"line":1,"column":390},"end":{"line":1,"column":560}},"12":{"start":{"line":1,"column":437},"end":{"line":1,"column":475}},"13":{"start":{"line":1,"column":490},"end":{"line":1,"column":529}},"14":{"start":{"line":1,"column":536},"end":{"line":1,"column":548}},"15":{"start":{"line":1,"column":549},"end":{"line":1,"column":558}},"16":{"start":{"line":1,"column":582},"end":{"line":1,"column":809}},"17":{"start":{"line":1,"column":669},"end":{"line":1,"column":684}},"18":{"start":{"line":1,"column":698},"end":{"line":1,"column":797}},"19":{"start":{"line":1,"column":827},"end":{"line":1,"column":1068}},"20":{"start":{"line":1,"column":845},"end":{"line":1,"column":885}},"21":{"start":{"line":1,"column":888},"end":{"line":1,"column":929}},"22":{"start":{"line":1,"column":932},"end":{"line":1,"column":973}},"23":{"start":{"line":1,"column":976},"end":{"line":1,"column":1019}},"24":{"start":{"line":1,"column":1020},"end":{"line":1,"column":1067}},"25":{"start":{"line":1,"column":1069},"end":{"line":1,"column":1103}},"26":{"start":{"line":1,"column":1128},"end":{"line":1,"column":1560}},"27":{"start":{"line":1,"column":1145},"end":{"line":1,"column":1507}},"28":{"start":{"line":1,"column":1220},"end":{"line":1,"column":1504}},"29":{"start":{"line":1,"column":1263},"end":{"line":1,"column":1500}},"30":{"start":{"line":1,"column":1270},"end":{"line":1,"column":1500}},"31":{"start":{"line":1,"column":1299},"end":{"line":1,"column":1359}},"32":{"start":{"line":1,"column":1366},"end":{"line":1,"column":1402}},"33":{"start":{"line":1,"column":1387},"end":{"line":1,"column":1396}},"34":{"start":{"line":1,"column":1396},"end":{"line":1,"column":1401}},"35":{"start":{"line":1,"column":1402},"end":{"line":1,"column":1430}},"36":{"start":{"line":1,"column":1437},"end":{"line":1,"column":1466}},"37":{"start":{"line":1,"column":1483},"end":{"line":1,"column":1499}},"38":{"start":{"line":1,"column":1508},"end":{"line":1,"column":1557}},"39":{"start":{"line":1,"column":1526},"end":{"line":1,"column":1556}},"40":{"start":{"line":1,"column":1561},"end":{"line":1,"column":1585}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":190},"end":{"line":1,"column":208}},"loc":{"start":{"line":1,"column":223},"end":{"line":1,"column":319}},"line":1},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":328},"end":{"line":1,"column":345}},"loc":{"start":{"line":1,"column":348},"end":{"line":1,"column":562}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":356},"end":{"line":1,"column":357}},"loc":{"start":{"line":1,"column":366},"end":{"line":1,"column":561}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":409},"end":{"line":1,"column":410}},"loc":{"start":{"line":1,"column":422},"end":{"line":1,"column":559}},"line":1},"4":{"name":"f","decl":{"start":{"line":1,"column":432},"end":{"line":1,"column":433}},"loc":{"start":{"line":1,"column":436},"end":{"line":1,"column":476}},"line":1},"5":{"name":"g","decl":{"start":{"line":1,"column":485},"end":{"line":1,"column":486}},"loc":{"start":{"line":1,"column":489},"end":{"line":1,"column":530}},"line":1},"6":{"name":"_typeof","decl":{"start":{"line":1,"column":571},"end":{"line":1,"column":578}},"loc":{"start":{"line":1,"column":581},"end":{"line":1,"column":810}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":1,"column":657},"end":{"line":1,"column":658}},"loc":{"start":{"line":1,"column":668},"end":{"line":1,"column":685}},"line":1},"8":{"name":"(anonymous_8)","decl":{"start":{"line":1,"column":686},"end":{"line":1,"column":687}},"loc":{"start":{"line":1,"column":697},"end":{"line":1,"column":798}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":827},"end":{"line":1,"column":828}},"loc":{"start":{"line":1,"column":838},"end":{"line":1,"column":1068}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":1128},"end":{"line":1,"column":1129}},"loc":{"start":{"line":1,"column":1138},"end":{"line":1,"column":1558}},"line":1},"11":{"name":"a","decl":{"start":{"line":1,"column":1209},"end":{"line":1,"column":1210}},"loc":{"start":{"line":1,"column":1213},"end":{"line":1,"column":1505}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":1251},"end":{"line":1,"column":1252}},"loc":{"start":{"line":1,"column":1262},"end":{"line":1,"column":1501}},"line":1},"13":{"name":"(anonymous_13)","decl":{"start":{"line":1,"column":1515},"end":{"line":1,"column":1516}},"loc":{"start":{"line":1,"column":1525},"end":{"line":1,"column":1557}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":278},"end":{"line":1,"column":318}},"type":"cond-expr","locations":[{"start":{"line":1,"column":285},"end":{"line":1,"column":289}},{"start":{"line":1,"column":290},"end":{"line":1,"column":318}}],"line":1},"1":{"loc":{"start":{"line":1,"column":597},"end":{"line":1,"column":798}},"type":"cond-expr","locations":[{"start":{"line":1,"column":657},"end":{"line":1,"column":685}},{"start":{"line":1,"column":686},"end":{"line":1,"column":798}}],"line":1},"2":{"loc":{"start":{"line":1,"column":597},"end":{"line":1,"column":656}},"type":"binary-expr","locations":[{"start":{"line":1,"column":597},"end":{"line":1,"column":622}},{"start":{"line":1,"column":624},"end":{"line":1,"column":656}}],"line":1},"3":{"loc":{"start":{"line":1,"column":705},"end":{"line":1,"column":797}},"type":"cond-expr","locations":[{"start":{"line":1,"column":780},"end":{"line":1,"column":788}},{"start":{"line":1,"column":789},"end":{"line":1,"column":797}}],"line":1},"4":{"loc":{"start":{"line":1,"column":705},"end":{"line":1,"column":779}},"type":"binary-expr","locations":[{"start":{"line":1,"column":705},"end":{"line":1,"column":706}},{"start":{"line":1,"column":708},"end":{"line":1,"column":733}},{"start":{"line":1,"column":735},"end":{"line":1,"column":757}},{"start":{"line":1,"column":759},"end":{"line":1,"column":779}}],"line":1},"5":{"loc":{"start":{"line":1,"column":845},"end":{"line":1,"column":885}},"type":"binary-expr","locations":[{"start":{"line":1,"column":845},"end":{"line":1,"column":854}},{"start":{"line":1,"column":856},"end":{"line":1,"column":885}}],"line":1},"6":{"loc":{"start":{"line":1,"column":888},"end":{"line":1,"column":929}},"type":"binary-expr","locations":[{"start":{"line":1,"column":888},"end":{"line":1,"column":911}},{"start":{"line":1,"column":913},"end":{"line":1,"column":929}}],"line":1},"7":{"loc":{"start":{"line":1,"column":891},"end":{"line":1,"column":910}},"type":"binary-expr","locations":[{"start":{"line":1,"column":891},"end":{"line":1,"column":892}},{"start":{"line":1,"column":894},"end":{"line":1,"column":910}}],"line":1},"8":{"loc":{"start":{"line":1,"column":932},"end":{"line":1,"column":973}},"type":"binary-expr","locations":[{"start":{"line":1,"column":932},"end":{"line":1,"column":955}},{"start":{"line":1,"column":957},"end":{"line":1,"column":973}}],"line":1},"9":{"loc":{"start":{"line":1,"column":935},"end":{"line":1,"column":954}},"type":"binary-expr","locations":[{"start":{"line":1,"column":935},"end":{"line":1,"column":936}},{"start":{"line":1,"column":938},"end":{"line":1,"column":954}}],"line":1},"10":{"loc":{"start":{"line":1,"column":976},"end":{"line":1,"column":1019}},"type":"binary-expr","locations":[{"start":{"line":1,"column":976},"end":{"line":1,"column":977}},{"start":{"line":1,"column":979},"end":{"line":1,"column":1019}}],"line":1},"11":{"loc":{"start":{"line":1,"column":1029},"end":{"line":1,"column":1066}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1029},"end":{"line":1,"column":1030}},{"start":{"line":1,"column":1032},"end":{"line":1,"column":1060}},{"start":{"line":1,"column":1062},"end":{"line":1,"column":1063}},{"start":{"line":1,"column":1065},"end":{"line":1,"column":1066}}],"line":1},"12":{"loc":{"start":{"line":1,"column":1270},"end":{"line":1,"column":1500}},"type":"switch","locations":[{"start":{"line":1,"column":1292},"end":{"line":1,"column":1359}},{"start":{"line":1,"column":1359},"end":{"line":1,"column":1430}},{"start":{"line":1,"column":1430},"end":{"line":1,"column":1466}},{"start":{"line":1,"column":1466},"end":{"line":1,"column":1473}},{"start":{"line":1,"column":1473},"end":{"line":1,"column":1499}}],"line":1},"13":{"loc":{"start":{"line":1,"column":1366},"end":{"line":1,"column":1402}},"type":"if","locations":[{"start":{"line":1,"column":1366},"end":{"line":1,"column":1402}},{"start":{"line":1,"column":1366},"end":{"line":1,"column":1402}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":30,"4":30,"5":30,"6":0,"7":30,"8":1,"9":15,"10":15,"11":15,"12":30,"13":0,"14":15,"15":15,"16":1,"17":15,"18":0,"19":1,"20":15,"21":15,"22":15,"23":15,"24":15,"25":1,"26":1,"27":1,"28":15,"29":45,"30":46,"31":15,"32":15,"33":1,"34":1,"35":14,"36":1,"37":15,"38":1,"39":15,"40":1},"f":{"0":30,"1":1,"2":15,"3":15,"4":30,"5":0,"6":1,"7":15,"8":0,"9":15,"10":1,"11":15,"12":45,"13":15},"b":{"0":[15,15],"1":[1,0],"2":[1,1],"3":[0,0],"4":[0,0,0,0],"5":[15,15],"6":[15,15],"7":[15,15],"8":[15,15],"9":[15,15],"10":[15,15],"11":[15,15,15,15],"12":[15,15,1,0,15],"13":[1,14]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["validRequest","event","valid","headers","accept","action","authorized","API_KEY","apiAuth","body"],"mappings":"0yBAGO,GAAMA,CAAAA,YAAY,CAAG,SAACC,CAAD,CAAW,IAC/BC,CAAAA,CAAK,CAAGD,CAAK,CAACE,OAAN,EAA0C,QAAzB,WAAOF,CAAK,CAACE,OAAb,CADM,CAE/BC,CAAM,IAAGF,CAAK,EAAID,CAAK,CAACE,OAAN,OAAZ,GAAsCF,CAAK,CAACE,OAAN,OAFb,CAG/BE,CAAM,IAAGH,CAAK,EAAID,CAAK,CAACE,OAAN,OAAZ,GAAsCF,CAAK,CAACE,OAAN,OAHb,CAI/BG,CAAU,CAAGJ,CAAK,EAAID,CAAK,CAACE,OAAN,CAAc,WAAd,IAA+BI,eAJtB,UAKjCH,CAAM,EAAe,wBAAX,GAAAA,CAAV,EAAiDC,CAAjD,EAA2DC,CAL1B,CAOtC,CAPM,C,kCASA,GAAME,CAAAA,OAAO,sFAAG,WAAOP,CAAP,6FACfC,CAAAA,CADe,CACPF,YAAY,CAACC,CAAD,CADL,UAEF,kBAAIA,CAAK,CAACQ,IAAV,CAFE,WAErBR,CAAK,CAACQ,IAFe,SAGjBP,CAHiB,0CAGHD,CAHG,6EAAH,uDAAb,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\auth","sourcesContent":["import { xss } from '../security'\r\nimport { API_KEY } from '../../config'\r\n\r\nexport const validRequest = (event) => {\r\n  const valid = event.headers && typeof event.headers === 'object'\r\n  const accept = valid && event.headers['Accept'] ? event.headers['Accept'] : false\r\n  const action = valid && event.headers['Action'] ? event.headers['Action'] : false\r\n  const authorized = valid && event.headers['X-API-Key'] === API_KEY\r\n  if (accept && accept === 'application/x-protobuf' && action && authorized) return true\r\n  return false\r\n}\r\n\r\nexport const apiAuth = async (event) => {\r\n  const valid = validRequest(event)\r\n  event.body = await xss(event.body)\r\n  if (valid) return event\r\n  return false\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c3ad5a34274b7820eb93b5bb75c6e4f8e523f502","contentHash":"f891e741cb4c3a14b69b8097e25cce0c077797132eb4544149a5fcbb38010f19"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":114}},"1":{"start":{"line":1,"column":149},"end":{"line":1,"column":194}},"2":{"start":{"line":1,"column":230},"end":{"line":1,"column":266}},"3":{"start":{"line":1,"column":299},"end":{"line":1,"column":400}},"4":{"start":{"line":1,"column":415},"end":{"line":1,"column":5263}},"5":{"start":{"line":1,"column":5265},"end":{"line":1,"column":5291}},"6":{"start":{"line":1,"column":5309},"end":{"line":1,"column":7084}},"7":{"start":{"line":1,"column":7085},"end":{"line":1,"column":7121}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":204},"end":{"line":1,"column":226}},"loc":{"start":{"line":1,"column":229},"end":{"line":1,"column":267}},"line":1},"1":{"name":"_defineProperty","decl":{"start":{"line":1,"column":276},"end":{"line":1,"column":291}},"loc":{"start":{"line":1,"column":298},"end":{"line":1,"column":401}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":237},"end":{"line":1,"column":266}},"type":"cond-expr","locations":[{"start":{"line":1,"column":253},"end":{"line":1,"column":254}},{"start":{"line":1,"column":255},"end":{"line":1,"column":266}}],"line":1},"1":{"loc":{"start":{"line":1,"column":237},"end":{"line":1,"column":252}},"type":"binary-expr","locations":[{"start":{"line":1,"column":237},"end":{"line":1,"column":238}},{"start":{"line":1,"column":240},"end":{"line":1,"column":252}}],"line":1},"2":{"loc":{"start":{"line":1,"column":306},"end":{"line":1,"column":398}},"type":"cond-expr","locations":[{"start":{"line":1,"column":313},"end":{"line":1,"column":391}},{"start":{"line":1,"column":392},"end":{"line":1,"column":398}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":45,"4":1,"5":1,"6":1,"7":1},"f":{"0":1,"1":45},"b":{"0":[1,0],"1":[1,1],"2":[1,44]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["handlers","ACTIONS","USER","CREATE","h","require","genUser","CREATE_SOCIAL","signinSocial","EDIT","edit","DESTROY","destroyUser","GET","getUser","CONFIRM_PHONE","confirmPhone","SET_ROLE","setRole","TOKEN","gen","EXTEND","extend","destroy","get","CONFIRM","confirm","REFER","refer","USE","use","REGISTER","register","RESET","SHOP","PRODUCTS_GET","PRODUCT_GET_BYID","CART_ADD","CART_REMOVE","CART_GET","WISHLIST_ADD","WISHLIST_REMOVE","WISHLIST_GET","CHECKOUT","BLOG","ARTICLES_GET","ARTICLE_GET_BYTITLE","ARTICLE_GET_BYCATEGORY","ARTICLE_ADD","ARTICLE_EDIT","ARTICLE_DELETE","CATEGORY_ADD","CATEGORY_EDIT","CATEGORY_DELETE","CATEGORIES_GET","UPLOAD","CONTACT_US","NOT_FOUND","MODULE","create","MIGRATE","migrate","NOTIFY","PUSH","push","SUBSCRIBE","pushSubscribe","handlerSchema","title","type","required","properties"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers","sourcesContent":["import ACTIONS from '../actions'\r\n\r\nexport const handlers = {\r\n  [ACTIONS.USER.CREATE]: { class: 'UserCreate', h: require('./users').genUser },\r\n  [ACTIONS.USER.CREATE_SOCIAL]: { class: 'UserCreateSocial', h: require('./users').signinSocial },\r\n  [ACTIONS.USER.EDIT]: { class: 'UserEdit', h: require('./users').edit },\r\n  [ACTIONS.USER.DESTROY]: { class: 'UserDestroy', h: require('./users').destroyUser },\r\n  [ACTIONS.USER.GET]: { class: 'UserGet', h: require('./users').getUser },\r\n  [ACTIONS.USER.CONFIRM_PHONE]: { class: 'ConfirmPhone', h: require('./users').confirmPhone },\r\n  [ACTIONS.USER.SET_ROLE]: { class: 'SetRole', h: require('./users').setRole },\r\n  [ACTIONS.TOKEN.CREATE]: { class: 'TokenCreate', h: require('./token').gen },\r\n  [ACTIONS.TOKEN.EXTEND]: { class: 'TokenExtend', h: require('./token').extend },\r\n  [ACTIONS.TOKEN.DESTROY]: { class: 'TokenDestroy', h: require('./token').destroy },\r\n  [ACTIONS.TOKEN.GET]: { class: 'TokenGet', h: require('./token').get },\r\n  [ACTIONS.CONFIRM]: { class: 'Confirm', h: require('./confirm').confirm },\r\n  [ACTIONS.REFER.REFER]: { class: 'Refer', h: require('./refer').refer },\r\n  [ACTIONS.REFER.USE]: { class: 'ReferUse', h: require('./refer').use },\r\n  [ACTIONS.REFER.REGISTER]: { class: 'ReferRegister', h: require('./refer').register },\r\n  [ACTIONS.RESET.CREATE]: { class: 'ResetCreate', h: require('./reset').default },\r\n\r\n  [ACTIONS.SHOP.PRODUCTS_GET]: { class: 'ResetCreate', h: require('./shop').default },\r\n  [ACTIONS.SHOP.PRODUCT_GET_BYID]: { class: 'ResetCreate', h: require('./shop').default },\r\n  [ACTIONS.SHOP.CART_ADD]: { class: 'ResetCreate', h: require('./shop').default },\r\n  [ACTIONS.SHOP.CART_REMOVE]: { class: 'ResetCreate', h: require('./shop').default },\r\n  [ACTIONS.SHOP.CART_GET]: { class: 'ResetCreate', h: require('./shop').default },\r\n  [ACTIONS.SHOP.WISHLIST_ADD]: { class: 'ResetCreate', h: require('./shop').default },\r\n  [ACTIONS.SHOP.WISHLIST_REMOVE]: { class: 'ResetCreate', h: require('./shop').default },\r\n  [ACTIONS.SHOP.WISHLIST_GET]: { class: 'ResetCreate', h: require('./shop').default },\r\n  [ACTIONS.SHOP.CHECKOUT]: { class: 'ResetCreate', h: require('./shop').default },\r\n\r\n  [ACTIONS.BLOG.ARTICLES_GET]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.ARTICLE_GET_BYTITLE]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.ARTICLE_GET_BYCATEGORY]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.ARTICLE_ADD]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.ARTICLE_EDIT]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.ARTICLE_DELETE]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.CATEGORY_ADD]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.CATEGORY_EDIT]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.CATEGORY_DELETE]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.CATEGORIES_GET]: { class: 'ResetCreate', h: require('./blog').default },\r\n\r\n  [ACTIONS.UPLOAD]: { class: 'Upload', h: require('./upload').default },\r\n  [ACTIONS.CONTACT_US]: { class: 'ContactUs', h: require('./contact-us').default },\r\n  [ACTIONS.NOT_FOUND]: { class: 'NotFound', h: require('./generics/notFound').default },\r\n  [ACTIONS.MODULE.CREATE]: { class: 'ModuleCreate', h: require('./module').create },\r\n  [ACTIONS.MODULE.MIGRATE]: { class: 'ModuleMigrate', h: require('./module').migrate },\r\n  [ACTIONS.NOTIFY.PUSH]: { class: 'Notify', h: require('./notifications').push },\r\n  [ACTIONS.NOTIFY.SUBSCRIBE]: { class: 'NotifySubscribe', h: require('./notifications').pushSubscribe }\r\n}\r\n\r\nexport const handlerSchema = {\r\n  title: 'Handler schema v.1.0',\r\n  type: 'object',\r\n  required: [\r\n    [ACTIONS.USER.CREATE],\r\n    [ACTIONS.USER.CREATE_SOCIAL],\r\n    [ACTIONS.USER.EDIT],\r\n    [ACTIONS.USER.DESTROY],\r\n    [ACTIONS.USER.GET],\r\n    [ACTIONS.USER.CONFIRM_PHONE],\r\n    [ACTIONS.USER.SET_ROLE],\r\n    [ACTIONS.TOKEN.CREATE],\r\n    [ACTIONS.TOKEN.EXTEND],\r\n    [ACTIONS.TOKEN.DESTROY],\r\n    [ACTIONS.TOKEN.GET],\r\n    [ACTIONS.CONFIRM],\r\n    [ACTIONS.REFER.REFER],\r\n    [ACTIONS.REFER.USE],\r\n    [ACTIONS.REFER.REGISTER],\r\n    [ACTIONS.RESET.CREATE],\r\n    [ACTIONS.SHOP.PRODUCTS_GET],\r\n    [ACTIONS.SHOP.PRODUCT_GET_BYID],\r\n    [ACTIONS.SHOP.CART_ADD],\r\n    [ACTIONS.SHOP.CART_REMOVE],\r\n    [ACTIONS.SHOP.CART_GET],\r\n    [ACTIONS.SHOP.WISHLIST_ADD],\r\n    [ACTIONS.SHOP.WISHLIST_REMOVE],\r\n    [ACTIONS.SHOP.WISHLIST_GET],\r\n    [ACTIONS.SHOP.CHECKOUT],\r\n    [ACTIONS.BLOG.ARTICLES_GET],\r\n    [ACTIONS.BLOG.ARTICLE_GET_BYTITLE],\r\n    [ACTIONS.BLOG.ARTICLE_GET_BYCATEGORY],\r\n    [ACTIONS.BLOG.ARTICLE_ADD],\r\n    [ACTIONS.BLOG.ARTICLE_EDIT],\r\n    [ACTIONS.BLOG.ARTICLE_DELETE],\r\n    [ACTIONS.BLOG.CATEGORY_ADD],\r\n    [ACTIONS.BLOG.CATEGORY_EDIT],\r\n    [ACTIONS.BLOG.CATEGORY_DELETE],\r\n    [ACTIONS.BLOG.CATEGORIES_GET],\r\n    [ACTIONS.NOT_FOUND]\r\n  ],\r\n  properties: {\r\n    [ACTIONS.USER.CREATE]: {\r\n      type: 'object',\r\n      required: ['class', 'h'],\r\n      properties: {\r\n        class: {\r\n          type: 'string'\r\n        },\r\n        h: {\r\n          type: 'function'\r\n        }\r\n      }\r\n    },\r\n    [ACTIONS.USER.CREATE_SOCIAL]: {\r\n      type: 'object'\r\n    },\r\n    [ACTIONS.USER.EDIT]: {\r\n      type: 'object'\r\n    }\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b09854a9bd07f8ca7248fc9c4bca03b09ce2c048","contentHash":"cc7f08ddce9bee87a26f853f64068369cd60faa7186005b810c2de2785b40f2c"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\actions\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\actions\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":94}},"1":{"start":{"line":1,"column":107},"end":{"line":1,"column":1595}},"2":{"start":{"line":1,"column":1596},"end":{"line":1,"column":1624}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":[],"names":[],"mappings":"","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\actions","sourcesContent":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fc6acca7e2278c1c93023fa5226dd3bde9ade26c","contentHash":"2dce4c52234ecbaf6ff3d2cc1cb665f3186cbff2d156df52e1d5d5787ff4e1f6"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\users\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\users\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":215}},"1":{"start":{"line":1,"column":225},"end":{"line":1,"column":240}},"2":{"start":{"line":1,"column":252},"end":{"line":1,"column":297}},"3":{"start":{"line":1,"column":302},"end":{"line":1,"column":350}},"4":{"start":{"line":1,"column":360},"end":{"line":1,"column":388}},"5":{"start":{"line":1,"column":397},"end":{"line":1,"column":420}},"6":{"start":{"line":1,"column":431},"end":{"line":1,"column":460}},"7":{"start":{"line":1,"column":468},"end":{"line":1,"column":518}},"8":{"start":{"line":1,"column":526},"end":{"line":1,"column":576}},"9":{"start":{"line":1,"column":591},"end":{"line":1,"column":624}},"10":{"start":{"line":1,"column":633},"end":{"line":1,"column":652}},"11":{"start":{"line":1,"column":660},"end":{"line":1,"column":686}},"12":{"start":{"line":1,"column":723},"end":{"line":1,"column":765}},"13":{"start":{"line":1,"column":753},"end":{"line":1,"column":765}},"14":{"start":{"line":1,"column":771},"end":{"line":1,"column":782}},"15":{"start":{"line":1,"column":783},"end":{"line":1,"column":837}},"16":{"start":{"line":1,"column":826},"end":{"line":1,"column":834}},"17":{"start":{"line":1,"column":874},"end":{"line":1,"column":902}},"18":{"start":{"line":1,"column":893},"end":{"line":1,"column":902}},"19":{"start":{"line":1,"column":902},"end":{"line":1,"column":977}},"20":{"start":{"line":1,"column":959},"end":{"line":1,"column":977}},"21":{"start":{"line":1,"column":983},"end":{"line":1,"column":1009}},"22":{"start":{"line":1,"column":1010},"end":{"line":1,"column":1041}},"23":{"start":{"line":1,"column":1025},"end":{"line":1,"column":1041}},"24":{"start":{"line":1,"column":1047},"end":{"line":1,"column":1049}},"25":{"start":{"line":1,"column":1052},"end":{"line":1,"column":1106}},"26":{"start":{"line":1,"column":1107},"end":{"line":1,"column":1275}},"27":{"start":{"line":1,"column":1122},"end":{"line":1,"column":1275}},"28":{"start":{"line":1,"column":1174},"end":{"line":1,"column":1217}},"29":{"start":{"line":1,"column":1218},"end":{"line":1,"column":1274}},"30":{"start":{"line":1,"column":1275},"end":{"line":1,"column":1312}},"31":{"start":{"line":1,"column":1348},"end":{"line":1,"column":1384}},"32":{"start":{"line":1,"column":1405},"end":{"line":1,"column":1632}},"33":{"start":{"line":1,"column":1492},"end":{"line":1,"column":1507}},"34":{"start":{"line":1,"column":1521},"end":{"line":1,"column":1620}},"35":{"start":{"line":1,"column":1676},"end":{"line":1,"column":1730}},"36":{"start":{"line":1,"column":1686},"end":{"line":1,"column":1693}},"37":{"start":{"line":1,"column":1696},"end":{"line":1,"column":1703}},"38":{"start":{"line":1,"column":1713},"end":{"line":1,"column":1729}},"39":{"start":{"line":1,"column":1730},"end":{"line":1,"column":1770}},"40":{"start":{"line":1,"column":1801},"end":{"line":1,"column":2013}},"41":{"start":{"line":1,"column":1825},"end":{"line":1,"column":1829}},"42":{"start":{"line":1,"column":1832},"end":{"line":1,"column":1841}},"43":{"start":{"line":1,"column":1842},"end":{"line":1,"column":2012}},"44":{"start":{"line":1,"column":1889},"end":{"line":1,"column":1927}},"45":{"start":{"line":1,"column":1942},"end":{"line":1,"column":1981}},"46":{"start":{"line":1,"column":1988},"end":{"line":1,"column":2000}},"47":{"start":{"line":1,"column":2001},"end":{"line":1,"column":2010}},"48":{"start":{"line":1,"column":2054},"end":{"line":1,"column":2972}},"49":{"start":{"line":1,"column":2071},"end":{"line":1,"column":2919}},"50":{"start":{"line":1,"column":2156},"end":{"line":1,"column":2916}},"51":{"start":{"line":1,"column":2199},"end":{"line":1,"column":2912}},"52":{"start":{"line":1,"column":2206},"end":{"line":1,"column":2912}},"53":{"start":{"line":1,"column":2235},"end":{"line":1,"column":2361}},"54":{"start":{"line":1,"column":2298},"end":{"line":1,"column":2358}},"55":{"start":{"line":1,"column":2368},"end":{"line":1,"column":2765}},"56":{"start":{"line":1,"column":2706},"end":{"line":1,"column":2762}},"57":{"start":{"line":1,"column":2772},"end":{"line":1,"column":2853}},"58":{"start":{"line":1,"column":2839},"end":{"line":1,"column":2850}},"59":{"start":{"line":1,"column":2861},"end":{"line":1,"column":2877}},"60":{"start":{"line":1,"column":2895},"end":{"line":1,"column":2911}},"61":{"start":{"line":1,"column":2920},"end":{"line":1,"column":2969}},"62":{"start":{"line":1,"column":2938},"end":{"line":1,"column":2968}},"63":{"start":{"line":1,"column":2995},"end":{"line":1,"column":3038}},"64":{"start":{"line":1,"column":3075},"end":{"line":1,"column":3859}},"65":{"start":{"line":1,"column":3092},"end":{"line":1,"column":3806}},"66":{"start":{"line":1,"column":3177},"end":{"line":1,"column":3803}},"67":{"start":{"line":1,"column":3220},"end":{"line":1,"column":3799}},"68":{"start":{"line":1,"column":3227},"end":{"line":1,"column":3799}},"69":{"start":{"line":1,"column":3256},"end":{"line":1,"column":3381}},"70":{"start":{"line":1,"column":3318},"end":{"line":1,"column":3378}},"71":{"start":{"line":1,"column":3388},"end":{"line":1,"column":3656}},"72":{"start":{"line":1,"column":3597},"end":{"line":1,"column":3653}},"73":{"start":{"line":1,"column":3663},"end":{"line":1,"column":3741}},"74":{"start":{"line":1,"column":3727},"end":{"line":1,"column":3738}},"75":{"start":{"line":1,"column":3748},"end":{"line":1,"column":3764}},"76":{"start":{"line":1,"column":3782},"end":{"line":1,"column":3798}},"77":{"start":{"line":1,"column":3807},"end":{"line":1,"column":3856}},"78":{"start":{"line":1,"column":3825},"end":{"line":1,"column":3855}},"79":{"start":{"line":1,"column":3882},"end":{"line":1,"column":3925}},"80":{"start":{"line":1,"column":3947},"end":{"line":1,"column":5173}},"81":{"start":{"line":1,"column":3964},"end":{"line":1,"column":5120}},"82":{"start":{"line":1,"column":4047},"end":{"line":1,"column":5117}},"83":{"start":{"line":1,"column":4090},"end":{"line":1,"column":5113}},"84":{"start":{"line":1,"column":4097},"end":{"line":1,"column":5113}},"85":{"start":{"line":1,"column":4126},"end":{"line":1,"column":4174}},"86":{"start":{"line":1,"column":4181},"end":{"line":1,"column":4213}},"87":{"start":{"line":1,"column":4197},"end":{"line":1,"column":4207}},"88":{"start":{"line":1,"column":4207},"end":{"line":1,"column":4212}},"89":{"start":{"line":1,"column":4213},"end":{"line":1,"column":4260}},"90":{"start":{"line":1,"column":4267},"end":{"line":1,"column":4350}},"91":{"start":{"line":1,"column":4326},"end":{"line":1,"column":4347}},"92":{"start":{"line":1,"column":4357},"end":{"line":1,"column":4389}},"93":{"start":{"line":1,"column":4373},"end":{"line":1,"column":4383}},"94":{"start":{"line":1,"column":4383},"end":{"line":1,"column":4388}},"95":{"start":{"line":1,"column":4389},"end":{"line":1,"column":4526}},"96":{"start":{"line":1,"column":4463},"end":{"line":1,"column":4523}},"97":{"start":{"line":1,"column":4534},"end":{"line":1,"column":4931}},"98":{"start":{"line":1,"column":4931},"end":{"line":1,"column":4937}},"99":{"start":{"line":1,"column":4945},"end":{"line":1,"column":4995}},"100":{"start":{"line":1,"column":5003},"end":{"line":1,"column":5013}},"101":{"start":{"line":1,"column":5013},"end":{"line":1,"column":5019}},"102":{"start":{"line":1,"column":5027},"end":{"line":1,"column":5078}},"103":{"start":{"line":1,"column":5096},"end":{"line":1,"column":5112}},"104":{"start":{"line":1,"column":5121},"end":{"line":1,"column":5170}},"105":{"start":{"line":1,"column":5139},"end":{"line":1,"column":5169}},"106":{"start":{"line":1,"column":5174},"end":{"line":1,"column":5198}},"107":{"start":{"line":1,"column":5213},"end":{"line":1,"column":5422}},"108":{"start":{"line":1,"column":5430},"end":{"line":1,"column":5525}},"109":{"start":{"line":1,"column":5547},"end":{"line":1,"column":8153}},"110":{"start":{"line":1,"column":5564},"end":{"line":1,"column":8100}},"111":{"start":{"line":1,"column":5645},"end":{"line":1,"column":8097}},"112":{"start":{"line":1,"column":5688},"end":{"line":1,"column":8093}},"113":{"start":{"line":1,"column":5695},"end":{"line":1,"column":8093}},"114":{"start":{"line":1,"column":5724},"end":{"line":1,"column":5777}},"115":{"start":{"line":1,"column":5784},"end":{"line":1,"column":5816}},"116":{"start":{"line":1,"column":5800},"end":{"line":1,"column":5810}},"117":{"start":{"line":1,"column":5810},"end":{"line":1,"column":5815}},"118":{"start":{"line":1,"column":5816},"end":{"line":1,"column":5863}},"119":{"start":{"line":1,"column":5870},"end":{"line":1,"column":5987}},"120":{"start":{"line":1,"column":5927},"end":{"line":1,"column":5984}},"121":{"start":{"line":1,"column":5994},"end":{"line":1,"column":6062}},"122":{"start":{"line":1,"column":6046},"end":{"line":1,"column":6056}},"123":{"start":{"line":1,"column":6056},"end":{"line":1,"column":6061}},"124":{"start":{"line":1,"column":6062},"end":{"line":1,"column":7826}},"125":{"start":{"line":1,"column":6220},"end":{"line":1,"column":7821}},"126":{"start":{"line":1,"column":6263},"end":{"line":1,"column":7817}},"127":{"start":{"line":1,"column":6270},"end":{"line":1,"column":7817}},"128":{"start":{"line":1,"column":6299},"end":{"line":1,"column":6422}},"129":{"start":{"line":1,"column":6366},"end":{"line":1,"column":6419}},"130":{"start":{"line":1,"column":6429},"end":{"line":1,"column":6461}},"131":{"start":{"line":1,"column":6445},"end":{"line":1,"column":6455}},"132":{"start":{"line":1,"column":6455},"end":{"line":1,"column":6460}},"133":{"start":{"line":1,"column":6461},"end":{"line":1,"column":6592}},"134":{"start":{"line":1,"column":6529},"end":{"line":1,"column":6589}},"135":{"start":{"line":1,"column":6599},"end":{"line":1,"column":7244}},"136":{"start":{"line":1,"column":6965},"end":{"line":1,"column":6985}},"137":{"start":{"line":1,"column":7181},"end":{"line":1,"column":7241}},"138":{"start":{"line":1,"column":7252},"end":{"line":1,"column":7304}},"139":{"start":{"line":1,"column":7288},"end":{"line":1,"column":7298}},"140":{"start":{"line":1,"column":7298},"end":{"line":1,"column":7303}},"141":{"start":{"line":1,"column":7304},"end":{"line":1,"column":7429}},"142":{"start":{"line":1,"column":7372},"end":{"line":1,"column":7426}},"143":{"start":{"line":1,"column":7437},"end":{"line":1,"column":7469}},"144":{"start":{"line":1,"column":7477},"end":{"line":1,"column":7529}},"145":{"start":{"line":1,"column":7513},"end":{"line":1,"column":7523}},"146":{"start":{"line":1,"column":7523},"end":{"line":1,"column":7528}},"147":{"start":{"line":1,"column":7529},"end":{"line":1,"column":7660}},"148":{"start":{"line":1,"column":7605},"end":{"line":1,"column":7657}},"149":{"start":{"line":1,"column":7668},"end":{"line":1,"column":7700}},"150":{"start":{"line":1,"column":7708},"end":{"line":1,"column":7718}},"151":{"start":{"line":1,"column":7718},"end":{"line":1,"column":7724}},"152":{"start":{"line":1,"column":7732},"end":{"line":1,"column":7782}},"153":{"start":{"line":1,"column":7800},"end":{"line":1,"column":7816}},"154":{"start":{"line":1,"column":7834},"end":{"line":1,"column":7910}},"155":{"start":{"line":1,"column":7910},"end":{"line":1,"column":7916}},"156":{"start":{"line":1,"column":7924},"end":{"line":1,"column":7975}},"157":{"start":{"line":1,"column":7983},"end":{"line":1,"column":7993}},"158":{"start":{"line":1,"column":7993},"end":{"line":1,"column":7999}},"159":{"start":{"line":1,"column":8007},"end":{"line":1,"column":8058}},"160":{"start":{"line":1,"column":8076},"end":{"line":1,"column":8092}},"161":{"start":{"line":1,"column":8101},"end":{"line":1,"column":8150}},"162":{"start":{"line":1,"column":8119},"end":{"line":1,"column":8149}},"163":{"start":{"line":1,"column":8154},"end":{"line":1,"column":8178}},"164":{"start":{"line":1,"column":8207},"end":{"line":1,"column":9726}},"165":{"start":{"line":1,"column":8224},"end":{"line":1,"column":9673}},"166":{"start":{"line":1,"column":8305},"end":{"line":1,"column":9670}},"167":{"start":{"line":1,"column":8348},"end":{"line":1,"column":9666}},"168":{"start":{"line":1,"column":8355},"end":{"line":1,"column":9666}},"169":{"start":{"line":1,"column":8384},"end":{"line":1,"column":8980}},"170":{"start":{"line":1,"column":8964},"end":{"line":1,"column":8974}},"171":{"start":{"line":1,"column":8974},"end":{"line":1,"column":8979}},"172":{"start":{"line":1,"column":8980},"end":{"line":1,"column":9087}},"173":{"start":{"line":1,"column":9073},"end":{"line":1,"column":9084}},"174":{"start":{"line":1,"column":9095},"end":{"line":1,"column":9147}},"175":{"start":{"line":1,"column":9131},"end":{"line":1,"column":9141}},"176":{"start":{"line":1,"column":9141},"end":{"line":1,"column":9146}},"177":{"start":{"line":1,"column":9147},"end":{"line":1,"column":9230}},"178":{"start":{"line":1,"column":9216},"end":{"line":1,"column":9227}},"179":{"start":{"line":1,"column":9238},"end":{"line":1,"column":9270}},"180":{"start":{"line":1,"column":9254},"end":{"line":1,"column":9264}},"181":{"start":{"line":1,"column":9264},"end":{"line":1,"column":9269}},"182":{"start":{"line":1,"column":9270},"end":{"line":1,"column":9401}},"183":{"start":{"line":1,"column":9354},"end":{"line":1,"column":9398}},"184":{"start":{"line":1,"column":9409},"end":{"line":1,"column":9464}},"185":{"start":{"line":1,"column":9448},"end":{"line":1,"column":9458}},"186":{"start":{"line":1,"column":9458},"end":{"line":1,"column":9463}},"187":{"start":{"line":1,"column":9464},"end":{"line":1,"column":9578}},"188":{"start":{"line":1,"column":9532},"end":{"line":1,"column":9575}},"189":{"start":{"line":1,"column":9586},"end":{"line":1,"column":9613}},"190":{"start":{"line":1,"column":9621},"end":{"line":1,"column":9631}},"191":{"start":{"line":1,"column":9649},"end":{"line":1,"column":9665}},"192":{"start":{"line":1,"column":9674},"end":{"line":1,"column":9723}},"193":{"start":{"line":1,"column":9692},"end":{"line":1,"column":9722}},"194":{"start":{"line":1,"column":9738},"end":{"line":1,"column":9770}},"195":{"start":{"line":1,"column":9789},"end":{"line":1,"column":11864}},"196":{"start":{"line":1,"column":9806},"end":{"line":1,"column":11811}},"197":{"start":{"line":1,"column":9895},"end":{"line":1,"column":11808}},"198":{"start":{"line":1,"column":9938},"end":{"line":1,"column":11804}},"199":{"start":{"line":1,"column":9945},"end":{"line":1,"column":11804}},"200":{"start":{"line":1,"column":9974},"end":{"line":1,"column":10025}},"201":{"start":{"line":1,"column":10032},"end":{"line":1,"column":10064}},"202":{"start":{"line":1,"column":10048},"end":{"line":1,"column":10058}},"203":{"start":{"line":1,"column":10058},"end":{"line":1,"column":10063}},"204":{"start":{"line":1,"column":10064},"end":{"line":1,"column":10111}},"205":{"start":{"line":1,"column":10118},"end":{"line":1,"column":10240}},"206":{"start":{"line":1,"column":10176},"end":{"line":1,"column":10237}},"207":{"start":{"line":1,"column":10247},"end":{"line":1,"column":10632}},"208":{"start":{"line":1,"column":10347},"end":{"line":1,"column":10577}},"209":{"start":{"line":1,"column":10416},"end":{"line":1,"column":10574}},"210":{"start":{"line":1,"column":10459},"end":{"line":1,"column":10570}},"211":{"start":{"line":1,"column":10466},"end":{"line":1,"column":10570}},"212":{"start":{"line":1,"column":10495},"end":{"line":1,"column":10536}},"213":{"start":{"line":1,"column":10553},"end":{"line":1,"column":10569}},"214":{"start":{"line":1,"column":10578},"end":{"line":1,"column":10627}},"215":{"start":{"line":1,"column":10596},"end":{"line":1,"column":10626}},"216":{"start":{"line":1,"column":10640},"end":{"line":1,"column":10786}},"217":{"start":{"line":1,"column":10723},"end":{"line":1,"column":10783}},"218":{"start":{"line":1,"column":10794},"end":{"line":1,"column":10863}},"219":{"start":{"line":1,"column":10847},"end":{"line":1,"column":10857}},"220":{"start":{"line":1,"column":10857},"end":{"line":1,"column":10862}},"221":{"start":{"line":1,"column":10863},"end":{"line":1,"column":10975}},"222":{"start":{"line":1,"column":10916},"end":{"line":1,"column":10972}},"223":{"start":{"line":1,"column":10983},"end":{"line":1,"column":11015}},"224":{"start":{"line":1,"column":10999},"end":{"line":1,"column":11009}},"225":{"start":{"line":1,"column":11009},"end":{"line":1,"column":11014}},"226":{"start":{"line":1,"column":11015},"end":{"line":1,"column":11158}},"227":{"start":{"line":1,"column":11093},"end":{"line":1,"column":11155}},"228":{"start":{"line":1,"column":11166},"end":{"line":1,"column":11303}},"229":{"start":{"line":1,"column":11240},"end":{"line":1,"column":11300}},"230":{"start":{"line":1,"column":11311},"end":{"line":1,"column":11602}},"231":{"start":{"line":1,"column":11610},"end":{"line":1,"column":11620}},"232":{"start":{"line":1,"column":11620},"end":{"line":1,"column":11626}},"233":{"start":{"line":1,"column":11634},"end":{"line":1,"column":11686}},"234":{"start":{"line":1,"column":11694},"end":{"line":1,"column":11704}},"235":{"start":{"line":1,"column":11704},"end":{"line":1,"column":11710}},"236":{"start":{"line":1,"column":11718},"end":{"line":1,"column":11769}},"237":{"start":{"line":1,"column":11787},"end":{"line":1,"column":11803}},"238":{"start":{"line":1,"column":11812},"end":{"line":1,"column":11861}},"239":{"start":{"line":1,"column":11830},"end":{"line":1,"column":11860}},"240":{"start":{"line":1,"column":11865},"end":{"line":1,"column":11883}},"241":{"start":{"line":1,"column":11912},"end":{"line":1,"column":13217}},"242":{"start":{"line":1,"column":11929},"end":{"line":1,"column":13164}},"243":{"start":{"line":1,"column":12014},"end":{"line":1,"column":13161}},"244":{"start":{"line":1,"column":12057},"end":{"line":1,"column":13157}},"245":{"start":{"line":1,"column":12064},"end":{"line":1,"column":13157}},"246":{"start":{"line":1,"column":12093},"end":{"line":1,"column":12145}},"247":{"start":{"line":1,"column":12152},"end":{"line":1,"column":12184}},"248":{"start":{"line":1,"column":12168},"end":{"line":1,"column":12178}},"249":{"start":{"line":1,"column":12178},"end":{"line":1,"column":12183}},"250":{"start":{"line":1,"column":12184},"end":{"line":1,"column":12231}},"251":{"start":{"line":1,"column":12238},"end":{"line":1,"column":12360}},"252":{"start":{"line":1,"column":12296},"end":{"line":1,"column":12357}},"253":{"start":{"line":1,"column":12367},"end":{"line":1,"column":12513}},"254":{"start":{"line":1,"column":12450},"end":{"line":1,"column":12510}},"255":{"start":{"line":1,"column":12521},"end":{"line":1,"column":12553}},"256":{"start":{"line":1,"column":12537},"end":{"line":1,"column":12547}},"257":{"start":{"line":1,"column":12547},"end":{"line":1,"column":12552}},"258":{"start":{"line":1,"column":12553},"end":{"line":1,"column":12767}},"259":{"start":{"line":1,"column":12704},"end":{"line":1,"column":12764}},"260":{"start":{"line":1,"column":12775},"end":{"line":1,"column":12913}},"261":{"start":{"line":1,"column":12850},"end":{"line":1,"column":12910}},"262":{"start":{"line":1,"column":12921},"end":{"line":1,"column":12975}},"263":{"start":{"line":1,"column":12975},"end":{"line":1,"column":12981}},"264":{"start":{"line":1,"column":12989},"end":{"line":1,"column":13039}},"265":{"start":{"line":1,"column":13047},"end":{"line":1,"column":13057}},"266":{"start":{"line":1,"column":13057},"end":{"line":1,"column":13063}},"267":{"start":{"line":1,"column":13071},"end":{"line":1,"column":13122}},"268":{"start":{"line":1,"column":13140},"end":{"line":1,"column":13156}},"269":{"start":{"line":1,"column":13165},"end":{"line":1,"column":13214}},"270":{"start":{"line":1,"column":13183},"end":{"line":1,"column":13213}},"271":{"start":{"line":1,"column":13218},"end":{"line":1,"column":13250}},"272":{"start":{"line":1,"column":13267},"end":{"line":1,"column":13279}},"273":{"start":{"line":1,"column":13280},"end":{"line":1,"column":13314}},"274":{"start":{"line":1,"column":13336},"end":{"line":1,"column":13614}},"275":{"start":{"line":1,"column":13350},"end":{"line":1,"column":13613}},"276":{"start":{"line":1,"column":13355},"end":{"line":1,"column":13613}},"277":{"start":{"line":1,"column":13359},"end":{"line":1,"column":13563}},"278":{"start":{"line":1,"column":13402},"end":{"line":1,"column":13412}},"279":{"start":{"line":1,"column":13413},"end":{"line":1,"column":13521}},"280":{"start":{"line":1,"column":13527},"end":{"line":1,"column":13563}},"281":{"start":{"line":1,"column":13573},"end":{"line":1,"column":13612}},"282":{"start":{"line":1,"column":13632},"end":{"line":1,"column":13670}},"283":{"start":{"line":1,"column":13698},"end":{"line":1,"column":14311}},"284":{"start":{"line":1,"column":13715},"end":{"line":1,"column":14258}},"285":{"start":{"line":1,"column":13798},"end":{"line":1,"column":14255}},"286":{"start":{"line":1,"column":13841},"end":{"line":1,"column":14251}},"287":{"start":{"line":1,"column":13848},"end":{"line":1,"column":14251}},"288":{"start":{"line":1,"column":13877},"end":{"line":1,"column":13984}},"289":{"start":{"line":1,"column":13940},"end":{"line":1,"column":13981}},"290":{"start":{"line":1,"column":13991},"end":{"line":1,"column":14200}},"291":{"start":{"line":1,"column":14153},"end":{"line":1,"column":14197}},"292":{"start":{"line":1,"column":14207},"end":{"line":1,"column":14217}},"293":{"start":{"line":1,"column":14234},"end":{"line":1,"column":14250}},"294":{"start":{"line":1,"column":14259},"end":{"line":1,"column":14308}},"295":{"start":{"line":1,"column":14277},"end":{"line":1,"column":14307}},"296":{"start":{"line":1,"column":14325},"end":{"line":1,"column":14359}},"297":{"start":{"line":1,"column":14386},"end":{"line":1,"column":16721}},"298":{"start":{"line":1,"column":14403},"end":{"line":1,"column":16668}},"299":{"start":{"line":1,"column":14494},"end":{"line":1,"column":16665}},"300":{"start":{"line":1,"column":14537},"end":{"line":1,"column":16661}},"301":{"start":{"line":1,"column":14544},"end":{"line":1,"column":16661}},"302":{"start":{"line":1,"column":14573},"end":{"line":1,"column":14620}},"303":{"start":{"line":1,"column":14627},"end":{"line":1,"column":14680}},"304":{"start":{"line":1,"column":14687},"end":{"line":1,"column":14719}},"305":{"start":{"line":1,"column":14703},"end":{"line":1,"column":14713}},"306":{"start":{"line":1,"column":14713},"end":{"line":1,"column":14718}},"307":{"start":{"line":1,"column":14719},"end":{"line":1,"column":14768}},"308":{"start":{"line":1,"column":14775},"end":{"line":1,"column":14912}},"309":{"start":{"line":1,"column":14888},"end":{"line":1,"column":14909}},"310":{"start":{"line":1,"column":14920},"end":{"line":1,"column":14958}},"311":{"start":{"line":1,"column":14942},"end":{"line":1,"column":14952}},"312":{"start":{"line":1,"column":14952},"end":{"line":1,"column":14957}},"313":{"start":{"line":1,"column":14958},"end":{"line":1,"column":15017}},"314":{"start":{"line":1,"column":15017},"end":{"line":1,"column":15023}},"315":{"start":{"line":1,"column":15031},"end":{"line":1,"column":16365}},"316":{"start":{"line":1,"column":15181},"end":{"line":1,"column":16360}},"317":{"start":{"line":1,"column":15224},"end":{"line":1,"column":16356}},"318":{"start":{"line":1,"column":15231},"end":{"line":1,"column":16356}},"319":{"start":{"line":1,"column":15260},"end":{"line":1,"column":16175}},"320":{"start":{"line":1,"column":16112},"end":{"line":1,"column":16172}},"321":{"start":{"line":1,"column":16182},"end":{"line":1,"column":16276}},"322":{"start":{"line":1,"column":16252},"end":{"line":1,"column":16273}},"323":{"start":{"line":1,"column":16283},"end":{"line":1,"column":16322}},"324":{"start":{"line":1,"column":16339},"end":{"line":1,"column":16355}},"325":{"start":{"line":1,"column":16373},"end":{"line":1,"column":16405}},"326":{"start":{"line":1,"column":16389},"end":{"line":1,"column":16399}},"327":{"start":{"line":1,"column":16399},"end":{"line":1,"column":16404}},"328":{"start":{"line":1,"column":16405},"end":{"line":1,"column":16496}},"329":{"start":{"line":1,"column":16472},"end":{"line":1,"column":16493}},"330":{"start":{"line":1,"column":16504},"end":{"line":1,"column":16543}},"331":{"start":{"line":1,"column":16551},"end":{"line":1,"column":16561}},"332":{"start":{"line":1,"column":16561},"end":{"line":1,"column":16567}},"333":{"start":{"line":1,"column":16575},"end":{"line":1,"column":16626}},"334":{"start":{"line":1,"column":16644},"end":{"line":1,"column":16660}},"335":{"start":{"line":1,"column":16669},"end":{"line":1,"column":16718}},"336":{"start":{"line":1,"column":16687},"end":{"line":1,"column":16717}},"337":{"start":{"line":1,"column":16722},"end":{"line":1,"column":16756}},"338":{"start":{"line":1,"column":16781},"end":{"line":1,"column":18077}},"339":{"start":{"line":1,"column":16798},"end":{"line":1,"column":18024}},"340":{"start":{"line":1,"column":16879},"end":{"line":1,"column":18021}},"341":{"start":{"line":1,"column":16922},"end":{"line":1,"column":18017}},"342":{"start":{"line":1,"column":16929},"end":{"line":1,"column":18017}},"343":{"start":{"line":1,"column":16958},"end":{"line":1,"column":17012}},"344":{"start":{"line":1,"column":17019},"end":{"line":1,"column":17051}},"345":{"start":{"line":1,"column":17035},"end":{"line":1,"column":17045}},"346":{"start":{"line":1,"column":17045},"end":{"line":1,"column":17050}},"347":{"start":{"line":1,"column":17051},"end":{"line":1,"column":17098}},"348":{"start":{"line":1,"column":17105},"end":{"line":1,"column":17227}},"349":{"start":{"line":1,"column":17163},"end":{"line":1,"column":17224}},"350":{"start":{"line":1,"column":17234},"end":{"line":1,"column":17295}},"351":{"start":{"line":1,"column":17279},"end":{"line":1,"column":17289}},"352":{"start":{"line":1,"column":17289},"end":{"line":1,"column":17294}},"353":{"start":{"line":1,"column":17295},"end":{"line":1,"column":17428}},"354":{"start":{"line":1,"column":17369},"end":{"line":1,"column":17425}},"355":{"start":{"line":1,"column":17436},"end":{"line":1,"column":17626}},"356":{"start":{"line":1,"column":17561},"end":{"line":1,"column":17623}},"357":{"start":{"line":1,"column":17634},"end":{"line":1,"column":17780}},"358":{"start":{"line":1,"column":17715},"end":{"line":1,"column":17777}},"359":{"start":{"line":1,"column":17788},"end":{"line":1,"column":17830}},"360":{"start":{"line":1,"column":17830},"end":{"line":1,"column":17836}},"361":{"start":{"line":1,"column":17844},"end":{"line":1,"column":17899}},"362":{"start":{"line":1,"column":17907},"end":{"line":1,"column":17917}},"363":{"start":{"line":1,"column":17917},"end":{"line":1,"column":17923}},"364":{"start":{"line":1,"column":17931},"end":{"line":1,"column":17982}},"365":{"start":{"line":1,"column":18000},"end":{"line":1,"column":18016}},"366":{"start":{"line":1,"column":18025},"end":{"line":1,"column":18074}},"367":{"start":{"line":1,"column":18043},"end":{"line":1,"column":18073}},"368":{"start":{"line":1,"column":18078},"end":{"line":1,"column":18102}},"369":{"start":{"line":1,"column":18115},"end":{"line":2,"column":1}},"370":{"start":{"line":2,"column":2},"end":{"line":2,"column":28}}},"fnMap":{"0":{"name":"_getRequireWildcardCache","decl":{"start":{"line":1,"column":696},"end":{"line":1,"column":720}},"loc":{"start":{"line":1,"column":722},"end":{"line":1,"column":838}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":815},"end":{"line":1,"column":816}},"loc":{"start":{"line":1,"column":825},"end":{"line":1,"column":835}},"line":1},"2":{"name":"_interopRequireWildcard","decl":{"start":{"line":1,"column":847},"end":{"line":1,"column":870}},"loc":{"start":{"line":1,"column":873},"end":{"line":1,"column":1313}},"line":1},"3":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":1322},"end":{"line":1,"column":1344}},"loc":{"start":{"line":1,"column":1347},"end":{"line":1,"column":1385}},"line":1},"4":{"name":"_typeof","decl":{"start":{"line":1,"column":1394},"end":{"line":1,"column":1401}},"loc":{"start":{"line":1,"column":1404},"end":{"line":1,"column":1633}},"line":1},"5":{"name":"(anonymous_5)","decl":{"start":{"line":1,"column":1480},"end":{"line":1,"column":1481}},"loc":{"start":{"line":1,"column":1491},"end":{"line":1,"column":1508}},"line":1},"6":{"name":"(anonymous_6)","decl":{"start":{"line":1,"column":1509},"end":{"line":1,"column":1510}},"loc":{"start":{"line":1,"column":1520},"end":{"line":1,"column":1621}},"line":1},"7":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":1642},"end":{"line":1,"column":1660}},"loc":{"start":{"line":1,"column":1675},"end":{"line":1,"column":1771}},"line":1},"8":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":1780},"end":{"line":1,"column":1797}},"loc":{"start":{"line":1,"column":1800},"end":{"line":1,"column":2014}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":1808},"end":{"line":1,"column":1809}},"loc":{"start":{"line":1,"column":1818},"end":{"line":1,"column":2013}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":1861},"end":{"line":1,"column":1862}},"loc":{"start":{"line":1,"column":1874},"end":{"line":1,"column":2011}},"line":1},"11":{"name":"f","decl":{"start":{"line":1,"column":1884},"end":{"line":1,"column":1885}},"loc":{"start":{"line":1,"column":1888},"end":{"line":1,"column":1928}},"line":1},"12":{"name":"g","decl":{"start":{"line":1,"column":1937},"end":{"line":1,"column":1938}},"loc":{"start":{"line":1,"column":1941},"end":{"line":1,"column":1982}},"line":1},"13":{"name":"(anonymous_13)","decl":{"start":{"line":1,"column":2054},"end":{"line":1,"column":2055}},"loc":{"start":{"line":1,"column":2064},"end":{"line":1,"column":2970}},"line":1},"14":{"name":"a","decl":{"start":{"line":1,"column":2135},"end":{"line":1,"column":2136}},"loc":{"start":{"line":1,"column":2141},"end":{"line":1,"column":2917}},"line":1},"15":{"name":"(anonymous_15)","decl":{"start":{"line":1,"column":2187},"end":{"line":1,"column":2188}},"loc":{"start":{"line":1,"column":2198},"end":{"line":1,"column":2913}},"line":1},"16":{"name":"(anonymous_16)","decl":{"start":{"line":1,"column":2287},"end":{"line":1,"column":2288}},"loc":{"start":{"line":1,"column":2297},"end":{"line":1,"column":2359}},"line":1},"17":{"name":"(anonymous_17)","decl":{"start":{"line":1,"column":2695},"end":{"line":1,"column":2696}},"loc":{"start":{"line":1,"column":2705},"end":{"line":1,"column":2763}},"line":1},"18":{"name":"(anonymous_18)","decl":{"start":{"line":1,"column":2827},"end":{"line":1,"column":2828}},"loc":{"start":{"line":1,"column":2838},"end":{"line":1,"column":2851}},"line":1},"19":{"name":"(anonymous_19)","decl":{"start":{"line":1,"column":2927},"end":{"line":1,"column":2928}},"loc":{"start":{"line":1,"column":2937},"end":{"line":1,"column":2969}},"line":1},"20":{"name":"(anonymous_20)","decl":{"start":{"line":1,"column":3075},"end":{"line":1,"column":3076}},"loc":{"start":{"line":1,"column":3085},"end":{"line":1,"column":3857}},"line":1},"21":{"name":"a","decl":{"start":{"line":1,"column":3156},"end":{"line":1,"column":3157}},"loc":{"start":{"line":1,"column":3164},"end":{"line":1,"column":3804}},"line":1},"22":{"name":"(anonymous_22)","decl":{"start":{"line":1,"column":3208},"end":{"line":1,"column":3209}},"loc":{"start":{"line":1,"column":3219},"end":{"line":1,"column":3800}},"line":1},"23":{"name":"(anonymous_23)","decl":{"start":{"line":1,"column":3307},"end":{"line":1,"column":3308}},"loc":{"start":{"line":1,"column":3317},"end":{"line":1,"column":3379}},"line":1},"24":{"name":"(anonymous_24)","decl":{"start":{"line":1,"column":3586},"end":{"line":1,"column":3587}},"loc":{"start":{"line":1,"column":3596},"end":{"line":1,"column":3654}},"line":1},"25":{"name":"(anonymous_25)","decl":{"start":{"line":1,"column":3715},"end":{"line":1,"column":3716}},"loc":{"start":{"line":1,"column":3726},"end":{"line":1,"column":3739}},"line":1},"26":{"name":"(anonymous_26)","decl":{"start":{"line":1,"column":3814},"end":{"line":1,"column":3815}},"loc":{"start":{"line":1,"column":3824},"end":{"line":1,"column":3856}},"line":1},"27":{"name":"(anonymous_27)","decl":{"start":{"line":1,"column":3947},"end":{"line":1,"column":3948}},"loc":{"start":{"line":1,"column":3957},"end":{"line":1,"column":5171}},"line":1},"28":{"name":"a","decl":{"start":{"line":1,"column":4028},"end":{"line":1,"column":4029}},"loc":{"start":{"line":1,"column":4034},"end":{"line":1,"column":5118}},"line":1},"29":{"name":"(anonymous_29)","decl":{"start":{"line":1,"column":4078},"end":{"line":1,"column":4079}},"loc":{"start":{"line":1,"column":4089},"end":{"line":1,"column":5114}},"line":1},"30":{"name":"(anonymous_30)","decl":{"start":{"line":1,"column":4314},"end":{"line":1,"column":4315}},"loc":{"start":{"line":1,"column":4325},"end":{"line":1,"column":4348}},"line":1},"31":{"name":"(anonymous_31)","decl":{"start":{"line":1,"column":4452},"end":{"line":1,"column":4453}},"loc":{"start":{"line":1,"column":4462},"end":{"line":1,"column":4524}},"line":1},"32":{"name":"(anonymous_32)","decl":{"start":{"line":1,"column":5128},"end":{"line":1,"column":5129}},"loc":{"start":{"line":1,"column":5138},"end":{"line":1,"column":5170}},"line":1},"33":{"name":"(anonymous_33)","decl":{"start":{"line":1,"column":5547},"end":{"line":1,"column":5548}},"loc":{"start":{"line":1,"column":5557},"end":{"line":1,"column":8151}},"line":1},"34":{"name":"a","decl":{"start":{"line":1,"column":5628},"end":{"line":1,"column":5629}},"loc":{"start":{"line":1,"column":5634},"end":{"line":1,"column":8098}},"line":1},"35":{"name":"(anonymous_35)","decl":{"start":{"line":1,"column":5676},"end":{"line":1,"column":5677}},"loc":{"start":{"line":1,"column":5687},"end":{"line":1,"column":8094}},"line":1},"36":{"name":"(anonymous_36)","decl":{"start":{"line":1,"column":5916},"end":{"line":1,"column":5917}},"loc":{"start":{"line":1,"column":5926},"end":{"line":1,"column":5985}},"line":1},"37":{"name":"a","decl":{"start":{"line":1,"column":6202},"end":{"line":1,"column":6203}},"loc":{"start":{"line":1,"column":6205},"end":{"line":1,"column":7822}},"line":1},"38":{"name":"(anonymous_38)","decl":{"start":{"line":1,"column":6251},"end":{"line":1,"column":6252}},"loc":{"start":{"line":1,"column":6262},"end":{"line":1,"column":7818}},"line":1},"39":{"name":"(anonymous_39)","decl":{"start":{"line":1,"column":6355},"end":{"line":1,"column":6356}},"loc":{"start":{"line":1,"column":6365},"end":{"line":1,"column":6420}},"line":1},"40":{"name":"(anonymous_40)","decl":{"start":{"line":1,"column":6518},"end":{"line":1,"column":6519}},"loc":{"start":{"line":1,"column":6528},"end":{"line":1,"column":6590}},"line":1},"41":{"name":"(anonymous_41)","decl":{"start":{"line":1,"column":6953},"end":{"line":1,"column":6954}},"loc":{"start":{"line":1,"column":6964},"end":{"line":1,"column":6986}},"line":1},"42":{"name":"(anonymous_42)","decl":{"start":{"line":1,"column":7170},"end":{"line":1,"column":7171}},"loc":{"start":{"line":1,"column":7180},"end":{"line":1,"column":7242}},"line":1},"43":{"name":"(anonymous_43)","decl":{"start":{"line":1,"column":7361},"end":{"line":1,"column":7362}},"loc":{"start":{"line":1,"column":7371},"end":{"line":1,"column":7427}},"line":1},"44":{"name":"(anonymous_44)","decl":{"start":{"line":1,"column":7594},"end":{"line":1,"column":7595}},"loc":{"start":{"line":1,"column":7604},"end":{"line":1,"column":7658}},"line":1},"45":{"name":"(anonymous_45)","decl":{"start":{"line":1,"column":8108},"end":{"line":1,"column":8109}},"loc":{"start":{"line":1,"column":8118},"end":{"line":1,"column":8150}},"line":1},"46":{"name":"(anonymous_46)","decl":{"start":{"line":1,"column":8207},"end":{"line":1,"column":8208}},"loc":{"start":{"line":1,"column":8217},"end":{"line":1,"column":9724}},"line":1},"47":{"name":"a","decl":{"start":{"line":1,"column":8288},"end":{"line":1,"column":8289}},"loc":{"start":{"line":1,"column":8296},"end":{"line":1,"column":9671}},"line":1},"48":{"name":"(anonymous_48)","decl":{"start":{"line":1,"column":8336},"end":{"line":1,"column":8337}},"loc":{"start":{"line":1,"column":8347},"end":{"line":1,"column":9667}},"line":1},"49":{"name":"(anonymous_49)","decl":{"start":{"line":1,"column":9061},"end":{"line":1,"column":9062}},"loc":{"start":{"line":1,"column":9072},"end":{"line":1,"column":9085}},"line":1},"50":{"name":"(anonymous_50)","decl":{"start":{"line":1,"column":9204},"end":{"line":1,"column":9205}},"loc":{"start":{"line":1,"column":9215},"end":{"line":1,"column":9228}},"line":1},"51":{"name":"(anonymous_51)","decl":{"start":{"line":1,"column":9343},"end":{"line":1,"column":9344}},"loc":{"start":{"line":1,"column":9353},"end":{"line":1,"column":9399}},"line":1},"52":{"name":"(anonymous_52)","decl":{"start":{"line":1,"column":9521},"end":{"line":1,"column":9522}},"loc":{"start":{"line":1,"column":9531},"end":{"line":1,"column":9576}},"line":1},"53":{"name":"(anonymous_53)","decl":{"start":{"line":1,"column":9681},"end":{"line":1,"column":9682}},"loc":{"start":{"line":1,"column":9691},"end":{"line":1,"column":9723}},"line":1},"54":{"name":"(anonymous_54)","decl":{"start":{"line":1,"column":9789},"end":{"line":1,"column":9790}},"loc":{"start":{"line":1,"column":9799},"end":{"line":1,"column":11862}},"line":1},"55":{"name":"a","decl":{"start":{"line":1,"column":9870},"end":{"line":1,"column":9871}},"loc":{"start":{"line":1,"column":9876},"end":{"line":1,"column":11809}},"line":1},"56":{"name":"(anonymous_56)","decl":{"start":{"line":1,"column":9926},"end":{"line":1,"column":9927}},"loc":{"start":{"line":1,"column":9937},"end":{"line":1,"column":11805}},"line":1},"57":{"name":"(anonymous_57)","decl":{"start":{"line":1,"column":10165},"end":{"line":1,"column":10166}},"loc":{"start":{"line":1,"column":10175},"end":{"line":1,"column":10238}},"line":1},"58":{"name":"(anonymous_58)","decl":{"start":{"line":1,"column":10330},"end":{"line":1,"column":10331}},"loc":{"start":{"line":1,"column":10340},"end":{"line":1,"column":10628}},"line":1},"59":{"name":"a","decl":{"start":{"line":1,"column":10411},"end":{"line":1,"column":10412}},"loc":{"start":{"line":1,"column":10415},"end":{"line":1,"column":10575}},"line":1},"60":{"name":"(anonymous_60)","decl":{"start":{"line":1,"column":10447},"end":{"line":1,"column":10448}},"loc":{"start":{"line":1,"column":10458},"end":{"line":1,"column":10571}},"line":1},"61":{"name":"(anonymous_61)","decl":{"start":{"line":1,"column":10585},"end":{"line":1,"column":10586}},"loc":{"start":{"line":1,"column":10595},"end":{"line":1,"column":10627}},"line":1},"62":{"name":"(anonymous_62)","decl":{"start":{"line":1,"column":10712},"end":{"line":1,"column":10713}},"loc":{"start":{"line":1,"column":10722},"end":{"line":1,"column":10784}},"line":1},"63":{"name":"(anonymous_63)","decl":{"start":{"line":1,"column":10905},"end":{"line":1,"column":10906}},"loc":{"start":{"line":1,"column":10915},"end":{"line":1,"column":10973}},"line":1},"64":{"name":"(anonymous_64)","decl":{"start":{"line":1,"column":11082},"end":{"line":1,"column":11083}},"loc":{"start":{"line":1,"column":11092},"end":{"line":1,"column":11156}},"line":1},"65":{"name":"(anonymous_65)","decl":{"start":{"line":1,"column":11229},"end":{"line":1,"column":11230}},"loc":{"start":{"line":1,"column":11239},"end":{"line":1,"column":11301}},"line":1},"66":{"name":"(anonymous_66)","decl":{"start":{"line":1,"column":11819},"end":{"line":1,"column":11820}},"loc":{"start":{"line":1,"column":11829},"end":{"line":1,"column":11861}},"line":1},"67":{"name":"(anonymous_67)","decl":{"start":{"line":1,"column":11912},"end":{"line":1,"column":11913}},"loc":{"start":{"line":1,"column":11922},"end":{"line":1,"column":13215}},"line":1},"68":{"name":"a","decl":{"start":{"line":1,"column":11993},"end":{"line":1,"column":11994}},"loc":{"start":{"line":1,"column":11999},"end":{"line":1,"column":13162}},"line":1},"69":{"name":"(anonymous_69)","decl":{"start":{"line":1,"column":12045},"end":{"line":1,"column":12046}},"loc":{"start":{"line":1,"column":12056},"end":{"line":1,"column":13158}},"line":1},"70":{"name":"(anonymous_70)","decl":{"start":{"line":1,"column":12285},"end":{"line":1,"column":12286}},"loc":{"start":{"line":1,"column":12295},"end":{"line":1,"column":12358}},"line":1},"71":{"name":"(anonymous_71)","decl":{"start":{"line":1,"column":12439},"end":{"line":1,"column":12440}},"loc":{"start":{"line":1,"column":12449},"end":{"line":1,"column":12511}},"line":1},"72":{"name":"(anonymous_72)","decl":{"start":{"line":1,"column":12693},"end":{"line":1,"column":12694}},"loc":{"start":{"line":1,"column":12703},"end":{"line":1,"column":12765}},"line":1},"73":{"name":"(anonymous_73)","decl":{"start":{"line":1,"column":12839},"end":{"line":1,"column":12840}},"loc":{"start":{"line":1,"column":12849},"end":{"line":1,"column":12911}},"line":1},"74":{"name":"(anonymous_74)","decl":{"start":{"line":1,"column":13172},"end":{"line":1,"column":13173}},"loc":{"start":{"line":1,"column":13182},"end":{"line":1,"column":13214}},"line":1},"75":{"name":"(anonymous_75)","decl":{"start":{"line":1,"column":13267},"end":{"line":1,"column":13268}},"loc":{"start":{"line":1,"column":13277},"end":{"line":1,"column":13279}},"line":1},"76":{"name":"(anonymous_76)","decl":{"start":{"line":1,"column":13336},"end":{"line":1,"column":13337}},"loc":{"start":{"line":1,"column":13349},"end":{"line":1,"column":13614}},"line":1},"77":{"name":"(anonymous_77)","decl":{"start":{"line":1,"column":13698},"end":{"line":1,"column":13699}},"loc":{"start":{"line":1,"column":13708},"end":{"line":1,"column":14309}},"line":1},"78":{"name":"a","decl":{"start":{"line":1,"column":13779},"end":{"line":1,"column":13780}},"loc":{"start":{"line":1,"column":13787},"end":{"line":1,"column":14256}},"line":1},"79":{"name":"(anonymous_79)","decl":{"start":{"line":1,"column":13829},"end":{"line":1,"column":13830}},"loc":{"start":{"line":1,"column":13840},"end":{"line":1,"column":14252}},"line":1},"80":{"name":"(anonymous_80)","decl":{"start":{"line":1,"column":13929},"end":{"line":1,"column":13930}},"loc":{"start":{"line":1,"column":13939},"end":{"line":1,"column":13982}},"line":1},"81":{"name":"(anonymous_81)","decl":{"start":{"line":1,"column":14142},"end":{"line":1,"column":14143}},"loc":{"start":{"line":1,"column":14152},"end":{"line":1,"column":14198}},"line":1},"82":{"name":"(anonymous_82)","decl":{"start":{"line":1,"column":14266},"end":{"line":1,"column":14267}},"loc":{"start":{"line":1,"column":14276},"end":{"line":1,"column":14308}},"line":1},"83":{"name":"(anonymous_83)","decl":{"start":{"line":1,"column":14386},"end":{"line":1,"column":14387}},"loc":{"start":{"line":1,"column":14396},"end":{"line":1,"column":16719}},"line":1},"84":{"name":"a","decl":{"start":{"line":1,"column":14467},"end":{"line":1,"column":14468}},"loc":{"start":{"line":1,"column":14473},"end":{"line":1,"column":16666}},"line":1},"85":{"name":"(anonymous_85)","decl":{"start":{"line":1,"column":14525},"end":{"line":1,"column":14526}},"loc":{"start":{"line":1,"column":14536},"end":{"line":1,"column":16662}},"line":1},"86":{"name":"(anonymous_86)","decl":{"start":{"line":1,"column":14876},"end":{"line":1,"column":14877}},"loc":{"start":{"line":1,"column":14887},"end":{"line":1,"column":14910}},"line":1},"87":{"name":"a","decl":{"start":{"line":1,"column":15165},"end":{"line":1,"column":15166}},"loc":{"start":{"line":1,"column":15168},"end":{"line":1,"column":16361}},"line":1},"88":{"name":"(anonymous_88)","decl":{"start":{"line":1,"column":15212},"end":{"line":1,"column":15213}},"loc":{"start":{"line":1,"column":15223},"end":{"line":1,"column":16357}},"line":1},"89":{"name":"(anonymous_89)","decl":{"start":{"line":1,"column":16101},"end":{"line":1,"column":16102}},"loc":{"start":{"line":1,"column":16111},"end":{"line":1,"column":16173}},"line":1},"90":{"name":"(anonymous_90)","decl":{"start":{"line":1,"column":16240},"end":{"line":1,"column":16241}},"loc":{"start":{"line":1,"column":16251},"end":{"line":1,"column":16274}},"line":1},"91":{"name":"(anonymous_91)","decl":{"start":{"line":1,"column":16460},"end":{"line":1,"column":16461}},"loc":{"start":{"line":1,"column":16471},"end":{"line":1,"column":16494}},"line":1},"92":{"name":"(anonymous_92)","decl":{"start":{"line":1,"column":16676},"end":{"line":1,"column":16677}},"loc":{"start":{"line":1,"column":16686},"end":{"line":1,"column":16718}},"line":1},"93":{"name":"(anonymous_93)","decl":{"start":{"line":1,"column":16781},"end":{"line":1,"column":16782}},"loc":{"start":{"line":1,"column":16791},"end":{"line":1,"column":18075}},"line":1},"94":{"name":"a","decl":{"start":{"line":1,"column":16862},"end":{"line":1,"column":16863}},"loc":{"start":{"line":1,"column":16868},"end":{"line":1,"column":18022}},"line":1},"95":{"name":"(anonymous_95)","decl":{"start":{"line":1,"column":16910},"end":{"line":1,"column":16911}},"loc":{"start":{"line":1,"column":16921},"end":{"line":1,"column":18018}},"line":1},"96":{"name":"(anonymous_96)","decl":{"start":{"line":1,"column":17152},"end":{"line":1,"column":17153}},"loc":{"start":{"line":1,"column":17162},"end":{"line":1,"column":17225}},"line":1},"97":{"name":"(anonymous_97)","decl":{"start":{"line":1,"column":17358},"end":{"line":1,"column":17359}},"loc":{"start":{"line":1,"column":17368},"end":{"line":1,"column":17426}},"line":1},"98":{"name":"(anonymous_98)","decl":{"start":{"line":1,"column":17550},"end":{"line":1,"column":17551}},"loc":{"start":{"line":1,"column":17560},"end":{"line":1,"column":17624}},"line":1},"99":{"name":"(anonymous_99)","decl":{"start":{"line":1,"column":17704},"end":{"line":1,"column":17705}},"loc":{"start":{"line":1,"column":17714},"end":{"line":1,"column":17778}},"line":1},"100":{"name":"(anonymous_100)","decl":{"start":{"line":1,"column":18032},"end":{"line":1,"column":18033}},"loc":{"start":{"line":1,"column":18042},"end":{"line":1,"column":18074}},"line":1},"101":{"name":"(anonymous_101)","decl":{"start":{"line":1,"column":18115},"end":{"line":1,"column":18116}},"loc":{"start":{"line":1,"column":18125},"end":{"line":2,"column":1}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":723},"end":{"line":1,"column":765}},"type":"if","locations":[{"start":{"line":1,"column":723},"end":{"line":1,"column":765}},{"start":{"line":1,"column":723},"end":{"line":1,"column":765}}],"line":1},"1":{"loc":{"start":{"line":1,"column":874},"end":{"line":1,"column":902}},"type":"if","locations":[{"start":{"line":1,"column":874},"end":{"line":1,"column":902}},{"start":{"line":1,"column":874},"end":{"line":1,"column":902}}],"line":1},"2":{"loc":{"start":{"line":1,"column":877},"end":{"line":1,"column":892}},"type":"binary-expr","locations":[{"start":{"line":1,"column":877},"end":{"line":1,"column":878}},{"start":{"line":1,"column":880},"end":{"line":1,"column":892}}],"line":1},"3":{"loc":{"start":{"line":1,"column":902},"end":{"line":1,"column":977}},"type":"if","locations":[{"start":{"line":1,"column":902},"end":{"line":1,"column":977}},{"start":{"line":1,"column":902},"end":{"line":1,"column":977}}],"line":1},"4":{"loc":{"start":{"line":1,"column":905},"end":{"line":1,"column":958}},"type":"binary-expr","locations":[{"start":{"line":1,"column":905},"end":{"line":1,"column":913}},{"start":{"line":1,"column":915},"end":{"line":1,"column":936}},{"start":{"line":1,"column":938},"end":{"line":1,"column":958}}],"line":1},"5":{"loc":{"start":{"line":1,"column":1010},"end":{"line":1,"column":1041}},"type":"if","locations":[{"start":{"line":1,"column":1010},"end":{"line":1,"column":1041}},{"start":{"line":1,"column":1010},"end":{"line":1,"column":1041}}],"line":1},"6":{"loc":{"start":{"line":1,"column":1013},"end":{"line":1,"column":1024}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1013},"end":{"line":1,"column":1014}},{"start":{"line":1,"column":1016},"end":{"line":1,"column":1024}}],"line":1},"7":{"loc":{"start":{"line":1,"column":1052},"end":{"line":1,"column":1106}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1052},"end":{"line":1,"column":1073}},{"start":{"line":1,"column":1075},"end":{"line":1,"column":1106}}],"line":1},"8":{"loc":{"start":{"line":1,"column":1122},"end":{"line":1,"column":1275}},"type":"if","locations":[{"start":{"line":1,"column":1122},"end":{"line":1,"column":1275}},{"start":{"line":1,"column":1122},"end":{"line":1,"column":1275}}],"line":1},"9":{"loc":{"start":{"line":1,"column":1174},"end":{"line":1,"column":1217}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1176},"end":{"line":1,"column":1212}},{"start":{"line":1,"column":1213},"end":{"line":1,"column":1217}}],"line":1},"10":{"loc":{"start":{"line":1,"column":1218},"end":{"line":1,"column":1274}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1236},"end":{"line":1,"column":1264}},{"start":{"line":1,"column":1265},"end":{"line":1,"column":1274}}],"line":1},"11":{"loc":{"start":{"line":1,"column":1218},"end":{"line":1,"column":1235}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1218},"end":{"line":1,"column":1219}},{"start":{"line":1,"column":1222},"end":{"line":1,"column":1227}},{"start":{"line":1,"column":1229},"end":{"line":1,"column":1234}}],"line":1},"12":{"loc":{"start":{"line":1,"column":1297},"end":{"line":1,"column":1310}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1297},"end":{"line":1,"column":1298}},{"start":{"line":1,"column":1300},"end":{"line":1,"column":1310}}],"line":1},"13":{"loc":{"start":{"line":1,"column":1355},"end":{"line":1,"column":1384}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1371},"end":{"line":1,"column":1372}},{"start":{"line":1,"column":1373},"end":{"line":1,"column":1384}}],"line":1},"14":{"loc":{"start":{"line":1,"column":1355},"end":{"line":1,"column":1370}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1355},"end":{"line":1,"column":1356}},{"start":{"line":1,"column":1358},"end":{"line":1,"column":1370}}],"line":1},"15":{"loc":{"start":{"line":1,"column":1420},"end":{"line":1,"column":1621}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1480},"end":{"line":1,"column":1508}},{"start":{"line":1,"column":1509},"end":{"line":1,"column":1621}}],"line":1},"16":{"loc":{"start":{"line":1,"column":1420},"end":{"line":1,"column":1479}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1420},"end":{"line":1,"column":1445}},{"start":{"line":1,"column":1447},"end":{"line":1,"column":1479}}],"line":1},"17":{"loc":{"start":{"line":1,"column":1528},"end":{"line":1,"column":1620}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1603},"end":{"line":1,"column":1611}},{"start":{"line":1,"column":1612},"end":{"line":1,"column":1620}}],"line":1},"18":{"loc":{"start":{"line":1,"column":1528},"end":{"line":1,"column":1602}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1528},"end":{"line":1,"column":1529}},{"start":{"line":1,"column":1531},"end":{"line":1,"column":1556}},{"start":{"line":1,"column":1558},"end":{"line":1,"column":1580}},{"start":{"line":1,"column":1582},"end":{"line":1,"column":1602}}],"line":1},"19":{"loc":{"start":{"line":1,"column":1730},"end":{"line":1,"column":1770}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1737},"end":{"line":1,"column":1741}},{"start":{"line":1,"column":1742},"end":{"line":1,"column":1770}}],"line":1},"20":{"loc":{"start":{"line":1,"column":2206},"end":{"line":1,"column":2912}},"type":"switch","locations":[{"start":{"line":1,"column":2228},"end":{"line":1,"column":2361}},{"start":{"line":1,"column":2361},"end":{"line":1,"column":2765}},{"start":{"line":1,"column":2765},"end":{"line":1,"column":2853}},{"start":{"line":1,"column":2853},"end":{"line":1,"column":2877}},{"start":{"line":1,"column":2877},"end":{"line":1,"column":2885}},{"start":{"line":1,"column":2885},"end":{"line":1,"column":2911}}],"line":1},"21":{"loc":{"start":{"line":1,"column":2870},"end":{"line":1,"column":2876}},"type":"binary-expr","locations":[{"start":{"line":1,"column":2870},"end":{"line":1,"column":2871}},{"start":{"line":1,"column":2873},"end":{"line":1,"column":2876}}],"line":1},"22":{"loc":{"start":{"line":1,"column":3227},"end":{"line":1,"column":3799}},"type":"switch","locations":[{"start":{"line":1,"column":3249},"end":{"line":1,"column":3381}},{"start":{"line":1,"column":3381},"end":{"line":1,"column":3656}},{"start":{"line":1,"column":3656},"end":{"line":1,"column":3741}},{"start":{"line":1,"column":3741},"end":{"line":1,"column":3764}},{"start":{"line":1,"column":3764},"end":{"line":1,"column":3772}},{"start":{"line":1,"column":3772},"end":{"line":1,"column":3798}}],"line":1},"23":{"loc":{"start":{"line":1,"column":3757},"end":{"line":1,"column":3763}},"type":"binary-expr","locations":[{"start":{"line":1,"column":3757},"end":{"line":1,"column":3758}},{"start":{"line":1,"column":3760},"end":{"line":1,"column":3763}}],"line":1},"24":{"loc":{"start":{"line":1,"column":4097},"end":{"line":1,"column":5113}},"type":"switch","locations":[{"start":{"line":1,"column":4119},"end":{"line":1,"column":4174}},{"start":{"line":1,"column":4174},"end":{"line":1,"column":4260}},{"start":{"line":1,"column":4260},"end":{"line":1,"column":4350}},{"start":{"line":1,"column":4350},"end":{"line":1,"column":4526}},{"start":{"line":1,"column":4526},"end":{"line":1,"column":4937}},{"start":{"line":1,"column":4937},"end":{"line":1,"column":4995}},{"start":{"line":1,"column":4995},"end":{"line":1,"column":5019}},{"start":{"line":1,"column":5019},"end":{"line":1,"column":5078}},{"start":{"line":1,"column":5078},"end":{"line":1,"column":5086}},{"start":{"line":1,"column":5086},"end":{"line":1,"column":5112}}],"line":1},"25":{"loc":{"start":{"line":1,"column":4181},"end":{"line":1,"column":4213}},"type":"if","locations":[{"start":{"line":1,"column":4181},"end":{"line":1,"column":4213}},{"start":{"line":1,"column":4181},"end":{"line":1,"column":4213}}],"line":1},"26":{"loc":{"start":{"line":1,"column":4357},"end":{"line":1,"column":4389}},"type":"if","locations":[{"start":{"line":1,"column":4357},"end":{"line":1,"column":4389}},{"start":{"line":1,"column":4357},"end":{"line":1,"column":4389}}],"line":1},"27":{"loc":{"start":{"line":1,"column":5695},"end":{"line":1,"column":8093}},"type":"switch","locations":[{"start":{"line":1,"column":5717},"end":{"line":1,"column":5777}},{"start":{"line":1,"column":5777},"end":{"line":1,"column":5863}},{"start":{"line":1,"column":5863},"end":{"line":1,"column":5987}},{"start":{"line":1,"column":5987},"end":{"line":1,"column":7826}},{"start":{"line":1,"column":7826},"end":{"line":1,"column":7916}},{"start":{"line":1,"column":7916},"end":{"line":1,"column":7975}},{"start":{"line":1,"column":7975},"end":{"line":1,"column":7999}},{"start":{"line":1,"column":7999},"end":{"line":1,"column":8058}},{"start":{"line":1,"column":8058},"end":{"line":1,"column":8066}},{"start":{"line":1,"column":8066},"end":{"line":1,"column":8092}}],"line":1},"28":{"loc":{"start":{"line":1,"column":5784},"end":{"line":1,"column":5816}},"type":"if","locations":[{"start":{"line":1,"column":5784},"end":{"line":1,"column":5816}},{"start":{"line":1,"column":5784},"end":{"line":1,"column":5816}}],"line":1},"29":{"loc":{"start":{"line":1,"column":5994},"end":{"line":1,"column":6062}},"type":"if","locations":[{"start":{"line":1,"column":5994},"end":{"line":1,"column":6062}},{"start":{"line":1,"column":5994},"end":{"line":1,"column":6062}}],"line":1},"30":{"loc":{"start":{"line":1,"column":6008},"end":{"line":1,"column":6043}},"type":"binary-expr","locations":[{"start":{"line":1,"column":6008},"end":{"line":1,"column":6015}},{"start":{"line":1,"column":6017},"end":{"line":1,"column":6027}},{"start":{"line":1,"column":6029},"end":{"line":1,"column":6043}}],"line":1},"31":{"loc":{"start":{"line":1,"column":6270},"end":{"line":1,"column":7817}},"type":"switch","locations":[{"start":{"line":1,"column":6292},"end":{"line":1,"column":6422}},{"start":{"line":1,"column":6422},"end":{"line":1,"column":6592}},{"start":{"line":1,"column":6592},"end":{"line":1,"column":7244}},{"start":{"line":1,"column":7244},"end":{"line":1,"column":7429}},{"start":{"line":1,"column":7429},"end":{"line":1,"column":7469}},{"start":{"line":1,"column":7469},"end":{"line":1,"column":7660}},{"start":{"line":1,"column":7660},"end":{"line":1,"column":7700}},{"start":{"line":1,"column":7700},"end":{"line":1,"column":7724}},{"start":{"line":1,"column":7724},"end":{"line":1,"column":7782}},{"start":{"line":1,"column":7782},"end":{"line":1,"column":7790}},{"start":{"line":1,"column":7790},"end":{"line":1,"column":7816}}],"line":1},"32":{"loc":{"start":{"line":1,"column":6429},"end":{"line":1,"column":6461}},"type":"if","locations":[{"start":{"line":1,"column":6429},"end":{"line":1,"column":6461}},{"start":{"line":1,"column":6429},"end":{"line":1,"column":6461}}],"line":1},"33":{"loc":{"start":{"line":1,"column":6617},"end":{"line":1,"column":6663}},"type":"cond-expr","locations":[{"start":{"line":1,"column":6630},"end":{"line":1,"column":6646}},{"start":{"line":1,"column":6647},"end":{"line":1,"column":6663}}],"line":1},"34":{"loc":{"start":{"line":1,"column":6690},"end":{"line":1,"column":6716}},"type":"cond-expr","locations":[{"start":{"line":1,"column":6702},"end":{"line":1,"column":6713}},{"start":{"line":1,"column":6714},"end":{"line":1,"column":6716}}],"line":1},"35":{"loc":{"start":{"line":1,"column":6726},"end":{"line":1,"column":6750}},"type":"cond-expr","locations":[{"start":{"line":1,"column":6737},"end":{"line":1,"column":6747}},{"start":{"line":1,"column":6748},"end":{"line":1,"column":6750}}],"line":1},"36":{"loc":{"start":{"line":1,"column":6777},"end":{"line":1,"column":6795}},"type":"cond-expr","locations":[{"start":{"line":1,"column":6785},"end":{"line":1,"column":6792}},{"start":{"line":1,"column":6793},"end":{"line":1,"column":6795}}],"line":1},"37":{"loc":{"start":{"line":1,"column":6917},"end":{"line":1,"column":6998}},"type":"cond-expr","locations":[{"start":{"line":1,"column":6927},"end":{"line":1,"column":6995}},{"start":{"line":1,"column":6996},"end":{"line":1,"column":6998}}],"line":1},"38":{"loc":{"start":{"line":1,"column":7252},"end":{"line":1,"column":7304}},"type":"if","locations":[{"start":{"line":1,"column":7252},"end":{"line":1,"column":7304}},{"start":{"line":1,"column":7252},"end":{"line":1,"column":7304}}],"line":1},"39":{"loc":{"start":{"line":1,"column":7477},"end":{"line":1,"column":7529}},"type":"if","locations":[{"start":{"line":1,"column":7477},"end":{"line":1,"column":7529}},{"start":{"line":1,"column":7477},"end":{"line":1,"column":7529}}],"line":1},"40":{"loc":{"start":{"line":1,"column":7843},"end":{"line":1,"column":7899}},"type":"binary-expr","locations":[{"start":{"line":1,"column":7843},"end":{"line":1,"column":7844}},{"start":{"line":1,"column":7846},"end":{"line":1,"column":7899}}],"line":1},"41":{"loc":{"start":{"line":1,"column":8355},"end":{"line":1,"column":9666}},"type":"switch","locations":[{"start":{"line":1,"column":8377},"end":{"line":1,"column":9087}},{"start":{"line":1,"column":9087},"end":{"line":1,"column":9230}},{"start":{"line":1,"column":9230},"end":{"line":1,"column":9401}},{"start":{"line":1,"column":9401},"end":{"line":1,"column":9578}},{"start":{"line":1,"column":9578},"end":{"line":1,"column":9613}},{"start":{"line":1,"column":9613},"end":{"line":1,"column":9631}},{"start":{"line":1,"column":9631},"end":{"line":1,"column":9639}},{"start":{"line":1,"column":9639},"end":{"line":1,"column":9665}}],"line":1},"42":{"loc":{"start":{"line":1,"column":8384},"end":{"line":1,"column":8980}},"type":"if","locations":[{"start":{"line":1,"column":8384},"end":{"line":1,"column":8980}},{"start":{"line":1,"column":8384},"end":{"line":1,"column":8980}}],"line":1},"43":{"loc":{"start":{"line":1,"column":8387},"end":{"line":1,"column":8457}},"type":"binary-expr","locations":[{"start":{"line":1,"column":8387},"end":{"line":1,"column":8403}},{"start":{"line":1,"column":8405},"end":{"line":1,"column":8430}},{"start":{"line":1,"column":8433},"end":{"line":1,"column":8456}}],"line":1},"44":{"loc":{"start":{"line":1,"column":8458},"end":{"line":1,"column":8523}},"type":"binary-expr","locations":[{"start":{"line":1,"column":8458},"end":{"line":1,"column":8473}},{"start":{"line":1,"column":8475},"end":{"line":1,"column":8498}},{"start":{"line":1,"column":8501},"end":{"line":1,"column":8522}}],"line":1},"45":{"loc":{"start":{"line":1,"column":8524},"end":{"line":1,"column":8584}},"type":"binary-expr","locations":[{"start":{"line":1,"column":8524},"end":{"line":1,"column":8538}},{"start":{"line":1,"column":8540},"end":{"line":1,"column":8561}},{"start":{"line":1,"column":8564},"end":{"line":1,"column":8583}}],"line":1},"46":{"loc":{"start":{"line":1,"column":8585},"end":{"line":1,"column":8630}},"type":"binary-expr","locations":[{"start":{"line":1,"column":8585},"end":{"line":1,"column":8596}},{"start":{"line":1,"column":8598},"end":{"line":1,"column":8613}},{"start":{"line":1,"column":8616},"end":{"line":1,"column":8629}}],"line":1},"47":{"loc":{"start":{"line":1,"column":8631},"end":{"line":1,"column":8691}},"type":"binary-expr","locations":[{"start":{"line":1,"column":8631},"end":{"line":1,"column":8645}},{"start":{"line":1,"column":8647},"end":{"line":1,"column":8668}},{"start":{"line":1,"column":8671},"end":{"line":1,"column":8690}}],"line":1},"48":{"loc":{"start":{"line":1,"column":8692},"end":{"line":1,"column":8762}},"type":"binary-expr","locations":[{"start":{"line":1,"column":8692},"end":{"line":1,"column":8708}},{"start":{"line":1,"column":8710},"end":{"line":1,"column":8735}},{"start":{"line":1,"column":8738},"end":{"line":1,"column":8761}}],"line":1},"49":{"loc":{"start":{"line":1,"column":8763},"end":{"line":1,"column":8803}},"type":"binary-expr","locations":[{"start":{"line":1,"column":8763},"end":{"line":1,"column":8773}},{"start":{"line":1,"column":8775},"end":{"line":1,"column":8788}},{"start":{"line":1,"column":8791},"end":{"line":1,"column":8802}}],"line":1},"50":{"loc":{"start":{"line":1,"column":8804},"end":{"line":1,"column":8864}},"type":"binary-expr","locations":[{"start":{"line":1,"column":8804},"end":{"line":1,"column":8818}},{"start":{"line":1,"column":8820},"end":{"line":1,"column":8841}},{"start":{"line":1,"column":8844},"end":{"line":1,"column":8863}}],"line":1},"51":{"loc":{"start":{"line":1,"column":8865},"end":{"line":1,"column":8930}},"type":"binary-expr","locations":[{"start":{"line":1,"column":8865},"end":{"line":1,"column":8880}},{"start":{"line":1,"column":8882},"end":{"line":1,"column":8905}},{"start":{"line":1,"column":8908},"end":{"line":1,"column":8929}}],"line":1},"52":{"loc":{"start":{"line":1,"column":8931},"end":{"line":1,"column":8962}},"type":"binary-expr","locations":[{"start":{"line":1,"column":8931},"end":{"line":1,"column":8943}},{"start":{"line":1,"column":8945},"end":{"line":1,"column":8962}}],"line":1},"53":{"loc":{"start":{"line":1,"column":9095},"end":{"line":1,"column":9147}},"type":"if","locations":[{"start":{"line":1,"column":9095},"end":{"line":1,"column":9147}},{"start":{"line":1,"column":9095},"end":{"line":1,"column":9147}}],"line":1},"54":{"loc":{"start":{"line":1,"column":9098},"end":{"line":1,"column":9129}},"type":"binary-expr","locations":[{"start":{"line":1,"column":9098},"end":{"line":1,"column":9110}},{"start":{"line":1,"column":9112},"end":{"line":1,"column":9129}}],"line":1},"55":{"loc":{"start":{"line":1,"column":9238},"end":{"line":1,"column":9270}},"type":"if","locations":[{"start":{"line":1,"column":9238},"end":{"line":1,"column":9270}},{"start":{"line":1,"column":9238},"end":{"line":1,"column":9270}}],"line":1},"56":{"loc":{"start":{"line":1,"column":9409},"end":{"line":1,"column":9464}},"type":"if","locations":[{"start":{"line":1,"column":9409},"end":{"line":1,"column":9464}},{"start":{"line":1,"column":9409},"end":{"line":1,"column":9464}}],"line":1},"57":{"loc":{"start":{"line":1,"column":9595},"end":{"line":1,"column":9612}},"type":"binary-expr","locations":[{"start":{"line":1,"column":9595},"end":{"line":1,"column":9596}},{"start":{"line":1,"column":9599},"end":{"line":1,"column":9611}}],"line":1},"58":{"loc":{"start":{"line":1,"column":9945},"end":{"line":1,"column":11804}},"type":"switch","locations":[{"start":{"line":1,"column":9967},"end":{"line":1,"column":10025}},{"start":{"line":1,"column":10025},"end":{"line":1,"column":10111}},{"start":{"line":1,"column":10111},"end":{"line":1,"column":10240}},{"start":{"line":1,"column":10240},"end":{"line":1,"column":10632}},{"start":{"line":1,"column":10632},"end":{"line":1,"column":10786}},{"start":{"line":1,"column":10786},"end":{"line":1,"column":10975}},{"start":{"line":1,"column":10975},"end":{"line":1,"column":11158}},{"start":{"line":1,"column":11158},"end":{"line":1,"column":11303}},{"start":{"line":1,"column":11303},"end":{"line":1,"column":11602}},{"start":{"line":1,"column":11602},"end":{"line":1,"column":11626}},{"start":{"line":1,"column":11626},"end":{"line":1,"column":11686}},{"start":{"line":1,"column":11686},"end":{"line":1,"column":11710}},{"start":{"line":1,"column":11710},"end":{"line":1,"column":11769}},{"start":{"line":1,"column":11769},"end":{"line":1,"column":11777}},{"start":{"line":1,"column":11777},"end":{"line":1,"column":11803}}],"line":1},"59":{"loc":{"start":{"line":1,"column":10032},"end":{"line":1,"column":10064}},"type":"if","locations":[{"start":{"line":1,"column":10032},"end":{"line":1,"column":10064}},{"start":{"line":1,"column":10032},"end":{"line":1,"column":10064}}],"line":1},"60":{"loc":{"start":{"line":1,"column":10466},"end":{"line":1,"column":10570}},"type":"switch","locations":[{"start":{"line":1,"column":10488},"end":{"line":1,"column":10536}},{"start":{"line":1,"column":10536},"end":{"line":1,"column":10543}},{"start":{"line":1,"column":10543},"end":{"line":1,"column":10569}}],"line":1},"61":{"loc":{"start":{"line":1,"column":10794},"end":{"line":1,"column":10863}},"type":"if","locations":[{"start":{"line":1,"column":10794},"end":{"line":1,"column":10863}},{"start":{"line":1,"column":10794},"end":{"line":1,"column":10863}}],"line":1},"62":{"loc":{"start":{"line":1,"column":10808},"end":{"line":1,"column":10844}},"type":"binary-expr","locations":[{"start":{"line":1,"column":10808},"end":{"line":1,"column":10825}},{"start":{"line":1,"column":10827},"end":{"line":1,"column":10844}}],"line":1},"63":{"loc":{"start":{"line":1,"column":10983},"end":{"line":1,"column":11015}},"type":"if","locations":[{"start":{"line":1,"column":10983},"end":{"line":1,"column":11015}},{"start":{"line":1,"column":10983},"end":{"line":1,"column":11015}}],"line":1},"64":{"loc":{"start":{"line":1,"column":11320},"end":{"line":1,"column":11601}},"type":"cond-expr","locations":[{"start":{"line":1,"column":11323},"end":{"line":1,"column":11546}},{"start":{"line":1,"column":11548},"end":{"line":1,"column":11601}}],"line":1},"65":{"loc":{"start":{"line":1,"column":12064},"end":{"line":1,"column":13157}},"type":"switch","locations":[{"start":{"line":1,"column":12086},"end":{"line":1,"column":12145}},{"start":{"line":1,"column":12145},"end":{"line":1,"column":12231}},{"start":{"line":1,"column":12231},"end":{"line":1,"column":12360}},{"start":{"line":1,"column":12360},"end":{"line":1,"column":12513}},{"start":{"line":1,"column":12513},"end":{"line":1,"column":12767}},{"start":{"line":1,"column":12767},"end":{"line":1,"column":12913}},{"start":{"line":1,"column":12913},"end":{"line":1,"column":12981}},{"start":{"line":1,"column":12981},"end":{"line":1,"column":13039}},{"start":{"line":1,"column":13039},"end":{"line":1,"column":13063}},{"start":{"line":1,"column":13063},"end":{"line":1,"column":13122}},{"start":{"line":1,"column":13122},"end":{"line":1,"column":13130}},{"start":{"line":1,"column":13130},"end":{"line":1,"column":13156}}],"line":1},"66":{"loc":{"start":{"line":1,"column":12152},"end":{"line":1,"column":12184}},"type":"if","locations":[{"start":{"line":1,"column":12152},"end":{"line":1,"column":12184}},{"start":{"line":1,"column":12152},"end":{"line":1,"column":12184}}],"line":1},"67":{"loc":{"start":{"line":1,"column":12521},"end":{"line":1,"column":12553}},"type":"if","locations":[{"start":{"line":1,"column":12521},"end":{"line":1,"column":12553}},{"start":{"line":1,"column":12521},"end":{"line":1,"column":12553}}],"line":1},"68":{"loc":{"start":{"line":1,"column":12562},"end":{"line":1,"column":12633}},"type":"cond-expr","locations":[{"start":{"line":1,"column":12620},"end":{"line":1,"column":12630}},{"start":{"line":1,"column":12631},"end":{"line":1,"column":12633}}],"line":1},"69":{"loc":{"start":{"line":1,"column":12562},"end":{"line":1,"column":12619}},"type":"binary-expr","locations":[{"start":{"line":1,"column":12562},"end":{"line":1,"column":12592}},{"start":{"line":1,"column":12594},"end":{"line":1,"column":12619}}],"line":1},"70":{"loc":{"start":{"line":1,"column":12930},"end":{"line":1,"column":12964}},"type":"binary-expr","locations":[{"start":{"line":1,"column":12930},"end":{"line":1,"column":12931}},{"start":{"line":1,"column":12933},"end":{"line":1,"column":12964}}],"line":1},"71":{"loc":{"start":{"line":1,"column":13350},"end":{"line":1,"column":13613}},"type":"if","locations":[{"start":{"line":1,"column":13350},"end":{"line":1,"column":13613}},{"start":{"line":1,"column":13350},"end":{"line":1,"column":13613}}],"line":1},"72":{"loc":{"start":{"line":1,"column":13359},"end":{"line":1,"column":13563}},"type":"if","locations":[{"start":{"line":1,"column":13359},"end":{"line":1,"column":13563}},{"start":{"line":1,"column":13359},"end":{"line":1,"column":13563}}],"line":1},"73":{"loc":{"start":{"line":1,"column":13848},"end":{"line":1,"column":14251}},"type":"switch","locations":[{"start":{"line":1,"column":13870},"end":{"line":1,"column":13984}},{"start":{"line":1,"column":13984},"end":{"line":1,"column":14200}},{"start":{"line":1,"column":14200},"end":{"line":1,"column":14217}},{"start":{"line":1,"column":14217},"end":{"line":1,"column":14224}},{"start":{"line":1,"column":14224},"end":{"line":1,"column":14250}}],"line":1},"74":{"loc":{"start":{"line":1,"column":14544},"end":{"line":1,"column":16661}},"type":"switch","locations":[{"start":{"line":1,"column":14566},"end":{"line":1,"column":14620}},{"start":{"line":1,"column":14620},"end":{"line":1,"column":14680}},{"start":{"line":1,"column":14680},"end":{"line":1,"column":14768}},{"start":{"line":1,"column":14768},"end":{"line":1,"column":14912}},{"start":{"line":1,"column":14912},"end":{"line":1,"column":15023}},{"start":{"line":1,"column":15023},"end":{"line":1,"column":16365}},{"start":{"line":1,"column":16365},"end":{"line":1,"column":16496}},{"start":{"line":1,"column":16496},"end":{"line":1,"column":16543}},{"start":{"line":1,"column":16543},"end":{"line":1,"column":16567}},{"start":{"line":1,"column":16567},"end":{"line":1,"column":16626}},{"start":{"line":1,"column":16626},"end":{"line":1,"column":16634}},{"start":{"line":1,"column":16634},"end":{"line":1,"column":16660}}],"line":1},"75":{"loc":{"start":{"line":1,"column":14687},"end":{"line":1,"column":14719}},"type":"if","locations":[{"start":{"line":1,"column":14687},"end":{"line":1,"column":14719}},{"start":{"line":1,"column":14687},"end":{"line":1,"column":14719}}],"line":1},"76":{"loc":{"start":{"line":1,"column":14920},"end":{"line":1,"column":14958}},"type":"if","locations":[{"start":{"line":1,"column":14920},"end":{"line":1,"column":14958}},{"start":{"line":1,"column":14920},"end":{"line":1,"column":14958}}],"line":1},"77":{"loc":{"start":{"line":1,"column":14932},"end":{"line":1,"column":14940}},"type":"binary-expr","locations":[{"start":{"line":1,"column":14932},"end":{"line":1,"column":14934}},{"start":{"line":1,"column":14936},"end":{"line":1,"column":14937}},{"start":{"line":1,"column":14939},"end":{"line":1,"column":14940}}],"line":1},"78":{"loc":{"start":{"line":1,"column":15231},"end":{"line":1,"column":16356}},"type":"switch","locations":[{"start":{"line":1,"column":15253},"end":{"line":1,"column":16175}},{"start":{"line":1,"column":16175},"end":{"line":1,"column":16276}},{"start":{"line":1,"column":16276},"end":{"line":1,"column":16322}},{"start":{"line":1,"column":16322},"end":{"line":1,"column":16329}},{"start":{"line":1,"column":16329},"end":{"line":1,"column":16355}}],"line":1},"79":{"loc":{"start":{"line":1,"column":15675},"end":{"line":1,"column":15699}},"type":"cond-expr","locations":[{"start":{"line":1,"column":15686},"end":{"line":1,"column":15696}},{"start":{"line":1,"column":15697},"end":{"line":1,"column":15699}}],"line":1},"80":{"loc":{"start":{"line":1,"column":16373},"end":{"line":1,"column":16405}},"type":"if","locations":[{"start":{"line":1,"column":16373},"end":{"line":1,"column":16405}},{"start":{"line":1,"column":16373},"end":{"line":1,"column":16405}}],"line":1},"81":{"loc":{"start":{"line":1,"column":16929},"end":{"line":1,"column":18017}},"type":"switch","locations":[{"start":{"line":1,"column":16951},"end":{"line":1,"column":17012}},{"start":{"line":1,"column":17012},"end":{"line":1,"column":17098}},{"start":{"line":1,"column":17098},"end":{"line":1,"column":17227}},{"start":{"line":1,"column":17227},"end":{"line":1,"column":17428}},{"start":{"line":1,"column":17428},"end":{"line":1,"column":17626}},{"start":{"line":1,"column":17626},"end":{"line":1,"column":17780}},{"start":{"line":1,"column":17780},"end":{"line":1,"column":17836}},{"start":{"line":1,"column":17836},"end":{"line":1,"column":17899}},{"start":{"line":1,"column":17899},"end":{"line":1,"column":17923}},{"start":{"line":1,"column":17923},"end":{"line":1,"column":17982}},{"start":{"line":1,"column":17982},"end":{"line":1,"column":17990}},{"start":{"line":1,"column":17990},"end":{"line":1,"column":18016}}],"line":1},"82":{"loc":{"start":{"line":1,"column":17019},"end":{"line":1,"column":17051}},"type":"if","locations":[{"start":{"line":1,"column":17019},"end":{"line":1,"column":17051}},{"start":{"line":1,"column":17019},"end":{"line":1,"column":17051}}],"line":1},"83":{"loc":{"start":{"line":1,"column":17234},"end":{"line":1,"column":17295}},"type":"if","locations":[{"start":{"line":1,"column":17234},"end":{"line":1,"column":17295}},{"start":{"line":1,"column":17234},"end":{"line":1,"column":17295}}],"line":1},"84":{"loc":{"start":{"line":1,"column":17248},"end":{"line":1,"column":17276}},"type":"binary-expr","locations":[{"start":{"line":1,"column":17248},"end":{"line":1,"column":17249}},{"start":{"line":1,"column":17251},"end":{"line":1,"column":17276}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":3,"32":1,"33":1,"34":0,"35":57,"36":57,"37":57,"38":0,"39":57,"40":13,"41":12,"42":12,"43":12,"44":57,"45":0,"46":12,"47":12,"48":1,"49":1,"50":1,"51":4,"52":4,"53":1,"54":0,"55":1,"56":0,"57":1,"58":0,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":1,"78":0,"79":1,"80":1,"81":1,"82":1,"83":5,"84":7,"85":1,"86":1,"87":0,"88":0,"89":1,"90":1,"91":0,"92":1,"93":0,"94":0,"95":1,"96":0,"97":1,"98":1,"99":0,"100":1,"101":1,"102":0,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":2,"112":7,"113":10,"114":2,"115":2,"116":1,"117":1,"118":1,"119":1,"120":0,"121":1,"122":0,"123":0,"124":1,"125":1,"126":5,"127":7,"128":1,"129":0,"130":1,"131":0,"132":0,"133":1,"134":0,"135":1,"136":0,"137":0,"138":1,"139":0,"140":0,"141":1,"142":0,"143":1,"144":1,"145":1,"146":1,"147":0,"148":0,"149":0,"150":1,"151":1,"152":0,"153":1,"154":1,"155":1,"156":0,"157":1,"158":1,"159":1,"160":2,"161":1,"162":2,"163":1,"164":1,"165":1,"166":1,"167":1,"168":4,"169":1,"170":1,"171":1,"172":0,"173":0,"174":1,"175":1,"176":1,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":1,"185":1,"186":1,"187":0,"188":0,"189":0,"190":1,"191":1,"192":1,"193":1,"194":1,"195":1,"196":1,"197":1,"198":9,"199":11,"200":1,"201":1,"202":0,"203":0,"204":1,"205":1,"206":0,"207":1,"208":1,"209":0,"210":0,"211":0,"212":0,"213":0,"214":1,"215":0,"216":1,"217":0,"218":1,"219":0,"220":0,"221":1,"222":0,"223":1,"224":0,"225":0,"226":1,"227":0,"228":1,"229":0,"230":1,"231":1,"232":1,"233":0,"234":1,"235":1,"236":0,"237":1,"238":1,"239":1,"240":1,"241":1,"242":1,"243":1,"244":7,"245":9,"246":1,"247":1,"248":0,"249":0,"250":1,"251":1,"252":0,"253":1,"254":0,"255":1,"256":0,"257":0,"258":1,"259":0,"260":1,"261":0,"262":1,"263":1,"264":0,"265":1,"266":1,"267":0,"268":1,"269":1,"270":1,"271":1,"272":1,"273":1,"274":1,"275":1,"276":1,"277":1,"278":1,"279":1,"280":0,"281":0,"282":1,"283":1,"284":1,"285":1,"286":3,"287":3,"288":1,"289":0,"290":1,"291":0,"292":1,"293":1,"294":1,"295":1,"296":1,"297":1,"298":1,"299":1,"300":6,"301":9,"302":1,"303":1,"304":1,"305":0,"306":0,"307":1,"308":1,"309":0,"310":1,"311":1,"312":1,"313":0,"314":0,"315":1,"316":1,"317":3,"318":3,"319":1,"320":0,"321":1,"322":0,"323":1,"324":1,"325":1,"326":1,"327":1,"328":0,"329":0,"330":0,"331":1,"332":1,"333":0,"334":1,"335":1,"336":1,"337":1,"338":1,"339":1,"340":1,"341":7,"342":9,"343":1,"344":1,"345":0,"346":0,"347":1,"348":1,"349":0,"350":1,"351":0,"352":0,"353":1,"354":0,"355":1,"356":0,"357":1,"358":0,"359":1,"360":1,"361":0,"362":1,"363":1,"364":0,"365":1,"366":1,"367":1,"368":1,"369":1,"370":1},"f":{"0":0,"1":0,"2":1,"3":3,"4":1,"5":1,"6":0,"7":57,"8":13,"9":12,"10":12,"11":57,"12":0,"13":1,"14":1,"15":4,"16":0,"17":0,"18":0,"19":1,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":1,"29":5,"30":0,"31":0,"32":1,"33":1,"34":2,"35":7,"36":0,"37":1,"38":5,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":2,"46":1,"47":1,"48":1,"49":0,"50":0,"51":0,"52":0,"53":1,"54":1,"55":1,"56":9,"57":0,"58":1,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":1,"67":1,"68":1,"69":7,"70":0,"71":0,"72":0,"73":0,"74":1,"75":0,"76":1,"77":1,"78":1,"79":3,"80":0,"81":0,"82":1,"83":1,"84":1,"85":6,"86":0,"87":1,"88":3,"89":0,"90":0,"91":0,"92":1,"93":1,"94":1,"95":7,"96":0,"97":0,"98":0,"99":0,"100":1,"101":0},"b":{"0":[0,0],"1":[1,0],"2":[1,1],"3":[0,0],"4":[0,0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0,0],"12":[0,0],"13":[2,1],"14":[3,3],"15":[1,0],"16":[1,1],"17":[0,0],"18":[0,0,0,0],"19":[12,45],"20":[1,1,1,1,1,1],"21":[1,1],"22":[0,0,0,0,0,0],"23":[0,0],"24":[1,1,1,1,1,0,1,0,1,1],"25":[0,1],"26":[0,1],"27":[2,2,1,1,1,0,1,1,2,2],"28":[1,1],"29":[0,1],"30":[1,1,1],"31":[1,1,1,1,1,1,0,1,0,1,1],"32":[0,1],"33":[0,1],"34":[0,1],"35":[0,1],"36":[0,1],"37":[0,1],"38":[0,1],"39":[1,0],"40":[1,0],"41":[1,1,0,1,0,1,1,1],"42":[1,0],"43":[1,1,1],"44":[1,1,1],"45":[1,0,0],"46":[1,0,0],"47":[1,0,0],"48":[1,0,0],"49":[1,0,0],"50":[1,0,0],"51":[1,0,0],"52":[1,0],"53":[1,0],"54":[1,0],"55":[0,0],"56":[1,0],"57":[0,0],"58":[1,1,1,1,1,1,1,1,1,1,0,1,0,1,1],"59":[0,1],"60":[0,0,0],"61":[0,1],"62":[1,0],"63":[0,1],"64":[1,0],"65":[1,1,1,1,1,1,1,0,1,0,1,1],"66":[0,1],"67":[0,1],"68":[1,0],"69":[1,1],"70":[1,1],"71":[1,0],"72":[1,0],"73":[1,1,1,1,1],"74":[1,1,1,1,1,1,1,0,1,0,1,1],"75":[0,1],"76":[1,0],"77":[1,1,1],"78":[1,1,1,1,1],"79":[0,1],"80":[1,0],"81":[1,1,1,1,1,1,1,0,1,0,1,1],"82":[0,1],"83":[0,1],"84":[1,1]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["_sendEmailConfirmation","email","done","token","subject","company","COMPANY","msg","baseUrl","BASE_URL","code","obj","type","FIRST_CONFIRM","expiry","Date","now","db","create","e","sendEmailConfirmation","_sendPhoneConfirmation","phone","sendPhoneConfirmation","getUser","data","final","userGet","isValid","body","valid","s","tokenData","read","u","password","o","firstName","lastName","dialCode","tosAgreement","referred","address","zipCode","city","country","dob","avatarUrl","confirmed","social","registeredAt","updatedAt","role","socialItem","idToken","accessToken","nickname","picture","email_verified","given_name","family_name","name","phone_number","phone_verified","blocked","last_ip","created_at","updated_at","user_id","auth0","facebook","twitter","google","linkedin","genUser","createSchema","hashedPassword","listDir","ls","length","ROLES","newObj","countries","filter","i","status","exists","_editFields","userData","hashed","editFields","edit","userUpdate","newData","update","r","destroyUser","userDestroy","refs","Array","isArray","destroy","confirmPhone","_getSocialProfile","process","env","NODE_ENV","err","getSocialProfile","_getUserToken","tokenId","USER_TOKEN_EXPIRY","tokenObj","getUserToken","signinSocial","socialSchema","profile","emailVerified","_validEmail","p","setRole","setRoleSchema","getUsers"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\users","sourcesContent":["import { promisify } from 'util'\r\nimport jwtDecode from 'jwt-decode'\r\n\r\nimport db, { joinedTableDelete } from '../../lib/db'\r\nimport { user, countries, loose } from '../../lib/schemas'\r\nimport { COMPANY, BASE_URL, ROLES, FIRST_CONFIRM, USER_TOKEN_EXPIRY } from '../../config'\r\nimport { randomID, hash, auth } from '../../lib/security'\r\nimport sendEmail from '../../lib/email'\r\nimport sendSMS from '../../lib/phone'\r\nimport { t, setLocale } from '../../lib/translations'\r\nimport { createSchema, userUpdate, userDestroy, userGet, socialSchema, setRoleSchema } from './schema'\r\nimport { validEmail } from '../../lib/utils'\r\n\r\nconst _sendEmailConfirmation = async (email, done) => {\r\n  const token = await randomID(32).catch(() => done(t('error.confirmation_generate')))\r\n  const subject = t('account.confirm_subject', { company: COMPANY })\r\n  const msg = t('account.confirm_message', { company: COMPANY, baseUrl: BASE_URL, code: token })\r\n  const obj = {\r\n    email,\r\n    token,\r\n    type: FIRST_CONFIRM,\r\n    expiry: Date.now() + 1000 * 60 * 60\r\n  }\r\n\r\n  await db.create('confirms', token, obj).catch(() => done(t('error.confirmation_save')))\r\n  const e = await sendEmail(email, subject, msg).catch((e) => done(e))\r\n  if (!e) {\r\n    done()\r\n  }\r\n}\r\n\r\nconst sendEmailConfirmation = promisify(_sendEmailConfirmation)\r\n\r\nconst _sendPhoneConfirmation = async (phone, email, done) => {\r\n  const token = await randomID(6).catch(() => done(t('error.confirmation_generate')))\r\n  const msg = t('account.confirm_phone', { company: COMPANY, code: token })\r\n  const obj = {\r\n    email,\r\n    token,\r\n    expiry: Date.now() + 1000 * 60 * 60\r\n  }\r\n\r\n  await db.create('confirms', token, obj).catch(() => done(t('error.confirmation_save')))\r\n  const e = await sendSMS(phone, msg).catch((e) => done(e))\r\n  if (!e) {\r\n    done()\r\n  }\r\n}\r\n\r\nconst sendPhoneConfirmation = promisify(_sendPhoneConfirmation)\r\n\r\nexport const getUser = async (data, final) => {\r\n  const valid = await userGet.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const tokenData = await auth(data).catch((e) => final(null, { s: 403, e }))\r\n    if (tokenData) {\r\n      const u = await db.read('users', tokenData.email).catch(() => final(null, { s: 400, e: t('error.cannot_read') }))\r\n      delete u.password\r\n      const o = {\r\n        email: u.email,\r\n        firstName: u.firstName,\r\n        lastName: u.lastName,\r\n        dialCode: u.dialCode,\r\n        phone: u.phone,\r\n        tosAgreement: u.tosAgreement,\r\n        referred: u.referred,\r\n        address: u.address,\r\n        zipCode: u.zipCode,\r\n        city: u.city,\r\n        country: u.country,\r\n        dob: u.dob,\r\n        avatarUrl: u.avatarUrl,\r\n        confirmed: u.confirmed,\r\n        social: u.social,\r\n        registeredAt: u.registeredAt,\r\n        updatedAt: u.updatedAt,\r\n        role: u.role\r\n      }\r\n      final(null, { s: 200, o })\r\n    } else {\r\n      final(null, { s: 400, e: t('error.no_user') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nconst socialItem = {\r\n  idToken: '',\r\n  accessToken: '',\r\n  nickname: '',\r\n  picture: '',\r\n  email: '',\r\n  email_verified: '',\r\n  given_name: '',\r\n  family_name: '',\r\n  name: '',\r\n  phone_number: '',\r\n  phone_verified: '',\r\n  blocked: '',\r\n  last_ip: '',\r\n  created_at: '',\r\n  updated_at: '',\r\n  user_id: ''\r\n}\r\n\r\nconst social = {\r\n  auth0: socialItem,\r\n  facebook: socialItem,\r\n  twitter: socialItem,\r\n  google: socialItem,\r\n  linkedin: socialItem\r\n}\r\n\r\nexport const genUser = async (data, final) => {\r\n  const valid = await createSchema.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const u = await user(data).catch(() => final(null, { s: 400, e: t('error.required') }))\r\n    if (u.email && u.password && u.tosAgreement) {\r\n      const exists = await db.read('users', u.email).catch(async () => {\r\n        const hashedPassword = await hash(u.password).catch(() => final(null, { s: 400, e: t('error.hash') }))\r\n        if (hashedPassword) {\r\n          const ls = await db.listDir('users').catch(() => final(null, { s: 400, e: t('error.user_create') }))\r\n          const role = ls.length === 0 ? ROLES[1] : ROLES[0]\r\n          const now = Date.now()\r\n          const newObj = {\r\n            firstName: u.firstName ? u.firstName : '',\r\n            lastName: u.lastName ? u.lastName : '',\r\n            dialCode: u.dialCode,\r\n            phone: u.phone ? u.phone : '',\r\n            email: u.email,\r\n            tosAgreement: u.tosAgreement,\r\n            password: hashedPassword,\r\n            referred: [],\r\n            address: u.address,\r\n            zipCode: u.zipCode,\r\n            city: u.city,\r\n            country: u.country ? countries.filter(i => i === u.country).country : '',\r\n            dob: u.dob,\r\n            avatarUrl: u.avatarUrl,\r\n            confirmed: {\r\n              email: false,\r\n              phone: false\r\n            },\r\n            social,\r\n            registeredAt: now,\r\n            updatedAt: now,\r\n            role\r\n          }\r\n\r\n          await db.create('users', u.email, newObj).catch(() => final(null, { s: 400, e: t('error.user_create') }))\r\n          if (FIRST_CONFIRM === 'email') {\r\n            await sendEmailConfirmation(u.email).catch(() => final(null, { s: 400, e: t('error.email') }))\r\n            final(null, { s: 200, o: { status: 'ok' } })\r\n          }\r\n\r\n          if (FIRST_CONFIRM === 'phone') {\r\n            await sendPhoneConfirmation(u.phone, u.email).catch(() => final(null, { s: 400, e: t('error.sms') }))\r\n            final(null, { s: 200, o: { status: 'ok' } })\r\n          }\r\n        } else {\r\n          final(null, { s: 500, e: t('error.unknown') })\r\n        }\r\n      })\r\n\r\n      if (exists) {\r\n        final(null, { s: 500, e: t('error.user_exists') })\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.required') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nconst _editFields = async (u, userData, done) => {\r\n  if (u.firstName !== '' && u.firstName !== userData.firstName) {\r\n    userData.firstName = u.firstName\r\n  }\r\n\r\n  if (u.lastName !== '' && u.lastName !== userData.lastName) {\r\n    userData.lastName = u.lastName\r\n  }\r\n\r\n  if (u.address !== '' && u.address !== userData.address) {\r\n    userData.address = u.address\r\n  }\r\n\r\n  if (u.city !== '' && u.city !== userData.city) {\r\n    userData.city = u.city\r\n  }\r\n\r\n  if (u.country !== '' && u.country !== userData.country) {\r\n    userData.country = u.country\r\n  }\r\n\r\n  if (u.avatarUrl !== '' && u.avatarUrl !== userData.avatarUrl) {\r\n    userData.avatarUrl = u.avatarUrl\r\n  }\r\n\r\n  if (u.dob !== '' && u.dob !== userData.dob) {\r\n    userData.dob = u.dob\r\n  }\r\n\r\n  if (u.zipCode !== '' && u.zipCode !== userData.zipCode) {\r\n    userData.zipCode = u.zipCode\r\n  }\r\n\r\n  if (u.dialCode !== '' && u.dialCode !== userData.dialCode) {\r\n    userData.dialCode = u.dialCode\r\n  }\r\n\r\n  if (u.phone !== '' && u.phone !== userData.phone) {\r\n    userData.phone = u.phone\r\n    await sendPhoneConfirmation(u.phone, userData.email).catch((e) => done(e))\r\n  }\r\n\r\n  if (u.email !== '' && u.email !== userData.email) {\r\n    const valid = await validEmail(u.email).catch((e) => done(e))\r\n    if (valid) {\r\n      userData.email = u.email\r\n      await sendEmailConfirmation(u.email).catch(() => done(t('error.email')))\r\n    }\r\n  }\r\n\r\n  userData.updatedAt = Date.now()\r\n\r\n  if (u.password) {\r\n    const hashed = await hash(u.password).catch(() => done(t('error.hash')))\r\n    if (hashed) {\r\n      userData.password = hashed\r\n    }\r\n  }\r\n  done(null, userData)\r\n}\r\n\r\nconst editFields = promisify(_editFields)\r\n\r\nexport const edit = async (data, final) => {\r\n  const valid = await userUpdate.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const tokenData = await auth(data).catch(() => final(null, { s: 403, e: t('error.unauthorized') }))\r\n    const u = await loose(data, data.body.email).catch(async (e) => final(null, { s: 400, e }))\r\n    const userData = await db.read('users', tokenData.email).catch(() => final(null, { s: 500, e: t('error.cannot_read') }))\r\n    if (userData.confirmed.email || userData.confirmed.phone) {\r\n      const newData = await editFields(u, userData).catch(() => final(null, { s: 400, e: t('error.unknown') }))\r\n      if (newData) {\r\n        await db.update('users', tokenData.email, newData).catch(() => final(null, { s: 500, e: t('error.cannot_update') }))\r\n        const r = await db.read('users', tokenData.email).catch(() => final(null, { s: 500, e: t('error.cannot_read') }))\r\n        if (r) {\r\n          const o = {\r\n            email: r.email,\r\n            firstName: r.firstName,\r\n            lastName: r.lastName,\r\n            dialCode: r.dialCode,\r\n            phone: r.phone,\r\n            address: r.address,\r\n            zipCode: r.zipCode,\r\n            city: r.city,\r\n            country: r.country,\r\n            dob: r.dob,\r\n            avatarUrl: r.avatarUrl,\r\n            role: r.role\r\n          }\r\n          final(null, { s: 200, o })\r\n        } else {\r\n          final(null, { s: 500, e: t('error.cannot_read') })\r\n        }\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.confirmed') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nexport const destroyUser = async (data, final) => {\r\n  const valid = await userDestroy.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const tokenData = await auth(data).catch(() => final(null, { s: 403, e: t('error.unauthorized') }))\r\n    const userData = await db.read('users', tokenData.email).catch(() => final(null, { s: 403, e: t('error.cannot_read') }))\r\n    if (userData) {\r\n      const refs = typeof userData.referred === 'object' && Array.isArray(userData.referred) ? userData.referred : []\r\n      await db.destroy('users', tokenData.email).catch(() => final(null, { s: 400, e: t('error.user_delete') }))\r\n      const e = await joinedTableDelete('refers', refs).catch(() => final(null, { s: 400, e: t('error.join_delete') }))\r\n      // @TODO for each user module - joindelete\r\n      if (!e) {\r\n        final(null, { s: 200, o: { status: 'ok' } })\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.no_user') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nexport const confirmPhone = (data, done) => {\r\n\r\n}\r\n\r\nconst _getSocialProfile = (idToken, done) => {\r\n  if (idToken) {\r\n    try {\r\n      if (process.env.NODE_ENV === 'testing') {\r\n        const now = Date.now()\r\n        const out = {\r\n          email: 'info@talaikis.com',\r\n          email_verified: true,\r\n          blocked: false,\r\n          created_at: now,\r\n          updated_at: now,\r\n          user_id: 'test123'\r\n        }\r\n        done(null, out)\r\n      } else {\r\n        done(null, jwtDecode(idToken))\r\n      }\r\n    } catch (err) {\r\n      done(t('error.profile'))\r\n    }\r\n  }\r\n}\r\n\r\nconst getSocialProfile = promisify(_getSocialProfile)\r\n\r\nconst _getUserToken = async (email, role, done) => {\r\n  const tokenId = await randomID(32).catch(() => done(t('error.id')))\r\n  const expiry = Date.now() + 1000 * USER_TOKEN_EXPIRY\r\n  const tokenObj = {\r\n    expiry,\r\n    tokenId,\r\n    role,\r\n    email\r\n  }\r\n\r\n  await db.create('tokens', tokenId, tokenObj).catch(() => done(t('error.token')))\r\n  done(null, tokenId)\r\n}\r\n\r\nconst getUserToken = promisify(_getUserToken)\r\n\r\nexport const signinSocial = async (data, final) => {\r\n  await setLocale(data)\r\n  const valid = await socialSchema.isValid(data.body)\r\n  if (valid) {\r\n    const profile = await getSocialProfile(data.body.idToken)\r\n    const email = profile.email\r\n    const emailVerified = profile.email_verified\r\n    const blocked = profile.blocked\r\n    const _validEmail = await validEmail(email).catch((e) => final(null, { s: 500, e }))\r\n\r\n    if (blocked || !emailVerified || !_validEmail) {\r\n      final(null, { s: 400, e: t('error.social') })\r\n    } else {\r\n      const u = await db.read('users', email).catch(async () => {\r\n        const p = {\r\n          idToken: data.body.idToken,\r\n          accessToken: data.body.accessToken,\r\n          nickname: profile.nickname,\r\n          picture: profile.picture,\r\n          email: email,\r\n          email_verified: profile.email_verified,\r\n          given_name: profile.given_name,\r\n          family_name: profile.family_name,\r\n          name: profile.name,\r\n          phone_number: profile.phone_number,\r\n          phone_verified: profile.phone_verified,\r\n          blocked: profile.blocked,\r\n          last_ip: profile.last_ip,\r\n          created_at: profile.created_at,\r\n          updated_at: profile.updated_at,\r\n          user_id: profile.user_id\r\n        }\r\n\r\n        const now = Date.now()\r\n        const newObj = {\r\n          firstName: p.given_name,\r\n          lastName: p.lastName ? u.lastName : '',\r\n          dialCode: '',\r\n          phone: '',\r\n          email: p.email,\r\n          tosAgreement: true,\r\n          password: '',\r\n          referred: [],\r\n          address: '',\r\n          zipCode: '',\r\n          city: '',\r\n          country: '',\r\n          dob: '',\r\n          avatarUrl: p.picture,\r\n          confirmed: {\r\n            email: true,\r\n            phone: p.phone_verified\r\n          },\r\n          social: {\r\n            auth0: p,\r\n            facebook: socialItem,\r\n            twitter: socialItem,\r\n            google: socialItem,\r\n            linkedin: socialItem\r\n          },\r\n          registeredAt: now,\r\n          updatedAt: p.updated_at,\r\n          role: ROLES[0]\r\n        }\r\n\r\n        await db.create('users', p.email, newObj).catch(() => final(null, { s: 400, e: t('error.user_create') }))\r\n        const tokenId = await getUserToken(email, ROLES[0]).catch((e) => final(null, { s: 400, e }))\r\n        final(null, { s: 200, o: { tokenId } })\r\n      })\r\n\r\n      if (u) {\r\n        // @TODO update existing profile\r\n        const tokenId = await getUserToken(u.email, u.role).catch((e) => final(null, { s: 400, e }))\r\n        final(null, { s: 200, o: { tokenId } })\r\n      }\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nexport const setRole = async (data, final) => {\r\n  const valid = await setRoleSchema.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const tokenData = await auth(data).catch(() => final(null, { s: 403, e: t('error.unauthorized') }))\r\n    if (tokenData && tokenData.role === ROLES[1]) {\r\n      const userData = await db.read('users', tokenData.email).catch(() => final(null, { s: 400, e: t('error.no_user') }))\r\n      userData.role = data.body.role\r\n      tokenData.role = data.body.role\r\n      await db.update('users', tokenData.email, userData).catch(() => final(null, { s: 403, e: t('error.cannot_update') }))\r\n      await db.update('tokens', tokenData.tokenId, tokenData).catch(() => final(null, { s: 403, e: t('error.cannot_update') }))\r\n      final(null, { s: 200, o: { status: 'ok' } })\r\n    } else {\r\n      final(null, { s: 403, e: t('error.unauthorized') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nexport const getUsers = (data, final) => {\r\n  // only admins\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4e1b8dfeb1c7463bfa593d4a30f12d71acfd3505","contentHash":"04ff1ee4f54541b67913ad8efd60bf680604dc2cb616c3d2b0e8b9f1e682a3aa"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\schemas\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\schemas\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":185}},"1":{"start":{"line":1,"column":195},"end":{"line":1,"column":210}},"2":{"start":{"line":1,"column":218},"end":{"line":1,"column":237}},"3":{"start":{"line":1,"column":252},"end":{"line":1,"column":278}},"4":{"start":{"line":1,"column":299},"end":{"line":1,"column":526}},"5":{"start":{"line":1,"column":386},"end":{"line":1,"column":401}},"6":{"start":{"line":1,"column":415},"end":{"line":1,"column":514}},"7":{"start":{"line":1,"column":570},"end":{"line":1,"column":624}},"8":{"start":{"line":1,"column":580},"end":{"line":1,"column":587}},"9":{"start":{"line":1,"column":590},"end":{"line":1,"column":597}},"10":{"start":{"line":1,"column":607},"end":{"line":1,"column":623}},"11":{"start":{"line":1,"column":624},"end":{"line":1,"column":664}},"12":{"start":{"line":1,"column":695},"end":{"line":1,"column":907}},"13":{"start":{"line":1,"column":719},"end":{"line":1,"column":723}},"14":{"start":{"line":1,"column":726},"end":{"line":1,"column":735}},"15":{"start":{"line":1,"column":736},"end":{"line":1,"column":906}},"16":{"start":{"line":1,"column":783},"end":{"line":1,"column":821}},"17":{"start":{"line":1,"column":836},"end":{"line":1,"column":875}},"18":{"start":{"line":1,"column":882},"end":{"line":1,"column":894}},"19":{"start":{"line":1,"column":895},"end":{"line":1,"column":904}},"20":{"start":{"line":1,"column":922},"end":{"line":1,"column":15619}},"21":{"start":{"line":1,"column":15620},"end":{"line":1,"column":15648}},"22":{"start":{"line":1,"column":15668},"end":{"line":1,"column":15851}},"23":{"start":{"line":1,"column":15852},"end":{"line":1,"column":15892}},"24":{"start":{"line":1,"column":15911},"end":{"line":1,"column":16133}},"25":{"start":{"line":1,"column":16134},"end":{"line":1,"column":16172}},"26":{"start":{"line":1,"column":16186},"end":{"line":1,"column":27586}},"27":{"start":{"line":1,"column":27587},"end":{"line":1,"column":27615}},"28":{"start":{"line":1,"column":27631},"end":{"line":1,"column":28642}},"29":{"start":{"line":1,"column":27653},"end":{"line":1,"column":27659}},"30":{"start":{"line":1,"column":27662},"end":{"line":1,"column":27673}},"31":{"start":{"line":1,"column":27676},"end":{"line":1,"column":27686}},"32":{"start":{"line":1,"column":27689},"end":{"line":1,"column":27699}},"33":{"start":{"line":1,"column":27702},"end":{"line":1,"column":27712}},"34":{"start":{"line":1,"column":27715},"end":{"line":1,"column":27729}},"35":{"start":{"line":1,"column":27732},"end":{"line":1,"column":27739}},"36":{"start":{"line":1,"column":27742},"end":{"line":1,"column":27751}},"37":{"start":{"line":1,"column":27754},"end":{"line":1,"column":27763}},"38":{"start":{"line":1,"column":27766},"end":{"line":1,"column":27772}},"39":{"start":{"line":1,"column":27775},"end":{"line":1,"column":27784}},"40":{"start":{"line":1,"column":27787},"end":{"line":1,"column":27798}},"41":{"start":{"line":1,"column":27801},"end":{"line":1,"column":27806}},"42":{"start":{"line":1,"column":27809},"end":{"line":1,"column":27846}},"43":{"start":{"line":1,"column":27849},"end":{"line":1,"column":27942}},"44":{"start":{"line":1,"column":27918},"end":{"line":1,"column":27935}},"45":{"start":{"line":1,"column":27945},"end":{"line":1,"column":27994}},"46":{"start":{"line":1,"column":27997},"end":{"line":1,"column":28046}},"47":{"start":{"line":1,"column":28049},"end":{"line":1,"column":28101}},"48":{"start":{"line":1,"column":28104},"end":{"line":1,"column":28153}},"49":{"start":{"line":1,"column":28156},"end":{"line":1,"column":28206}},"50":{"start":{"line":1,"column":28209},"end":{"line":1,"column":28258}},"51":{"start":{"line":1,"column":28261},"end":{"line":1,"column":28364}},"52":{"start":{"line":1,"column":28330},"end":{"line":1,"column":28350}},"53":{"start":{"line":1,"column":28367},"end":{"line":1,"column":28416}},"54":{"start":{"line":1,"column":28419},"end":{"line":1,"column":28468}},"55":{"start":{"line":1,"column":28469},"end":{"line":1,"column":28641}},"56":{"start":{"line":1,"column":28654},"end":{"line":1,"column":28686}},"57":{"start":{"line":1,"column":28706},"end":{"line":1,"column":29039}},"58":{"start":{"line":1,"column":28723},"end":{"line":1,"column":28986}},"59":{"start":{"line":1,"column":28794},"end":{"line":1,"column":28983}},"60":{"start":{"line":1,"column":28837},"end":{"line":1,"column":28979}},"61":{"start":{"line":1,"column":28844},"end":{"line":1,"column":28979}},"62":{"start":{"line":1,"column":28873},"end":{"line":1,"column":28905}},"63":{"start":{"line":1,"column":28912},"end":{"line":1,"column":28945}},"64":{"start":{"line":1,"column":28962},"end":{"line":1,"column":28978}},"65":{"start":{"line":1,"column":28987},"end":{"line":1,"column":29036}},"66":{"start":{"line":1,"column":29005},"end":{"line":1,"column":29035}},"67":{"start":{"line":1,"column":29040},"end":{"line":1,"column":29060}},"68":{"start":{"line":1,"column":29086},"end":{"line":1,"column":29737}},"69":{"start":{"line":1,"column":29103},"end":{"line":1,"column":29684}},"70":{"start":{"line":1,"column":29182},"end":{"line":1,"column":29681}},"71":{"start":{"line":1,"column":29225},"end":{"line":1,"column":29677}},"72":{"start":{"line":1,"column":29232},"end":{"line":1,"column":29677}},"73":{"start":{"line":1,"column":29261},"end":{"line":1,"column":29308}},"74":{"start":{"line":1,"column":29292},"end":{"line":1,"column":29302}},"75":{"start":{"line":1,"column":29302},"end":{"line":1,"column":29307}},"76":{"start":{"line":1,"column":29308},"end":{"line":1,"column":29395}},"77":{"start":{"line":1,"column":29381},"end":{"line":1,"column":29392}},"78":{"start":{"line":1,"column":29402},"end":{"line":1,"column":29434}},"79":{"start":{"line":1,"column":29418},"end":{"line":1,"column":29428}},"80":{"start":{"line":1,"column":29428},"end":{"line":1,"column":29433}},"81":{"start":{"line":1,"column":29434},"end":{"line":1,"column":29461}},"82":{"start":{"line":1,"column":29468},"end":{"line":1,"column":29507}},"83":{"start":{"line":1,"column":29507},"end":{"line":1,"column":29513}},"84":{"start":{"line":1,"column":29521},"end":{"line":1,"column":29567}},"85":{"start":{"line":1,"column":29575},"end":{"line":1,"column":29585}},"86":{"start":{"line":1,"column":29585},"end":{"line":1,"column":29591}},"87":{"start":{"line":1,"column":29599},"end":{"line":1,"column":29642}},"88":{"start":{"line":1,"column":29660},"end":{"line":1,"column":29676}},"89":{"start":{"line":1,"column":29685},"end":{"line":1,"column":29734}},"90":{"start":{"line":1,"column":29703},"end":{"line":1,"column":29733}},"91":{"start":{"line":1,"column":29743},"end":{"line":1,"column":29772}},"92":{"start":{"line":1,"column":29773},"end":{"line":1,"column":29791}}},"fnMap":{"0":{"name":"_typeof","decl":{"start":{"line":1,"column":288},"end":{"line":1,"column":295}},"loc":{"start":{"line":1,"column":298},"end":{"line":1,"column":527}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":374},"end":{"line":1,"column":375}},"loc":{"start":{"line":1,"column":385},"end":{"line":1,"column":402}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":403},"end":{"line":1,"column":404}},"loc":{"start":{"line":1,"column":414},"end":{"line":1,"column":515}},"line":1},"3":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":536},"end":{"line":1,"column":554}},"loc":{"start":{"line":1,"column":569},"end":{"line":1,"column":665}},"line":1},"4":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":674},"end":{"line":1,"column":691}},"loc":{"start":{"line":1,"column":694},"end":{"line":1,"column":908}},"line":1},"5":{"name":"(anonymous_5)","decl":{"start":{"line":1,"column":702},"end":{"line":1,"column":703}},"loc":{"start":{"line":1,"column":712},"end":{"line":1,"column":907}},"line":1},"6":{"name":"(anonymous_6)","decl":{"start":{"line":1,"column":755},"end":{"line":1,"column":756}},"loc":{"start":{"line":1,"column":768},"end":{"line":1,"column":905}},"line":1},"7":{"name":"f","decl":{"start":{"line":1,"column":778},"end":{"line":1,"column":779}},"loc":{"start":{"line":1,"column":782},"end":{"line":1,"column":822}},"line":1},"8":{"name":"g","decl":{"start":{"line":1,"column":831},"end":{"line":1,"column":832}},"loc":{"start":{"line":1,"column":835},"end":{"line":1,"column":876}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":27631},"end":{"line":1,"column":27632}},"loc":{"start":{"line":1,"column":27646},"end":{"line":1,"column":28642}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":27906},"end":{"line":1,"column":27907}},"loc":{"start":{"line":1,"column":27917},"end":{"line":1,"column":27936}},"line":1},"11":{"name":"(anonymous_11)","decl":{"start":{"line":1,"column":28318},"end":{"line":1,"column":28319}},"loc":{"start":{"line":1,"column":28329},"end":{"line":1,"column":28351}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":28706},"end":{"line":1,"column":28707}},"loc":{"start":{"line":1,"column":28716},"end":{"line":1,"column":29037}},"line":1},"13":{"name":"a","decl":{"start":{"line":1,"column":28787},"end":{"line":1,"column":28788}},"loc":{"start":{"line":1,"column":28793},"end":{"line":1,"column":28984}},"line":1},"14":{"name":"(anonymous_14)","decl":{"start":{"line":1,"column":28825},"end":{"line":1,"column":28826}},"loc":{"start":{"line":1,"column":28836},"end":{"line":1,"column":28980}},"line":1},"15":{"name":"(anonymous_15)","decl":{"start":{"line":1,"column":28994},"end":{"line":1,"column":28995}},"loc":{"start":{"line":1,"column":29004},"end":{"line":1,"column":29036}},"line":1},"16":{"name":"(anonymous_16)","decl":{"start":{"line":1,"column":29086},"end":{"line":1,"column":29087}},"loc":{"start":{"line":1,"column":29096},"end":{"line":1,"column":29735}},"line":1},"17":{"name":"a","decl":{"start":{"line":1,"column":29167},"end":{"line":1,"column":29168}},"loc":{"start":{"line":1,"column":29173},"end":{"line":1,"column":29682}},"line":1},"18":{"name":"(anonymous_18)","decl":{"start":{"line":1,"column":29213},"end":{"line":1,"column":29214}},"loc":{"start":{"line":1,"column":29224},"end":{"line":1,"column":29678}},"line":1},"19":{"name":"(anonymous_19)","decl":{"start":{"line":1,"column":29369},"end":{"line":1,"column":29370}},"loc":{"start":{"line":1,"column":29380},"end":{"line":1,"column":29393}},"line":1},"20":{"name":"(anonymous_20)","decl":{"start":{"line":1,"column":29692},"end":{"line":1,"column":29693}},"loc":{"start":{"line":1,"column":29702},"end":{"line":1,"column":29734}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":314},"end":{"line":1,"column":515}},"type":"cond-expr","locations":[{"start":{"line":1,"column":374},"end":{"line":1,"column":402}},{"start":{"line":1,"column":403},"end":{"line":1,"column":515}}],"line":1},"1":{"loc":{"start":{"line":1,"column":314},"end":{"line":1,"column":373}},"type":"binary-expr","locations":[{"start":{"line":1,"column":314},"end":{"line":1,"column":339}},{"start":{"line":1,"column":341},"end":{"line":1,"column":373}}],"line":1},"2":{"loc":{"start":{"line":1,"column":422},"end":{"line":1,"column":514}},"type":"cond-expr","locations":[{"start":{"line":1,"column":497},"end":{"line":1,"column":505}},{"start":{"line":1,"column":506},"end":{"line":1,"column":514}}],"line":1},"3":{"loc":{"start":{"line":1,"column":422},"end":{"line":1,"column":496}},"type":"binary-expr","locations":[{"start":{"line":1,"column":422},"end":{"line":1,"column":423}},{"start":{"line":1,"column":425},"end":{"line":1,"column":450}},{"start":{"line":1,"column":452},"end":{"line":1,"column":474}},{"start":{"line":1,"column":476},"end":{"line":1,"column":496}}],"line":1},"4":{"loc":{"start":{"line":1,"column":624},"end":{"line":1,"column":664}},"type":"cond-expr","locations":[{"start":{"line":1,"column":631},"end":{"line":1,"column":635}},{"start":{"line":1,"column":636},"end":{"line":1,"column":664}}],"line":1},"5":{"loc":{"start":{"line":1,"column":27809},"end":{"line":1,"column":27846}},"type":"cond-expr","locations":[{"start":{"line":1,"column":27842},"end":{"line":1,"column":27843}},{"start":{"line":1,"column":27844},"end":{"line":1,"column":27846}}],"line":1},"6":{"loc":{"start":{"line":1,"column":27809},"end":{"line":1,"column":27841}},"type":"binary-expr","locations":[{"start":{"line":1,"column":27809},"end":{"line":1,"column":27827}},{"start":{"line":1,"column":27829},"end":{"line":1,"column":27841}}],"line":1},"7":{"loc":{"start":{"line":1,"column":27849},"end":{"line":1,"column":27942}},"type":"cond-expr","locations":[{"start":{"line":1,"column":27938},"end":{"line":1,"column":27939}},{"start":{"line":1,"column":27940},"end":{"line":1,"column":27942}}],"line":1},"8":{"loc":{"start":{"line":1,"column":27849},"end":{"line":1,"column":27937}},"type":"binary-expr","locations":[{"start":{"line":1,"column":27849},"end":{"line":1,"column":27867}},{"start":{"line":1,"column":27869},"end":{"line":1,"column":27937}}],"line":1},"9":{"loc":{"start":{"line":1,"column":27945},"end":{"line":1,"column":27994}},"type":"cond-expr","locations":[{"start":{"line":1,"column":27983},"end":{"line":1,"column":27991}},{"start":{"line":1,"column":27992},"end":{"line":1,"column":27994}}],"line":1},"10":{"loc":{"start":{"line":1,"column":27945},"end":{"line":1,"column":27982}},"type":"binary-expr","locations":[{"start":{"line":1,"column":27945},"end":{"line":1,"column":27963}},{"start":{"line":1,"column":27965},"end":{"line":1,"column":27982}}],"line":1},"11":{"loc":{"start":{"line":1,"column":27997},"end":{"line":1,"column":28046}},"type":"cond-expr","locations":[{"start":{"line":1,"column":28035},"end":{"line":1,"column":28043}},{"start":{"line":1,"column":28044},"end":{"line":1,"column":28046}}],"line":1},"12":{"loc":{"start":{"line":1,"column":27997},"end":{"line":1,"column":28034}},"type":"binary-expr","locations":[{"start":{"line":1,"column":27997},"end":{"line":1,"column":28015}},{"start":{"line":1,"column":28017},"end":{"line":1,"column":28034}}],"line":1},"13":{"loc":{"start":{"line":1,"column":28049},"end":{"line":1,"column":28101}},"type":"binary-expr","locations":[{"start":{"line":1,"column":28049},"end":{"line":1,"column":28091}},{"start":{"line":1,"column":28093},"end":{"line":1,"column":28101}}],"line":1},"14":{"loc":{"start":{"line":1,"column":28052},"end":{"line":1,"column":28090}},"type":"binary-expr","locations":[{"start":{"line":1,"column":28052},"end":{"line":1,"column":28070}},{"start":{"line":1,"column":28072},"end":{"line":1,"column":28090}}],"line":1},"15":{"loc":{"start":{"line":1,"column":28104},"end":{"line":1,"column":28153}},"type":"cond-expr","locations":[{"start":{"line":1,"column":28142},"end":{"line":1,"column":28150}},{"start":{"line":1,"column":28151},"end":{"line":1,"column":28153}}],"line":1},"16":{"loc":{"start":{"line":1,"column":28104},"end":{"line":1,"column":28141}},"type":"binary-expr","locations":[{"start":{"line":1,"column":28104},"end":{"line":1,"column":28122}},{"start":{"line":1,"column":28124},"end":{"line":1,"column":28141}}],"line":1},"17":{"loc":{"start":{"line":1,"column":28156},"end":{"line":1,"column":28206}},"type":"cond-expr","locations":[{"start":{"line":1,"column":28195},"end":{"line":1,"column":28203}},{"start":{"line":1,"column":28204},"end":{"line":1,"column":28206}}],"line":1},"18":{"loc":{"start":{"line":1,"column":28156},"end":{"line":1,"column":28194}},"type":"binary-expr","locations":[{"start":{"line":1,"column":28156},"end":{"line":1,"column":28174}},{"start":{"line":1,"column":28176},"end":{"line":1,"column":28194}}],"line":1},"19":{"loc":{"start":{"line":1,"column":28209},"end":{"line":1,"column":28258}},"type":"cond-expr","locations":[{"start":{"line":1,"column":28247},"end":{"line":1,"column":28255}},{"start":{"line":1,"column":28256},"end":{"line":1,"column":28258}}],"line":1},"20":{"loc":{"start":{"line":1,"column":28209},"end":{"line":1,"column":28246}},"type":"binary-expr","locations":[{"start":{"line":1,"column":28209},"end":{"line":1,"column":28227}},{"start":{"line":1,"column":28229},"end":{"line":1,"column":28246}}],"line":1},"21":{"loc":{"start":{"line":1,"column":28261},"end":{"line":1,"column":28364}},"type":"cond-expr","locations":[{"start":{"line":1,"column":28353},"end":{"line":1,"column":28361}},{"start":{"line":1,"column":28362},"end":{"line":1,"column":28364}}],"line":1},"22":{"loc":{"start":{"line":1,"column":28261},"end":{"line":1,"column":28352}},"type":"binary-expr","locations":[{"start":{"line":1,"column":28261},"end":{"line":1,"column":28279}},{"start":{"line":1,"column":28281},"end":{"line":1,"column":28352}}],"line":1},"23":{"loc":{"start":{"line":1,"column":28367},"end":{"line":1,"column":28416}},"type":"cond-expr","locations":[{"start":{"line":1,"column":28405},"end":{"line":1,"column":28413}},{"start":{"line":1,"column":28414},"end":{"line":1,"column":28416}}],"line":1},"24":{"loc":{"start":{"line":1,"column":28367},"end":{"line":1,"column":28404}},"type":"binary-expr","locations":[{"start":{"line":1,"column":28367},"end":{"line":1,"column":28385}},{"start":{"line":1,"column":28387},"end":{"line":1,"column":28404}}],"line":1},"25":{"loc":{"start":{"line":1,"column":28419},"end":{"line":1,"column":28468}},"type":"cond-expr","locations":[{"start":{"line":1,"column":28457},"end":{"line":1,"column":28465}},{"start":{"line":1,"column":28466},"end":{"line":1,"column":28468}}],"line":1},"26":{"loc":{"start":{"line":1,"column":28419},"end":{"line":1,"column":28456}},"type":"binary-expr","locations":[{"start":{"line":1,"column":28419},"end":{"line":1,"column":28437}},{"start":{"line":1,"column":28439},"end":{"line":1,"column":28456}}],"line":1},"27":{"loc":{"start":{"line":1,"column":28509},"end":{"line":1,"column":28542}},"type":"binary-expr","locations":[{"start":{"line":1,"column":28509},"end":{"line":1,"column":28539}},{"start":{"line":1,"column":28541},"end":{"line":1,"column":28542}}],"line":1},"28":{"loc":{"start":{"line":1,"column":28511},"end":{"line":1,"column":28538}},"type":"binary-expr","locations":[{"start":{"line":1,"column":28511},"end":{"line":1,"column":28530}},{"start":{"line":1,"column":28532},"end":{"line":1,"column":28538}}],"line":1},"29":{"loc":{"start":{"line":1,"column":28844},"end":{"line":1,"column":28979}},"type":"switch","locations":[{"start":{"line":1,"column":28866},"end":{"line":1,"column":28905}},{"start":{"line":1,"column":28905},"end":{"line":1,"column":28945}},{"start":{"line":1,"column":28945},"end":{"line":1,"column":28952}},{"start":{"line":1,"column":28952},"end":{"line":1,"column":28978}}],"line":1},"30":{"loc":{"start":{"line":1,"column":29232},"end":{"line":1,"column":29677}},"type":"switch","locations":[{"start":{"line":1,"column":29254},"end":{"line":1,"column":29395}},{"start":{"line":1,"column":29395},"end":{"line":1,"column":29461}},{"start":{"line":1,"column":29461},"end":{"line":1,"column":29513}},{"start":{"line":1,"column":29513},"end":{"line":1,"column":29567}},{"start":{"line":1,"column":29567},"end":{"line":1,"column":29591}},{"start":{"line":1,"column":29591},"end":{"line":1,"column":29642}},{"start":{"line":1,"column":29642},"end":{"line":1,"column":29650}},{"start":{"line":1,"column":29650},"end":{"line":1,"column":29676}}],"line":1},"31":{"loc":{"start":{"line":1,"column":29261},"end":{"line":1,"column":29308}},"type":"if","locations":[{"start":{"line":1,"column":29261},"end":{"line":1,"column":29308}},{"start":{"line":1,"column":29261},"end":{"line":1,"column":29308}}],"line":1},"32":{"loc":{"start":{"line":1,"column":29402},"end":{"line":1,"column":29434}},"type":"if","locations":[{"start":{"line":1,"column":29402},"end":{"line":1,"column":29434}},{"start":{"line":1,"column":29402},"end":{"line":1,"column":29434}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":3,"6":0,"7":17,"8":17,"9":17,"10":0,"11":17,"12":2,"13":7,"14":7,"15":7,"16":17,"17":0,"18":7,"19":7,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":4,"30":4,"31":4,"32":4,"33":4,"34":4,"35":4,"36":4,"37":4,"38":4,"39":4,"40":4,"41":4,"42":4,"43":4,"44":242,"45":4,"46":4,"47":4,"48":4,"49":4,"50":4,"51":4,"52":251,"53":4,"54":4,"55":4,"56":1,"57":1,"58":1,"59":4,"60":12,"61":12,"62":4,"63":4,"64":4,"65":1,"66":4,"67":1,"68":1,"69":1,"70":3,"71":9,"72":15,"73":3,"74":0,"75":0,"76":3,"77":0,"78":3,"79":0,"80":0,"81":3,"82":3,"83":3,"84":0,"85":3,"86":3,"87":0,"88":3,"89":1,"90":3,"91":1,"92":1},"f":{"0":1,"1":3,"2":0,"3":17,"4":2,"5":7,"6":7,"7":17,"8":0,"9":4,"10":242,"11":251,"12":1,"13":4,"14":12,"15":4,"16":1,"17":3,"18":9,"19":0,"20":3},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0,0],"4":[7,10],"5":[0,4],"6":[4,1],"7":[1,3],"8":[4,1],"9":[1,3],"10":[4,1],"11":[1,3],"12":[4,1],"13":[4,2],"14":[4,2],"15":[0,4],"16":[4,1],"17":[0,4],"18":[4,1],"19":[0,4],"20":[4,1],"21":[1,3],"22":[4,1],"23":[0,4],"24":[4,1],"25":[0,4],"26":[4,1],"27":[4,1],"28":[4,1],"29":[4,4,0,4],"30":[3,3,3,0,3,0,3,3],"31":[0,3],"32":[0,3]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["dialCodes","countriesSchema","title","type","required","properties","key","uniqueItems","maxLength","minLength","country","dialCodeSchema","name","dial","code","countries","_userFields","data","email","done","body","firstName","lastName","dialCode","password","tosAgreement","phone","address","zipCode","city","avatarUrl","dob","_phone","length","_dialCode","filter","e","_firstName","trim","_lastName","_password","_address","_zipCode","_city","_country","_avatarUrl","_dob","userFields","loose","_userObj","out","user"],"mappings":"44BAKO,GAAMA,CAAAA,SAAS,02cAAf,C,4BAqPA,GAAMC,CAAAA,eAAe,CAAG,CAC7BC,KAAK,CAAE,wBADsB,CAE7BC,IAAI,CAAE,OAFuB,CAG7BC,QAAQ,CAAE,CAAC,KAAD,CAAQ,SAAR,CAHmB,CAI7BC,UAAU,CAAE,CACVC,GAAG,CAAE,CACHH,IAAI,CAAE,QADH,CAEHI,WAAW,GAFR,CAGHC,SAAS,CAAE,CAHR,CAIHC,SAAS,CAAE,CAJR,CADK,CAOVC,OAAO,CAAE,CACPP,IAAI,CAAE,QADC,CAEPI,WAAW,GAFJ,CAPC,CAJiB,CAAxB,C,wCAkBA,GAAMI,CAAAA,cAAc,CAAG,CAC5BT,KAAK,CAAE,wBADqB,CAE5BC,IAAI,CAAE,OAFsB,CAG5BC,QAAQ,CAAE,CAAC,MAAD,CAAS,MAAT,CAAiB,MAAjB,CAHkB,CAI5BC,UAAU,CAAE,CACVO,IAAI,CAAE,CACJT,IAAI,CAAE,QADF,CAEJI,WAAW,GAFP,CADI,CAKVM,IAAI,CAAE,CACJV,IAAI,CAAE,QADF,CAEJI,WAAW,GAFP,CALI,CASVO,IAAI,CAAE,CACJX,IAAI,CAAE,QADF,CAEJI,WAAW,GAFP,CAGJC,SAAS,CAAE,CAHP,CAIJC,SAAS,CAAE,CAJP,CATI,CAJgB,CAAvB,C,sCAsBA,GAAMM,CAAAA,SAAS,yoWAAf,C,+BA8PDC,CAAAA,WAAW,CAAG,SAACC,CAAD,CAAOC,CAAP,CAAcC,CAAd,CAAuB,OACiFF,CAAI,CAACG,IADtF,CACjCC,CADiC,GACjCA,SADiC,CACtBC,CADsB,GACtBA,QADsB,CACZC,CADY,GACZA,QADY,CACFC,CADE,GACFA,QADE,CACQC,CADR,GACQA,YADR,CACsBC,CADtB,GACsBA,KADtB,CAC6BC,CAD7B,GAC6BA,OAD7B,CACsCC,CADtC,GACsCA,OADtC,CAC+CC,CAD/C,GAC+CA,IAD/C,CACqDnB,CADrD,GACqDA,OADrD,CAC8DoB,CAD9D,GAC8DA,SAD9D,CACyEC,CADzE,GACyEA,GADzE,CAEnCC,CAAM,CAAoB,QAAjB,QAAON,CAAAA,CAAP,EAA6C,EAAhB,EAAAA,CAAK,CAACO,MAAnC,CAAkDP,CAAlD,CAA0D,EAFhC,CAGnCQ,CAAS,CAAuB,QAApB,QAAOX,CAAAA,CAAP,EAAwF,WAAxD,QAAOvB,CAAAA,SAAS,CAACmC,MAAV,CAAiB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACvB,IAAF,GAAWU,CAAlB,CAAjB,CAAvC,CAAsGA,CAAtG,CAAiH,EAH1F,CAInCc,CAAU,CAAwB,QAArB,QAAOhB,CAAAA,CAAP,EAA2D,CAA1B,CAAAA,CAAS,CAACiB,IAAV,GAAiBL,MAAlD,CAA+DZ,CAAS,CAACiB,IAAV,EAA/D,CAAkF,EAJ5D,CAKnCC,CAAS,CAAuB,QAApB,QAAOjB,CAAAA,CAAP,EAAyD,CAAzB,CAAAA,CAAQ,CAACgB,IAAT,GAAgBL,MAAhD,CAA6DX,CAAQ,CAACgB,IAAT,EAA7D,CAA+E,EALxD,CAMnCE,CAAS,IAAuB,QAApB,QAAOhB,CAAAA,CAAP,EAAyD,EAAzB,CAAAA,CAAQ,CAACc,IAAT,GAAgBL,MAAnD,GAAiET,CAAQ,CAACc,IAAT,EANvC,CAQnCG,CAAQ,CAAsB,QAAnB,QAAOd,CAAAA,CAAP,EAAuD,CAAxB,CAAAA,CAAO,CAACW,IAAR,GAAeL,MAA9C,CAA2DN,CAAO,CAACW,IAAR,EAA3D,CAA4E,EARpD,CASnCI,CAAQ,CAAsB,QAAnB,QAAOd,CAAAA,CAAP,EAAwD,CAAzB,EAAAA,CAAO,CAACU,IAAR,GAAeL,MAA9C,CAA4DL,CAAO,CAACU,IAAR,EAA5D,CAA6E,EATrD,CAUnCK,CAAK,CAAmB,QAAhB,QAAOd,CAAAA,CAAP,EAAiD,CAArB,CAAAA,CAAI,CAACS,IAAL,GAAYL,MAAxC,CAAqDJ,CAAI,CAACS,IAAL,EAArD,CAAmE,EAVxC,CAWnCM,CAAQ,CAAsB,QAAnB,QAAOlC,CAAAA,CAAP,EAAyF,WAA1D,QAAOK,CAAAA,SAAS,CAACoB,MAAV,CAAiB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAAC1B,OAAF,GAAcA,CAArB,CAAjB,CAAtC,CAAuGA,CAAO,CAAC4B,IAAR,EAAvG,CAAwH,EAXhG,CAYnCO,CAAU,CAAwB,QAArB,QAAOf,CAAAA,CAAP,EAA2D,CAA1B,CAAAA,CAAS,CAACQ,IAAV,GAAiBL,MAAlD,CAA+DH,CAAS,CAACQ,IAAV,EAA/D,CAAkF,EAZ5D,CAanCQ,CAAI,CAAkB,QAAf,QAAOf,CAAAA,CAAP,EAA+C,CAApB,CAAAA,CAAG,CAACO,IAAJ,GAAWL,MAAtC,CAAmDF,CAAG,CAACO,IAAJ,EAAnD,CAAgE,EAbpC,CAezCnB,CAAI,CAAC,IAAD,CAAO,CACTD,KAAK,CAALA,CADS,CAETM,QAAQ,CAAEgB,CAFD,CAGTf,YAAY,GAXgC,SAAxB,QAAOA,CAAAA,CAAP,EAAqC,KAAAA,CAW7C,GAXqEA,CAQxE,CAITF,QAAQ,CAAEW,CAJD,CAKTR,KAAK,CAAEM,CALE,CAMTX,SAAS,CAAEgB,CANF,CAOTf,QAAQ,CAAEiB,CAPD,CAQTZ,OAAO,CAAEc,CARA,CASTb,OAAO,CAAEc,CATA,CAUTb,IAAI,CAAEc,CAVG,CAWTjC,OAAO,CAAEkC,CAXA,CAYTd,SAAS,CAAEe,CAZF,CAaTd,GAAG,CAAEe,CAbI,CAAP,CAeL,C,CAEKC,UAAU,CAAG,oBAAU/B,WAAV,C,CAENgC,KAAK,sFAAG,WAAO/B,CAAP,CAAaC,CAAb,iGACN6B,UAAU,CAAC9B,CAAD,CAAOC,CAAP,CADJ,gFAAH,uD,wBAIZ+B,CAAAA,QAAQ,sFAAG,WAAOhC,CAAP,CAAaE,CAAb,4FACU,QAArB,WAAOF,CAAI,CAACG,IAAZ,CADW,kCAEO,sBAAWH,CAAI,CAACG,IAAL,CAAUF,KAArB,WAAkC,SAACkB,CAAD,QAAOjB,CAAAA,CAAI,CAACiB,CAAD,CAAX,CAAlC,CAFP,WAEPlB,CAFO,SAGTA,CAHS,kCAIO8B,KAAK,CAAC/B,CAAD,CAAOC,CAAP,CAJZ,QAILgC,CAJK,QAKXA,CAAG,CAAChC,KAAJ,CAAYA,CALD,CAMXC,CAAI,CAAC,IAAD,CAAO+B,CAAP,CANO,yBAQX/B,CAAI,CAAC,oBAAE,qBAAF,CAAD,CARO,iCAWbA,CAAI,CAAC,oBAAE,kBAAF,CAAD,CAXS,yCAAH,uD,CAeDgC,IAAI,CAAG,oBAAUF,QAAV,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\schemas","sourcesContent":["import { promisify } from 'util'\r\n\r\nimport { validEmail } from '../utils'\r\nimport { t } from '../translations'\r\n\r\nexport const dialCodes = [\r\n  { name: 'Afghanistan', dial: '+93', code: 'AF' },\r\n  { name: 'Aland Islands', dial: '+358', code: 'AX' },\r\n  { name: 'Albania', dial: '+355', code: 'AL' },\r\n  { name: 'Algeria', dial: '+213', code: 'DZ' },\r\n  { name: 'AmericanSamoa', dial: '+1684', code: 'AS' },\r\n  { name: 'Andorra', dial: '+376', code: 'AD' },\r\n  { name: 'Angola', dial: '+244', code: 'AO' },\r\n  { name: 'Anguilla', dial: '+1264', code: 'AI' },\r\n  { name: 'Antarctica', dial: '+672', code: 'AQ' },\r\n  { name: 'Antigua and Barbuda', dial: '+1268', code: 'AG' },\r\n  { name: 'Argentina', dial: '+54', code: 'AR' },\r\n  { name: 'Armenia', dial: '+374', code: 'AM' },\r\n  { name: 'Aruba', dial: '+297', code: 'AW' },\r\n  { name: 'Australia', dial: '+61', code: 'AU' },\r\n  { name: 'Austria', dial: '+43', code: 'AT' },\r\n  { name: 'Azerbaijan', dial: '+994', code: 'AZ' },\r\n  { name: 'Bahamas', dial: '+1242', code: 'BS' },\r\n  { name: 'Bahrain', dial: '+973', code: 'BH' },\r\n  { name: 'Bangladesh', dial: '+880', code: 'BD' },\r\n  { name: 'Barbados', dial: '+1246', code: 'BB' },\r\n  { name: 'Belarus', dial: '+375', code: 'BY' },\r\n  { name: 'Belgium', dial: '+32', code: 'BE' },\r\n  { name: 'Belize', dial: '+501', code: 'BZ' },\r\n  { name: 'Benin', dial: '+229', code: 'BJ' },\r\n  { name: 'Bermuda', dial: '+1441', code: 'BM' },\r\n  { name: 'Bhutan', dial: '+975', code: 'BT' },\r\n  { name: 'Bolivia, Plurinational State of', dial: '+591', code: 'BO' },\r\n  { name: 'Bosnia and Herzegovina', dial: '+387', code: 'BA' },\r\n  { name: 'Botswana', dial: '+267', code: 'BW' },\r\n  { name: 'Brazil', dial: '+55', code: 'BR' },\r\n  { name: 'British Indian Ocean Territory', dial: '+246', code: 'IO' },\r\n  { name: 'Brunei Darussalam', dial: '+673', code: 'BN' },\r\n  { name: 'Bulgaria', dial: '+359', code: 'BG' },\r\n  { name: 'Burkina Faso', dial: '+226', code: 'BF' },\r\n  { name: 'Burundi', dial: '+257', code: 'BI' },\r\n  { name: 'Cambodia', dial: '+855', code: 'KH' },\r\n  { name: 'Cameroon', dial: '+237', code: 'CM' },\r\n  { name: 'Canada', dial: '+1', code: 'CA' },\r\n  { name: 'Cape Verde', dial: '+238', code: 'CV' },\r\n  { name: 'Cayman Islands', dial: '+ 345', code: 'KY' },\r\n  { name: 'Central African Republic', dial: '+236', code: 'CF' },\r\n  { name: 'Chad', dial: '+235', code: 'TD' },\r\n  { name: 'Chile', dial: '+56', code: 'CL' },\r\n  { name: 'China', dial: '+86', code: 'CN' },\r\n  { name: 'Christmas Island', dial: '+61', code: 'CX' },\r\n  { name: 'Cocos (Keeling) Islands', dial: '+61', code: 'CC' },\r\n  { name: 'Colombia', dial: '+57', code: 'CO' },\r\n  { name: 'Comoros', dial: '+269', code: 'KM' },\r\n  { name: 'Congo', dial: '+242', code: 'CG' },\r\n  { name: 'Congo, The Democratic Republic of the Congo', dial: '+243', code: 'CD' },\r\n  { name: 'Cook Islands', dial: '+682', code: 'CK' },\r\n  { name: 'Costa Rica', dial: '+506', code: 'CR' },\r\n  { name: 'Cote d\\'Ivoire', dial: '+225', code: 'CI' },\r\n  { name: 'Croatia', dial: '+385', code: 'HR' },\r\n  { name: 'Cuba', dial: '+53', code: 'CU' },\r\n  { name: 'Cyprus', dial: '+357', code: 'CY' },\r\n  { name: 'Czech Republic', dial: '+420', code: 'CZ' },\r\n  { name: 'Denmark', dial: '+45', code: 'DK' },\r\n  { name: 'Djibouti', dial: '+253', code: 'DJ' },\r\n  { name: 'Dominica', dial: '+1767', code: 'DM' },\r\n  { name: 'Dominican Republic', dial: '+1849', code: 'DO' },\r\n  { name: 'Ecuador', dial: '+593', code: 'EC' },\r\n  { name: 'Egypt', dial: '+20', code: 'EG' },\r\n  { name: 'El Salvador', dial: '+503', code: 'SV' },\r\n  { name: 'Equatorial Guinea', dial: '+240', code: 'GQ' },\r\n  { name: 'Eritrea', dial: '+291', code: 'ER' },\r\n  { name: 'Estonia', dial: '+372', code: 'EE' },\r\n  { name: 'Ethiopia',  code: 'ET' },\r\n  { name: 'Falkland Islands (Malvinas)', dial: '+500', code: 'FK' },\r\n  { name: 'Faroe Islands', dial: '+298', code: 'FO' },\r\n  { name: 'Fiji', dial: '+679', code: 'FJ' },\r\n  { name: 'Finland', dial: '+358', code: 'FI' },\r\n  { name: 'France', dial: '+33', code: 'FR' },\r\n  { name: 'French Guiana', dial: '+594', code: 'GF' },\r\n  { name: 'French Polynesia', dial: '+689', code: 'PF' },\r\n  { name: 'Gabon', dial: '+241', code: 'GA' },\r\n  { name: 'Gambia', dial: '+220', code: 'GM' },\r\n  { name: 'Georgia', dial: '+995', code: 'GE' },\r\n  { name: 'Germany', dial: '+49', code: 'DE' },\r\n  { name: 'Ghana', dial: '+233', code: 'GH' },\r\n  { name: 'Gibraltar', dial: '+350', code: 'GI' },\r\n  { name: 'Greece', dial: '+30', code: 'GR' },\r\n  { name: 'Greenland', dial: '+299', code: 'GL' },\r\n  { name: 'Grenada', dial: '+1473', code: 'GD' },\r\n  { name: 'Guadeloupe', dial: '+590', code: 'GP' },\r\n  { name: 'Guam', dial: '+1671', code: 'GU' },\r\n  { name: 'Guatemala', dial: '+502', code: 'GT' },\r\n  { name: 'Guernsey', dial: '+44', code: 'GG' },\r\n  { name: 'Guinea', dial: '+224', code: 'GN' },\r\n  { name: 'Guinea-Bissau', dial: '+245', code: 'GW' },\r\n  { name: 'Guyana', dial: '+595', code: 'GY' },\r\n  { name: 'Haiti', dial: '+509', code: 'HT' },\r\n  { name: 'Holy See (Vatican City State)', dial: '+379', code: 'VA' },\r\n  { name: 'Honduras', dial: '+504', code: 'HN' },\r\n  { name: 'Hong Kong', dial: '+852', code: 'HK' },\r\n  { name: 'Hungary', dial: '+36', code: 'HU' },\r\n  { name: 'Iceland', dial: '+354', code: 'IS' },\r\n  { name: 'India', dial: '+91', code: 'IN' },\r\n  { name: 'Indonesia', dial: '+62', code: 'ID' },\r\n  { name: 'Iran, Islamic Republic of Persian Gulf', dial: '+98', code: 'IR' },\r\n  { name: 'Iraq', dial: '+964', code: 'IQ' },\r\n  { name: 'Ireland', dial: '+353', code: 'IE' },\r\n  { name: 'Isle of Man', dial: '+44', code: 'IM' },\r\n  { name: 'Israel', dial: '+972', code: 'IL' },\r\n  { name: 'Italy', dial: '+39', code: 'IT' },\r\n  { name: 'Jamaica', dial: '+1876', code: 'JM' },\r\n  { name: 'Japan', dial: '+81', code: 'JP' },\r\n  { name: 'Jersey', dial: '+44', code: 'JE' },\r\n  { name: 'Jordan', dial: '+962', code: 'JO' },\r\n  { name: 'Kazakhstan', dial: '+77', code: 'KZ' },\r\n  { name: 'Kenya', dial: '+254', code: 'KE' },\r\n  { name: 'Kiribati', dial: '+686', code: 'KI' },\r\n  { name: 'Korea, Democratic People\\'s Republic of Korea', dial: '+850', code: 'KP' },\r\n  { name: 'Korea, Republic of South Korea', dial: '+82', code: 'KR' },\r\n  { name: 'Kuwait', dial: '+965', code: 'KW' },\r\n  { name: 'Kyrgyzstan', dial: '+996', code: 'KG' },\r\n  { name: 'Laos', dial: '+856', code: 'LA' },\r\n  { name: 'Latvia', dial: '+371', code: 'LV' },\r\n  { name: 'Lebanon', dial: '+961', code: 'LB' },\r\n  { name: 'Lesotho', dial: '+266', code: 'LS' },\r\n  { name: 'Liberia', dial: '+231', code: 'LR' },\r\n  { name: 'Libyan Arab Jamahiriya', dial: '+218', code: 'LY' },\r\n  { name: 'Liechtenstein', dial: '+423', code: 'LI' },\r\n  { name: 'Lithuania', dial: '+370', code: 'LT' },\r\n  { name: 'Luxembourg', dial: '+352', code: 'LU' },\r\n  { name: 'Macao', dial: '+853', code: 'MO' },\r\n  { name: 'Macedonia', dial: '+389', code: 'MK' },\r\n  { name: 'Madagascar', dial: '+261', code: 'MG' },\r\n  { name: 'Malawi', dial: '+265', code: 'MW' },\r\n  { name: 'Malaysia', dial: '+60', code: 'MY' },\r\n  { name: 'Maldives', dial: '+960', code: 'MV' },\r\n  { name: 'Mali', dial: '+223', code: 'ML' },\r\n  { name: 'Malta', dial: '+356', code: 'MT' },\r\n  { name: 'Marshall Islands', dial: '+692', code: 'MH' },\r\n  { name: 'Martinique', dial: '+596', code: 'MQ' },\r\n  { name: 'Mauritania', dial: '+222', code: 'MR' },\r\n  { name: 'Mauritius', dial: '+230', code: 'MU' },\r\n  { name: 'Mayotte', dial: '+262', code: 'YT' },\r\n  { name: 'Mexico', dial: '+52', code: 'MX' },\r\n  { name: 'Micronesia, Federated States of Micronesia', dial: '+691', code: 'FM' },\r\n  { name: 'Moldova', dial: '+373', code: 'MD' },\r\n  { name: 'Monaco', dial: '+377', code: 'MC' },\r\n  { name: 'Mongolia', dial: '+976', code: 'MN' },\r\n  { name: 'Montenegro', dial: '+382', code: 'ME' },\r\n  { name: 'Montserrat', dial: '+1664', code: 'MS' },\r\n  { name: 'Morocco', dial: '+212', code: 'MA' },\r\n  { name: 'Mozambique', dial: '+258', code: 'MZ' },\r\n  { name: 'Myanmar', dial: '+95', code: 'MM' },\r\n  { name: 'Namibia', dial: '+264', code: 'NA' },\r\n  { name: 'Nauru', dial: '+674', code: 'NR' },\r\n  { name: 'Nepal', dial: '+977', code: 'NP' },\r\n  { name: 'Netherlands', dial: '+31', code: 'NL' },\r\n  { name: 'Netherlands Antilles', dial: '+599', code: 'AN' },\r\n  { name: 'New Caledonia', dial: '+687', code: 'NC' },\r\n  { name: 'New Zealand', dial: '+64', code: 'NZ' },\r\n  { name: 'Nicaragua', dial: '+505', code: 'NI' },\r\n  { name: 'Niger', dial: '+227', code: 'NE' },\r\n  { name: 'Nigeria', dial: '+234', code: 'NG' },\r\n  { name: 'Niue', dial: '+683', code: 'NU' },\r\n  { name: 'Norfolk Island', dial: '+672', code: 'NF' },\r\n  { name: 'Northern Mariana Islands', dial: '+1670', code: 'MP' },\r\n  { name: 'Norway', dial: '+47', code: 'NO' },\r\n  { name: 'Oman', dial: '+968', code: 'OM' },\r\n  { name: 'Pakistan', dial: '+92', code: 'PK' },\r\n  { name: 'Palau', dial: '+680', code: 'PW' },\r\n  { name: 'Palestinian Territory, Occupied', dial: '+970', code: 'PS' },\r\n  { name: 'Panama', dial: '+507', code: 'PA' },\r\n  { name: 'Papua New Guinea', dial: '+675', code: 'PG' },\r\n  { name: 'Paraguay', dial: '+595', code: 'PY' },\r\n  { name: 'Peru', dial: '+51', code: 'PE' },\r\n  { name: 'Philippines', dial: '+63', code: 'PH' },\r\n  { name: 'Pitcairn', dial: '+872', code: 'PN' },\r\n  { name: 'Poland', dial: '+48', code: 'PL' },\r\n  { name: 'Portugal', dial: '+351', code: 'PT' },\r\n  { name: 'Puerto Rico', dial: '+1939', code: 'PR' },\r\n  { name: 'Qatar', dial: '+974', code: 'QA' },\r\n  { name: 'Romania', dial: '+40', code: 'RO' },\r\n  { name: 'Russia', dial: '+7', code: 'RU' },\r\n  { name: 'Rwanda', dial: '+250', code: 'RW' },\r\n  { name: 'Reunion', dial: '+262', code: 'RE' },\r\n  { name: 'Saint Barthelemy', dial: '+590', code: 'BL' },\r\n  { name: 'Saint Helena, Ascension and Tristan Da Cunha', dial: '+290', code: 'SH' },\r\n  { name: 'Saint Kitts and Nevis', dial: '+1869', code: 'KN' },\r\n  { name: 'Saint Lucia', dial: '+1758', code: 'LC' },\r\n  { name: 'Saint Martin', dial: '+590', code: 'MF' },\r\n  { name: 'Saint Pierre and Miquelon', dial: '+508', code: 'PM' },\r\n  { name: 'Saint Vincent and the Grenadines', dial: '+1784', code: 'VC' },\r\n  { name: 'Samoa', dial: '+685', code: 'WS' },\r\n  { name: 'San Marino', dial: '+378', code: 'SM' },\r\n  { name: 'Sao Tome and Principe', dial: '+239', code: 'ST' },\r\n  { name: 'Saudi Arabia', dial: '+966', code: 'SA' },\r\n  { name: 'Senegal', dial: '+221', code: 'SN' },\r\n  { name: 'Serbia', dial: '+381', code: 'RS' },\r\n  { name: 'Seychelles', dial: '+248', code: 'SC' },\r\n  { name: 'Sierra Leone', dial: '+232', code: 'SL' },\r\n  { name: 'Singapore', dial: '+65', code: 'SG' },\r\n  { name: 'Slovakia', dial: '+421', code: 'SK' },\r\n  { name: 'Slovenia', dial: '+386', code: 'SI' },\r\n  { name: 'Solomon Islands', dial: '+677', code: 'SB' },\r\n  { name: 'Somalia', dial: '+252', code: 'SO' },\r\n  { name: 'South Africa', dial: '+27', code: 'ZA' },\r\n  { name: 'South Sudan', dial: '+211', code: 'SS' },\r\n  { name: 'South Georgia and the South Sandwich Islands', dial: '+500', code: 'GS' },\r\n  { name: 'Spain', dial: '+34', code: 'ES' },\r\n  { name: 'Sri Lanka', dial: '+94', code: 'LK' },\r\n  { name: 'Sudan', dial: '+249', code: 'SD' },\r\n  { name: 'Suriname', dial: '+597', code: 'SR' },\r\n  { name: 'Svalbard and Jan Mayen', dial: '+47', code: 'SJ' },\r\n  { name: 'Swaziland', dial: '+268', code: 'SZ' },\r\n  { name: 'Sweden', dial: '+46', code: 'SE' },\r\n  { name: 'Switzerland', dial: '+41', code: 'CH' },\r\n  { name: 'Syrian Arab Republic', dial: '+963', code: 'SY' },\r\n  { name: 'Taiwan', dial: '+886', code: 'TW' },\r\n  { name: 'Tajikistan', dial: '+992', code: 'TJ' },\r\n  { name: 'Tanzania, United Republic of Tanzania', dial: '+255', code: 'TZ' },\r\n  { name: 'Thailand', dial: '+66', code: 'TH' },\r\n  { name: 'Timor-Leste', dial: '+670', code: 'TL' },\r\n  { name: 'Togo', dial: '+228', code: 'TG' },\r\n  { name: 'Tokelau', dial: '+690', code: 'TK' },\r\n  { name: 'Tonga', dial: '+676', code: 'TO' },\r\n  { name: 'Trinidad and Tobago', dial: '+1868', code: 'TT' },\r\n  { name: 'Tunisia', dial: '+216', code: 'TN' },\r\n  { name: 'Turkey', dial: '+90', code: 'TR' },\r\n  { name: 'Turkmenistan', dial: '+993', code: 'TM' },\r\n  { name: 'Turks and Caicos Islands', dial: '+1649', code: 'TC' },\r\n  { name: 'Tuvalu', dial: '+688', code: 'TV' },\r\n  { name: 'Uganda', dial: '+256', code: 'UG' },\r\n  { name: 'Ukraine', dial: '+380', code: 'UA' },\r\n  { name: 'United Arab Emirates', dial: '+971', code: 'AE' },\r\n  { name: 'United Kingdom', dial: '+44', code: 'GB' },\r\n  { name: 'United States', dial: '+1', code: 'US' },\r\n  { name: 'Uruguay', dial: '+598', code: 'UY' },\r\n  { name: 'Uzbekistan', dial: '+998', code: 'UZ' },\r\n  { name: 'Vanuatu', dial: '+678', code: 'VU' },\r\n  { name: 'Venezuela, Bolivarian Republic of Venezuela', dial: '+58', code: 'VE' },\r\n  { name: 'Vietnam', dial: '+84', code: 'VN' },\r\n  { name: 'Virgin Islands, British', dial: '+1284', code: 'VG' },\r\n  { name: 'Virgin Islands, U.S.', dial: '+1340', code: 'VI' },\r\n  { name: 'Wallis and Futuna', dial: '+681', code: 'WF' },\r\n  { name: 'Yemen', dial: '+967', code: 'YE' },\r\n  { name: 'Zambia', dial: '+260', code: 'ZM' },\r\n  { name: 'Zimbabwe', dial: '+263', code: 'ZW' }\r\n]\r\n\r\nexport const countriesSchema = {\r\n  title: 'Countries schema v.1.0',\r\n  type: 'array',\r\n  required: ['key', 'country'],\r\n  properties: {\r\n    key: {\r\n      type: 'string',\r\n      uniqueItems: true,\r\n      maxLength: 2,\r\n      minLength: 2\r\n    },\r\n    country: {\r\n      type: 'string',\r\n      uniqueItems: true\r\n    }\r\n  }\r\n}\r\n\r\nexport const dialCodeSchema = {\r\n  title: 'Dial Code schema v.1.0',\r\n  type: 'array',\r\n  required: ['name', 'dial', 'code'],\r\n  properties: {\r\n    name: {\r\n      type: 'string',\r\n      uniqueItems: true\r\n    },\r\n    dial: {\r\n      type: 'string',\r\n      uniqueItems: true\r\n    },\r\n    code: {\r\n      type: 'string',\r\n      uniqueItems: true,\r\n      maxLength: 2,\r\n      minLength: 2\r\n    }\r\n  }\r\n}\r\n\r\nexport const countries = [\r\n  { key: '', country: '' },\r\n  { key: 'af', country: 'Afghanistan' },\r\n  { key: 'ax', country: 'Åland Islands' },\r\n  { key: 'al', country: 'Albania' },\r\n  { key: 'dz', country: 'Algeria' },\r\n  { key: 'as', country: 'American Samoa' },\r\n  { key: 'ad', country: 'Andorra' },\r\n  { key: 'ao', country: 'Angola' },\r\n  { key: 'ai', country: 'Anguilla' },\r\n  { key: 'aq', country: 'Antarctica' },\r\n  { key: 'ag', country: 'Antigua and Barbuda' },\r\n  { key: 'ar', country: 'Argentina' },\r\n  { key: 'am', country: 'Armenia' },\r\n  { key: 'aw', country: 'Aruba' },\r\n  { key: 'au', country: 'Australia' },\r\n  { key: 'at', country: 'Austria' },\r\n  { key: 'az', country: 'Azerbaijan' },\r\n  { key: 'bs', country: 'Bahamas' },\r\n  { key: 'bh', country: 'Bahrain' },\r\n  { key: 'bd', country: 'Bangladesh' },\r\n  { key: 'bb', country: 'Barbados' },\r\n  { key: 'by', country: 'Belarus' },\r\n  { key: 'be', country: 'Belgium' },\r\n  { key: 'bz', country: 'Belize' },\r\n  { key: 'bj', country: 'Benin' },\r\n  { key: 'bm', country: 'Bermuda' },\r\n  { key: 'bt', country: 'Bhutan' },\r\n  { key: 'bo', country: 'Bolivia (Plurinational State of)' },\r\n  { key: 'bq', country: 'Bonaire, Sint Eustatius and Saba' },\r\n  { key: 'ba', country: 'Bosnia and Herzegovina' },\r\n  { key: 'bw', country: 'Botswana' },\r\n  { key: 'bv', country: 'Bouvet Island' },\r\n  { key: 'br', country: 'Brazil' },\r\n  { key: 'io', country: 'British Indian Ocean Territory' },\r\n  { key: 'bn', country: 'Brunei Darussalam' },\r\n  { key: 'bg', country: 'Bulgaria' },\r\n  { key: 'bf', country: 'Burkina Faso' },\r\n  { key: 'bi', country: 'Burundi' },\r\n  { key: 'kh', country: 'Cambodia' },\r\n  { key: 'cm', country: 'Cameroon' },\r\n  { key: 'ca', country: 'Canada' },\r\n  { key: 'cv', country: 'Cabo Verde' },\r\n  { key: 'ky', country: 'Cayman Islands' },\r\n  { key: 'cf', country: 'Central African Republic' },\r\n  { key: 'td', country: 'Chad' },\r\n  { key: 'cl', country: 'Chile' },\r\n  { key: 'cn', country: 'China' },\r\n  { key: 'cx', country: 'Christmas Island' },\r\n  { key: 'cc', country: 'Cocos (Keeling) Islands' },\r\n  { key: 'co', country: 'Colombia' },\r\n  { key: 'km', country: 'Comoros' },\r\n  { key: 'cg', country: 'Congo' },\r\n  { key: 'cd', country: 'Congo (Democratic Republic of the)' },\r\n  { key: 'ck', country: 'Cook Islands' },\r\n  { key: 'cr', country: 'Costa Rica' },\r\n  { key: 'ci', country: 'Côte d\\'Ivoire' },\r\n  { key: 'hr', country: 'Croatia' },\r\n  { key: 'cu', country: 'Cuba' },\r\n  { key: 'cw', country: 'Curaçao' },\r\n  { key: 'cy', country: 'Cyprus' },\r\n  { key: 'cz', country: 'Czech Republic' },\r\n  { key: 'dk', country: 'Denmark' },\r\n  { key: 'dj', country: 'Djibouti' },\r\n  { key: 'dm', country: 'Dominica' },\r\n  { key: 'do', country: 'Dominican Republic' },\r\n  { key: 'ec', country: 'Ecuador' },\r\n  { key: 'eg', country: 'Egypt' },\r\n  { key: 'sv', country: 'El Salvador' },\r\n  { key: 'gq', country: 'Equatorial Guinea' },\r\n  { key: 'er', country: 'Eritrea' },\r\n  { key: 'ee', country: 'Estonia' },\r\n  { key: 'et', country: 'Ethiopia' },\r\n  { key: 'eu', country: 'European Union' },\r\n  { key: 'fk', country: 'Falkland Islands (Malvinas)' },\r\n  { key: 'fo', country: 'Faroe Islands' },\r\n  { key: 'fj', country: 'Fiji' },\r\n  { key: 'fi', country: 'Finland' },\r\n  { key: 'fr', country: 'France' },\r\n  { key: 'gf', country: 'French Guiana' },\r\n  { key: 'pf', country: 'French Polynesia' },\r\n  { key: 'tf', country: 'French Southern Territories' },\r\n  { key: 'ga', country: 'Gabon' },\r\n  { key: 'gm', country: 'Gambia' },\r\n  { key: 'ge', country: 'Georgia' },\r\n  { key: 'de', country: 'Germany' },\r\n  { key: 'gh', country: 'Ghana' },\r\n  { key: 'gi', country: 'Gibraltar' },\r\n  { key: 'gr', country: 'Greece' },\r\n  { key: 'gl', country: 'Greenland' },\r\n  { key: 'gd', country: 'Grenada' },\r\n  { key: 'gp', country: 'Guadeloupe' },\r\n  { key: 'gu', country: 'Guam' },\r\n  { key: 'gt', country: 'Guatemala' },\r\n  { key: 'gg', country: 'Guernsey' },\r\n  { key: 'gn', country: 'Guinea' },\r\n  { key: 'gw', country: 'Guinea-Bissau' },\r\n  { key: 'gy', country: 'Guyana' },\r\n  { key: 'ht', country: 'Haiti' },\r\n  { key: 'hm', country: 'Heard Island and McDonald Islands' },\r\n  { key: 'va', country: 'Holy See' },\r\n  { key: 'hn', country: 'Honduras' },\r\n  { key: 'hk', country: 'Hong Kong' },\r\n  { key: 'hu', country: 'Hungary' },\r\n  { key: 'is', country: 'Iceland' },\r\n  { key: 'in', country: 'India' },\r\n  { key: 'id', country: 'Indonesia' },\r\n  { key: 'ir', country: 'Iran (Islamic Republic of)' },\r\n  { key: 'iq', country: 'Iraq' },\r\n  { key: 'ie', country: 'Ireland' },\r\n  { key: 'im', country: 'Isle of Man' },\r\n  { key: 'il', country: 'Israel' },\r\n  { key: 'it', country: 'Italy' },\r\n  { key: 'jm', country: 'Jamaica' },\r\n  { key: 'jp', country: 'Japan' },\r\n  { key: 'je', country: 'Jersey' },\r\n  { key: 'jo', country: 'Jordan' },\r\n  { key: 'kz', country: 'Kazakhstan' },\r\n  { key: 'ke', country: 'Kenya' },\r\n  { key: 'ki', country: 'Kiribati' },\r\n  { key: 'kp', country: 'Korea (Democratic People\\'s Republic of)' },\r\n  { key: 'kr', country: 'Korea (Republic of)' },\r\n  { key: 'kw', country: 'Kuwait' },\r\n  { key: 'kg', country: 'Kyrgyzstan' },\r\n  { key: 'la', country: 'Lao People\\'s Democratic Republic' },\r\n  { key: 'lv', country: 'Latvia' },\r\n  { key: 'lb', country: 'Lebanon' },\r\n  { key: 'ls', country: 'Lesotho' },\r\n  { key: 'lr', country: 'Liberia' },\r\n  { key: 'ly', country: 'Libya' },\r\n  { key: 'li', country: 'Liechtenstein' },\r\n  { key: 'lt', country: 'Lithuania' },\r\n  { key: 'lu', country: 'Luxembourg' },\r\n  { key: 'mo', country: 'Macao' },\r\n  { key: 'mk', country: 'Macedonia (the former Yugoslav Republic of)' },\r\n  { key: 'mg', country: 'Madagascar' },\r\n  { key: 'mw', country: 'Malawi' },\r\n  { key: 'my', country: 'Malaysia' },\r\n  { key: 'mv', country: 'Maldives' },\r\n  { key: 'ml', country: 'Mali' },\r\n  { key: 'mt', country: 'Malta' },\r\n  { key: 'mh', country: 'Marshall Islands' },\r\n  { key: 'mq', country: 'Martinique' },\r\n  { key: 'mr', country: 'Mauritania' },\r\n  { key: 'mu', country: 'Mauritius' },\r\n  { key: 'yt', country: 'Mayotte' },\r\n  { key: 'mx', country: 'Mexico' },\r\n  { key: 'fm', country: 'Micronesia (Federated States of)' },\r\n  { key: 'md', country: 'Moldova (Republic of)' },\r\n  { key: 'mc', country: 'Monaco' },\r\n  { key: 'mn', country: 'Mongolia' },\r\n  { key: 'me', country: 'Montenegro' },\r\n  { key: 'ms', country: 'Montserrat' },\r\n  { key: 'ma', country: 'Morocco' },\r\n  { key: 'mz', country: 'Mozambique' },\r\n  { key: 'mm', country: 'Myanmar' },\r\n  { key: 'na', country: 'Namibia' },\r\n  { key: 'nr', country: 'Nauru' },\r\n  { key: 'np', country: 'Nepal' },\r\n  { key: 'nl', country: 'Netherlands' },\r\n  { key: 'nc', country: 'New Caledonia' },\r\n  { key: 'nz', country: 'New Zealand' },\r\n  { key: 'ni', country: 'Nicaragua' },\r\n  { key: 'ne', country: 'Niger' },\r\n  { key: 'ng', country: 'Nigeria' },\r\n  { key: 'nu', country: 'Niue' },\r\n  { key: 'nf', country: 'Norfolk Island' },\r\n  { key: 'mp', country: 'Northern Mariana Islands' },\r\n  { key: 'no', country: 'Norway' },\r\n  { key: 'om', country: 'Oman' },\r\n  { key: 'pk', country: 'Pakistan' },\r\n  { key: 'pw', country: 'Palau' },\r\n  { key: 'ps', country: 'Palestine, State of' },\r\n  { key: 'pa', country: 'Panama' },\r\n  { key: 'pg', country: 'Papua New Guinea' },\r\n  { key: 'py', country: 'Paraguay' },\r\n  { key: 'pe', country: 'Peru' },\r\n  { key: 'ph', country: 'Philippines' },\r\n  { key: 'pn', country: 'Pitcairn' },\r\n  { key: 'pl', country: 'Poland' },\r\n  { key: 'pt', country: 'Portugal' },\r\n  { key: 'pr', country: 'Puerto Rico' },\r\n  { key: 'qa', country: 'Qatar' },\r\n  { key: 're', country: 'Réunion' },\r\n  { key: 'ro', country: 'Romania' },\r\n  { key: 'ru', country: 'Russian Federation' },\r\n  { key: 'rw', country: 'Rwanda' },\r\n  { key: 'bl', country: 'Saint Barthélemy' },\r\n  { key: 'sh', country: 'Saint Helena, Ascension and Tristan da Cunha' },\r\n  { key: 'kn', country: 'Saint Kitts and Nevis' },\r\n  { key: 'lc', country: 'Saint Lucia' },\r\n  { key: 'mf', country: 'Saint Martin (French part)' },\r\n  { key: 'pm', country: 'Saint Pierre and Miquelon' },\r\n  { key: 'vc', country: 'Saint Vincent and the Grenadines' },\r\n  { key: 'ws', country: 'Samoa' },\r\n  { key: 'sm', country: 'San Marino' },\r\n  { key: 'st', country: 'Sao Tome and Principe' },\r\n  { key: 'sa', country: 'Saudi Arabia' },\r\n  { key: 'sn', country: 'Senegal' },\r\n  { key: 'rs', country: 'Serbia' },\r\n  { key: 'sc', country: 'Seychelles' },\r\n  { key: 'sl', country: 'Sierra Leone' },\r\n  { key: 'sg', country: 'Singapore' },\r\n  { key: 'sx', country: 'Sint Maarten (Dutch part)' },\r\n  { key: 'sk', country: 'Slovakia' },\r\n  { key: 'si', country: 'Slovenia' },\r\n  { key: 'sb', country: 'Solomon Islands' },\r\n  { key: 'so', country: 'Somalia' },\r\n  { key: 'za', country: 'South Africa' },\r\n  { key: 'gs', country: 'South Georgia and the South Sandwich Islands' },\r\n  { key: 'ss', country: 'South Sudan' },\r\n  { key: 'es', country: 'Spain' },\r\n  { key: 'lk', country: 'Sri Lanka' },\r\n  { key: 'sd', country: 'Sudan' },\r\n  { key: 'sr', country: 'Suriname' },\r\n  { key: 'sj', country: 'Svalbard and Jan Mayen' },\r\n  { key: 'sz', country: 'Swaziland' },\r\n  { key: 'se', country: 'Sweden' },\r\n  { key: 'ch', country: 'Switzerland' },\r\n  { key: 'sy', country: 'Syrian Arab Republic' },\r\n  { key: 'tw', country: 'Taiwan, Province of China' },\r\n  { key: 'tj', country: 'Tajikistan' },\r\n  { key: 'tz', country: 'Tanzania, United Republic of' },\r\n  { key: 'th', country: 'Thailand' },\r\n  { key: 'tl', country: 'Timor-Leste' },\r\n  { key: 'tg', country: 'Togo' },\r\n  { key: 'tk', country: 'Tokelau' },\r\n  { key: 'to', country: 'Tonga' },\r\n  { key: 'tt', country: 'Trinidad and Tobago' },\r\n  { key: 'tn', country: 'Tunisia' },\r\n  { key: 'tr', country: 'Turkey' },\r\n  { key: 'tm', country: 'Turkmenistan' },\r\n  { key: 'tc', country: 'Turks and Caicos Islands' },\r\n  { key: 'tv', country: 'Tuvalu' },\r\n  { key: 'ug', country: 'Uganda' },\r\n  { key: 'ua', country: 'Ukraine' },\r\n  { key: 'ae', country: 'United Arab Emirates' },\r\n  { key: 'gb', country: 'United Kingdom' },\r\n  { key: 'us', country: 'United States of America' },\r\n  { key: 'um', country: 'United States Minor Outlying Islands' },\r\n  { key: 'uy', country: 'Uruguay' },\r\n  { key: 'uz', country: 'Uzbekistan' },\r\n  { key: 'vu', country: 'Vanuatu' },\r\n  { key: 've', country: 'Venezuela (Bolivarian Republic of)' },\r\n  { key: 'vn', country: 'Viet Nam' },\r\n  { key: 'vg', country: 'Virgin Islands (British)' },\r\n  { key: 'vi', country: 'Virgin Islands (U.S.)' },\r\n  { key: 'wf', country: 'Wallis and Futuna' },\r\n  { key: 'eh', country: 'Western Sahara' },\r\n  { key: 'ye', country: 'Yemen' },\r\n  { key: 'zm', country: 'Zambia' },\r\n  { key: 'zw', country: 'Zimbabwe' }\r\n]\r\n\r\nconst _userFields = (data, email, done) => {\r\n  const { firstName, lastName, dialCode, password, tosAgreement, phone, address, zipCode, city, country, avatarUrl, dob } = data.body\r\n  const _phone = typeof phone === 'string' && phone.length >= 11 ? phone : ''\r\n  const _dialCode = typeof dialCode === 'string' && typeof dialCodes.filter((e) => e.dial === dialCode) !== 'undefined' ? dialCode : ''\r\n  const _firstName = typeof firstName === 'string' && firstName.trim().length > 0 ? firstName.trim() : ''\r\n  const _lastName = typeof lastName === 'string' && lastName.trim().length > 0 ? lastName.trim() : ''\r\n  const _password = typeof password === 'string' && password.trim().length > 11 ? password.trim() : false\r\n  const _tosAgreement = typeof tosAgreement === 'boolean' && tosAgreement === true ? tosAgreement : false\r\n  const _address = typeof address === 'string' && address.trim().length > 0 ? address.trim() : ''\r\n  const _zipCode = typeof zipCode === 'string' && zipCode.trim().length >= 5 ? zipCode.trim() : ''\r\n  const _city = typeof city === 'string' && city.trim().length > 0 ? city.trim() : ''\r\n  const _country = typeof country === 'string' && typeof countries.filter((e) => e.country === country) !== 'undefined' ? country.trim() : ''\r\n  const _avatarUrl = typeof avatarUrl === 'string' && avatarUrl.trim().length > 0 ? avatarUrl.trim() : ''\r\n  const _dob = typeof dob === 'string' && dob.trim().length > 0 ? dob.trim() : ''\r\n\r\n  done(null, {\r\n    email,\r\n    password: _password,\r\n    tosAgreement: _tosAgreement,\r\n    dialCode: _dialCode,\r\n    phone: _phone,\r\n    firstName: _firstName,\r\n    lastName: _lastName,\r\n    address: _address,\r\n    zipCode: _zipCode,\r\n    city: _city,\r\n    country: _country,\r\n    avatarUrl: _avatarUrl,\r\n    dob: _dob\r\n  })\r\n}\r\n\r\nconst userFields = promisify(_userFields)\r\n\r\nexport const loose = async (data, email) => {\r\n  return await userFields(data, email)\r\n}\r\n\r\nconst _userObj = async (data, done) => {\r\n  if (typeof data.body === 'object') {\r\n    const email = await validEmail(data.body.email).catch((e) => done(e))\r\n    if (email) {\r\n      const out = await loose(data, email)\r\n      out.email = email\r\n      done(null, out)\r\n    } else {\r\n      done(t('error.invalid_email'))\r\n    }\r\n  } else {\r\n    done(t('error.no_payload'))\r\n  }\r\n}\r\n\r\nexport const user = promisify(_userObj)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a5c2220a410d8ce59cc07041005bfac2c5074958","contentHash":"80e0e646695023178855a768b5459c006561c66858733ded9d8beb4dedc1afef"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\email\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\email\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":110}},"1":{"start":{"line":1,"column":126},"end":{"line":1,"column":171}},"2":{"start":{"line":1,"column":181},"end":{"line":1,"column":225}},"3":{"start":{"line":1,"column":234},"end":{"line":1,"column":257}},"4":{"start":{"line":1,"column":293},"end":{"line":1,"column":329}},"5":{"start":{"line":1,"column":342},"end":{"line":1,"column":408}},"6":{"start":{"line":1,"column":362},"end":{"line":1,"column":395}},"7":{"start":{"line":1,"column":396},"end":{"line":1,"column":407}},"8":{"start":{"line":1,"column":409},"end":{"line":1,"column":433}},"9":{"start":{"line":1,"column":446},"end":{"line":1,"column":503}},"10":{"start":{"line":1,"column":504},"end":{"line":1,"column":532}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":267},"end":{"line":1,"column":289}},"loc":{"start":{"line":1,"column":292},"end":{"line":1,"column":330}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":342},"end":{"line":1,"column":343}},"loc":{"start":{"line":1,"column":355},"end":{"line":1,"column":408}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":300},"end":{"line":1,"column":329}},"type":"cond-expr","locations":[{"start":{"line":1,"column":316},"end":{"line":1,"column":317}},{"start":{"line":1,"column":318},"end":{"line":1,"column":329}}],"line":1},"1":{"loc":{"start":{"line":1,"column":300},"end":{"line":1,"column":315}},"type":"binary-expr","locations":[{"start":{"line":1,"column":300},"end":{"line":1,"column":301}},{"start":{"line":1,"column":303},"end":{"line":1,"column":315}}],"line":1},"2":{"loc":{"start":{"line":1,"column":446},"end":{"line":1,"column":503}},"type":"cond-expr","locations":[{"start":{"line":1,"column":481},"end":{"line":1,"column":500}},{"start":{"line":1,"column":501},"end":{"line":1,"column":503}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":0,"7":0,"8":1,"9":1,"10":1},"f":{"0":2,"1":0},"b":{"0":[2,0],"1":[2,2],"2":[1,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["compile","source","data","template","Handlebars","sendMailgun"],"mappings":"0UAKO,GAAMA,CAAAA,OAAO,CAAG,SAACC,CAAD,CAASC,CAAT,CAAkB,CACvC,GAAMC,CAAAA,CAAQ,CAAGC,uBAAWJ,OAAX,CAAmBC,CAAnB,CAAjB,CACA,MAAOE,CAAAA,CAAQ,CAACD,CAAD,CAChB,CAHM,C,qCAK2B,SAAnB,0BAA+BG,mBAA/B,CAA6C,E","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\email","sourcesContent":["import Handlebars from 'handlebars'\r\n\r\nimport sendMailgun from './mailgun'\r\nimport { EMAIL_PROVIDER } from '../../config'\r\n\r\nexport const compile = (source, data) => {\r\n  const template = Handlebars.compile(source)\r\n  return template(data)\r\n}\r\n\r\nexport default EMAIL_PROVIDER === 'mailgun' ? sendMailgun : {}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9daad0c1f4b730672e6b97d48871da4a6ebcb71d","contentHash":"30481ccb059dbc5ed135e1b1e369fca14d118c20671c7a1736db52f10aa832e9"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\email\\mailgun.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\email\\mailgun.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":111}},"1":{"start":{"line":1,"column":123},"end":{"line":1,"column":140}},"2":{"start":{"line":1,"column":147},"end":{"line":1,"column":162}},"3":{"start":{"line":1,"column":171},"end":{"line":1,"column":194}},"4":{"start":{"line":1,"column":202},"end":{"line":1,"column":221}},"5":{"start":{"line":1,"column":236},"end":{"line":1,"column":262}},"6":{"start":{"line":1,"column":306},"end":{"line":1,"column":360}},"7":{"start":{"line":1,"column":316},"end":{"line":1,"column":323}},"8":{"start":{"line":1,"column":326},"end":{"line":1,"column":333}},"9":{"start":{"line":1,"column":343},"end":{"line":1,"column":359}},"10":{"start":{"line":1,"column":360},"end":{"line":1,"column":400}},"11":{"start":{"line":1,"column":431},"end":{"line":1,"column":643}},"12":{"start":{"line":1,"column":455},"end":{"line":1,"column":459}},"13":{"start":{"line":1,"column":462},"end":{"line":1,"column":471}},"14":{"start":{"line":1,"column":472},"end":{"line":1,"column":642}},"15":{"start":{"line":1,"column":519},"end":{"line":1,"column":557}},"16":{"start":{"line":1,"column":572},"end":{"line":1,"column":611}},"17":{"start":{"line":1,"column":618},"end":{"line":1,"column":630}},"18":{"start":{"line":1,"column":631},"end":{"line":1,"column":640}},"19":{"start":{"line":1,"column":664},"end":{"line":1,"column":891}},"20":{"start":{"line":1,"column":751},"end":{"line":1,"column":766}},"21":{"start":{"line":1,"column":780},"end":{"line":1,"column":879}},"22":{"start":{"line":1,"column":892},"end":{"line":1,"column":1096}},"23":{"start":{"line":1,"column":1122},"end":{"line":2,"column":361}},"24":{"start":{"line":1,"column":1139},"end":{"line":2,"column":308}},"25":{"start":{"line":1,"column":1222},"end":{"line":2,"column":305}},"26":{"start":{"line":1,"column":1265},"end":{"line":2,"column":301}},"27":{"start":{"line":1,"column":1272},"end":{"line":2,"column":301}},"28":{"start":{"line":1,"column":1301},"end":{"line":1,"column":1377}},"29":{"start":{"line":1,"column":1362},"end":{"line":1,"column":1371}},"30":{"start":{"line":1,"column":1371},"end":{"line":1,"column":1376}},"31":{"start":{"line":1,"column":1377},"end":{"line":2,"column":113}},"32":{"start":{"line":2,"column":98},"end":{"line":2,"column":107}},"33":{"start":{"line":2,"column":107},"end":{"line":2,"column":112}},"34":{"start":{"line":2,"column":113},"end":{"line":2,"column":194}},"35":{"start":{"line":2,"column":180},"end":{"line":2,"column":191}},"36":{"start":{"line":2,"column":201},"end":{"line":2,"column":215}},"37":{"start":{"line":2,"column":215},"end":{"line":2,"column":221}},"38":{"start":{"line":2,"column":228},"end":{"line":2,"column":266}},"39":{"start":{"line":2,"column":284},"end":{"line":2,"column":300}},"40":{"start":{"line":2,"column":309},"end":{"line":2,"column":358}},"41":{"start":{"line":2,"column":327},"end":{"line":2,"column":357}},"42":{"start":{"line":2,"column":362},"end":{"line":2,"column":388}},"43":{"start":{"line":2,"column":401},"end":{"line":2,"column":430}},"44":{"start":{"line":2,"column":431},"end":{"line":2,"column":459}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":272},"end":{"line":1,"column":290}},"loc":{"start":{"line":1,"column":305},"end":{"line":1,"column":401}},"line":1},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":410},"end":{"line":1,"column":427}},"loc":{"start":{"line":1,"column":430},"end":{"line":1,"column":644}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":438},"end":{"line":1,"column":439}},"loc":{"start":{"line":1,"column":448},"end":{"line":1,"column":643}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":491},"end":{"line":1,"column":492}},"loc":{"start":{"line":1,"column":504},"end":{"line":1,"column":641}},"line":1},"4":{"name":"f","decl":{"start":{"line":1,"column":514},"end":{"line":1,"column":515}},"loc":{"start":{"line":1,"column":518},"end":{"line":1,"column":558}},"line":1},"5":{"name":"g","decl":{"start":{"line":1,"column":567},"end":{"line":1,"column":568}},"loc":{"start":{"line":1,"column":571},"end":{"line":1,"column":612}},"line":1},"6":{"name":"_typeof","decl":{"start":{"line":1,"column":653},"end":{"line":1,"column":660}},"loc":{"start":{"line":1,"column":663},"end":{"line":1,"column":892}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":1,"column":739},"end":{"line":1,"column":740}},"loc":{"start":{"line":1,"column":750},"end":{"line":1,"column":767}},"line":1},"8":{"name":"(anonymous_8)","decl":{"start":{"line":1,"column":768},"end":{"line":1,"column":769}},"loc":{"start":{"line":1,"column":779},"end":{"line":1,"column":880}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":1122},"end":{"line":1,"column":1123}},"loc":{"start":{"line":1,"column":1132},"end":{"line":2,"column":359}},"line":1},"10":{"name":"a","decl":{"start":{"line":1,"column":1203},"end":{"line":1,"column":1204}},"loc":{"start":{"line":1,"column":1213},"end":{"line":2,"column":306}},"line":1},"11":{"name":"(anonymous_11)","decl":{"start":{"line":1,"column":1253},"end":{"line":1,"column":1254}},"loc":{"start":{"line":1,"column":1264},"end":{"line":2,"column":302}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":2,"column":168},"end":{"line":2,"column":169}},"loc":{"start":{"line":2,"column":179},"end":{"line":2,"column":192}},"line":2},"13":{"name":"(anonymous_13)","decl":{"start":{"line":2,"column":316},"end":{"line":2,"column":317}},"loc":{"start":{"line":2,"column":326},"end":{"line":2,"column":358}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":360},"end":{"line":1,"column":400}},"type":"cond-expr","locations":[{"start":{"line":1,"column":367},"end":{"line":1,"column":371}},{"start":{"line":1,"column":372},"end":{"line":1,"column":400}}],"line":1},"1":{"loc":{"start":{"line":1,"column":679},"end":{"line":1,"column":880}},"type":"cond-expr","locations":[{"start":{"line":1,"column":739},"end":{"line":1,"column":767}},{"start":{"line":1,"column":768},"end":{"line":1,"column":880}}],"line":1},"2":{"loc":{"start":{"line":1,"column":679},"end":{"line":1,"column":738}},"type":"binary-expr","locations":[{"start":{"line":1,"column":679},"end":{"line":1,"column":704}},{"start":{"line":1,"column":706},"end":{"line":1,"column":738}}],"line":1},"3":{"loc":{"start":{"line":1,"column":787},"end":{"line":1,"column":879}},"type":"cond-expr","locations":[{"start":{"line":1,"column":862},"end":{"line":1,"column":870}},{"start":{"line":1,"column":871},"end":{"line":1,"column":879}}],"line":1},"4":{"loc":{"start":{"line":1,"column":787},"end":{"line":1,"column":861}},"type":"binary-expr","locations":[{"start":{"line":1,"column":787},"end":{"line":1,"column":788}},{"start":{"line":1,"column":790},"end":{"line":1,"column":815}},{"start":{"line":1,"column":817},"end":{"line":1,"column":839}},{"start":{"line":1,"column":841},"end":{"line":1,"column":861}}],"line":1},"5":{"loc":{"start":{"line":1,"column":1272},"end":{"line":2,"column":301}},"type":"switch","locations":[{"start":{"line":1,"column":1294},"end":{"line":2,"column":194}},{"start":{"line":2,"column":194},"end":{"line":2,"column":221}},{"start":{"line":2,"column":221},"end":{"line":2,"column":266}},{"start":{"line":2,"column":266},"end":{"line":2,"column":274}},{"start":{"line":2,"column":274},"end":{"line":2,"column":300}}],"line":1},"6":{"loc":{"start":{"line":1,"column":1301},"end":{"line":1,"column":1377}},"type":"if","locations":[{"start":{"line":1,"column":1301},"end":{"line":1,"column":1377}},{"start":{"line":1,"column":1301},"end":{"line":1,"column":1377}}],"line":1},"7":{"loc":{"start":{"line":1,"column":1306},"end":{"line":1,"column":1357}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1306},"end":{"line":1,"column":1347}},{"start":{"line":1,"column":1349},"end":{"line":1,"column":1357}}],"line":1},"8":{"loc":{"start":{"line":1,"column":1309},"end":{"line":1,"column":1346}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1309},"end":{"line":1,"column":1327}},{"start":{"line":1,"column":1329},"end":{"line":1,"column":1346}}],"line":1},"9":{"loc":{"start":{"line":1,"column":1377},"end":{"line":2,"column":113}},"type":"if","locations":[{"start":{"line":1,"column":1377},"end":{"line":2,"column":113}},{"start":{"line":1,"column":1377},"end":{"line":2,"column":113}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":4,"7":4,"8":4,"9":0,"10":4,"11":1,"12":4,"13":4,"14":4,"15":4,"16":0,"17":4,"18":4,"19":1,"20":3,"21":0,"22":1,"23":1,"24":1,"25":4,"26":4,"27":12,"28":4,"29":0,"30":0,"31":4,"32":4,"33":4,"34":0,"35":0,"36":4,"37":4,"38":0,"39":4,"40":1,"41":4,"42":1,"43":1,"44":1},"f":{"0":4,"1":1,"2":4,"3":4,"4":4,"5":0,"6":1,"7":3,"8":0,"9":1,"10":4,"11":4,"12":0,"13":4},"b":{"0":[4,0],"1":[1,0],"2":[1,1],"3":[0,0],"4":[0,0,0,0],"5":[4,4,0,4,4],"6":[0,4],"7":[4,4],"8":[4,4],"9":[4,0]},"inputSourceMap":{"version":3,"sources":["mailgun.js"],"names":["MAILGUN","domainName","apiKey","nameFrom","_mailgun","email","subject","msg","done","validMsg","trim","length","obj","protocol","hostname","method","path","auth","data","from","to","text","html","headers","process","env","NODE_ENV","e"],"mappings":"43BAOA,gCAAmBA,gBAAQC,UAA3B,EAAuC,QAAvC,C,CACA,gCAAmBD,gBAAQE,MAA3B,EAAmC,QAAnC,C,CACA,gCAAmBF,gBAAQG,QAA3B,EAAqC,QAArC,C,CAEO,GAAMC,CAAAA,QAAQ,sFAAG,WAAOC,CAAP,CAAcC,CAAd,CAAuBC,CAAvB,CAA4BC,CAA5B,4FAChBC,CADgB,IACU,QAAf,QAAOF,CAAAA,CAAP,EAA+C,CAApB,CAAAA,CAAG,CAACG,IAAJ,GAAWC,MADjC,GAC8CJ,CAAG,CAACG,IAAJ,EAD9C,EAGlBD,CAHkB,oBAOdG,CAPc,CAOR,CACVC,QAAQ,CAAE,QADA,CAEVC,QAAQ,CAAE,iBAFA,CAGVC,MAAM,CAAE,MAHE,CAIVC,IAAI,eAAShB,gBAAQC,UAAjB,aAJM,CAKVgB,IAAI,eAASjB,gBAAQE,MAAjB,CALM,CAMVgB,IAAI,CAAE,CACJC,IAAI,WAAKnB,gBAAQG,QAAb,mBAA+BH,gBAAQC,UAAvC,KADA,CAEJmB,EAAE,CAAEf,CAFA,CAGJC,OAAO,CAAEA,CAHL,CAIJe,IAAI,CAAEd,CAJF,CAKJe,IAAI,CAAEf,CACN;AANI,CANI,CAcVgB,OAAO,CAAE,CACP,eAAgB,mCADT,CAdC,CAPQ,CA0BW,SAAzB,GAAAC,OAAO,CAACC,GAAR,CAAYC,QA1BE,iCA0B6B,mBAAQ,OAAR,CAAiBd,CAAjB,WAA4B,SAACe,CAAD,QAAOnB,CAAAA,CAAI,CAACmB,CAAD,CAAX,CAA5B,CA1B7B,QA2BpBnB,CAAI,EA3BgB,wBA6BpBA,CAAI,CAAC,oBAAE,aAAF,CAAD,CA7BgB,yCAAH,uDAAd,C,uCAiCQ,oBAAUJ,QAAV,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\email","sourcesContent":["import { strictEqual } from 'assert'\r\nimport { promisify } from 'util'\r\n\r\nimport { MAILGUN } from '../../config'\r\nimport { request } from '../utils'\r\nimport { t } from '../translations'\r\n\r\nstrictEqual(typeof MAILGUN.domainName, 'string')\r\nstrictEqual(typeof MAILGUN.apiKey, 'string')\r\nstrictEqual(typeof MAILGUN.nameFrom, 'string')\r\n\r\nexport const _mailgun = async (email, subject, msg, done) => {\r\n  const validMsg = typeof msg === 'string' && msg.trim().length > 0 ? msg.trim() : false\r\n\r\n  if (validMsg) {\r\n    // const logo = createReadStream(join(__dirname, '../../.data', 'assets', 'logo.png'))\r\n    // const htmlMsg = `<img src=\"cid:logo.png\" width=\"200px\"><br /><h3>${subject}</h3><p>${msg}</p>`\r\n\r\n    const obj = {\r\n      protocol: 'https:',\r\n      hostname: 'api.mailgun.net',\r\n      method: 'POST',\r\n      path: `/v3/${MAILGUN.domainName}/messages`,\r\n      auth: `api:${MAILGUN.apiKey}`,\r\n      data: {\r\n        from: `${MAILGUN.nameFrom} <info@${MAILGUN.domainName}>`,\r\n        to: email,\r\n        subject: subject,\r\n        text: msg,\r\n        html: msg\r\n        // inline: [logo]\r\n      },\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      }\r\n    }\r\n\r\n    if (!(process.env.NODE_ENV === 'testing')) await request('https', obj).catch((e) => done(e))\r\n    done()\r\n  } else {\r\n    done(t('error.email'))\r\n  }\r\n}\r\n\r\nexport default promisify(_mailgun)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d45a58c1d2b0c46b1c2861b10df41b5267a061a2","contentHash":"4996b58208dfb805d968b5fdf551a359ebc6f0767bf3f5dc69e4f1c3775ede53"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\phone\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\phone\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":94}},"1":{"start":{"line":1,"column":106},"end":{"line":1,"column":129}},"2":{"start":{"line":1,"column":138},"end":{"line":1,"column":181}},"3":{"start":{"line":1,"column":217},"end":{"line":1,"column":253}},"4":{"start":{"line":1,"column":267},"end":{"line":1,"column":323}},"5":{"start":{"line":1,"column":324},"end":{"line":1,"column":352}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":191},"end":{"line":1,"column":213}},"loc":{"start":{"line":1,"column":216},"end":{"line":1,"column":254}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":224},"end":{"line":1,"column":253}},"type":"cond-expr","locations":[{"start":{"line":1,"column":240},"end":{"line":1,"column":241}},{"start":{"line":1,"column":242},"end":{"line":1,"column":253}}],"line":1},"1":{"loc":{"start":{"line":1,"column":224},"end":{"line":1,"column":239}},"type":"binary-expr","locations":[{"start":{"line":1,"column":224},"end":{"line":1,"column":225}},{"start":{"line":1,"column":227},"end":{"line":1,"column":239}}],"line":1},"2":{"loc":{"start":{"line":1,"column":267},"end":{"line":1,"column":323}},"type":"cond-expr","locations":[{"start":{"line":1,"column":302},"end":{"line":1,"column":320}},{"start":{"line":1,"column":321},"end":{"line":1,"column":323}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[1,0],"1":[1,1],"2":[1,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["sendTwilio"],"mappings":"2QAGmC,QAApB,2BAA+BA,kBAA/B,CAA4C,E","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\phone","sourcesContent":["import { MOBILE_PROVIDER } from '../../config'\r\nimport sendTwilio from './twilio'\r\n\r\nexport default MOBILE_PROVIDER === 'twilio' ? sendTwilio : {}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b24160b790f7d730ae5089fac8fcc95a40fd9213","contentHash":"17257552cecd1002402747a5f959164fb69cd4046dae58cd2198ac3f3bda6cee"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\phone\\twilio.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\phone\\twilio.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":110}},"1":{"start":{"line":1,"column":122},"end":{"line":1,"column":139}},"2":{"start":{"line":1,"column":146},"end":{"line":1,"column":161}},"3":{"start":{"line":1,"column":170},"end":{"line":1,"column":193}},"4":{"start":{"line":1,"column":201},"end":{"line":1,"column":220}},"5":{"start":{"line":1,"column":235},"end":{"line":1,"column":261}},"6":{"start":{"line":1,"column":305},"end":{"line":1,"column":359}},"7":{"start":{"line":1,"column":315},"end":{"line":1,"column":322}},"8":{"start":{"line":1,"column":325},"end":{"line":1,"column":332}},"9":{"start":{"line":1,"column":342},"end":{"line":1,"column":358}},"10":{"start":{"line":1,"column":359},"end":{"line":1,"column":399}},"11":{"start":{"line":1,"column":430},"end":{"line":1,"column":642}},"12":{"start":{"line":1,"column":454},"end":{"line":1,"column":458}},"13":{"start":{"line":1,"column":461},"end":{"line":1,"column":470}},"14":{"start":{"line":1,"column":471},"end":{"line":1,"column":641}},"15":{"start":{"line":1,"column":518},"end":{"line":1,"column":556}},"16":{"start":{"line":1,"column":571},"end":{"line":1,"column":610}},"17":{"start":{"line":1,"column":617},"end":{"line":1,"column":629}},"18":{"start":{"line":1,"column":630},"end":{"line":1,"column":639}},"19":{"start":{"line":1,"column":663},"end":{"line":1,"column":890}},"20":{"start":{"line":1,"column":750},"end":{"line":1,"column":765}},"21":{"start":{"line":1,"column":779},"end":{"line":1,"column":878}},"22":{"start":{"line":1,"column":891},"end":{"line":1,"column":1021}},"23":{"start":{"line":1,"column":1046},"end":{"line":1,"column":2032}},"24":{"start":{"line":1,"column":1063},"end":{"line":1,"column":1979}},"25":{"start":{"line":1,"column":1146},"end":{"line":1,"column":1976}},"26":{"start":{"line":1,"column":1189},"end":{"line":1,"column":1972}},"27":{"start":{"line":1,"column":1196},"end":{"line":1,"column":1972}},"28":{"start":{"line":1,"column":1225},"end":{"line":1,"column":1349}},"29":{"start":{"line":1,"column":1333},"end":{"line":1,"column":1343}},"30":{"start":{"line":1,"column":1343},"end":{"line":1,"column":1348}},"31":{"start":{"line":1,"column":1349},"end":{"line":1,"column":1783}},"32":{"start":{"line":1,"column":1768},"end":{"line":1,"column":1777}},"33":{"start":{"line":1,"column":1777},"end":{"line":1,"column":1782}},"34":{"start":{"line":1,"column":1783},"end":{"line":1,"column":1864}},"35":{"start":{"line":1,"column":1850},"end":{"line":1,"column":1861}},"36":{"start":{"line":1,"column":1871},"end":{"line":1,"column":1885}},"37":{"start":{"line":1,"column":1885},"end":{"line":1,"column":1891}},"38":{"start":{"line":1,"column":1899},"end":{"line":1,"column":1937}},"39":{"start":{"line":1,"column":1955},"end":{"line":1,"column":1971}},"40":{"start":{"line":1,"column":1980},"end":{"line":1,"column":2029}},"41":{"start":{"line":1,"column":1998},"end":{"line":1,"column":2028}},"42":{"start":{"line":1,"column":2033},"end":{"line":1,"column":2057}},"43":{"start":{"line":1,"column":2070},"end":{"line":1,"column":2098}},"44":{"start":{"line":1,"column":2099},"end":{"line":1,"column":2127}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":271},"end":{"line":1,"column":289}},"loc":{"start":{"line":1,"column":304},"end":{"line":1,"column":400}},"line":1},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":409},"end":{"line":1,"column":426}},"loc":{"start":{"line":1,"column":429},"end":{"line":1,"column":643}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":437},"end":{"line":1,"column":438}},"loc":{"start":{"line":1,"column":447},"end":{"line":1,"column":642}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":490},"end":{"line":1,"column":491}},"loc":{"start":{"line":1,"column":503},"end":{"line":1,"column":640}},"line":1},"4":{"name":"f","decl":{"start":{"line":1,"column":513},"end":{"line":1,"column":514}},"loc":{"start":{"line":1,"column":517},"end":{"line":1,"column":557}},"line":1},"5":{"name":"g","decl":{"start":{"line":1,"column":566},"end":{"line":1,"column":567}},"loc":{"start":{"line":1,"column":570},"end":{"line":1,"column":611}},"line":1},"6":{"name":"_typeof","decl":{"start":{"line":1,"column":652},"end":{"line":1,"column":659}},"loc":{"start":{"line":1,"column":662},"end":{"line":1,"column":891}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":1,"column":738},"end":{"line":1,"column":739}},"loc":{"start":{"line":1,"column":749},"end":{"line":1,"column":766}},"line":1},"8":{"name":"(anonymous_8)","decl":{"start":{"line":1,"column":767},"end":{"line":1,"column":768}},"loc":{"start":{"line":1,"column":778},"end":{"line":1,"column":879}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":1046},"end":{"line":1,"column":1047}},"loc":{"start":{"line":1,"column":1056},"end":{"line":1,"column":2030}},"line":1},"10":{"name":"a","decl":{"start":{"line":1,"column":1127},"end":{"line":1,"column":1128}},"loc":{"start":{"line":1,"column":1135},"end":{"line":1,"column":1977}},"line":1},"11":{"name":"(anonymous_11)","decl":{"start":{"line":1,"column":1177},"end":{"line":1,"column":1178}},"loc":{"start":{"line":1,"column":1188},"end":{"line":1,"column":1973}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":1838},"end":{"line":1,"column":1839}},"loc":{"start":{"line":1,"column":1849},"end":{"line":1,"column":1862}},"line":1},"13":{"name":"(anonymous_13)","decl":{"start":{"line":1,"column":1987},"end":{"line":1,"column":1988}},"loc":{"start":{"line":1,"column":1997},"end":{"line":1,"column":2029}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":359},"end":{"line":1,"column":399}},"type":"cond-expr","locations":[{"start":{"line":1,"column":366},"end":{"line":1,"column":370}},{"start":{"line":1,"column":371},"end":{"line":1,"column":399}}],"line":1},"1":{"loc":{"start":{"line":1,"column":678},"end":{"line":1,"column":879}},"type":"cond-expr","locations":[{"start":{"line":1,"column":738},"end":{"line":1,"column":766}},{"start":{"line":1,"column":767},"end":{"line":1,"column":879}}],"line":1},"2":{"loc":{"start":{"line":1,"column":678},"end":{"line":1,"column":737}},"type":"binary-expr","locations":[{"start":{"line":1,"column":678},"end":{"line":1,"column":703}},{"start":{"line":1,"column":705},"end":{"line":1,"column":737}}],"line":1},"3":{"loc":{"start":{"line":1,"column":786},"end":{"line":1,"column":878}},"type":"cond-expr","locations":[{"start":{"line":1,"column":861},"end":{"line":1,"column":869}},{"start":{"line":1,"column":870},"end":{"line":1,"column":878}}],"line":1},"4":{"loc":{"start":{"line":1,"column":786},"end":{"line":1,"column":860}},"type":"binary-expr","locations":[{"start":{"line":1,"column":786},"end":{"line":1,"column":787}},{"start":{"line":1,"column":789},"end":{"line":1,"column":814}},{"start":{"line":1,"column":816},"end":{"line":1,"column":838}},{"start":{"line":1,"column":840},"end":{"line":1,"column":860}}],"line":1},"5":{"loc":{"start":{"line":1,"column":1196},"end":{"line":1,"column":1972}},"type":"switch","locations":[{"start":{"line":1,"column":1218},"end":{"line":1,"column":1864}},{"start":{"line":1,"column":1864},"end":{"line":1,"column":1891}},{"start":{"line":1,"column":1891},"end":{"line":1,"column":1937}},{"start":{"line":1,"column":1937},"end":{"line":1,"column":1945}},{"start":{"line":1,"column":1945},"end":{"line":1,"column":1971}}],"line":1},"6":{"loc":{"start":{"line":1,"column":1225},"end":{"line":1,"column":1349}},"type":"if","locations":[{"start":{"line":1,"column":1225},"end":{"line":1,"column":1349}},{"start":{"line":1,"column":1225},"end":{"line":1,"column":1349}}],"line":1},"7":{"loc":{"start":{"line":1,"column":1230},"end":{"line":1,"column":1269}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1230},"end":{"line":1,"column":1266}},{"start":{"line":1,"column":1268},"end":{"line":1,"column":1269}}],"line":1},"8":{"loc":{"start":{"line":1,"column":1233},"end":{"line":1,"column":1265}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1233},"end":{"line":1,"column":1251}},{"start":{"line":1,"column":1253},"end":{"line":1,"column":1265}}],"line":1},"9":{"loc":{"start":{"line":1,"column":1272},"end":{"line":1,"column":1323}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1272},"end":{"line":1,"column":1313}},{"start":{"line":1,"column":1315},"end":{"line":1,"column":1323}}],"line":1},"10":{"loc":{"start":{"line":1,"column":1275},"end":{"line":1,"column":1312}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1275},"end":{"line":1,"column":1293}},{"start":{"line":1,"column":1295},"end":{"line":1,"column":1312}}],"line":1},"11":{"loc":{"start":{"line":1,"column":1326},"end":{"line":1,"column":1330}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1326},"end":{"line":1,"column":1327}},{"start":{"line":1,"column":1329},"end":{"line":1,"column":1330}}],"line":1},"12":{"loc":{"start":{"line":1,"column":1349},"end":{"line":1,"column":1783}},"type":"if","locations":[{"start":{"line":1,"column":1349},"end":{"line":1,"column":1783}},{"start":{"line":1,"column":1349},"end":{"line":1,"column":1783}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":2,"21":0,"22":1,"23":1,"24":1,"25":1,"26":1,"27":3,"28":1,"29":0,"30":0,"31":1,"32":1,"33":1,"34":0,"35":0,"36":1,"37":1,"38":0,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":2,"8":0,"9":1,"10":1,"11":1,"12":0,"13":1},"b":{"0":[1,0],"1":[1,0],"2":[1,1],"3":[0,0],"4":[0,0,0,0],"5":[1,1,0,1,1],"6":[0,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1],"11":[1,1],"12":[1,0]},"inputSourceMap":{"version":3,"sources":["twilio.js"],"names":["TWILIO","sid","authToken","_twilio","phone","msg","done","validPhone","length","validMsg","trim","obj","protocol","hostname","method","path","data","From","from","To","Body","headers","Authorization","Buffer","toString","process","env","NODE_ENV","e"],"mappings":"23BAOA,gCAAmBA,eAAOC,GAA1B,EAA+B,QAA/B,C,CACA,gCAAmBD,eAAOE,SAA1B,EAAqC,QAArC,C,CAEO,GAAMC,CAAAA,OAAO,sFAAG,WAAOC,CAAP,CAAcC,CAAd,CAAmBC,CAAnB,8FACfC,CADe,IACe,QAAjB,QAAOH,CAAAA,CAAP,EAA6C,EAAhB,EAAAA,CAAK,CAACI,MADjC,GACgDJ,CADhD,CAEfK,CAFe,IAEW,QAAf,QAAOJ,CAAAA,CAAP,EAA+C,CAApB,CAAAA,CAAG,CAACK,IAAJ,GAAWF,MAFlC,GAE+CH,CAAG,CAACK,IAAJ,EAF/C,GAIjBH,CAAU,EAAIE,CAJG,sBAKbE,CALa,CAKP,CACVC,QAAQ,CAAE,QADA,CAEVC,QAAQ,CAAE,gBAFA,CAGVC,MAAM,CAAE,MAHE,CAIVC,IAAI,gCAA0Bf,eAAOC,GAAjC,kBAJM,CAKVe,IAAI,CAAE,CACJC,IAAI,CAAEjB,eAAOkB,IADT,CAEJC,EAAE,YAAMf,CAAN,CAFE,CAGJgB,IAAI,CAAEf,CAHF,CALI,CAUVgB,OAAO,CAAE,CACPC,aAAa,iBAAWC,MAAM,CAACL,IAAP,WAAelB,eAAOC,GAAtB,aAA6BD,eAAOE,SAApC,GAAiDsB,QAAjD,CAA0D,QAA1D,CAAX,CADN,CAEP,eAAgB,mCAFT,CAVC,CALO,CAqBY,SAAzB,GAAAC,OAAO,CAACC,GAAR,CAAYC,QArBC,iCAqB8B,mBAAQ,OAAR,CAAiBhB,CAAjB,WAA4B,SAACiB,CAAD,QAAOtB,CAAAA,CAAI,CAACsB,CAAD,CAAX,CAA5B,CArB9B,QAsBnBtB,CAAI,EAtBe,yBAwBnBA,CAAI,CAAC,oBAAE,aAAF,CAAD,CAxBe,yCAAH,uDAAb,C,qCA4BQ,oBAAUH,OAAV,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\phone","sourcesContent":["import { strictEqual } from 'assert'\r\nimport { promisify } from 'util'\r\n\r\nimport { TWILIO } from '../../config'\r\nimport { request } from '../utils'\r\nimport { t } from '../translations'\r\n\r\nstrictEqual(typeof TWILIO.sid, 'string')\r\nstrictEqual(typeof TWILIO.authToken, 'string')\r\n\r\nexport const _twilio = async (phone, msg, done) => {\r\n  const validPhone = typeof phone === 'string' && phone.length >= 11 ? phone : false\r\n  const validMsg = typeof msg === 'string' && msg.trim().length > 0 ? msg.trim() : false\r\n\r\n  if (validPhone && validMsg) {\r\n    const obj = {\r\n      protocol: 'https:',\r\n      hostname: 'api.twilio.com',\r\n      method: 'POST',\r\n      path: `/2010-04-01/Accounts/${TWILIO.sid}/Messages.json`,\r\n      data: {\r\n        From: TWILIO.from,\r\n        To: `+${phone}`,\r\n        Body: msg\r\n      },\r\n      headers: {\r\n        Authorization: `Basic ${Buffer.from(`${TWILIO.sid}:${TWILIO.authToken}`).toString('base64')}`,\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      }\r\n    }\r\n\r\n    if (!(process.env.NODE_ENV === 'testing')) await request('https', obj).catch((e) => done(e))\r\n    done()\r\n  } else {\r\n    done(t('error.phone'))\r\n  }\r\n}\r\n\r\nexport default promisify(_twilio)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f3105189971523e522834307b3335263c8a3cf01","contentHash":"5852479c0ec268390969c8b83eae90b8964277d6385bfbd3cc70c3479df0a884"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\users\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\users\\schema.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":194}},"1":{"start":{"line":1,"column":203},"end":{"line":1,"column":217}},"2":{"start":{"line":1,"column":226},"end":{"line":1,"column":249}},"3":{"start":{"line":1,"column":263},"end":{"line":1,"column":1281}},"4":{"start":{"line":1,"column":469},"end":{"line":1,"column":490}},"5":{"start":{"line":1,"column":551},"end":{"line":1,"column":572}},"6":{"start":{"line":1,"column":633},"end":{"line":1,"column":654}},"7":{"start":{"line":1,"column":712},"end":{"line":1,"column":733}},"8":{"start":{"line":1,"column":793},"end":{"line":1,"column":814}},"9":{"start":{"line":1,"column":874},"end":{"line":1,"column":895}},"10":{"start":{"line":1,"column":952},"end":{"line":1,"column":973}},"11":{"start":{"line":1,"column":1033},"end":{"line":1,"column":1054}},"12":{"start":{"line":1,"column":1113},"end":{"line":1,"column":1134}},"13":{"start":{"line":1,"column":1189},"end":{"line":1,"column":1210}},"14":{"start":{"line":1,"column":1282},"end":{"line":1,"column":1316}},"15":{"start":{"line":1,"column":1331},"end":{"line":1,"column":2383}},"16":{"start":{"line":1,"column":1404},"end":{"line":1,"column":1425}},"17":{"start":{"line":1,"column":1487},"end":{"line":1,"column":1508}},"18":{"start":{"line":1,"column":1571},"end":{"line":1,"column":1592}},"19":{"start":{"line":1,"column":1653},"end":{"line":1,"column":1674}},"20":{"start":{"line":1,"column":1735},"end":{"line":1,"column":1756}},"21":{"start":{"line":1,"column":1814},"end":{"line":1,"column":1835}},"22":{"start":{"line":1,"column":1895},"end":{"line":1,"column":1916}},"23":{"start":{"line":1,"column":1976},"end":{"line":1,"column":1997}},"24":{"start":{"line":1,"column":2054},"end":{"line":1,"column":2075}},"25":{"start":{"line":1,"column":2135},"end":{"line":1,"column":2156}},"26":{"start":{"line":1,"column":2215},"end":{"line":1,"column":2236}},"27":{"start":{"line":1,"column":2291},"end":{"line":1,"column":2312}},"28":{"start":{"line":1,"column":2384},"end":{"line":1,"column":2414}},"29":{"start":{"line":1,"column":2430},"end":{"line":1,"column":2517}},"30":{"start":{"line":1,"column":2518},"end":{"line":1,"column":2550}},"31":{"start":{"line":1,"column":2562},"end":{"line":1,"column":2649}},"32":{"start":{"line":1,"column":2650},"end":{"line":1,"column":2674}},"33":{"start":{"line":1,"column":2691},"end":{"line":1,"column":2940}},"34":{"start":{"line":1,"column":2941},"end":{"line":1,"column":2975}},"35":{"start":{"line":1,"column":2993},"end":{"line":1,"column":3135}},"36":{"start":{"line":1,"column":3136},"end":{"line":1,"column":3172}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":1,"column":455},"end":{"line":1,"column":456}},"loc":{"start":{"line":1,"column":468},"end":{"line":1,"column":491}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":537},"end":{"line":1,"column":538}},"loc":{"start":{"line":1,"column":550},"end":{"line":1,"column":573}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":619},"end":{"line":1,"column":620}},"loc":{"start":{"line":1,"column":632},"end":{"line":1,"column":655}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":698},"end":{"line":1,"column":699}},"loc":{"start":{"line":1,"column":711},"end":{"line":1,"column":734}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":779},"end":{"line":1,"column":780}},"loc":{"start":{"line":1,"column":792},"end":{"line":1,"column":815}},"line":1},"5":{"name":"(anonymous_5)","decl":{"start":{"line":1,"column":860},"end":{"line":1,"column":861}},"loc":{"start":{"line":1,"column":873},"end":{"line":1,"column":896}},"line":1},"6":{"name":"(anonymous_6)","decl":{"start":{"line":1,"column":938},"end":{"line":1,"column":939}},"loc":{"start":{"line":1,"column":951},"end":{"line":1,"column":974}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":1,"column":1019},"end":{"line":1,"column":1020}},"loc":{"start":{"line":1,"column":1032},"end":{"line":1,"column":1055}},"line":1},"8":{"name":"(anonymous_8)","decl":{"start":{"line":1,"column":1099},"end":{"line":1,"column":1100}},"loc":{"start":{"line":1,"column":1112},"end":{"line":1,"column":1135}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":1175},"end":{"line":1,"column":1176}},"loc":{"start":{"line":1,"column":1188},"end":{"line":1,"column":1211}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":1390},"end":{"line":1,"column":1391}},"loc":{"start":{"line":1,"column":1403},"end":{"line":1,"column":1426}},"line":1},"11":{"name":"(anonymous_11)","decl":{"start":{"line":1,"column":1473},"end":{"line":1,"column":1474}},"loc":{"start":{"line":1,"column":1486},"end":{"line":1,"column":1509}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":1557},"end":{"line":1,"column":1558}},"loc":{"start":{"line":1,"column":1570},"end":{"line":1,"column":1593}},"line":1},"13":{"name":"(anonymous_13)","decl":{"start":{"line":1,"column":1639},"end":{"line":1,"column":1640}},"loc":{"start":{"line":1,"column":1652},"end":{"line":1,"column":1675}},"line":1},"14":{"name":"(anonymous_14)","decl":{"start":{"line":1,"column":1721},"end":{"line":1,"column":1722}},"loc":{"start":{"line":1,"column":1734},"end":{"line":1,"column":1757}},"line":1},"15":{"name":"(anonymous_15)","decl":{"start":{"line":1,"column":1800},"end":{"line":1,"column":1801}},"loc":{"start":{"line":1,"column":1813},"end":{"line":1,"column":1836}},"line":1},"16":{"name":"(anonymous_16)","decl":{"start":{"line":1,"column":1881},"end":{"line":1,"column":1882}},"loc":{"start":{"line":1,"column":1894},"end":{"line":1,"column":1917}},"line":1},"17":{"name":"(anonymous_17)","decl":{"start":{"line":1,"column":1962},"end":{"line":1,"column":1963}},"loc":{"start":{"line":1,"column":1975},"end":{"line":1,"column":1998}},"line":1},"18":{"name":"(anonymous_18)","decl":{"start":{"line":1,"column":2040},"end":{"line":1,"column":2041}},"loc":{"start":{"line":1,"column":2053},"end":{"line":1,"column":2076}},"line":1},"19":{"name":"(anonymous_19)","decl":{"start":{"line":1,"column":2121},"end":{"line":1,"column":2122}},"loc":{"start":{"line":1,"column":2134},"end":{"line":1,"column":2157}},"line":1},"20":{"name":"(anonymous_20)","decl":{"start":{"line":1,"column":2201},"end":{"line":1,"column":2202}},"loc":{"start":{"line":1,"column":2214},"end":{"line":1,"column":2237}},"line":1},"21":{"name":"(anonymous_21)","decl":{"start":{"line":1,"column":2277},"end":{"line":1,"column":2278}},"loc":{"start":{"line":1,"column":2290},"end":{"line":1,"column":2313}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":475},"end":{"line":1,"column":490}},"type":"cond-expr","locations":[{"start":{"line":1,"column":482},"end":{"line":1,"column":488}},{"start":{"line":1,"column":489},"end":{"line":1,"column":490}}],"line":1},"1":{"loc":{"start":{"line":1,"column":557},"end":{"line":1,"column":572}},"type":"cond-expr","locations":[{"start":{"line":1,"column":564},"end":{"line":1,"column":570}},{"start":{"line":1,"column":571},"end":{"line":1,"column":572}}],"line":1},"2":{"loc":{"start":{"line":1,"column":639},"end":{"line":1,"column":654}},"type":"cond-expr","locations":[{"start":{"line":1,"column":646},"end":{"line":1,"column":652}},{"start":{"line":1,"column":653},"end":{"line":1,"column":654}}],"line":1},"3":{"loc":{"start":{"line":1,"column":718},"end":{"line":1,"column":733}},"type":"cond-expr","locations":[{"start":{"line":1,"column":725},"end":{"line":1,"column":731}},{"start":{"line":1,"column":732},"end":{"line":1,"column":733}}],"line":1},"4":{"loc":{"start":{"line":1,"column":799},"end":{"line":1,"column":814}},"type":"cond-expr","locations":[{"start":{"line":1,"column":806},"end":{"line":1,"column":812}},{"start":{"line":1,"column":813},"end":{"line":1,"column":814}}],"line":1},"5":{"loc":{"start":{"line":1,"column":880},"end":{"line":1,"column":895}},"type":"cond-expr","locations":[{"start":{"line":1,"column":887},"end":{"line":1,"column":893}},{"start":{"line":1,"column":894},"end":{"line":1,"column":895}}],"line":1},"6":{"loc":{"start":{"line":1,"column":958},"end":{"line":1,"column":973}},"type":"cond-expr","locations":[{"start":{"line":1,"column":965},"end":{"line":1,"column":971}},{"start":{"line":1,"column":972},"end":{"line":1,"column":973}}],"line":1},"7":{"loc":{"start":{"line":1,"column":1039},"end":{"line":1,"column":1054}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1046},"end":{"line":1,"column":1052}},{"start":{"line":1,"column":1053},"end":{"line":1,"column":1054}}],"line":1},"8":{"loc":{"start":{"line":1,"column":1119},"end":{"line":1,"column":1134}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1126},"end":{"line":1,"column":1132}},{"start":{"line":1,"column":1133},"end":{"line":1,"column":1134}}],"line":1},"9":{"loc":{"start":{"line":1,"column":1195},"end":{"line":1,"column":1210}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1202},"end":{"line":1,"column":1208}},{"start":{"line":1,"column":1209},"end":{"line":1,"column":1210}}],"line":1},"10":{"loc":{"start":{"line":1,"column":1410},"end":{"line":1,"column":1425}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1417},"end":{"line":1,"column":1423}},{"start":{"line":1,"column":1424},"end":{"line":1,"column":1425}}],"line":1},"11":{"loc":{"start":{"line":1,"column":1493},"end":{"line":1,"column":1508}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1500},"end":{"line":1,"column":1506}},{"start":{"line":1,"column":1507},"end":{"line":1,"column":1508}}],"line":1},"12":{"loc":{"start":{"line":1,"column":1577},"end":{"line":1,"column":1592}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1584},"end":{"line":1,"column":1590}},{"start":{"line":1,"column":1591},"end":{"line":1,"column":1592}}],"line":1},"13":{"loc":{"start":{"line":1,"column":1659},"end":{"line":1,"column":1674}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1666},"end":{"line":1,"column":1672}},{"start":{"line":1,"column":1673},"end":{"line":1,"column":1674}}],"line":1},"14":{"loc":{"start":{"line":1,"column":1741},"end":{"line":1,"column":1756}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1748},"end":{"line":1,"column":1754}},{"start":{"line":1,"column":1755},"end":{"line":1,"column":1756}}],"line":1},"15":{"loc":{"start":{"line":1,"column":1820},"end":{"line":1,"column":1835}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1827},"end":{"line":1,"column":1833}},{"start":{"line":1,"column":1834},"end":{"line":1,"column":1835}}],"line":1},"16":{"loc":{"start":{"line":1,"column":1901},"end":{"line":1,"column":1916}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1908},"end":{"line":1,"column":1914}},{"start":{"line":1,"column":1915},"end":{"line":1,"column":1916}}],"line":1},"17":{"loc":{"start":{"line":1,"column":1982},"end":{"line":1,"column":1997}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1989},"end":{"line":1,"column":1995}},{"start":{"line":1,"column":1996},"end":{"line":1,"column":1997}}],"line":1},"18":{"loc":{"start":{"line":1,"column":2060},"end":{"line":1,"column":2075}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2067},"end":{"line":1,"column":2073}},{"start":{"line":1,"column":2074},"end":{"line":1,"column":2075}}],"line":1},"19":{"loc":{"start":{"line":1,"column":2141},"end":{"line":1,"column":2156}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2148},"end":{"line":1,"column":2154}},{"start":{"line":1,"column":2155},"end":{"line":1,"column":2156}}],"line":1},"20":{"loc":{"start":{"line":1,"column":2221},"end":{"line":1,"column":2236}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2228},"end":{"line":1,"column":2234}},{"start":{"line":1,"column":2235},"end":{"line":1,"column":2236}}],"line":1},"21":{"loc":{"start":{"line":1,"column":2297},"end":{"line":1,"column":2312}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2304},"end":{"line":1,"column":2310}},{"start":{"line":1,"column":2311},"end":{"line":1,"column":2312}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":1,"16":1,"17":0,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[1,0],"11":[0,0],"12":[0,1],"13":[0,1],"14":[1,0],"15":[1,0],"16":[1,0],"17":[1,0],"18":[1,0],"19":[1,0],"20":[1,0],"21":[1,0]},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["createSchema","shape","email","required","password","min","tosAgreement","firstName","transform","cv","ov","lastName","dialCode","phone","address","zipCode","city","country","length","dob","avatarUrl","url","locale","oneOf","LANGUAGES","userUpdate","userDestroy","userGet","socialSchema","provider","SOCIAL_PROVIDERS","idToken","accessToken","setRoleSchema","role","ROLES"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\users","sourcesContent":["import { object, string, bool } from 'yup'\r\n\r\nimport { LANGUAGES, ROLES, SOCIAL_PROVIDERS } from '../../config'\r\n\r\nexport const createSchema = object().shape({\r\n  email: string().required().email(),\r\n  password: string().required().min(12),\r\n  tosAgreement: bool().required(),\r\n  firstName: string().transform((cv, ov) => ov === '' ? undefined : cv).min(3),\r\n  lastName: string().transform((cv, ov) => ov === '' ? undefined : cv).min(3),\r\n  dialCode: string().transform((cv, ov) => ov === '' ? undefined : cv).min(2),\r\n  phone: string().transform((cv, ov) => ov === '' ? undefined : cv).min(8),\r\n  address: string().transform((cv, ov) => ov === '' ? undefined : cv).min(5),\r\n  zipCode: string().transform((cv, ov) => ov === '' ? undefined : cv).min(5),\r\n  city: string().transform((cv, ov) => ov === '' ? undefined : cv).min(3),\r\n  country: string().transform((cv, ov) => ov === '' ? undefined : cv).length(2),\r\n  dob: string().transform((cv, ov) => ov === '' ? undefined : cv),\r\n  avatarUrl: string().transform((cv, ov) => ov === '' ? undefined : cv).url(),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const userUpdate = object().shape({\r\n  email: string().transform((cv, ov) => ov === '' ? undefined : cv).email(),\r\n  password: string().transform((cv, ov) => ov === '' ? undefined : cv).min(12),\r\n  firstName: string().transform((cv, ov) => ov === '' ? undefined : cv).min(3),\r\n  lastName: string().transform((cv, ov) => ov === '' ? undefined : cv).min(3),\r\n  dialCode: string().transform((cv, ov) => ov === '' ? undefined : cv).min(2),\r\n  phone: string().transform((cv, ov) => ov === '' ? undefined : cv).min(8),\r\n  address: string().transform((cv, ov) => ov === '' ? undefined : cv).min(5),\r\n  zipCode: string().transform((cv, ov) => ov === '' ? undefined : cv).min(5),\r\n  city: string().transform((cv, ov) => ov === '' ? undefined : cv).min(3),\r\n  country: string().transform((cv, ov) => ov === '' ? undefined : cv).length(2),\r\n  dob: string().transform((cv, ov) => ov === '' ? undefined : cv),\r\n  avatarUrl: string().transform((cv, ov) => ov === '' ? undefined : cv).url(),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const userDestroy = object().shape({\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const userGet = object().shape({\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const socialSchema = object().shape({\r\n  provider: string().required().oneOf(SOCIAL_PROVIDERS),\r\n  idToken: string().required().min(5),\r\n  accessToken: string().required().min(5),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const setRoleSchema = object().shape({\r\n  role: string().required().oneOf(ROLES),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d55837cda5e8a18446ea2710e2e908077043039d","contentHash":"05d20dcf6a9a5be38930e306fa537db299c2640fca2a05addc9e5eb1ecc87e6c"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\token\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\token\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":130}},"1":{"start":{"line":1,"column":144},"end":{"line":1,"column":173}},"2":{"start":{"line":1,"column":182},"end":{"line":1,"column":205}},"3":{"start":{"line":1,"column":210},"end":{"line":1,"column":257}},"4":{"start":{"line":1,"column":267},"end":{"line":1,"column":295}},"5":{"start":{"line":1,"column":304},"end":{"line":1,"column":323}},"6":{"start":{"line":1,"column":338},"end":{"line":1,"column":371}},"7":{"start":{"line":1,"column":379},"end":{"line":1,"column":405}},"8":{"start":{"line":1,"column":441},"end":{"line":1,"column":477}},"9":{"start":{"line":1,"column":521},"end":{"line":1,"column":575}},"10":{"start":{"line":1,"column":531},"end":{"line":1,"column":538}},"11":{"start":{"line":1,"column":541},"end":{"line":1,"column":548}},"12":{"start":{"line":1,"column":558},"end":{"line":1,"column":574}},"13":{"start":{"line":1,"column":575},"end":{"line":1,"column":615}},"14":{"start":{"line":1,"column":646},"end":{"line":1,"column":858}},"15":{"start":{"line":1,"column":670},"end":{"line":1,"column":674}},"16":{"start":{"line":1,"column":677},"end":{"line":1,"column":686}},"17":{"start":{"line":1,"column":687},"end":{"line":1,"column":857}},"18":{"start":{"line":1,"column":734},"end":{"line":1,"column":772}},"19":{"start":{"line":1,"column":787},"end":{"line":1,"column":826}},"20":{"start":{"line":1,"column":833},"end":{"line":1,"column":845}},"21":{"start":{"line":1,"column":846},"end":{"line":1,"column":855}},"22":{"start":{"line":1,"column":880},"end":{"line":1,"column":1592}},"23":{"start":{"line":1,"column":897},"end":{"line":1,"column":1539}},"24":{"start":{"line":1,"column":976},"end":{"line":1,"column":1536}},"25":{"start":{"line":1,"column":1019},"end":{"line":1,"column":1532}},"26":{"start":{"line":1,"column":1026},"end":{"line":1,"column":1532}},"27":{"start":{"line":1,"column":1055},"end":{"line":1,"column":1104}},"28":{"start":{"line":1,"column":1111},"end":{"line":1,"column":1143}},"29":{"start":{"line":1,"column":1127},"end":{"line":1,"column":1137}},"30":{"start":{"line":1,"column":1137},"end":{"line":1,"column":1142}},"31":{"start":{"line":1,"column":1143},"end":{"line":1,"column":1190}},"32":{"start":{"line":1,"column":1197},"end":{"line":1,"column":1326}},"33":{"start":{"line":1,"column":1278},"end":{"line":1,"column":1323}},"34":{"start":{"line":1,"column":1333},"end":{"line":1,"column":1432}},"35":{"start":{"line":1,"column":1432},"end":{"line":1,"column":1438}},"36":{"start":{"line":1,"column":1446},"end":{"line":1,"column":1497}},"37":{"start":{"line":1,"column":1515},"end":{"line":1,"column":1531}},"38":{"start":{"line":1,"column":1540},"end":{"line":1,"column":1589}},"39":{"start":{"line":1,"column":1558},"end":{"line":1,"column":1588}},"40":{"start":{"line":1,"column":1593},"end":{"line":1,"column":1609}},"41":{"start":{"line":1,"column":1632},"end":{"line":1,"column":2502}},"42":{"start":{"line":1,"column":1649},"end":{"line":1,"column":2449}},"43":{"start":{"line":1,"column":1734},"end":{"line":1,"column":2446}},"44":{"start":{"line":1,"column":1777},"end":{"line":1,"column":2442}},"45":{"start":{"line":1,"column":1784},"end":{"line":1,"column":2442}},"46":{"start":{"line":1,"column":1813},"end":{"line":1,"column":1930}},"47":{"start":{"line":1,"column":1880},"end":{"line":1,"column":1927}},"48":{"start":{"line":1,"column":1937},"end":{"line":1,"column":1981}},"49":{"start":{"line":1,"column":1965},"end":{"line":1,"column":1975}},"50":{"start":{"line":1,"column":1975},"end":{"line":1,"column":1980}},"51":{"start":{"line":1,"column":1981},"end":{"line":1,"column":2088}},"52":{"start":{"line":1,"column":2044},"end":{"line":1,"column":2085}},"53":{"start":{"line":1,"column":2095},"end":{"line":1,"column":2316}},"54":{"start":{"line":1,"column":2269},"end":{"line":1,"column":2313}},"55":{"start":{"line":1,"column":2324},"end":{"line":1,"column":2344}},"56":{"start":{"line":1,"column":2344},"end":{"line":1,"column":2350}},"57":{"start":{"line":1,"column":2358},"end":{"line":1,"column":2407}},"58":{"start":{"line":1,"column":2425},"end":{"line":1,"column":2441}},"59":{"start":{"line":1,"column":2450},"end":{"line":1,"column":2499}},"60":{"start":{"line":1,"column":2468},"end":{"line":1,"column":2498}},"61":{"start":{"line":1,"column":2520},"end":{"line":1,"column":3798}},"62":{"start":{"line":1,"column":2537},"end":{"line":1,"column":3745}},"63":{"start":{"line":1,"column":2618},"end":{"line":1,"column":3742}},"64":{"start":{"line":1,"column":2661},"end":{"line":1,"column":3738}},"65":{"start":{"line":1,"column":2668},"end":{"line":1,"column":3738}},"66":{"start":{"line":1,"column":2697},"end":{"line":1,"column":2750}},"67":{"start":{"line":1,"column":2757},"end":{"line":1,"column":2789}},"68":{"start":{"line":1,"column":2773},"end":{"line":1,"column":2783}},"69":{"start":{"line":1,"column":2783},"end":{"line":1,"column":2788}},"70":{"start":{"line":1,"column":2789},"end":{"line":1,"column":2836}},"71":{"start":{"line":1,"column":2843},"end":{"line":1,"column":2960}},"72":{"start":{"line":1,"column":2900},"end":{"line":1,"column":2957}},"73":{"start":{"line":1,"column":2967},"end":{"line":1,"column":3040}},"74":{"start":{"line":1,"column":3024},"end":{"line":1,"column":3034}},"75":{"start":{"line":1,"column":3034},"end":{"line":1,"column":3039}},"76":{"start":{"line":1,"column":3040},"end":{"line":1,"column":3177}},"77":{"start":{"line":1,"column":3114},"end":{"line":1,"column":3174}},"78":{"start":{"line":1,"column":3185},"end":{"line":1,"column":3217}},"79":{"start":{"line":1,"column":3201},"end":{"line":1,"column":3211}},"80":{"start":{"line":1,"column":3211},"end":{"line":1,"column":3216}},"81":{"start":{"line":1,"column":3217},"end":{"line":1,"column":3277}},"82":{"start":{"line":1,"column":3261},"end":{"line":1,"column":3271}},"83":{"start":{"line":1,"column":3271},"end":{"line":1,"column":3276}},"84":{"start":{"line":1,"column":3277},"end":{"line":1,"column":3371}},"85":{"start":{"line":1,"column":3318},"end":{"line":1,"column":3368}},"86":{"start":{"line":1,"column":3379},"end":{"line":1,"column":3389}},"87":{"start":{"line":1,"column":3389},"end":{"line":1,"column":3395}},"88":{"start":{"line":1,"column":3403},"end":{"line":1,"column":3455}},"89":{"start":{"line":1,"column":3463},"end":{"line":1,"column":3473}},"90":{"start":{"line":1,"column":3473},"end":{"line":1,"column":3479}},"91":{"start":{"line":1,"column":3487},"end":{"line":1,"column":3537}},"92":{"start":{"line":1,"column":3545},"end":{"line":1,"column":3555}},"93":{"start":{"line":1,"column":3555},"end":{"line":1,"column":3561}},"94":{"start":{"line":1,"column":3569},"end":{"line":1,"column":3620}},"95":{"start":{"line":1,"column":3628},"end":{"line":1,"column":3638}},"96":{"start":{"line":1,"column":3638},"end":{"line":1,"column":3644}},"97":{"start":{"line":1,"column":3652},"end":{"line":1,"column":3703}},"98":{"start":{"line":1,"column":3721},"end":{"line":1,"column":3737}},"99":{"start":{"line":1,"column":3746},"end":{"line":1,"column":3795}},"100":{"start":{"line":1,"column":3764},"end":{"line":1,"column":3794}},"101":{"start":{"line":1,"column":3799},"end":{"line":1,"column":3815}},"102":{"start":{"line":1,"column":3839},"end":{"line":1,"column":4786}},"103":{"start":{"line":1,"column":3856},"end":{"line":1,"column":4733}},"104":{"start":{"line":1,"column":3937},"end":{"line":1,"column":4730}},"105":{"start":{"line":1,"column":3980},"end":{"line":1,"column":4726}},"106":{"start":{"line":1,"column":3987},"end":{"line":1,"column":4726}},"107":{"start":{"line":1,"column":4016},"end":{"line":1,"column":4068}},"108":{"start":{"line":1,"column":4075},"end":{"line":1,"column":4107}},"109":{"start":{"line":1,"column":4091},"end":{"line":1,"column":4101}},"110":{"start":{"line":1,"column":4101},"end":{"line":1,"column":4106}},"111":{"start":{"line":1,"column":4107},"end":{"line":1,"column":4154}},"112":{"start":{"line":1,"column":4161},"end":{"line":1,"column":4201}},"113":{"start":{"line":1,"column":4185},"end":{"line":1,"column":4195}},"114":{"start":{"line":1,"column":4195},"end":{"line":1,"column":4200}},"115":{"start":{"line":1,"column":4201},"end":{"line":1,"column":4336}},"116":{"start":{"line":1,"column":4270},"end":{"line":1,"column":4333}},"117":{"start":{"line":1,"column":4344},"end":{"line":1,"column":4543}},"118":{"start":{"line":1,"column":4543},"end":{"line":1,"column":4549}},"119":{"start":{"line":1,"column":4557},"end":{"line":1,"column":4608}},"120":{"start":{"line":1,"column":4616},"end":{"line":1,"column":4626}},"121":{"start":{"line":1,"column":4626},"end":{"line":1,"column":4632}},"122":{"start":{"line":1,"column":4640},"end":{"line":1,"column":4691}},"123":{"start":{"line":1,"column":4709},"end":{"line":1,"column":4725}},"124":{"start":{"line":1,"column":4734},"end":{"line":1,"column":4783}},"125":{"start":{"line":1,"column":4752},"end":{"line":1,"column":4782}},"126":{"start":{"line":1,"column":4787},"end":{"line":1,"column":4809}},"127":{"start":{"line":1,"column":4834},"end":{"line":1,"column":5494}},"128":{"start":{"line":1,"column":4851},"end":{"line":1,"column":5441}},"129":{"start":{"line":1,"column":4930},"end":{"line":1,"column":5438}},"130":{"start":{"line":1,"column":4973},"end":{"line":1,"column":5434}},"131":{"start":{"line":1,"column":4980},"end":{"line":1,"column":5434}},"132":{"start":{"line":1,"column":5009},"end":{"line":1,"column":5062}},"133":{"start":{"line":1,"column":5069},"end":{"line":1,"column":5101}},"134":{"start":{"line":1,"column":5085},"end":{"line":1,"column":5095}},"135":{"start":{"line":1,"column":5095},"end":{"line":1,"column":5100}},"136":{"start":{"line":1,"column":5101},"end":{"line":1,"column":5148}},"137":{"start":{"line":1,"column":5155},"end":{"line":1,"column":5193}},"138":{"start":{"line":1,"column":5200},"end":{"line":1,"column":5334}},"139":{"start":{"line":1,"column":5334},"end":{"line":1,"column":5340}},"140":{"start":{"line":1,"column":5348},"end":{"line":1,"column":5399}},"141":{"start":{"line":1,"column":5417},"end":{"line":1,"column":5433}},"142":{"start":{"line":1,"column":5442},"end":{"line":1,"column":5491}},"143":{"start":{"line":1,"column":5460},"end":{"line":1,"column":5490}},"144":{"start":{"line":1,"column":5495},"end":{"line":1,"column":5519}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":415},"end":{"line":1,"column":437}},"loc":{"start":{"line":1,"column":440},"end":{"line":1,"column":478}},"line":1},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":487},"end":{"line":1,"column":505}},"loc":{"start":{"line":1,"column":520},"end":{"line":1,"column":616}},"line":1},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":625},"end":{"line":1,"column":642}},"loc":{"start":{"line":1,"column":645},"end":{"line":1,"column":859}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":653},"end":{"line":1,"column":654}},"loc":{"start":{"line":1,"column":663},"end":{"line":1,"column":858}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":706},"end":{"line":1,"column":707}},"loc":{"start":{"line":1,"column":719},"end":{"line":1,"column":856}},"line":1},"5":{"name":"f","decl":{"start":{"line":1,"column":729},"end":{"line":1,"column":730}},"loc":{"start":{"line":1,"column":733},"end":{"line":1,"column":773}},"line":1},"6":{"name":"g","decl":{"start":{"line":1,"column":782},"end":{"line":1,"column":783}},"loc":{"start":{"line":1,"column":786},"end":{"line":1,"column":827}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":1,"column":880},"end":{"line":1,"column":881}},"loc":{"start":{"line":1,"column":890},"end":{"line":1,"column":1590}},"line":1},"8":{"name":"a","decl":{"start":{"line":1,"column":961},"end":{"line":1,"column":962}},"loc":{"start":{"line":1,"column":967},"end":{"line":1,"column":1537}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":1007},"end":{"line":1,"column":1008}},"loc":{"start":{"line":1,"column":1018},"end":{"line":1,"column":1533}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":1267},"end":{"line":1,"column":1268}},"loc":{"start":{"line":1,"column":1277},"end":{"line":1,"column":1324}},"line":1},"11":{"name":"(anonymous_11)","decl":{"start":{"line":1,"column":1547},"end":{"line":1,"column":1548}},"loc":{"start":{"line":1,"column":1557},"end":{"line":1,"column":1589}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":1632},"end":{"line":1,"column":1633}},"loc":{"start":{"line":1,"column":1642},"end":{"line":1,"column":2500}},"line":1},"13":{"name":"a","decl":{"start":{"line":1,"column":1713},"end":{"line":1,"column":1714}},"loc":{"start":{"line":1,"column":1721},"end":{"line":1,"column":2447}},"line":1},"14":{"name":"(anonymous_14)","decl":{"start":{"line":1,"column":1765},"end":{"line":1,"column":1766}},"loc":{"start":{"line":1,"column":1776},"end":{"line":1,"column":2443}},"line":1},"15":{"name":"(anonymous_15)","decl":{"start":{"line":1,"column":1869},"end":{"line":1,"column":1870}},"loc":{"start":{"line":1,"column":1879},"end":{"line":1,"column":1928}},"line":1},"16":{"name":"(anonymous_16)","decl":{"start":{"line":1,"column":2033},"end":{"line":1,"column":2034}},"loc":{"start":{"line":1,"column":2043},"end":{"line":1,"column":2086}},"line":1},"17":{"name":"(anonymous_17)","decl":{"start":{"line":1,"column":2258},"end":{"line":1,"column":2259}},"loc":{"start":{"line":1,"column":2268},"end":{"line":1,"column":2314}},"line":1},"18":{"name":"(anonymous_18)","decl":{"start":{"line":1,"column":2457},"end":{"line":1,"column":2458}},"loc":{"start":{"line":1,"column":2467},"end":{"line":1,"column":2499}},"line":1},"19":{"name":"(anonymous_19)","decl":{"start":{"line":1,"column":2520},"end":{"line":1,"column":2521}},"loc":{"start":{"line":1,"column":2530},"end":{"line":1,"column":3796}},"line":1},"20":{"name":"a","decl":{"start":{"line":1,"column":2601},"end":{"line":1,"column":2602}},"loc":{"start":{"line":1,"column":2607},"end":{"line":1,"column":3743}},"line":1},"21":{"name":"(anonymous_21)","decl":{"start":{"line":1,"column":2649},"end":{"line":1,"column":2650}},"loc":{"start":{"line":1,"column":2660},"end":{"line":1,"column":3739}},"line":1},"22":{"name":"(anonymous_22)","decl":{"start":{"line":1,"column":2889},"end":{"line":1,"column":2890}},"loc":{"start":{"line":1,"column":2899},"end":{"line":1,"column":2958}},"line":1},"23":{"name":"(anonymous_23)","decl":{"start":{"line":1,"column":3103},"end":{"line":1,"column":3104}},"loc":{"start":{"line":1,"column":3113},"end":{"line":1,"column":3175}},"line":1},"24":{"name":"(anonymous_24)","decl":{"start":{"line":1,"column":3304},"end":{"line":1,"column":3305}},"loc":{"start":{"line":1,"column":3317},"end":{"line":1,"column":3369}},"line":1},"25":{"name":"(anonymous_25)","decl":{"start":{"line":1,"column":3753},"end":{"line":1,"column":3754}},"loc":{"start":{"line":1,"column":3763},"end":{"line":1,"column":3795}},"line":1},"26":{"name":"(anonymous_26)","decl":{"start":{"line":1,"column":3839},"end":{"line":1,"column":3840}},"loc":{"start":{"line":1,"column":3849},"end":{"line":1,"column":4784}},"line":1},"27":{"name":"a","decl":{"start":{"line":1,"column":3920},"end":{"line":1,"column":3921}},"loc":{"start":{"line":1,"column":3926},"end":{"line":1,"column":4731}},"line":1},"28":{"name":"(anonymous_28)","decl":{"start":{"line":1,"column":3968},"end":{"line":1,"column":3969}},"loc":{"start":{"line":1,"column":3979},"end":{"line":1,"column":4727}},"line":1},"29":{"name":"(anonymous_29)","decl":{"start":{"line":1,"column":4259},"end":{"line":1,"column":4260}},"loc":{"start":{"line":1,"column":4269},"end":{"line":1,"column":4334}},"line":1},"30":{"name":"(anonymous_30)","decl":{"start":{"line":1,"column":4741},"end":{"line":1,"column":4742}},"loc":{"start":{"line":1,"column":4751},"end":{"line":1,"column":4783}},"line":1},"31":{"name":"(anonymous_31)","decl":{"start":{"line":1,"column":4834},"end":{"line":1,"column":4835}},"loc":{"start":{"line":1,"column":4844},"end":{"line":1,"column":5492}},"line":1},"32":{"name":"a","decl":{"start":{"line":1,"column":4915},"end":{"line":1,"column":4916}},"loc":{"start":{"line":1,"column":4921},"end":{"line":1,"column":5439}},"line":1},"33":{"name":"(anonymous_33)","decl":{"start":{"line":1,"column":4961},"end":{"line":1,"column":4962}},"loc":{"start":{"line":1,"column":4972},"end":{"line":1,"column":5435}},"line":1},"34":{"name":"(anonymous_34)","decl":{"start":{"line":1,"column":5449},"end":{"line":1,"column":5450}},"loc":{"start":{"line":1,"column":5459},"end":{"line":1,"column":5491}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":448},"end":{"line":1,"column":477}},"type":"cond-expr","locations":[{"start":{"line":1,"column":464},"end":{"line":1,"column":465}},{"start":{"line":1,"column":466},"end":{"line":1,"column":477}}],"line":1},"1":{"loc":{"start":{"line":1,"column":448},"end":{"line":1,"column":463}},"type":"binary-expr","locations":[{"start":{"line":1,"column":448},"end":{"line":1,"column":449}},{"start":{"line":1,"column":451},"end":{"line":1,"column":463}}],"line":1},"2":{"loc":{"start":{"line":1,"column":575},"end":{"line":1,"column":615}},"type":"cond-expr","locations":[{"start":{"line":1,"column":582},"end":{"line":1,"column":586}},{"start":{"line":1,"column":587},"end":{"line":1,"column":615}}],"line":1},"3":{"loc":{"start":{"line":1,"column":1026},"end":{"line":1,"column":1532}},"type":"switch","locations":[{"start":{"line":1,"column":1048},"end":{"line":1,"column":1104}},{"start":{"line":1,"column":1104},"end":{"line":1,"column":1190}},{"start":{"line":1,"column":1190},"end":{"line":1,"column":1326}},{"start":{"line":1,"column":1326},"end":{"line":1,"column":1438}},{"start":{"line":1,"column":1438},"end":{"line":1,"column":1497}},{"start":{"line":1,"column":1497},"end":{"line":1,"column":1505}},{"start":{"line":1,"column":1505},"end":{"line":1,"column":1531}}],"line":1},"4":{"loc":{"start":{"line":1,"column":1111},"end":{"line":1,"column":1143}},"type":"if","locations":[{"start":{"line":1,"column":1111},"end":{"line":1,"column":1143}},{"start":{"line":1,"column":1111},"end":{"line":1,"column":1143}}],"line":1},"5":{"loc":{"start":{"line":1,"column":1784},"end":{"line":1,"column":2442}},"type":"switch","locations":[{"start":{"line":1,"column":1806},"end":{"line":1,"column":1930}},{"start":{"line":1,"column":1930},"end":{"line":1,"column":2088}},{"start":{"line":1,"column":2088},"end":{"line":1,"column":2316}},{"start":{"line":1,"column":2316},"end":{"line":1,"column":2350}},{"start":{"line":1,"column":2350},"end":{"line":1,"column":2407}},{"start":{"line":1,"column":2407},"end":{"line":1,"column":2415}},{"start":{"line":1,"column":2415},"end":{"line":1,"column":2441}}],"line":1},"6":{"loc":{"start":{"line":1,"column":1937},"end":{"line":1,"column":1981}},"type":"if","locations":[{"start":{"line":1,"column":1937},"end":{"line":1,"column":1981}},{"start":{"line":1,"column":1937},"end":{"line":1,"column":1981}}],"line":1},"7":{"loc":{"start":{"line":1,"column":2668},"end":{"line":1,"column":3738}},"type":"switch","locations":[{"start":{"line":1,"column":2690},"end":{"line":1,"column":2750}},{"start":{"line":1,"column":2750},"end":{"line":1,"column":2836}},{"start":{"line":1,"column":2836},"end":{"line":1,"column":2960}},{"start":{"line":1,"column":2960},"end":{"line":1,"column":3177}},{"start":{"line":1,"column":3177},"end":{"line":1,"column":3371}},{"start":{"line":1,"column":3371},"end":{"line":1,"column":3395}},{"start":{"line":1,"column":3395},"end":{"line":1,"column":3455}},{"start":{"line":1,"column":3455},"end":{"line":1,"column":3479}},{"start":{"line":1,"column":3479},"end":{"line":1,"column":3537}},{"start":{"line":1,"column":3537},"end":{"line":1,"column":3561}},{"start":{"line":1,"column":3561},"end":{"line":1,"column":3620}},{"start":{"line":1,"column":3620},"end":{"line":1,"column":3644}},{"start":{"line":1,"column":3644},"end":{"line":1,"column":3703}},{"start":{"line":1,"column":3703},"end":{"line":1,"column":3711}},{"start":{"line":1,"column":3711},"end":{"line":1,"column":3737}}],"line":1},"8":{"loc":{"start":{"line":1,"column":2757},"end":{"line":1,"column":2789}},"type":"if","locations":[{"start":{"line":1,"column":2757},"end":{"line":1,"column":2789}},{"start":{"line":1,"column":2757},"end":{"line":1,"column":2789}}],"line":1},"9":{"loc":{"start":{"line":1,"column":2967},"end":{"line":1,"column":3040}},"type":"if","locations":[{"start":{"line":1,"column":2967},"end":{"line":1,"column":3040}},{"start":{"line":1,"column":2967},"end":{"line":1,"column":3040}}],"line":1},"10":{"loc":{"start":{"line":1,"column":2981},"end":{"line":1,"column":3021}},"type":"binary-expr","locations":[{"start":{"line":1,"column":2981},"end":{"line":1,"column":2988}},{"start":{"line":1,"column":2990},"end":{"line":1,"column":3000}},{"start":{"line":1,"column":3002},"end":{"line":1,"column":3009}},{"start":{"line":1,"column":3011},"end":{"line":1,"column":3021}}],"line":1},"11":{"loc":{"start":{"line":1,"column":3185},"end":{"line":1,"column":3217}},"type":"if","locations":[{"start":{"line":1,"column":3185},"end":{"line":1,"column":3217}},{"start":{"line":1,"column":3185},"end":{"line":1,"column":3217}}],"line":1},"12":{"loc":{"start":{"line":1,"column":3217},"end":{"line":1,"column":3277}},"type":"if","locations":[{"start":{"line":1,"column":3217},"end":{"line":1,"column":3277}},{"start":{"line":1,"column":3217},"end":{"line":1,"column":3277}}],"line":1},"13":{"loc":{"start":{"line":1,"column":3222},"end":{"line":1,"column":3258}},"type":"binary-expr","locations":[{"start":{"line":1,"column":3222},"end":{"line":1,"column":3239}},{"start":{"line":1,"column":3241},"end":{"line":1,"column":3258}}],"line":1},"14":{"loc":{"start":{"line":1,"column":3318},"end":{"line":1,"column":3368}},"type":"cond-expr","locations":[{"start":{"line":1,"column":3324},"end":{"line":1,"column":3353}},{"start":{"line":1,"column":3354},"end":{"line":1,"column":3368}}],"line":1},"15":{"loc":{"start":{"line":1,"column":3318},"end":{"line":1,"column":3323}},"type":"binary-expr","locations":[{"start":{"line":1,"column":3318},"end":{"line":1,"column":3320}},{"start":{"line":1,"column":3322},"end":{"line":1,"column":3323}}],"line":1},"16":{"loc":{"start":{"line":1,"column":3987},"end":{"line":1,"column":4726}},"type":"switch","locations":[{"start":{"line":1,"column":4009},"end":{"line":1,"column":4068}},{"start":{"line":1,"column":4068},"end":{"line":1,"column":4154}},{"start":{"line":1,"column":4154},"end":{"line":1,"column":4336}},{"start":{"line":1,"column":4336},"end":{"line":1,"column":4549}},{"start":{"line":1,"column":4549},"end":{"line":1,"column":4608}},{"start":{"line":1,"column":4608},"end":{"line":1,"column":4632}},{"start":{"line":1,"column":4632},"end":{"line":1,"column":4691}},{"start":{"line":1,"column":4691},"end":{"line":1,"column":4699}},{"start":{"line":1,"column":4699},"end":{"line":1,"column":4725}}],"line":1},"17":{"loc":{"start":{"line":1,"column":4075},"end":{"line":1,"column":4107}},"type":"if","locations":[{"start":{"line":1,"column":4075},"end":{"line":1,"column":4107}},{"start":{"line":1,"column":4075},"end":{"line":1,"column":4107}}],"line":1},"18":{"loc":{"start":{"line":1,"column":4161},"end":{"line":1,"column":4201}},"type":"if","locations":[{"start":{"line":1,"column":4161},"end":{"line":1,"column":4201}},{"start":{"line":1,"column":4161},"end":{"line":1,"column":4201}}],"line":1},"19":{"loc":{"start":{"line":1,"column":4353},"end":{"line":1,"column":4532}},"type":"cond-expr","locations":[{"start":{"line":1,"column":4374},"end":{"line":1,"column":4475}},{"start":{"line":1,"column":4477},"end":{"line":1,"column":4532}}],"line":1},"20":{"loc":{"start":{"line":1,"column":4980},"end":{"line":1,"column":5434}},"type":"switch","locations":[{"start":{"line":1,"column":5002},"end":{"line":1,"column":5062}},{"start":{"line":1,"column":5062},"end":{"line":1,"column":5148}},{"start":{"line":1,"column":5148},"end":{"line":1,"column":5193}},{"start":{"line":1,"column":5193},"end":{"line":1,"column":5340}},{"start":{"line":1,"column":5340},"end":{"line":1,"column":5399}},{"start":{"line":1,"column":5399},"end":{"line":1,"column":5407}},{"start":{"line":1,"column":5407},"end":{"line":1,"column":5433}}],"line":1},"21":{"loc":{"start":{"line":1,"column":5069},"end":{"line":1,"column":5101}},"type":"if","locations":[{"start":{"line":1,"column":5069},"end":{"line":1,"column":5101}},{"start":{"line":1,"column":5069},"end":{"line":1,"column":5101}}],"line":1},"22":{"loc":{"start":{"line":1,"column":5209},"end":{"line":1,"column":5323}},"type":"cond-expr","locations":[{"start":{"line":1,"column":5211},"end":{"line":1,"column":5272}},{"start":{"line":1,"column":5273},"end":{"line":1,"column":5323}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":22,"10":22,"11":22,"12":0,"13":22,"14":5,"15":5,"16":5,"17":5,"18":22,"19":0,"20":5,"21":5,"22":1,"23":1,"24":1,"25":4,"26":5,"27":1,"28":1,"29":0,"30":0,"31":1,"32":1,"33":0,"34":1,"35":1,"36":0,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":4,"45":5,"46":1,"47":0,"48":1,"49":0,"50":0,"51":1,"52":0,"53":1,"54":0,"55":1,"56":1,"57":0,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":6,"65":10,"66":1,"67":1,"68":0,"69":0,"70":1,"71":1,"72":0,"73":1,"74":0,"75":0,"76":1,"77":0,"78":1,"79":0,"80":0,"81":1,"82":0,"83":0,"84":1,"85":1,"86":1,"87":1,"88":0,"89":1,"90":1,"91":0,"92":1,"93":1,"94":0,"95":1,"96":1,"97":0,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":4,"106":6,"107":1,"108":1,"109":0,"110":0,"111":1,"112":1,"113":0,"114":0,"115":1,"116":0,"117":1,"118":1,"119":0,"120":1,"121":1,"122":0,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":4,"131":5,"132":1,"133":1,"134":0,"135":0,"136":1,"137":1,"138":1,"139":1,"140":0,"141":1,"142":1,"143":1,"144":1},"f":{"0":1,"1":22,"2":5,"3":5,"4":5,"5":22,"6":0,"7":1,"8":1,"9":4,"10":0,"11":1,"12":1,"13":1,"14":4,"15":0,"16":0,"17":0,"18":1,"19":1,"20":1,"21":6,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":4,"29":0,"30":1,"31":1,"32":1,"33":4,"34":1},"b":{"0":[1,0],"1":[1,1],"2":[5,17],"3":[1,1,1,1,0,1,1],"4":[0,1],"5":[1,1,1,1,0,1,1],"6":[0,1],"7":[1,1,1,1,1,1,0,1,0,1,0,1,0,1,1],"8":[0,1],"9":[0,1],"10":[1,1,0,0],"11":[0,1],"12":[0,1],"13":[1,0],"14":[1,0],"15":[1,1],"16":[1,1,1,1,0,1,0,1,1],"17":[0,1],"18":[0,1],"19":[1,0],"20":[1,1,1,1,0,1,1],"21":[0,1],"22":[1,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["get","data","final","tokenGet","isValid","body","valid","db","read","tokenId","s","e","t","o","expiry","role","email","_hash","u","userData","done","password","hashed","Date","now","USER_TOKEN_EXPIRY","tokenObj","create","gen","createSchema","phone","confirmed","extend","tokenExtend","id","tokenData","destroy","tokenDestroy"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\token","sourcesContent":["import { randomID, hash, auth } from '../../lib/security'\r\nimport { USER_TOKEN_EXPIRY } from '../../config'\r\nimport db from '../../lib/db'\r\nimport { user } from '../../lib/schemas'\r\nimport { createSchema, tokenGet, tokenExtend, tokenDestroy } from './schema'\r\nimport { t, setLocale } from '../../lib/translations'\r\nimport { finalizeRequest } from '../../lib/utils'\r\n\r\nexport const get = async (data, final) => {\r\n  const valid = await tokenGet.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const t = await db.read('tokens', data.body.tokenId).catch(() => final(null, { s: 403, e: t('error.token_notfound') }))\r\n    final(null, { s: 200, o: { expiry: t.expiry, tokenId: t.tokenId, role: t.role, email: t.email } })\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nconst _hash = async (u, userData, done) => {\r\n  const hashed = await hash(u.password).catch(() => done(t('error.internal')))\r\n  if (userData.password === hashed) {\r\n    const tokenId = await randomID(32).catch(() => done(t('error.id')))\r\n    const expiry = Date.now() + 1000 * USER_TOKEN_EXPIRY\r\n    const tokenObj = {\r\n      expiry,\r\n      tokenId,\r\n      role: userData.role,\r\n      email: u.email\r\n    }\r\n\r\n    await db.create('tokens', tokenId, tokenObj).catch(() => done(t('error.token')))\r\n    done(null, tokenId)\r\n  } else {\r\n    done(t('error.invalid_password'))\r\n  }\r\n}\r\n\r\nexport const gen = async (data, final) => {\r\n  const valid = await createSchema.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const u = await user(data).catch(() => final(null, { s: 400, e: t('error.required') }))\r\n    if ((u.email && u.password) || (u.phone && u.password)) {\r\n      const userData = await db.read('users', u.email).catch(() => final(null, { s: 400, e: t('error.cannot_read') }))\r\n      if (userData) {\r\n        if (userData.confirmed.email || userData.confirmed.phone) {\r\n          await _hash(u, userData, (e, tokenId) => {\r\n            if (!e && tokenId) {\r\n              final(null, { s: 200, o: { tokenId } })\r\n            } else {\r\n              final(null, { s: 400, e })\r\n            }\r\n          })\r\n        } else {\r\n          final(null, { s: 400, e: t('error.confirmed') })\r\n        }\r\n      } else {\r\n        final(null, { s: 400, e: t('error.no_user') })\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.required') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nexport const extend = async (data, final) => {\r\n  const valid = await tokenExtend.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const id = data.body.tokenId\r\n    if (id) {\r\n      const tokenData = await db.read('tokens', id).catch(() => final(null, { s: 400, e: t('error.token_notfound') }))\r\n      if (tokenData.expiry > Date.now()) {\r\n        tokenData.expiry = Date.now() + 1000 * USER_TOKEN_EXPIRY\r\n        finalizeRequest('tokens', id, 'update', tokenData, final)\r\n      } else {\r\n        final(null, { s: 400, e: t('error.token_expired') })\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.required') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nexport const destroy = async (data, final) => {\r\n  const valid = await tokenDestroy.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const tokenData = await auth(data)\r\n    if (tokenData) {\r\n      finalizeRequest('tokens', tokenData.tokenId, 'destroy', '', final)\r\n    } else {\r\n      final(null, { s: 400, e: t('error.required') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4f3363ab40c4d62fe097954a3508121587a6771b","contentHash":"0200596ede9d74c45b9201a0b8f833ea5719591e11c75cf49ce013f661d02fe2"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\token\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\token\\schema.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":154}},"1":{"start":{"line":1,"column":163},"end":{"line":1,"column":177}},"2":{"start":{"line":1,"column":186},"end":{"line":1,"column":209}},"3":{"start":{"line":1,"column":223},"end":{"line":1,"column":399}},"4":{"start":{"line":1,"column":400},"end":{"line":1,"column":434}},"5":{"start":{"line":1,"column":450},"end":{"line":1,"column":585}},"6":{"start":{"line":1,"column":586},"end":{"line":1,"column":618}},"7":{"start":{"line":1,"column":635},"end":{"line":1,"column":722}},"8":{"start":{"line":1,"column":723},"end":{"line":1,"column":757}},"9":{"start":{"line":1,"column":770},"end":{"line":1,"column":905}},"10":{"start":{"line":1,"column":906},"end":{"line":1,"column":932}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["createSchema","shape","email","required","password","min","locale","oneOf","LANGUAGES","tokenExtend","tokenId","length","tokenDestroy","tokenGet"],"mappings":"kNAIaA,YAAY,CAAG,kBAASC,KAAT,CAAe,CACzCC,KAAK,CAAE,kBAASC,QAAT,GAAoBD,KAApB,EADkC,CAEzCE,QAAQ,CAAE,kBAASD,QAAT,GAAoBE,GAApB,CAAwB,EAAxB,CAF+B,CAGzCC,MAAM,CAAE,kBAASH,QAAT,GAAoBI,KAApB,CAA0BC,iBAA1B,CAHiC,CAAf,C,mCAMrB,GAAMC,CAAAA,WAAW,CAAG,kBAASR,KAAT,CAAe,CACxCS,OAAO,CAAE,kBAASP,QAAT,GAAoBQ,MAApB,CAA2B,EAA3B,CAD+B,CAExCL,MAAM,CAAE,kBAASH,QAAT,GAAoBI,KAApB,CAA0BC,iBAA1B,CAFgC,CAAf,CAApB,C,gCAKA,GAAMI,CAAAA,YAAY,CAAG,kBAASX,KAAT,CAAe,CACzCK,MAAM,CAAE,kBAASH,QAAT,GAAoBI,KAApB,CAA0BC,iBAA1B,CADiC,CAAf,CAArB,C,kCAIA,GAAMK,CAAAA,QAAQ,CAAG,kBAASZ,KAAT,CAAe,CACrCS,OAAO,CAAE,kBAASP,QAAT,GAAoBQ,MAApB,CAA2B,EAA3B,CAD4B,CAErCL,MAAM,CAAE,kBAASH,QAAT,GAAoBI,KAApB,CAA0BC,iBAA1B,CAF6B,CAAf,CAAjB,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\token","sourcesContent":["import { object, string } from 'yup'\r\n\r\nimport { LANGUAGES } from '../../config'\r\n\r\nexport const createSchema = object().shape({\r\n  email: string().required().email(),\r\n  password: string().required().min(12),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const tokenExtend = object().shape({\r\n  tokenId: string().required().length(64),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const tokenDestroy = object().shape({\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const tokenGet = object().shape({\r\n  tokenId: string().required().length(64),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"984e756ada879ad0a8fab1f3d6100811ac7bf14a","contentHash":"1d6457c56db19206a75108375bff0fe7a264df67e0d0091596f65d4bb33ed4b3"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\confirm\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\confirm\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":91}},"1":{"start":{"line":1,"column":103},"end":{"line":1,"column":126}},"2":{"start":{"line":1,"column":131},"end":{"line":1,"column":178}},"3":{"start":{"line":1,"column":189},"end":{"line":1,"column":218}},"4":{"start":{"line":1,"column":226},"end":{"line":1,"column":276}},"5":{"start":{"line":1,"column":291},"end":{"line":1,"column":324}},"6":{"start":{"line":1,"column":333},"end":{"line":1,"column":352}},"7":{"start":{"line":1,"column":360},"end":{"line":1,"column":386}},"8":{"start":{"line":1,"column":422},"end":{"line":1,"column":458}},"9":{"start":{"line":1,"column":502},"end":{"line":1,"column":556}},"10":{"start":{"line":1,"column":512},"end":{"line":1,"column":519}},"11":{"start":{"line":1,"column":522},"end":{"line":1,"column":529}},"12":{"start":{"line":1,"column":539},"end":{"line":1,"column":555}},"13":{"start":{"line":1,"column":556},"end":{"line":1,"column":596}},"14":{"start":{"line":1,"column":627},"end":{"line":1,"column":839}},"15":{"start":{"line":1,"column":651},"end":{"line":1,"column":655}},"16":{"start":{"line":1,"column":658},"end":{"line":1,"column":667}},"17":{"start":{"line":1,"column":668},"end":{"line":1,"column":838}},"18":{"start":{"line":1,"column":715},"end":{"line":1,"column":753}},"19":{"start":{"line":1,"column":768},"end":{"line":1,"column":807}},"20":{"start":{"line":1,"column":814},"end":{"line":1,"column":826}},"21":{"start":{"line":1,"column":827},"end":{"line":1,"column":836}},"22":{"start":{"line":1,"column":873},"end":{"line":1,"column":1494}},"23":{"start":{"line":1,"column":890},"end":{"line":1,"column":1441}},"24":{"start":{"line":1,"column":973},"end":{"line":1,"column":1438}},"25":{"start":{"line":1,"column":1016},"end":{"line":1,"column":1434}},"26":{"start":{"line":1,"column":1023},"end":{"line":1,"column":1434}},"27":{"start":{"line":1,"column":1052},"end":{"line":1,"column":1377}},"28":{"start":{"line":1,"column":1363},"end":{"line":1,"column":1374}},"29":{"start":{"line":1,"column":1384},"end":{"line":1,"column":1400}},"30":{"start":{"line":1,"column":1417},"end":{"line":1,"column":1433}},"31":{"start":{"line":1,"column":1442},"end":{"line":1,"column":1491}},"32":{"start":{"line":1,"column":1460},"end":{"line":1,"column":1490}},"33":{"start":{"line":1,"column":1519},"end":{"line":1,"column":2386}},"34":{"start":{"line":1,"column":1536},"end":{"line":1,"column":2333}},"35":{"start":{"line":1,"column":1617},"end":{"line":1,"column":2330}},"36":{"start":{"line":1,"column":1660},"end":{"line":1,"column":2326}},"37":{"start":{"line":1,"column":1667},"end":{"line":1,"column":2326}},"38":{"start":{"line":1,"column":1696},"end":{"line":1,"column":1733}},"39":{"start":{"line":1,"column":1717},"end":{"line":1,"column":1727}},"40":{"start":{"line":1,"column":1727},"end":{"line":1,"column":1732}},"41":{"start":{"line":1,"column":1733},"end":{"line":1,"column":1846}},"42":{"start":{"line":1,"column":1796},"end":{"line":1,"column":1843}},"43":{"start":{"line":1,"column":1853},"end":{"line":1,"column":1966}},"44":{"start":{"line":1,"column":1920},"end":{"line":1,"column":1963}},"45":{"start":{"line":1,"column":1973},"end":{"line":1,"column":2139}},"46":{"start":{"line":1,"column":2073},"end":{"line":1,"column":2136}},"47":{"start":{"line":1,"column":2147},"end":{"line":1,"column":2157}},"48":{"start":{"line":1,"column":2157},"end":{"line":1,"column":2163}},"49":{"start":{"line":1,"column":2171},"end":{"line":1,"column":2291}},"50":{"start":{"line":1,"column":2309},"end":{"line":1,"column":2325}},"51":{"start":{"line":1,"column":2334},"end":{"line":1,"column":2383}},"52":{"start":{"line":1,"column":2352},"end":{"line":1,"column":2382}},"53":{"start":{"line":1,"column":2408},"end":{"line":1,"column":4004}},"54":{"start":{"line":1,"column":2425},"end":{"line":1,"column":3951}},"55":{"start":{"line":1,"column":2508},"end":{"line":1,"column":3948}},"56":{"start":{"line":1,"column":2551},"end":{"line":1,"column":3944}},"57":{"start":{"line":1,"column":2558},"end":{"line":1,"column":3944}},"58":{"start":{"line":1,"column":2587},"end":{"line":1,"column":2641}},"59":{"start":{"line":1,"column":2648},"end":{"line":1,"column":2680}},"60":{"start":{"line":1,"column":2664},"end":{"line":1,"column":2674}},"61":{"start":{"line":1,"column":2674},"end":{"line":1,"column":2679}},"62":{"start":{"line":1,"column":2680},"end":{"line":1,"column":2727}},"63":{"start":{"line":1,"column":2734},"end":{"line":1,"column":2885}},"64":{"start":{"line":1,"column":2819},"end":{"line":1,"column":2882}},"65":{"start":{"line":1,"column":2892},"end":{"line":1,"column":2944}},"66":{"start":{"line":1,"column":2928},"end":{"line":1,"column":2938}},"67":{"start":{"line":1,"column":2938},"end":{"line":1,"column":2943}},"68":{"start":{"line":1,"column":2944},"end":{"line":1,"column":2976}},"69":{"start":{"line":1,"column":2960},"end":{"line":1,"column":2970}},"70":{"start":{"line":1,"column":2970},"end":{"line":1,"column":2975}},"71":{"start":{"line":1,"column":2976},"end":{"line":1,"column":3109}},"72":{"start":{"line":1,"column":3050},"end":{"line":1,"column":3106}},"73":{"start":{"line":1,"column":3117},"end":{"line":1,"column":3650}},"74":{"start":{"line":1,"column":3188},"end":{"line":1,"column":3595}},"75":{"start":{"line":1,"column":3259},"end":{"line":1,"column":3592}},"76":{"start":{"line":1,"column":3302},"end":{"line":1,"column":3588}},"77":{"start":{"line":1,"column":3309},"end":{"line":1,"column":3588}},"78":{"start":{"line":1,"column":3338},"end":{"line":1,"column":3363}},"79":{"start":{"line":1,"column":3348},"end":{"line":1,"column":3357}},"80":{"start":{"line":1,"column":3357},"end":{"line":1,"column":3362}},"81":{"start":{"line":1,"column":3363},"end":{"line":1,"column":3500}},"82":{"start":{"line":1,"column":3436},"end":{"line":1,"column":3497}},"83":{"start":{"line":1,"column":3507},"end":{"line":1,"column":3526}},"84":{"start":{"line":1,"column":3526},"end":{"line":1,"column":3532}},"85":{"start":{"line":1,"column":3539},"end":{"line":1,"column":3554}},"86":{"start":{"line":1,"column":3571},"end":{"line":1,"column":3587}},"87":{"start":{"line":1,"column":3596},"end":{"line":1,"column":3645}},"88":{"start":{"line":1,"column":3614},"end":{"line":1,"column":3644}},"89":{"start":{"line":1,"column":3658},"end":{"line":1,"column":3668}},"90":{"start":{"line":1,"column":3668},"end":{"line":1,"column":3674}},"91":{"start":{"line":1,"column":3682},"end":{"line":1,"column":3738}},"92":{"start":{"line":1,"column":3746},"end":{"line":1,"column":3756}},"93":{"start":{"line":1,"column":3756},"end":{"line":1,"column":3762}},"94":{"start":{"line":1,"column":3770},"end":{"line":1,"column":3826}},"95":{"start":{"line":1,"column":3834},"end":{"line":1,"column":3844}},"96":{"start":{"line":1,"column":3844},"end":{"line":1,"column":3850}},"97":{"start":{"line":1,"column":3858},"end":{"line":1,"column":3909}},"98":{"start":{"line":1,"column":3927},"end":{"line":1,"column":3943}},"99":{"start":{"line":1,"column":3952},"end":{"line":1,"column":4001}},"100":{"start":{"line":1,"column":3970},"end":{"line":1,"column":4000}},"101":{"start":{"line":1,"column":4005},"end":{"line":1,"column":4029}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":396},"end":{"line":1,"column":418}},"loc":{"start":{"line":1,"column":421},"end":{"line":1,"column":459}},"line":1},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":468},"end":{"line":1,"column":486}},"loc":{"start":{"line":1,"column":501},"end":{"line":1,"column":597}},"line":1},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":606},"end":{"line":1,"column":623}},"loc":{"start":{"line":1,"column":626},"end":{"line":1,"column":840}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":634},"end":{"line":1,"column":635}},"loc":{"start":{"line":1,"column":644},"end":{"line":1,"column":839}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":687},"end":{"line":1,"column":688}},"loc":{"start":{"line":1,"column":700},"end":{"line":1,"column":837}},"line":1},"5":{"name":"f","decl":{"start":{"line":1,"column":710},"end":{"line":1,"column":711}},"loc":{"start":{"line":1,"column":714},"end":{"line":1,"column":754}},"line":1},"6":{"name":"g","decl":{"start":{"line":1,"column":763},"end":{"line":1,"column":764}},"loc":{"start":{"line":1,"column":767},"end":{"line":1,"column":808}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":1,"column":873},"end":{"line":1,"column":874}},"loc":{"start":{"line":1,"column":883},"end":{"line":1,"column":1492}},"line":1},"8":{"name":"a","decl":{"start":{"line":1,"column":954},"end":{"line":1,"column":955}},"loc":{"start":{"line":1,"column":962},"end":{"line":1,"column":1439}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":1004},"end":{"line":1,"column":1005}},"loc":{"start":{"line":1,"column":1015},"end":{"line":1,"column":1435}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":1351},"end":{"line":1,"column":1352}},"loc":{"start":{"line":1,"column":1362},"end":{"line":1,"column":1375}},"line":1},"11":{"name":"(anonymous_11)","decl":{"start":{"line":1,"column":1449},"end":{"line":1,"column":1450}},"loc":{"start":{"line":1,"column":1459},"end":{"line":1,"column":1491}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":1519},"end":{"line":1,"column":1520}},"loc":{"start":{"line":1,"column":1529},"end":{"line":1,"column":2384}},"line":1},"13":{"name":"a","decl":{"start":{"line":1,"column":1600},"end":{"line":1,"column":1601}},"loc":{"start":{"line":1,"column":1608},"end":{"line":1,"column":2331}},"line":1},"14":{"name":"(anonymous_14)","decl":{"start":{"line":1,"column":1648},"end":{"line":1,"column":1649}},"loc":{"start":{"line":1,"column":1659},"end":{"line":1,"column":2327}},"line":1},"15":{"name":"(anonymous_15)","decl":{"start":{"line":1,"column":1785},"end":{"line":1,"column":1786}},"loc":{"start":{"line":1,"column":1795},"end":{"line":1,"column":1844}},"line":1},"16":{"name":"(anonymous_16)","decl":{"start":{"line":1,"column":1909},"end":{"line":1,"column":1910}},"loc":{"start":{"line":1,"column":1919},"end":{"line":1,"column":1964}},"line":1},"17":{"name":"(anonymous_17)","decl":{"start":{"line":1,"column":2061},"end":{"line":1,"column":2062}},"loc":{"start":{"line":1,"column":2072},"end":{"line":1,"column":2137}},"line":1},"18":{"name":"(anonymous_18)","decl":{"start":{"line":1,"column":2341},"end":{"line":1,"column":2342}},"loc":{"start":{"line":1,"column":2351},"end":{"line":1,"column":2383}},"line":1},"19":{"name":"(anonymous_19)","decl":{"start":{"line":1,"column":2408},"end":{"line":1,"column":2409}},"loc":{"start":{"line":1,"column":2418},"end":{"line":1,"column":4002}},"line":1},"20":{"name":"a","decl":{"start":{"line":1,"column":2489},"end":{"line":1,"column":2490}},"loc":{"start":{"line":1,"column":2495},"end":{"line":1,"column":3949}},"line":1},"21":{"name":"(anonymous_21)","decl":{"start":{"line":1,"column":2539},"end":{"line":1,"column":2540}},"loc":{"start":{"line":1,"column":2550},"end":{"line":1,"column":3945}},"line":1},"22":{"name":"(anonymous_22)","decl":{"start":{"line":1,"column":2808},"end":{"line":1,"column":2809}},"loc":{"start":{"line":1,"column":2818},"end":{"line":1,"column":2883}},"line":1},"23":{"name":"(anonymous_23)","decl":{"start":{"line":1,"column":3039},"end":{"line":1,"column":3040}},"loc":{"start":{"line":1,"column":3049},"end":{"line":1,"column":3107}},"line":1},"24":{"name":"(anonymous_24)","decl":{"start":{"line":1,"column":3171},"end":{"line":1,"column":3172}},"loc":{"start":{"line":1,"column":3181},"end":{"line":1,"column":3646}},"line":1},"25":{"name":"a","decl":{"start":{"line":1,"column":3252},"end":{"line":1,"column":3253}},"loc":{"start":{"line":1,"column":3258},"end":{"line":1,"column":3593}},"line":1},"26":{"name":"(anonymous_26)","decl":{"start":{"line":1,"column":3290},"end":{"line":1,"column":3291}},"loc":{"start":{"line":1,"column":3301},"end":{"line":1,"column":3589}},"line":1},"27":{"name":"(anonymous_27)","decl":{"start":{"line":1,"column":3425},"end":{"line":1,"column":3426}},"loc":{"start":{"line":1,"column":3435},"end":{"line":1,"column":3498}},"line":1},"28":{"name":"(anonymous_28)","decl":{"start":{"line":1,"column":3603},"end":{"line":1,"column":3604}},"loc":{"start":{"line":1,"column":3613},"end":{"line":1,"column":3645}},"line":1},"29":{"name":"(anonymous_29)","decl":{"start":{"line":1,"column":3959},"end":{"line":1,"column":3960}},"loc":{"start":{"line":1,"column":3969},"end":{"line":1,"column":4001}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":429},"end":{"line":1,"column":458}},"type":"cond-expr","locations":[{"start":{"line":1,"column":445},"end":{"line":1,"column":446}},{"start":{"line":1,"column":447},"end":{"line":1,"column":458}}],"line":1},"1":{"loc":{"start":{"line":1,"column":429},"end":{"line":1,"column":444}},"type":"binary-expr","locations":[{"start":{"line":1,"column":429},"end":{"line":1,"column":430}},{"start":{"line":1,"column":432},"end":{"line":1,"column":444}}],"line":1},"2":{"loc":{"start":{"line":1,"column":556},"end":{"line":1,"column":596}},"type":"cond-expr","locations":[{"start":{"line":1,"column":563},"end":{"line":1,"column":567}},{"start":{"line":1,"column":568},"end":{"line":1,"column":596}}],"line":1},"3":{"loc":{"start":{"line":1,"column":1023},"end":{"line":1,"column":1434}},"type":"switch","locations":[{"start":{"line":1,"column":1045},"end":{"line":1,"column":1377}},{"start":{"line":1,"column":1377},"end":{"line":1,"column":1400}},{"start":{"line":1,"column":1400},"end":{"line":1,"column":1407}},{"start":{"line":1,"column":1407},"end":{"line":1,"column":1433}}],"line":1},"4":{"loc":{"start":{"line":1,"column":1393},"end":{"line":1,"column":1399}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1393},"end":{"line":1,"column":1394}},{"start":{"line":1,"column":1396},"end":{"line":1,"column":1399}}],"line":1},"5":{"loc":{"start":{"line":1,"column":1667},"end":{"line":1,"column":2326}},"type":"switch","locations":[{"start":{"line":1,"column":1689},"end":{"line":1,"column":1846}},{"start":{"line":1,"column":1846},"end":{"line":1,"column":1966}},{"start":{"line":1,"column":1966},"end":{"line":1,"column":2139}},{"start":{"line":1,"column":2139},"end":{"line":1,"column":2163}},{"start":{"line":1,"column":2163},"end":{"line":1,"column":2291}},{"start":{"line":1,"column":2291},"end":{"line":1,"column":2299}},{"start":{"line":1,"column":2299},"end":{"line":1,"column":2325}}],"line":1},"6":{"loc":{"start":{"line":1,"column":1696},"end":{"line":1,"column":1733}},"type":"if","locations":[{"start":{"line":1,"column":1696},"end":{"line":1,"column":1733}},{"start":{"line":1,"column":1696},"end":{"line":1,"column":1733}}],"line":1},"7":{"loc":{"start":{"line":1,"column":2073},"end":{"line":1,"column":2136}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2075},"end":{"line":1,"column":2079}},{"start":{"line":1,"column":2080},"end":{"line":1,"column":2136}}],"line":1},"8":{"loc":{"start":{"line":1,"column":2171},"end":{"line":1,"column":2290}},"type":"binary-expr","locations":[{"start":{"line":1,"column":2172},"end":{"line":1,"column":2188}},{"start":{"line":1,"column":2190},"end":{"line":1,"column":2206}},{"start":{"line":1,"column":2210},"end":{"line":1,"column":2289}}],"line":1},"9":{"loc":{"start":{"line":1,"column":2558},"end":{"line":1,"column":3944}},"type":"switch","locations":[{"start":{"line":1,"column":2580},"end":{"line":1,"column":2641}},{"start":{"line":1,"column":2641},"end":{"line":1,"column":2727}},{"start":{"line":1,"column":2727},"end":{"line":1,"column":2885}},{"start":{"line":1,"column":2885},"end":{"line":1,"column":3109}},{"start":{"line":1,"column":3109},"end":{"line":1,"column":3650}},{"start":{"line":1,"column":3650},"end":{"line":1,"column":3674}},{"start":{"line":1,"column":3674},"end":{"line":1,"column":3738}},{"start":{"line":1,"column":3738},"end":{"line":1,"column":3762}},{"start":{"line":1,"column":3762},"end":{"line":1,"column":3826}},{"start":{"line":1,"column":3826},"end":{"line":1,"column":3850}},{"start":{"line":1,"column":3850},"end":{"line":1,"column":3909}},{"start":{"line":1,"column":3909},"end":{"line":1,"column":3917}},{"start":{"line":1,"column":3917},"end":{"line":1,"column":3943}}],"line":1},"10":{"loc":{"start":{"line":1,"column":2648},"end":{"line":1,"column":2680}},"type":"if","locations":[{"start":{"line":1,"column":2648},"end":{"line":1,"column":2680}},{"start":{"line":1,"column":2648},"end":{"line":1,"column":2680}}],"line":1},"11":{"loc":{"start":{"line":1,"column":2892},"end":{"line":1,"column":2944}},"type":"if","locations":[{"start":{"line":1,"column":2892},"end":{"line":1,"column":2944}},{"start":{"line":1,"column":2892},"end":{"line":1,"column":2944}}],"line":1},"12":{"loc":{"start":{"line":1,"column":2944},"end":{"line":1,"column":2976}},"type":"if","locations":[{"start":{"line":1,"column":2944},"end":{"line":1,"column":2976}},{"start":{"line":1,"column":2944},"end":{"line":1,"column":2976}}],"line":1},"13":{"loc":{"start":{"line":1,"column":3309},"end":{"line":1,"column":3588}},"type":"switch","locations":[{"start":{"line":1,"column":3331},"end":{"line":1,"column":3500}},{"start":{"line":1,"column":3500},"end":{"line":1,"column":3532}},{"start":{"line":1,"column":3532},"end":{"line":1,"column":3554}},{"start":{"line":1,"column":3554},"end":{"line":1,"column":3561}},{"start":{"line":1,"column":3561},"end":{"line":1,"column":3587}}],"line":1},"14":{"loc":{"start":{"line":1,"column":3338},"end":{"line":1,"column":3363}},"type":"if","locations":[{"start":{"line":1,"column":3338},"end":{"line":1,"column":3363}},{"start":{"line":1,"column":3338},"end":{"line":1,"column":3363}}],"line":1},"15":{"loc":{"start":{"line":1,"column":3341},"end":{"line":1,"column":3346}},"type":"binary-expr","locations":[{"start":{"line":1,"column":3341},"end":{"line":1,"column":3342}},{"start":{"line":1,"column":3344},"end":{"line":1,"column":3346}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":23,"10":23,"11":23,"12":0,"13":23,"14":5,"15":7,"16":7,"17":7,"18":23,"19":0,"20":7,"21":7,"22":1,"23":1,"24":1,"25":2,"26":2,"27":1,"28":0,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":2,"36":5,"37":7,"38":2,"39":1,"40":1,"41":1,"42":0,"43":1,"44":0,"45":1,"46":1,"47":1,"48":1,"49":1,"50":2,"51":1,"52":2,"53":1,"54":1,"55":2,"56":12,"57":18,"58":2,"59":2,"60":0,"61":0,"62":2,"63":2,"64":0,"65":2,"66":0,"67":0,"68":2,"69":0,"70":0,"71":2,"72":0,"73":2,"74":2,"75":2,"76":4,"77":6,"78":2,"79":0,"80":0,"81":2,"82":0,"83":2,"84":2,"85":0,"86":2,"87":2,"88":2,"89":2,"90":2,"91":0,"92":2,"93":2,"94":0,"95":2,"96":2,"97":0,"98":2,"99":1,"100":2,"101":1},"f":{"0":2,"1":23,"2":5,"3":7,"4":7,"5":23,"6":0,"7":1,"8":1,"9":2,"10":0,"11":1,"12":1,"13":2,"14":5,"15":0,"16":0,"17":1,"18":2,"19":1,"20":2,"21":12,"22":0,"23":0,"24":2,"25":2,"26":4,"27":0,"28":2,"29":2},"b":{"0":[2,0],"1":[2,2],"2":[7,16],"3":[1,1,1,1],"4":[1,1],"5":[2,1,1,1,1,2,2],"6":[1,1],"7":[0,1],"8":[1,0,1],"9":[2,2,2,2,2,2,0,2,0,2,0,2,2],"10":[0,2],"11":[0,2],"12":[0,2],"13":[2,2,0,2,2],"14":[0,2],"15":[2,2]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["sendNewPassword","email","password","done","subject","COMPANY","msg","BASE_URL","e","selectType","tokenData","userData","type","hashed","updatedAt","Date","now","err","confirmed","confirm","data","final","confirmSchema","isValid","body","valid","id","token","db","read","s","expiry","destroy"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\confirm","sourcesContent":["import { BASE_URL, COMPANY } from '../../config'\r\nimport db from '../../lib/db'\r\nimport { hash, randomID } from '../../lib/security'\r\nimport sendEmail from '../../lib/email'\r\nimport { t, setLocale } from '../../lib/translations'\r\nimport { confirmSchema } from './schema'\r\nimport { finalizeRequest } from '../../lib/utils'\r\n\r\nconst sendNewPassword = async (email, password, done) => {\r\n  const subject = `${t('reset.email_password')} ${COMPANY}`\r\n  const msg = `${t('reset.email_password')} <a href='${BASE_URL}'>${COMPANY}</a>:\r\n    <h4>${password}</h4>`\r\n  const e = await sendEmail(email, subject, msg).catch((e) => done(e))\r\n  if (!e) {\r\n    done()\r\n  }\r\n}\r\n\r\nconst selectType = async (tokenData, userData, done) => {\r\n  if (tokenData.type === 'reset') {\r\n    const password = await randomID(16).catch(() => done(t('error.generate')))\r\n    const hashed = await hash(password).catch(() => done(t('error.hash')))\r\n    userData.password = hashed\r\n    userData.updatedAt = Date.now()\r\n    await sendNewPassword(userData.email, password, (err) => {\r\n      if (!err) {\r\n        finalizeRequest('users', tokenData.email, 'update', userData, done)\r\n      } else {\r\n        done(err)\r\n      }\r\n    })\r\n  } else if (tokenData.type === 'email' || tokenData.type === 'phone') {\r\n    userData.confirmed[tokenData.type] = true\r\n    finalizeRequest('users', tokenData.email, 'update', userData, done)\r\n  }\r\n}\r\n\r\nexport const confirm = async (data, final) => {\r\n  const valid = await confirmSchema.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const id = data.body.token\r\n    const tokenData = await db.read('confirms', id).catch(() => final(null, { s: 403, e: t('error.token_notfound') }))\r\n    if (tokenData.expiry > Date.now()) {\r\n      if (tokenData.token === id) {\r\n        const userData = await db.read('users', tokenData.email).catch(() => final(null, { s: 400, e: t('error.no_user') }))\r\n        await selectType(tokenData, userData, async (e, data) => {\r\n          if (!e && data) {\r\n            await db.destroy('confirms', id).catch(() => final(null, { s: 400, e: t('error.token_delete') }))\r\n            final(null, data)\r\n          } else {\r\n            final(null, { s: 400, e })\r\n          }\r\n        })\r\n      } else {\r\n        final(null, { s: 403, e: t('error.token_invalid') })\r\n      }\r\n    } else {\r\n      final(null, { s: 403, e: t('error.token_expired') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"61528b998fe0c3a56c44b149168c0a4cd48410cd","contentHash":"094a205cef35a6d4bd49605fabafba3572d358cba8dd91fa4a8830ea1ddce504"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\confirm\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\confirm\\schema.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":97}},"1":{"start":{"line":1,"column":106},"end":{"line":1,"column":120}},"2":{"start":{"line":1,"column":129},"end":{"line":1,"column":152}},"3":{"start":{"line":1,"column":167},"end":{"line":1,"column":300}},"4":{"start":{"line":1,"column":301},"end":{"line":1,"column":337}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["confirmSchema","shape","token","required","length","locale","oneOf","LANGUAGES"],"mappings":"yJAIaA,aAAa,CAAG,kBAASC,KAAT,CAAe,CAC1CC,KAAK,CAAE,kBAASC,QAAT,GAAoBC,MAApB,CAA2B,EAA3B,CADmC,CAE1CC,MAAM,CAAE,kBAASF,QAAT,GAAoBG,KAApB,CAA0BC,iBAA1B,CAFkC,CAAf,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\confirm","sourcesContent":["import { object, string } from 'yup'\r\n\r\nimport { LANGUAGES } from '../../config'\r\n\r\nexport const confirmSchema = object().shape({\r\n  token: string().required().length(64),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"52d24e2c4c6d654cdfdb0937f64ecc6abfcf6a38","contentHash":"8113087c38f3fbe7e10aa338cce4817b49ddf84b31139cd6cbcff1ea80f11e2d"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\refer\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\refer\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":118}},"1":{"start":{"line":1,"column":128},"end":{"line":1,"column":143}},"2":{"start":{"line":1,"column":152},"end":{"line":1,"column":175}},"3":{"start":{"line":1,"column":180},"end":{"line":1,"column":227}},"4":{"start":{"line":1,"column":235},"end":{"line":1,"column":285}},"5":{"start":{"line":1,"column":296},"end":{"line":1,"column":325}},"6":{"start":{"line":1,"column":340},"end":{"line":1,"column":373}},"7":{"start":{"line":1,"column":382},"end":{"line":1,"column":401}},"8":{"start":{"line":1,"column":409},"end":{"line":1,"column":435}},"9":{"start":{"line":1,"column":471},"end":{"line":1,"column":507}},"10":{"start":{"line":1,"column":551},"end":{"line":1,"column":605}},"11":{"start":{"line":1,"column":561},"end":{"line":1,"column":568}},"12":{"start":{"line":1,"column":571},"end":{"line":1,"column":578}},"13":{"start":{"line":1,"column":588},"end":{"line":1,"column":604}},"14":{"start":{"line":1,"column":605},"end":{"line":1,"column":645}},"15":{"start":{"line":1,"column":676},"end":{"line":1,"column":888}},"16":{"start":{"line":1,"column":700},"end":{"line":1,"column":704}},"17":{"start":{"line":1,"column":707},"end":{"line":1,"column":716}},"18":{"start":{"line":1,"column":717},"end":{"line":1,"column":887}},"19":{"start":{"line":1,"column":764},"end":{"line":1,"column":802}},"20":{"start":{"line":1,"column":817},"end":{"line":1,"column":856}},"21":{"start":{"line":1,"column":863},"end":{"line":1,"column":875}},"22":{"start":{"line":1,"column":876},"end":{"line":1,"column":885}},"23":{"start":{"line":1,"column":921},"end":{"line":1,"column":1391}},"24":{"start":{"line":1,"column":938},"end":{"line":1,"column":1338}},"25":{"start":{"line":1,"column":1017},"end":{"line":1,"column":1335}},"26":{"start":{"line":1,"column":1060},"end":{"line":1,"column":1331}},"27":{"start":{"line":1,"column":1067},"end":{"line":1,"column":1331}},"28":{"start":{"line":1,"column":1096},"end":{"line":1,"column":1280}},"29":{"start":{"line":1,"column":1234},"end":{"line":1,"column":1277}},"30":{"start":{"line":1,"column":1287},"end":{"line":1,"column":1297}},"31":{"start":{"line":1,"column":1314},"end":{"line":1,"column":1330}},"32":{"start":{"line":1,"column":1339},"end":{"line":1,"column":1388}},"33":{"start":{"line":1,"column":1357},"end":{"line":1,"column":1387}},"34":{"start":{"line":1,"column":1406},"end":{"line":1,"column":1441}},"35":{"start":{"line":1,"column":1470},"end":{"line":1,"column":2025}},"36":{"start":{"line":1,"column":1487},"end":{"line":1,"column":1972}},"37":{"start":{"line":1,"column":1570},"end":{"line":1,"column":1969}},"38":{"start":{"line":1,"column":1613},"end":{"line":1,"column":1965}},"39":{"start":{"line":1,"column":1620},"end":{"line":1,"column":1965}},"40":{"start":{"line":1,"column":1649},"end":{"line":1,"column":1865}},"41":{"start":{"line":1,"column":1854},"end":{"line":1,"column":1862}},"42":{"start":{"line":1,"column":1872},"end":{"line":1,"column":1902}},"43":{"start":{"line":1,"column":1887},"end":{"line":1,"column":1896}},"44":{"start":{"line":1,"column":1896},"end":{"line":1,"column":1901}},"45":{"start":{"line":1,"column":1902},"end":{"line":1,"column":1931}},"46":{"start":{"line":1,"column":1948},"end":{"line":1,"column":1964}},"47":{"start":{"line":1,"column":1973},"end":{"line":1,"column":2022}},"48":{"start":{"line":1,"column":1991},"end":{"line":1,"column":2021}},"49":{"start":{"line":1,"column":2053},"end":{"line":1,"column":2848}},"50":{"start":{"line":1,"column":2070},"end":{"line":1,"column":2795}},"51":{"start":{"line":1,"column":2155},"end":{"line":1,"column":2792}},"52":{"start":{"line":1,"column":2198},"end":{"line":1,"column":2788}},"53":{"start":{"line":1,"column":2205},"end":{"line":1,"column":2788}},"54":{"start":{"line":1,"column":2234},"end":{"line":1,"column":2318}},"55":{"start":{"line":1,"column":2294},"end":{"line":1,"column":2315}},"56":{"start":{"line":1,"column":2325},"end":{"line":1,"column":2357}},"57":{"start":{"line":1,"column":2341},"end":{"line":1,"column":2351}},"58":{"start":{"line":1,"column":2351},"end":{"line":1,"column":2356}},"59":{"start":{"line":1,"column":2357},"end":{"line":1,"column":2555}},"60":{"start":{"line":1,"column":2531},"end":{"line":1,"column":2552}},"61":{"start":{"line":1,"column":2562},"end":{"line":1,"column":2694}},"62":{"start":{"line":1,"column":2694},"end":{"line":1,"column":2700}},"63":{"start":{"line":1,"column":2708},"end":{"line":1,"column":2753}},"64":{"start":{"line":1,"column":2771},"end":{"line":1,"column":2787}},"65":{"start":{"line":1,"column":2796},"end":{"line":1,"column":2845}},"66":{"start":{"line":1,"column":2814},"end":{"line":1,"column":2844}},"67":{"start":{"line":1,"column":2868},"end":{"line":1,"column":4125}},"68":{"start":{"line":1,"column":2885},"end":{"line":1,"column":4072}},"69":{"start":{"line":1,"column":2970},"end":{"line":1,"column":4069}},"70":{"start":{"line":1,"column":3013},"end":{"line":1,"column":4065}},"71":{"start":{"line":1,"column":3020},"end":{"line":1,"column":4065}},"72":{"start":{"line":1,"column":3049},"end":{"line":1,"column":3101}},"73":{"start":{"line":1,"column":3108},"end":{"line":1,"column":3140}},"74":{"start":{"line":1,"column":3124},"end":{"line":1,"column":3134}},"75":{"start":{"line":1,"column":3134},"end":{"line":1,"column":3139}},"76":{"start":{"line":1,"column":3140},"end":{"line":1,"column":3187}},"77":{"start":{"line":1,"column":3194},"end":{"line":1,"column":3322}},"78":{"start":{"line":1,"column":3259},"end":{"line":1,"column":3319}},"79":{"start":{"line":1,"column":3329},"end":{"line":1,"column":3470}},"80":{"start":{"line":1,"column":3407},"end":{"line":1,"column":3467}},"81":{"start":{"line":1,"column":3478},"end":{"line":1,"column":3569}},"82":{"start":{"line":1,"column":3558},"end":{"line":1,"column":3566}},"83":{"start":{"line":1,"column":3577},"end":{"line":1,"column":3641}},"84":{"start":{"line":1,"column":3625},"end":{"line":1,"column":3635}},"85":{"start":{"line":1,"column":3635},"end":{"line":1,"column":3640}},"86":{"start":{"line":1,"column":3641},"end":{"line":1,"column":3778}},"87":{"start":{"line":1,"column":3715},"end":{"line":1,"column":3775}},"88":{"start":{"line":1,"column":3786},"end":{"line":1,"column":3818}},"89":{"start":{"line":1,"column":3802},"end":{"line":1,"column":3812}},"90":{"start":{"line":1,"column":3812},"end":{"line":1,"column":3817}},"91":{"start":{"line":1,"column":3818},"end":{"line":1,"column":3864}},"92":{"start":{"line":1,"column":3872},"end":{"line":1,"column":3882}},"93":{"start":{"line":1,"column":3882},"end":{"line":1,"column":3888}},"94":{"start":{"line":1,"column":3896},"end":{"line":1,"column":3947}},"95":{"start":{"line":1,"column":3955},"end":{"line":1,"column":3965}},"96":{"start":{"line":1,"column":3965},"end":{"line":1,"column":3971}},"97":{"start":{"line":1,"column":3979},"end":{"line":1,"column":4030}},"98":{"start":{"line":1,"column":4048},"end":{"line":1,"column":4064}},"99":{"start":{"line":1,"column":4073},"end":{"line":1,"column":4122}},"100":{"start":{"line":1,"column":4091},"end":{"line":1,"column":4121}},"101":{"start":{"line":1,"column":4126},"end":{"line":1,"column":4146}},"102":{"start":{"line":5,"column":23},"end":{"line":5,"column":905}},"103":{"start":{"line":5,"column":40},"end":{"line":5,"column":852}},"104":{"start":{"line":5,"column":121},"end":{"line":5,"column":849}},"105":{"start":{"line":5,"column":164},"end":{"line":5,"column":845}},"106":{"start":{"line":5,"column":171},"end":{"line":5,"column":845}},"107":{"start":{"line":5,"column":200},"end":{"line":5,"column":250}},"108":{"start":{"line":5,"column":257},"end":{"line":5,"column":289}},"109":{"start":{"line":5,"column":273},"end":{"line":5,"column":283}},"110":{"start":{"line":5,"column":283},"end":{"line":5,"column":288}},"111":{"start":{"line":5,"column":289},"end":{"line":5,"column":336}},"112":{"start":{"line":5,"column":343},"end":{"line":5,"column":438}},"113":{"start":{"line":5,"column":422},"end":{"line":5,"column":432}},"114":{"start":{"line":5,"column":432},"end":{"line":5,"column":437}},"115":{"start":{"line":5,"column":438},"end":{"line":5,"column":573}},"116":{"start":{"line":5,"column":507},"end":{"line":5,"column":570}},"117":{"start":{"line":5,"column":581},"end":{"line":5,"column":662}},"118":{"start":{"line":5,"column":662},"end":{"line":5,"column":668}},"119":{"start":{"line":5,"column":676},"end":{"line":5,"column":727}},"120":{"start":{"line":5,"column":735},"end":{"line":5,"column":745}},"121":{"start":{"line":5,"column":745},"end":{"line":5,"column":751}},"122":{"start":{"line":5,"column":759},"end":{"line":5,"column":810}},"123":{"start":{"line":5,"column":828},"end":{"line":5,"column":844}},"124":{"start":{"line":5,"column":853},"end":{"line":5,"column":902}},"125":{"start":{"line":5,"column":871},"end":{"line":5,"column":901}},"126":{"start":{"line":9,"column":2},"end":{"line":9,"column":18}},"127":{"start":{"line":9,"column":44},"end":{"line":9,"column":1258}},"128":{"start":{"line":9,"column":61},"end":{"line":9,"column":1205}},"129":{"start":{"line":9,"column":146},"end":{"line":9,"column":1202}},"130":{"start":{"line":9,"column":189},"end":{"line":9,"column":1198}},"131":{"start":{"line":9,"column":196},"end":{"line":9,"column":1198}},"132":{"start":{"line":9,"column":225},"end":{"line":9,"column":280}},"133":{"start":{"line":9,"column":287},"end":{"line":9,"column":319}},"134":{"start":{"line":9,"column":303},"end":{"line":9,"column":313}},"135":{"start":{"line":9,"column":313},"end":{"line":9,"column":318}},"136":{"start":{"line":9,"column":319},"end":{"line":9,"column":366}},"137":{"start":{"line":9,"column":373},"end":{"line":9,"column":487}},"138":{"start":{"line":9,"column":471},"end":{"line":9,"column":481}},"139":{"start":{"line":9,"column":481},"end":{"line":9,"column":486}},"140":{"start":{"line":9,"column":487},"end":{"line":9,"column":614}},"141":{"start":{"line":9,"column":555},"end":{"line":9,"column":611}},"142":{"start":{"line":9,"column":622},"end":{"line":9,"column":766}},"143":{"start":{"line":9,"column":700},"end":{"line":9,"column":763}},"144":{"start":{"line":9,"column":774},"end":{"line":9,"column":826}},"145":{"start":{"line":9,"column":810},"end":{"line":9,"column":820}},"146":{"start":{"line":9,"column":820},"end":{"line":9,"column":825}},"147":{"start":{"line":9,"column":826},"end":{"line":9,"column":1005}},"148":{"start":{"line":9,"column":940},"end":{"line":9,"column":1002}},"149":{"start":{"line":9,"column":1013},"end":{"line":9,"column":1080}},"150":{"start":{"line":9,"column":1088},"end":{"line":9,"column":1098}},"151":{"start":{"line":9,"column":1098},"end":{"line":9,"column":1104}},"152":{"start":{"line":9,"column":1112},"end":{"line":9,"column":1163}},"153":{"start":{"line":9,"column":1181},"end":{"line":9,"column":1197}},"154":{"start":{"line":9,"column":1206},"end":{"line":9,"column":1255}},"155":{"start":{"line":9,"column":1224},"end":{"line":9,"column":1254}},"156":{"start":{"line":9,"column":1259},"end":{"line":9,"column":1285}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":445},"end":{"line":1,"column":467}},"loc":{"start":{"line":1,"column":470},"end":{"line":1,"column":508}},"line":1},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":517},"end":{"line":1,"column":535}},"loc":{"start":{"line":1,"column":550},"end":{"line":1,"column":646}},"line":1},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":655},"end":{"line":1,"column":672}},"loc":{"start":{"line":1,"column":675},"end":{"line":1,"column":889}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":683},"end":{"line":1,"column":684}},"loc":{"start":{"line":1,"column":693},"end":{"line":1,"column":888}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":736},"end":{"line":1,"column":737}},"loc":{"start":{"line":1,"column":749},"end":{"line":1,"column":886}},"line":1},"5":{"name":"f","decl":{"start":{"line":1,"column":759},"end":{"line":1,"column":760}},"loc":{"start":{"line":1,"column":763},"end":{"line":1,"column":803}},"line":1},"6":{"name":"g","decl":{"start":{"line":1,"column":812},"end":{"line":1,"column":813}},"loc":{"start":{"line":1,"column":816},"end":{"line":1,"column":857}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":1,"column":921},"end":{"line":1,"column":922}},"loc":{"start":{"line":1,"column":931},"end":{"line":1,"column":1389}},"line":1},"8":{"name":"a","decl":{"start":{"line":1,"column":1002},"end":{"line":1,"column":1003}},"loc":{"start":{"line":1,"column":1008},"end":{"line":1,"column":1336}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":1048},"end":{"line":1,"column":1049}},"loc":{"start":{"line":1,"column":1059},"end":{"line":1,"column":1332}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":1223},"end":{"line":1,"column":1224}},"loc":{"start":{"line":1,"column":1233},"end":{"line":1,"column":1278}},"line":1},"11":{"name":"(anonymous_11)","decl":{"start":{"line":1,"column":1346},"end":{"line":1,"column":1347}},"loc":{"start":{"line":1,"column":1356},"end":{"line":1,"column":1388}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":1470},"end":{"line":1,"column":1471}},"loc":{"start":{"line":1,"column":1480},"end":{"line":1,"column":2023}},"line":1},"13":{"name":"a","decl":{"start":{"line":1,"column":1551},"end":{"line":1,"column":1552}},"loc":{"start":{"line":1,"column":1559},"end":{"line":1,"column":1970}},"line":1},"14":{"name":"(anonymous_14)","decl":{"start":{"line":1,"column":1601},"end":{"line":1,"column":1602}},"loc":{"start":{"line":1,"column":1612},"end":{"line":1,"column":1966}},"line":1},"15":{"name":"(anonymous_15)","decl":{"start":{"line":1,"column":1842},"end":{"line":1,"column":1843}},"loc":{"start":{"line":1,"column":1853},"end":{"line":1,"column":1863}},"line":1},"16":{"name":"(anonymous_16)","decl":{"start":{"line":1,"column":1980},"end":{"line":1,"column":1981}},"loc":{"start":{"line":1,"column":1990},"end":{"line":1,"column":2022}},"line":1},"17":{"name":"(anonymous_17)","decl":{"start":{"line":1,"column":2053},"end":{"line":1,"column":2054}},"loc":{"start":{"line":1,"column":2063},"end":{"line":1,"column":2846}},"line":1},"18":{"name":"a","decl":{"start":{"line":1,"column":2134},"end":{"line":1,"column":2135}},"loc":{"start":{"line":1,"column":2144},"end":{"line":1,"column":2793}},"line":1},"19":{"name":"(anonymous_19)","decl":{"start":{"line":1,"column":2186},"end":{"line":1,"column":2187}},"loc":{"start":{"line":1,"column":2197},"end":{"line":1,"column":2789}},"line":1},"20":{"name":"(anonymous_20)","decl":{"start":{"line":1,"column":2282},"end":{"line":1,"column":2283}},"loc":{"start":{"line":1,"column":2293},"end":{"line":1,"column":2316}},"line":1},"21":{"name":"(anonymous_21)","decl":{"start":{"line":1,"column":2519},"end":{"line":1,"column":2520}},"loc":{"start":{"line":1,"column":2530},"end":{"line":1,"column":2553}},"line":1},"22":{"name":"(anonymous_22)","decl":{"start":{"line":1,"column":2803},"end":{"line":1,"column":2804}},"loc":{"start":{"line":1,"column":2813},"end":{"line":1,"column":2845}},"line":1},"23":{"name":"(anonymous_23)","decl":{"start":{"line":1,"column":2868},"end":{"line":1,"column":2869}},"loc":{"start":{"line":1,"column":2878},"end":{"line":1,"column":4123}},"line":1},"24":{"name":"a","decl":{"start":{"line":1,"column":2949},"end":{"line":1,"column":2950}},"loc":{"start":{"line":1,"column":2955},"end":{"line":1,"column":4070}},"line":1},"25":{"name":"(anonymous_25)","decl":{"start":{"line":1,"column":3001},"end":{"line":1,"column":3002}},"loc":{"start":{"line":1,"column":3012},"end":{"line":1,"column":4066}},"line":1},"26":{"name":"(anonymous_26)","decl":{"start":{"line":1,"column":3248},"end":{"line":1,"column":3249}},"loc":{"start":{"line":1,"column":3258},"end":{"line":1,"column":3320}},"line":1},"27":{"name":"(anonymous_27)","decl":{"start":{"line":1,"column":3396},"end":{"line":1,"column":3397}},"loc":{"start":{"line":1,"column":3406},"end":{"line":1,"column":3468}},"line":1},"28":{"name":"(anonymous_28)","decl":{"start":{"line":1,"column":3546},"end":{"line":1,"column":3547}},"loc":{"start":{"line":1,"column":3557},"end":{"line":1,"column":3567}},"line":1},"29":{"name":"(anonymous_29)","decl":{"start":{"line":1,"column":3704},"end":{"line":1,"column":3705}},"loc":{"start":{"line":1,"column":3714},"end":{"line":1,"column":3776}},"line":1},"30":{"name":"(anonymous_30)","decl":{"start":{"line":1,"column":4080},"end":{"line":1,"column":4081}},"loc":{"start":{"line":1,"column":4090},"end":{"line":1,"column":4122}},"line":1},"31":{"name":"(anonymous_31)","decl":{"start":{"line":5,"column":23},"end":{"line":5,"column":24}},"loc":{"start":{"line":5,"column":33},"end":{"line":5,"column":903}},"line":5},"32":{"name":"a","decl":{"start":{"line":5,"column":104},"end":{"line":5,"column":105}},"loc":{"start":{"line":5,"column":110},"end":{"line":5,"column":850}},"line":5},"33":{"name":"(anonymous_33)","decl":{"start":{"line":5,"column":152},"end":{"line":5,"column":153}},"loc":{"start":{"line":5,"column":163},"end":{"line":5,"column":846}},"line":5},"34":{"name":"(anonymous_34)","decl":{"start":{"line":5,"column":496},"end":{"line":5,"column":497}},"loc":{"start":{"line":5,"column":506},"end":{"line":5,"column":571}},"line":5},"35":{"name":"(anonymous_35)","decl":{"start":{"line":5,"column":860},"end":{"line":5,"column":861}},"loc":{"start":{"line":5,"column":870},"end":{"line":5,"column":902}},"line":5},"36":{"name":"(anonymous_36)","decl":{"start":{"line":9,"column":44},"end":{"line":9,"column":45}},"loc":{"start":{"line":9,"column":54},"end":{"line":9,"column":1256}},"line":9},"37":{"name":"a","decl":{"start":{"line":9,"column":125},"end":{"line":9,"column":126}},"loc":{"start":{"line":9,"column":131},"end":{"line":9,"column":1203}},"line":9},"38":{"name":"(anonymous_38)","decl":{"start":{"line":9,"column":177},"end":{"line":9,"column":178}},"loc":{"start":{"line":9,"column":188},"end":{"line":9,"column":1199}},"line":9},"39":{"name":"(anonymous_39)","decl":{"start":{"line":9,"column":544},"end":{"line":9,"column":545}},"loc":{"start":{"line":9,"column":554},"end":{"line":9,"column":612}},"line":9},"40":{"name":"(anonymous_40)","decl":{"start":{"line":9,"column":689},"end":{"line":9,"column":690}},"loc":{"start":{"line":9,"column":699},"end":{"line":9,"column":764}},"line":9},"41":{"name":"(anonymous_41)","decl":{"start":{"line":9,"column":929},"end":{"line":9,"column":930}},"loc":{"start":{"line":9,"column":939},"end":{"line":9,"column":1003}},"line":9},"42":{"name":"(anonymous_42)","decl":{"start":{"line":9,"column":1213},"end":{"line":9,"column":1214}},"loc":{"start":{"line":9,"column":1223},"end":{"line":9,"column":1255}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":478},"end":{"line":1,"column":507}},"type":"cond-expr","locations":[{"start":{"line":1,"column":494},"end":{"line":1,"column":495}},{"start":{"line":1,"column":496},"end":{"line":1,"column":507}}],"line":1},"1":{"loc":{"start":{"line":1,"column":478},"end":{"line":1,"column":493}},"type":"binary-expr","locations":[{"start":{"line":1,"column":478},"end":{"line":1,"column":479}},{"start":{"line":1,"column":481},"end":{"line":1,"column":493}}],"line":1},"2":{"loc":{"start":{"line":1,"column":605},"end":{"line":1,"column":645}},"type":"cond-expr","locations":[{"start":{"line":1,"column":612},"end":{"line":1,"column":616}},{"start":{"line":1,"column":617},"end":{"line":1,"column":645}}],"line":1},"3":{"loc":{"start":{"line":1,"column":1067},"end":{"line":1,"column":1331}},"type":"switch","locations":[{"start":{"line":1,"column":1089},"end":{"line":1,"column":1280}},{"start":{"line":1,"column":1280},"end":{"line":1,"column":1297}},{"start":{"line":1,"column":1297},"end":{"line":1,"column":1304}},{"start":{"line":1,"column":1304},"end":{"line":1,"column":1330}}],"line":1},"4":{"loc":{"start":{"line":1,"column":1620},"end":{"line":1,"column":1965}},"type":"switch","locations":[{"start":{"line":1,"column":1642},"end":{"line":1,"column":1865}},{"start":{"line":1,"column":1865},"end":{"line":1,"column":1931}},{"start":{"line":1,"column":1931},"end":{"line":1,"column":1938}},{"start":{"line":1,"column":1938},"end":{"line":1,"column":1964}}],"line":1},"5":{"loc":{"start":{"line":1,"column":1872},"end":{"line":1,"column":1902}},"type":"if","locations":[{"start":{"line":1,"column":1872},"end":{"line":1,"column":1902}},{"start":{"line":1,"column":1872},"end":{"line":1,"column":1902}}],"line":1},"6":{"loc":{"start":{"line":1,"column":2205},"end":{"line":1,"column":2788}},"type":"switch","locations":[{"start":{"line":1,"column":2227},"end":{"line":1,"column":2318}},{"start":{"line":1,"column":2318},"end":{"line":1,"column":2555}},{"start":{"line":1,"column":2555},"end":{"line":1,"column":2700}},{"start":{"line":1,"column":2700},"end":{"line":1,"column":2753}},{"start":{"line":1,"column":2753},"end":{"line":1,"column":2761}},{"start":{"line":1,"column":2761},"end":{"line":1,"column":2787}}],"line":1},"7":{"loc":{"start":{"line":1,"column":2325},"end":{"line":1,"column":2357}},"type":"if","locations":[{"start":{"line":1,"column":2325},"end":{"line":1,"column":2357}},{"start":{"line":1,"column":2325},"end":{"line":1,"column":2357}}],"line":1},"8":{"loc":{"start":{"line":1,"column":2571},"end":{"line":1,"column":2683}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2573},"end":{"line":1,"column":2629}},{"start":{"line":1,"column":2630},"end":{"line":1,"column":2683}}],"line":1},"9":{"loc":{"start":{"line":1,"column":3020},"end":{"line":1,"column":4065}},"type":"switch","locations":[{"start":{"line":1,"column":3042},"end":{"line":1,"column":3101}},{"start":{"line":1,"column":3101},"end":{"line":1,"column":3187}},{"start":{"line":1,"column":3187},"end":{"line":1,"column":3322}},{"start":{"line":1,"column":3322},"end":{"line":1,"column":3470}},{"start":{"line":1,"column":3470},"end":{"line":1,"column":3569}},{"start":{"line":1,"column":3569},"end":{"line":1,"column":3778}},{"start":{"line":1,"column":3778},"end":{"line":1,"column":3864}},{"start":{"line":1,"column":3864},"end":{"line":1,"column":3888}},{"start":{"line":1,"column":3888},"end":{"line":1,"column":3947}},{"start":{"line":1,"column":3947},"end":{"line":1,"column":3971}},{"start":{"line":1,"column":3971},"end":{"line":1,"column":4030}},{"start":{"line":1,"column":4030},"end":{"line":1,"column":4038}},{"start":{"line":1,"column":4038},"end":{"line":1,"column":4064}}],"line":1},"10":{"loc":{"start":{"line":1,"column":3108},"end":{"line":1,"column":3140}},"type":"if","locations":[{"start":{"line":1,"column":3108},"end":{"line":1,"column":3140}},{"start":{"line":1,"column":3108},"end":{"line":1,"column":3140}}],"line":1},"11":{"loc":{"start":{"line":1,"column":3577},"end":{"line":1,"column":3641}},"type":"if","locations":[{"start":{"line":1,"column":3577},"end":{"line":1,"column":3641}},{"start":{"line":1,"column":3577},"end":{"line":1,"column":3641}}],"line":1},"12":{"loc":{"start":{"line":1,"column":3591},"end":{"line":1,"column":3622}},"type":"binary-expr","locations":[{"start":{"line":1,"column":3591},"end":{"line":1,"column":3598}},{"start":{"line":1,"column":3600},"end":{"line":1,"column":3601}},{"start":{"line":1,"column":3603},"end":{"line":1,"column":3622}}],"line":1},"13":{"loc":{"start":{"line":1,"column":3786},"end":{"line":1,"column":3818}},"type":"if","locations":[{"start":{"line":1,"column":3786},"end":{"line":1,"column":3818}},{"start":{"line":1,"column":3786},"end":{"line":1,"column":3818}}],"line":1},"14":{"loc":{"start":{"line":5,"column":171},"end":{"line":5,"column":845}},"type":"switch","locations":[{"start":{"line":5,"column":193},"end":{"line":5,"column":250}},{"start":{"line":5,"column":250},"end":{"line":5,"column":336}},{"start":{"line":5,"column":336},"end":{"line":5,"column":573}},{"start":{"line":5,"column":573},"end":{"line":5,"column":668}},{"start":{"line":5,"column":668},"end":{"line":5,"column":727}},{"start":{"line":5,"column":727},"end":{"line":5,"column":751}},{"start":{"line":5,"column":751},"end":{"line":5,"column":810}},{"start":{"line":5,"column":810},"end":{"line":5,"column":818}},{"start":{"line":5,"column":818},"end":{"line":5,"column":844}}],"line":5},"15":{"loc":{"start":{"line":5,"column":257},"end":{"line":5,"column":289}},"type":"if","locations":[{"start":{"line":5,"column":257},"end":{"line":5,"column":289}},{"start":{"line":5,"column":257},"end":{"line":5,"column":289}}],"line":5},"16":{"loc":{"start":{"line":5,"column":343},"end":{"line":5,"column":438}},"type":"if","locations":[{"start":{"line":5,"column":343},"end":{"line":5,"column":438}},{"start":{"line":5,"column":343},"end":{"line":5,"column":438}}],"line":5},"17":{"loc":{"start":{"line":5,"column":348},"end":{"line":5,"column":417}},"type":"binary-expr","locations":[{"start":{"line":5,"column":348},"end":{"line":5,"column":377}},{"start":{"line":5,"column":379},"end":{"line":5,"column":403}},{"start":{"line":5,"column":405},"end":{"line":5,"column":417}}],"line":5},"18":{"loc":{"start":{"line":9,"column":196},"end":{"line":9,"column":1198}},"type":"switch","locations":[{"start":{"line":9,"column":218},"end":{"line":9,"column":280}},{"start":{"line":9,"column":280},"end":{"line":9,"column":366}},{"start":{"line":9,"column":366},"end":{"line":9,"column":614}},{"start":{"line":9,"column":614},"end":{"line":9,"column":766}},{"start":{"line":9,"column":766},"end":{"line":9,"column":1005}},{"start":{"line":9,"column":1005},"end":{"line":9,"column":1080}},{"start":{"line":9,"column":1080},"end":{"line":9,"column":1104}},{"start":{"line":9,"column":1104},"end":{"line":9,"column":1163}},{"start":{"line":9,"column":1163},"end":{"line":9,"column":1171}},{"start":{"line":9,"column":1171},"end":{"line":9,"column":1197}}],"line":9},"19":{"loc":{"start":{"line":9,"column":287},"end":{"line":9,"column":319}},"type":"if","locations":[{"start":{"line":9,"column":287},"end":{"line":9,"column":319}},{"start":{"line":9,"column":287},"end":{"line":9,"column":319}}],"line":9},"20":{"loc":{"start":{"line":9,"column":373},"end":{"line":9,"column":487}},"type":"if","locations":[{"start":{"line":9,"column":373},"end":{"line":9,"column":487}},{"start":{"line":9,"column":373},"end":{"line":9,"column":487}}],"line":9},"21":{"loc":{"start":{"line":9,"column":378},"end":{"line":9,"column":447}},"type":"binary-expr","locations":[{"start":{"line":9,"column":378},"end":{"line":9,"column":407}},{"start":{"line":9,"column":409},"end":{"line":9,"column":433}},{"start":{"line":9,"column":435},"end":{"line":9,"column":447}}],"line":9},"22":{"loc":{"start":{"line":9,"column":464},"end":{"line":9,"column":468}},"type":"binary-expr","locations":[{"start":{"line":9,"column":464},"end":{"line":9,"column":465}},{"start":{"line":9,"column":467},"end":{"line":9,"column":468}}],"line":9},"23":{"loc":{"start":{"line":9,"column":774},"end":{"line":9,"column":826}},"type":"if","locations":[{"start":{"line":9,"column":774},"end":{"line":9,"column":826}},{"start":{"line":9,"column":774},"end":{"line":9,"column":826}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":2,"10":0,"11":0,"12":0,"13":0,"14":0,"15":6,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":1,"35":1,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":1,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":1,"66":0,"67":1,"68":1,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":1,"100":0,"101":1,"102":1,"103":1,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":1,"125":0,"126":1,"127":1,"128":1,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":1,"155":0,"156":1},"f":{"0":2,"1":0,"2":6,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0},"b":{"0":[2,0],"1":[2,2],"2":[0,0],"3":[0,0,0,0],"4":[0,0,0,0],"5":[0,0],"6":[0,0,0,0,0,0],"7":[0,0],"8":[0,0],"9":[0,0,0,0,0,0,0,0,0,0,0,0,0],"10":[0,0],"11":[0,0],"12":[0,0,0],"13":[0,0],"14":[0,0,0,0,0,0,0,0,0],"15":[0,0],"16":[0,0],"17":[0,0,0],"18":[0,0,0,0,0,0,0,0,0,0],"19":[0,0],"20":[0,0],"21":[0,0,0],"22":[0,0],"23":[0,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["_generateToken","email","done","token","obj","id","referral","used","finalized","db","create","generateToken","sendReferEmail","referringUser","subject","COMPANY","msg","baseUrl","BASE_URL","e","tokenResponse","tokenData","userData","refEmail","final","s","refToken","referred","push","updatedAt","Date","now","firstName","lastName","sent","refer","data","referSchema","isValid","body","valid","read","to","validRef","use","useSchema","length","refData","register","registerSchema","from","includes","update"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\refer","sourcesContent":["import { promisify } from 'util'\r\n\r\nimport { BASE_URL, COMPANY } from '../../config'\r\nimport db from '../../lib/db'\r\nimport sendEmail from '../../lib/email'\r\nimport { uuidv4, tokenHeader } from '../../lib/security'\r\nimport { t, setLocale } from '../../lib/translations'\r\nimport { referSchema, useSchema, registerSchema } from './schema'\r\nimport { finalizeRequest, validEmail } from '../../lib/utils'\r\n\r\nconst _generateToken = async (email, done) => {\r\n  const token = uuidv4()\r\n  const obj = {\r\n    id: token,\r\n    referral: email,\r\n    used: false,\r\n    finalized: false\r\n  }\r\n\r\n  await db.create('refers', token, obj).catch(() => done(t('error.save')))\r\n  done(null, token)\r\n}\r\n\r\nconst generateToken = promisify(_generateToken)\r\n\r\nconst sendReferEmail = async (email, token, referringUser) => {\r\n  const subject = `${referringUser} is inviting you to join ${COMPANY}`\r\n  const msg = t('refer.email', { baseUrl: BASE_URL, token: token })\r\n  const e = await sendEmail(email, subject, msg).catch((e) => e)\r\n  if (!e) {\r\n    return false\r\n  }\r\n}\r\n\r\nconst tokenResponse = async (tokenData, userData, refEmail, final) => {\r\n  const refToken = await generateToken(tokenData.email).catch((e) => final(null, { s: 400, e }))\r\n  if (refToken) {\r\n    userData.referred.push(refToken)\r\n    userData.updatedAt = Date.now()\r\n    const referringUser = `${userData.firstName} ${userData.lastName} <${tokenData.email}>`\r\n    const sent = await sendReferEmail(refEmail, refToken, referringUser).catch((e) => final(null, { s: 400, e }))\r\n    if (sent) {\r\n      finalizeRequest('users', tokenData.email, 'update', userData, final)\r\n    } else {\r\n      final(null, { s: 400, e: t('error.refer_email') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.id') })\r\n  }\r\n}\r\n\r\n/**\r\n  * @desc Referring user sends email to friend\r\n  * @param object data - { headers: ( token: 'Bearer ...' ), phone: ..., to: ... }\r\n  * @return bool - success or failure with optional error object\r\n*/\r\nexport const refer = async (data, final) => {\r\n  const valid = await referSchema.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const token = await tokenHeader(data).catch(() => final(null, { s: 403, e: t('error.wrong_token') }))\r\n    const tokenData = await db.read('tokens', token).catch(() => final(null, { s: 403, e: t('error.cannot_read') }))\r\n    const validRef = await validEmail(data.body.to)\r\n      .catch((e) => e)\r\n    if (tokenData.email && validRef && data.body.to !== tokenData.email) {\r\n      const userData = await db.read('users', tokenData.email).catch(() => final(null, { s: 400, e: t('error.cannot_read') }))\r\n      if (userData) {\r\n        await tokenResponse(tokenData, userData, data.body.to)\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.required') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\n/**\r\n  * @desc Referred user clicks his link\r\n  * @param object data - { token: .... }\r\n  * @return bool - success or failure with optional error object\r\n*/\r\nexport const use = async (data, final) => {\r\n  const valid = await useSchema.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const token = typeof data.body.token === 'string' && data.body.token.length === 36 ? data.body.token : false\r\n    if (token) {\r\n      const refData = await db.read('refers', token).catch(() => final(null, { s: 403, e: t('error.token_notfound') }))\r\n      refData.used = true\r\n      finalizeRequest('refers', token, 'update', refData, final)\r\n    } else {\r\n      final(null, { s: 400, e: t('error.required') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\n/**\r\n  * @desc After referred user registration we update refer object\r\n  * @param object data - { token: ...., phone: ... }\r\n  * @return bool - success or failure with optional error object\r\n*/\r\nexport const register = async (data, final) => {\r\n  const valid = await registerSchema.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const token = typeof data.body.token === 'string' && data.body.token.length === 36 ? data.body.token : false\r\n    const email = data.body.from\r\n    if (token && email) {\r\n      const userData = await db.read('users', email).catch(() => final(null, { s: 400, e: t('error.no_user') }))\r\n      const tokenData = await db.read('refers', token).catch(() => final(null, { s: 400, e: t('error.token_notfound') }))\r\n      if (!userData.referred.includes(token)) {\r\n        userData.referred.push(token)\r\n        userData.updatedAt = Date.now()\r\n        await db.update('users', email, userData).catch(() => final(null, { s: 500, e: t('error.cannot_update') }))\r\n        tokenData.finalized = true\r\n        finalizeRequest('refers', token, 'update', tokenData, final)\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.required') })\r\n    }\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f95f4444735bccad7fcfee20eef97fd3dc3b251d","contentHash":"cd54280809bb672b7a966b0a6da030a9564dc618aab408e2cd57fbc5ca2857ea"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\refer\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\refer\\schema.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":136}},"1":{"start":{"line":1,"column":145},"end":{"line":1,"column":159}},"2":{"start":{"line":1,"column":168},"end":{"line":1,"column":191}},"3":{"start":{"line":1,"column":204},"end":{"line":1,"column":364}},"4":{"start":{"line":1,"column":365},"end":{"line":1,"column":397}},"5":{"start":{"line":1,"column":411},"end":{"line":1,"column":544}},"6":{"start":{"line":1,"column":545},"end":{"line":1,"column":573}},"7":{"start":{"line":1,"column":592},"end":{"line":1,"column":767}},"8":{"start":{"line":1,"column":768},"end":{"line":1,"column":806}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["referSchema","shape","to","required","email","key","locale","oneOf","LANGUAGES","useSchema","token","length","registerSchema","from"],"mappings":"gMAIaA,WAAW,CAAG,kBAASC,KAAT,CAAe,CACxCC,EAAE,CAAE,kBAASC,QAAT,GAAoBC,KAApB,EADoC,CAExCC,GAAG,CAAE,kBAASF,QAAT,EAFmC,CAGxCG,MAAM,CAAE,kBAASH,QAAT,GAAoBI,KAApB,CAA0BC,iBAA1B,CAHgC,CAAf,C,iCAMpB,GAAMC,CAAAA,SAAS,CAAG,kBAASR,KAAT,CAAe,CACtCS,KAAK,CAAE,kBAASP,QAAT,GAAoBQ,MAApB,CAA2B,EAA3B,CAD+B,CAEtCL,MAAM,CAAE,kBAASH,QAAT,GAAoBI,KAApB,CAA0BC,iBAA1B,CAF8B,CAAf,CAAlB,C,4BAKA,GAAMI,CAAAA,cAAc,CAAG,kBAASX,KAAT,CAAe,CAC3CY,IAAI,CAAE,kBAASV,QAAT,GAAoBC,KAApB,EADqC,CAE3CM,KAAK,CAAE,kBAASP,QAAT,GAAoBQ,MAApB,CAA2B,EAA3B,CAFoC,CAG3CL,MAAM,CAAE,kBAASH,QAAT,GAAoBI,KAApB,CAA0BC,iBAA1B,CAHmC,CAAf,CAAvB,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\refer","sourcesContent":["import { object, string } from 'yup'\r\n\r\nimport { LANGUAGES } from '../../config'\r\n\r\nexport const referSchema = object().shape({\r\n  to: string().required().email(),\r\n  key: string().required(),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const useSchema = object().shape({\r\n  token: string().required().length(36),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const registerSchema = object().shape({\r\n  from: string().required().email(),\r\n  token: string().required().length(36),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8106a845a2119e46be0ec0445fa985b119c84735","contentHash":"dd97c88c5fcd674b657aa620997af4606fdc455cbb844dc5b613939efc10faa2"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\reset\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\reset\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":94}},"1":{"start":{"line":1,"column":104},"end":{"line":1,"column":119}},"2":{"start":{"line":1,"column":128},"end":{"line":1,"column":151}},"3":{"start":{"line":1,"column":156},"end":{"line":1,"column":203}},"4":{"start":{"line":1,"column":213},"end":{"line":1,"column":241}},"5":{"start":{"line":1,"column":252},"end":{"line":1,"column":281}},"6":{"start":{"line":1,"column":289},"end":{"line":1,"column":339}},"7":{"start":{"line":1,"column":347},"end":{"line":1,"column":397}},"8":{"start":{"line":1,"column":412},"end":{"line":1,"column":445}},"9":{"start":{"line":1,"column":454},"end":{"line":1,"column":473}},"10":{"start":{"line":1,"column":481},"end":{"line":1,"column":507}},"11":{"start":{"line":1,"column":543},"end":{"line":1,"column":579}},"12":{"start":{"line":1,"column":623},"end":{"line":1,"column":677}},"13":{"start":{"line":1,"column":633},"end":{"line":1,"column":640}},"14":{"start":{"line":1,"column":643},"end":{"line":1,"column":650}},"15":{"start":{"line":1,"column":660},"end":{"line":1,"column":676}},"16":{"start":{"line":1,"column":677},"end":{"line":1,"column":717}},"17":{"start":{"line":1,"column":748},"end":{"line":1,"column":960}},"18":{"start":{"line":1,"column":772},"end":{"line":1,"column":776}},"19":{"start":{"line":1,"column":779},"end":{"line":1,"column":788}},"20":{"start":{"line":1,"column":789},"end":{"line":1,"column":959}},"21":{"start":{"line":1,"column":836},"end":{"line":1,"column":874}},"22":{"start":{"line":1,"column":889},"end":{"line":1,"column":928}},"23":{"start":{"line":1,"column":935},"end":{"line":1,"column":947}},"24":{"start":{"line":1,"column":948},"end":{"line":1,"column":957}},"25":{"start":{"line":1,"column":994},"end":{"line":1,"column":1855}},"26":{"start":{"line":1,"column":1011},"end":{"line":1,"column":1802}},"27":{"start":{"line":1,"column":1096},"end":{"line":1,"column":1799}},"28":{"start":{"line":1,"column":1139},"end":{"line":1,"column":1795}},"29":{"start":{"line":1,"column":1146},"end":{"line":1,"column":1795}},"30":{"start":{"line":1,"column":1175},"end":{"line":1,"column":1301}},"31":{"start":{"line":1,"column":1238},"end":{"line":1,"column":1298}},"32":{"start":{"line":1,"column":1308},"end":{"line":1,"column":1648}},"33":{"start":{"line":1,"column":1589},"end":{"line":1,"column":1645}},"34":{"start":{"line":1,"column":1655},"end":{"line":1,"column":1736}},"35":{"start":{"line":1,"column":1722},"end":{"line":1,"column":1733}},"36":{"start":{"line":1,"column":1744},"end":{"line":1,"column":1760}},"37":{"start":{"line":1,"column":1778},"end":{"line":1,"column":1794}},"38":{"start":{"line":1,"column":1803},"end":{"line":1,"column":1852}},"39":{"start":{"line":1,"column":1821},"end":{"line":1,"column":1851}},"40":{"start":{"line":1,"column":1871},"end":{"line":1,"column":1907}},"41":{"start":{"line":1,"column":1944},"end":{"line":1,"column":2739}},"42":{"start":{"line":1,"column":1961},"end":{"line":1,"column":2686}},"43":{"start":{"line":1,"column":2046},"end":{"line":1,"column":2683}},"44":{"start":{"line":1,"column":2089},"end":{"line":1,"column":2679}},"45":{"start":{"line":1,"column":2096},"end":{"line":1,"column":2679}},"46":{"start":{"line":1,"column":2125},"end":{"line":1,"column":2250}},"47":{"start":{"line":1,"column":2187},"end":{"line":1,"column":2247}},"48":{"start":{"line":1,"column":2257},"end":{"line":1,"column":2536}},"49":{"start":{"line":1,"column":2477},"end":{"line":1,"column":2533}},"50":{"start":{"line":1,"column":2543},"end":{"line":1,"column":2621}},"51":{"start":{"line":1,"column":2607},"end":{"line":1,"column":2618}},"52":{"start":{"line":1,"column":2628},"end":{"line":1,"column":2644}},"53":{"start":{"line":1,"column":2662},"end":{"line":1,"column":2678}},"54":{"start":{"line":1,"column":2687},"end":{"line":1,"column":2736}},"55":{"start":{"line":1,"column":2705},"end":{"line":1,"column":2735}},"56":{"start":{"line":1,"column":2762},"end":{"line":1,"column":2805}},"57":{"start":{"line":1,"column":2830},"end":{"line":1,"column":3389}},"58":{"start":{"line":1,"column":2847},"end":{"line":1,"column":3336}},"59":{"start":{"line":1,"column":2920},"end":{"line":1,"column":3333}},"60":{"start":{"line":1,"column":2963},"end":{"line":1,"column":3329}},"61":{"start":{"line":1,"column":2970},"end":{"line":1,"column":3329}},"62":{"start":{"line":1,"column":2999},"end":{"line":1,"column":3050}},"63":{"start":{"line":1,"column":3035},"end":{"line":1,"column":3044}},"64":{"start":{"line":1,"column":3044},"end":{"line":1,"column":3049}},"65":{"start":{"line":1,"column":3050},"end":{"line":1,"column":3119}},"66":{"start":{"line":1,"column":3105},"end":{"line":1,"column":3116}},"67":{"start":{"line":1,"column":3126},"end":{"line":1,"column":3140}},"68":{"start":{"line":1,"column":3140},"end":{"line":1,"column":3146}},"69":{"start":{"line":1,"column":3153},"end":{"line":1,"column":3205}},"70":{"start":{"line":1,"column":3189},"end":{"line":1,"column":3199}},"71":{"start":{"line":1,"column":3199},"end":{"line":1,"column":3204}},"72":{"start":{"line":1,"column":3205},"end":{"line":1,"column":3283}},"73":{"start":{"line":1,"column":3269},"end":{"line":1,"column":3280}},"74":{"start":{"line":1,"column":3290},"end":{"line":1,"column":3294}},"75":{"start":{"line":1,"column":3312},"end":{"line":1,"column":3328}},"76":{"start":{"line":1,"column":3337},"end":{"line":1,"column":3386}},"77":{"start":{"line":1,"column":3355},"end":{"line":1,"column":3385}},"78":{"start":{"line":1,"column":3400},"end":{"line":1,"column":3431}},"79":{"start":{"line":1,"column":3454},"end":{"line":1,"column":4607}},"80":{"start":{"line":1,"column":3471},"end":{"line":1,"column":4554}},"81":{"start":{"line":1,"column":3552},"end":{"line":1,"column":4551}},"82":{"start":{"line":1,"column":3595},"end":{"line":1,"column":4547}},"83":{"start":{"line":1,"column":3602},"end":{"line":1,"column":4547}},"84":{"start":{"line":1,"column":3631},"end":{"line":1,"column":3683}},"85":{"start":{"line":1,"column":3690},"end":{"line":1,"column":3722}},"86":{"start":{"line":1,"column":3706},"end":{"line":1,"column":3716}},"87":{"start":{"line":1,"column":3716},"end":{"line":1,"column":3721}},"88":{"start":{"line":1,"column":3722},"end":{"line":1,"column":3769}},"89":{"start":{"line":1,"column":3776},"end":{"line":1,"column":3893}},"90":{"start":{"line":1,"column":3833},"end":{"line":1,"column":3890}},"91":{"start":{"line":1,"column":3900},"end":{"line":1,"column":3938}},"92":{"start":{"line":1,"column":3922},"end":{"line":1,"column":3932}},"93":{"start":{"line":1,"column":3932},"end":{"line":1,"column":3937}},"94":{"start":{"line":1,"column":3938},"end":{"line":1,"column":4071}},"95":{"start":{"line":1,"column":4012},"end":{"line":1,"column":4068}},"96":{"start":{"line":1,"column":4079},"end":{"line":1,"column":4111}},"97":{"start":{"line":1,"column":4095},"end":{"line":1,"column":4105}},"98":{"start":{"line":1,"column":4105},"end":{"line":1,"column":4110}},"99":{"start":{"line":1,"column":4111},"end":{"line":1,"column":4232}},"100":{"start":{"line":1,"column":4175},"end":{"line":1,"column":4229}},"101":{"start":{"line":1,"column":4240},"end":{"line":1,"column":4282}},"102":{"start":{"line":1,"column":4282},"end":{"line":1,"column":4288}},"103":{"start":{"line":1,"column":4296},"end":{"line":1,"column":4346}},"104":{"start":{"line":1,"column":4354},"end":{"line":1,"column":4364}},"105":{"start":{"line":1,"column":4364},"end":{"line":1,"column":4370}},"106":{"start":{"line":1,"column":4378},"end":{"line":1,"column":4429}},"107":{"start":{"line":1,"column":4437},"end":{"line":1,"column":4447}},"108":{"start":{"line":1,"column":4447},"end":{"line":1,"column":4453}},"109":{"start":{"line":1,"column":4461},"end":{"line":1,"column":4512}},"110":{"start":{"line":1,"column":4530},"end":{"line":1,"column":4546}},"111":{"start":{"line":1,"column":4555},"end":{"line":1,"column":4604}},"112":{"start":{"line":1,"column":4573},"end":{"line":1,"column":4603}},"113":{"start":{"line":1,"column":4608},"end":{"line":1,"column":4636}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":517},"end":{"line":1,"column":539}},"loc":{"start":{"line":1,"column":542},"end":{"line":1,"column":580}},"line":1},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":589},"end":{"line":1,"column":607}},"loc":{"start":{"line":1,"column":622},"end":{"line":1,"column":718}},"line":1},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":727},"end":{"line":1,"column":744}},"loc":{"start":{"line":1,"column":747},"end":{"line":1,"column":961}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":755},"end":{"line":1,"column":756}},"loc":{"start":{"line":1,"column":765},"end":{"line":1,"column":960}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":808},"end":{"line":1,"column":809}},"loc":{"start":{"line":1,"column":821},"end":{"line":1,"column":958}},"line":1},"5":{"name":"f","decl":{"start":{"line":1,"column":831},"end":{"line":1,"column":832}},"loc":{"start":{"line":1,"column":835},"end":{"line":1,"column":875}},"line":1},"6":{"name":"g","decl":{"start":{"line":1,"column":884},"end":{"line":1,"column":885}},"loc":{"start":{"line":1,"column":888},"end":{"line":1,"column":929}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":1,"column":994},"end":{"line":1,"column":995}},"loc":{"start":{"line":1,"column":1004},"end":{"line":1,"column":1853}},"line":1},"8":{"name":"a","decl":{"start":{"line":1,"column":1075},"end":{"line":1,"column":1076}},"loc":{"start":{"line":1,"column":1081},"end":{"line":1,"column":1800}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":1127},"end":{"line":1,"column":1128}},"loc":{"start":{"line":1,"column":1138},"end":{"line":1,"column":1796}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":1227},"end":{"line":1,"column":1228}},"loc":{"start":{"line":1,"column":1237},"end":{"line":1,"column":1299}},"line":1},"11":{"name":"(anonymous_11)","decl":{"start":{"line":1,"column":1578},"end":{"line":1,"column":1579}},"loc":{"start":{"line":1,"column":1588},"end":{"line":1,"column":1646}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":1710},"end":{"line":1,"column":1711}},"loc":{"start":{"line":1,"column":1721},"end":{"line":1,"column":1734}},"line":1},"13":{"name":"(anonymous_13)","decl":{"start":{"line":1,"column":1810},"end":{"line":1,"column":1811}},"loc":{"start":{"line":1,"column":1820},"end":{"line":1,"column":1852}},"line":1},"14":{"name":"(anonymous_14)","decl":{"start":{"line":1,"column":1944},"end":{"line":1,"column":1945}},"loc":{"start":{"line":1,"column":1954},"end":{"line":1,"column":2737}},"line":1},"15":{"name":"a","decl":{"start":{"line":1,"column":2025},"end":{"line":1,"column":2026}},"loc":{"start":{"line":1,"column":2033},"end":{"line":1,"column":2684}},"line":1},"16":{"name":"(anonymous_16)","decl":{"start":{"line":1,"column":2077},"end":{"line":1,"column":2078}},"loc":{"start":{"line":1,"column":2088},"end":{"line":1,"column":2680}},"line":1},"17":{"name":"(anonymous_17)","decl":{"start":{"line":1,"column":2176},"end":{"line":1,"column":2177}},"loc":{"start":{"line":1,"column":2186},"end":{"line":1,"column":2248}},"line":1},"18":{"name":"(anonymous_18)","decl":{"start":{"line":1,"column":2466},"end":{"line":1,"column":2467}},"loc":{"start":{"line":1,"column":2476},"end":{"line":1,"column":2534}},"line":1},"19":{"name":"(anonymous_19)","decl":{"start":{"line":1,"column":2595},"end":{"line":1,"column":2596}},"loc":{"start":{"line":1,"column":2606},"end":{"line":1,"column":2619}},"line":1},"20":{"name":"(anonymous_20)","decl":{"start":{"line":1,"column":2694},"end":{"line":1,"column":2695}},"loc":{"start":{"line":1,"column":2704},"end":{"line":1,"column":2736}},"line":1},"21":{"name":"(anonymous_21)","decl":{"start":{"line":1,"column":2830},"end":{"line":1,"column":2831}},"loc":{"start":{"line":1,"column":2840},"end":{"line":1,"column":3387}},"line":1},"22":{"name":"a","decl":{"start":{"line":1,"column":2911},"end":{"line":1,"column":2912}},"loc":{"start":{"line":1,"column":2919},"end":{"line":1,"column":3334}},"line":1},"23":{"name":"(anonymous_23)","decl":{"start":{"line":1,"column":2951},"end":{"line":1,"column":2952}},"loc":{"start":{"line":1,"column":2962},"end":{"line":1,"column":3330}},"line":1},"24":{"name":"(anonymous_24)","decl":{"start":{"line":1,"column":3093},"end":{"line":1,"column":3094}},"loc":{"start":{"line":1,"column":3104},"end":{"line":1,"column":3117}},"line":1},"25":{"name":"(anonymous_25)","decl":{"start":{"line":1,"column":3257},"end":{"line":1,"column":3258}},"loc":{"start":{"line":1,"column":3268},"end":{"line":1,"column":3281}},"line":1},"26":{"name":"(anonymous_26)","decl":{"start":{"line":1,"column":3344},"end":{"line":1,"column":3345}},"loc":{"start":{"line":1,"column":3354},"end":{"line":1,"column":3386}},"line":1},"27":{"name":"(anonymous_27)","decl":{"start":{"line":1,"column":3454},"end":{"line":1,"column":3455}},"loc":{"start":{"line":1,"column":3464},"end":{"line":1,"column":4605}},"line":1},"28":{"name":"a","decl":{"start":{"line":1,"column":3535},"end":{"line":1,"column":3536}},"loc":{"start":{"line":1,"column":3541},"end":{"line":1,"column":4552}},"line":1},"29":{"name":"(anonymous_29)","decl":{"start":{"line":1,"column":3583},"end":{"line":1,"column":3584}},"loc":{"start":{"line":1,"column":3594},"end":{"line":1,"column":4548}},"line":1},"30":{"name":"(anonymous_30)","decl":{"start":{"line":1,"column":3822},"end":{"line":1,"column":3823}},"loc":{"start":{"line":1,"column":3832},"end":{"line":1,"column":3891}},"line":1},"31":{"name":"(anonymous_31)","decl":{"start":{"line":1,"column":4001},"end":{"line":1,"column":4002}},"loc":{"start":{"line":1,"column":4011},"end":{"line":1,"column":4069}},"line":1},"32":{"name":"(anonymous_32)","decl":{"start":{"line":1,"column":4164},"end":{"line":1,"column":4165}},"loc":{"start":{"line":1,"column":4174},"end":{"line":1,"column":4230}},"line":1},"33":{"name":"(anonymous_33)","decl":{"start":{"line":1,"column":4562},"end":{"line":1,"column":4563}},"loc":{"start":{"line":1,"column":4572},"end":{"line":1,"column":4604}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":550},"end":{"line":1,"column":579}},"type":"cond-expr","locations":[{"start":{"line":1,"column":566},"end":{"line":1,"column":567}},{"start":{"line":1,"column":568},"end":{"line":1,"column":579}}],"line":1},"1":{"loc":{"start":{"line":1,"column":550},"end":{"line":1,"column":565}},"type":"binary-expr","locations":[{"start":{"line":1,"column":550},"end":{"line":1,"column":551}},{"start":{"line":1,"column":553},"end":{"line":1,"column":565}}],"line":1},"2":{"loc":{"start":{"line":1,"column":677},"end":{"line":1,"column":717}},"type":"cond-expr","locations":[{"start":{"line":1,"column":684},"end":{"line":1,"column":688}},{"start":{"line":1,"column":689},"end":{"line":1,"column":717}}],"line":1},"3":{"loc":{"start":{"line":1,"column":1146},"end":{"line":1,"column":1795}},"type":"switch","locations":[{"start":{"line":1,"column":1168},"end":{"line":1,"column":1301}},{"start":{"line":1,"column":1301},"end":{"line":1,"column":1648}},{"start":{"line":1,"column":1648},"end":{"line":1,"column":1736}},{"start":{"line":1,"column":1736},"end":{"line":1,"column":1760}},{"start":{"line":1,"column":1760},"end":{"line":1,"column":1768}},{"start":{"line":1,"column":1768},"end":{"line":1,"column":1794}}],"line":1},"4":{"loc":{"start":{"line":1,"column":1753},"end":{"line":1,"column":1759}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1753},"end":{"line":1,"column":1754}},{"start":{"line":1,"column":1756},"end":{"line":1,"column":1759}}],"line":1},"5":{"loc":{"start":{"line":1,"column":2096},"end":{"line":1,"column":2679}},"type":"switch","locations":[{"start":{"line":1,"column":2118},"end":{"line":1,"column":2250}},{"start":{"line":1,"column":2250},"end":{"line":1,"column":2536}},{"start":{"line":1,"column":2536},"end":{"line":1,"column":2621}},{"start":{"line":1,"column":2621},"end":{"line":1,"column":2644}},{"start":{"line":1,"column":2644},"end":{"line":1,"column":2652}},{"start":{"line":1,"column":2652},"end":{"line":1,"column":2678}}],"line":1},"6":{"loc":{"start":{"line":1,"column":2637},"end":{"line":1,"column":2643}},"type":"binary-expr","locations":[{"start":{"line":1,"column":2637},"end":{"line":1,"column":2638}},{"start":{"line":1,"column":2640},"end":{"line":1,"column":2643}}],"line":1},"7":{"loc":{"start":{"line":1,"column":2970},"end":{"line":1,"column":3329}},"type":"switch","locations":[{"start":{"line":1,"column":2992},"end":{"line":1,"column":3119}},{"start":{"line":1,"column":3119},"end":{"line":1,"column":3146}},{"start":{"line":1,"column":3146},"end":{"line":1,"column":3283}},{"start":{"line":1,"column":3283},"end":{"line":1,"column":3294}},{"start":{"line":1,"column":3294},"end":{"line":1,"column":3302}},{"start":{"line":1,"column":3302},"end":{"line":1,"column":3328}}],"line":1},"8":{"loc":{"start":{"line":1,"column":2999},"end":{"line":1,"column":3050}},"type":"if","locations":[{"start":{"line":1,"column":2999},"end":{"line":1,"column":3050}},{"start":{"line":1,"column":2999},"end":{"line":1,"column":3050}}],"line":1},"9":{"loc":{"start":{"line":1,"column":3153},"end":{"line":1,"column":3205}},"type":"if","locations":[{"start":{"line":1,"column":3153},"end":{"line":1,"column":3205}},{"start":{"line":1,"column":3153},"end":{"line":1,"column":3205}}],"line":1},"10":{"loc":{"start":{"line":1,"column":3602},"end":{"line":1,"column":4547}},"type":"switch","locations":[{"start":{"line":1,"column":3624},"end":{"line":1,"column":3683}},{"start":{"line":1,"column":3683},"end":{"line":1,"column":3769}},{"start":{"line":1,"column":3769},"end":{"line":1,"column":3893}},{"start":{"line":1,"column":3893},"end":{"line":1,"column":4071}},{"start":{"line":1,"column":4071},"end":{"line":1,"column":4232}},{"start":{"line":1,"column":4232},"end":{"line":1,"column":4288}},{"start":{"line":1,"column":4288},"end":{"line":1,"column":4346}},{"start":{"line":1,"column":4346},"end":{"line":1,"column":4370}},{"start":{"line":1,"column":4370},"end":{"line":1,"column":4429}},{"start":{"line":1,"column":4429},"end":{"line":1,"column":4453}},{"start":{"line":1,"column":4453},"end":{"line":1,"column":4512}},{"start":{"line":1,"column":4512},"end":{"line":1,"column":4520}},{"start":{"line":1,"column":4520},"end":{"line":1,"column":4546}}],"line":1},"11":{"loc":{"start":{"line":1,"column":3690},"end":{"line":1,"column":3722}},"type":"if","locations":[{"start":{"line":1,"column":3690},"end":{"line":1,"column":3722}},{"start":{"line":1,"column":3690},"end":{"line":1,"column":3722}}],"line":1},"12":{"loc":{"start":{"line":1,"column":3900},"end":{"line":1,"column":3938}},"type":"if","locations":[{"start":{"line":1,"column":3900},"end":{"line":1,"column":3938}},{"start":{"line":1,"column":3900},"end":{"line":1,"column":3938}}],"line":1},"13":{"loc":{"start":{"line":1,"column":4079},"end":{"line":1,"column":4111}},"type":"if","locations":[{"start":{"line":1,"column":4079},"end":{"line":1,"column":4111}},{"start":{"line":1,"column":4079},"end":{"line":1,"column":4111}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":3,"12":12,"13":12,"14":12,"15":0,"16":12,"17":4,"18":3,"19":3,"20":3,"21":12,"22":0,"23":3,"24":3,"25":1,"26":1,"27":1,"28":4,"29":4,"30":1,"31":0,"32":1,"33":0,"34":1,"35":0,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1,"55":0,"56":1,"57":1,"58":1,"59":1,"60":2,"61":3,"62":1,"63":0,"64":0,"65":1,"66":0,"67":1,"68":1,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":6,"83":9,"84":1,"85":1,"86":0,"87":0,"88":1,"89":1,"90":0,"91":1,"92":0,"93":0,"94":1,"95":0,"96":1,"97":0,"98":0,"99":1,"100":0,"101":1,"102":1,"103":0,"104":1,"105":1,"106":0,"107":1,"108":1,"109":0,"110":1,"111":1,"112":1,"113":1},"f":{"0":3,"1":12,"2":4,"3":3,"4":3,"5":12,"6":0,"7":1,"8":1,"9":4,"10":0,"11":0,"12":0,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":1,"23":2,"24":0,"25":0,"26":1,"27":1,"28":1,"29":6,"30":0,"31":0,"32":0,"33":1},"b":{"0":[3,0],"1":[3,3],"2":[3,9],"3":[1,1,1,1,1,1],"4":[1,1],"5":[0,0,0,0,0,0],"6":[0,0],"7":[1,1,0,0,1,1],"8":[0,1],"9":[0,0],"10":[1,1,1,1,1,1,0,1,0,1,0,1,1],"11":[0,1],"12":[0,1],"13":[0,1]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["_sendEmailReset","email","done","token","subject","company","COMPANY","msg","baseUrl","BASE_URL","code","obj","type","expiry","Date","now","db","create","e","sendEmailReset","_sendPhoneConfirmation","phone","sendPhoneConfirmation","_sendReset","sendReset","data","final","resetSchema","isValid","body","valid","s","u","read","userData","o","status"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\reset","sourcesContent":["import { promisify } from 'util'\r\n\r\nimport { COMPANY, BASE_URL, FIRST_CONFIRM } from '../../config'\r\nimport db from '../../lib/db'\r\nimport { user } from '../../lib/schemas'\r\nimport { randomID } from '../../lib/security'\r\nimport sendEmail from '../../lib/email'\r\nimport sendSMS from '../../lib/phone'\r\nimport { t, setLocale } from '../../lib/translations'\r\nimport { resetSchema } from './schema'\r\nimport { sendOk } from '../../lib/utils'\r\n\r\nconst _sendEmailReset = async (email, done) => {\r\n  const token = await randomID(32).catch(() => done(t('error.confirmation_generate')))\r\n  const subject = t('reset.email', { company: COMPANY })\r\n  const msg = t('reset.email_text', { baseUrl: BASE_URL, code: token })\r\n  const obj = {\r\n    email,\r\n    type: 'reset',\r\n    token: token,\r\n    expiry: Date.now() + 1000 * 60 * 60\r\n  }\r\n\r\n  await db.create('confirms', token, obj).catch(() => done(t('error.confirmation_save')))\r\n  const e = await sendEmail(email, subject, msg).catch((e) => done(e))\r\n  if (!e) {\r\n    done()\r\n  }\r\n}\r\n\r\nconst sendEmailReset = promisify(_sendEmailReset)\r\n\r\nconst _sendPhoneConfirmation = async (phone, email, done) => {\r\n  const token = await randomID(6).catch(() => done(t('error.confirmation_generate')))\r\n  const msg = t('account.reset_phone', { company: COMPANY, code: token })\r\n  const obj = {\r\n    email,\r\n    type: 'reset',\r\n    token: token,\r\n    expiry: Date.now() + 1000 * 60 * 60\r\n  }\r\n\r\n  await db.create('confirms', token, obj).catch(() => done(t('error.confirmation_save')))\r\n  const e = await sendSMS(phone, msg).catch((e) => done(e))\r\n  if (!e) {\r\n    done()\r\n  }\r\n}\r\n\r\nconst sendPhoneConfirmation = promisify(_sendPhoneConfirmation)\r\n\r\nconst _sendReset = async (email, phone, done) => {\r\n  if (FIRST_CONFIRM === 'email') {\r\n    await sendEmailReset(email).catch((e) => done(e))\r\n    done()\r\n  } else if (FIRST_CONFIRM === 'phone') {\r\n    await sendPhoneConfirmation(phone, email).catch((e) => done(e))\r\n    done()\r\n  }\r\n}\r\n\r\nconst sendReset = promisify(_sendReset)\r\n\r\nexport default async (data, final) => {\r\n  const valid = await resetSchema.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const u = await user(data).catch(() => final(null, { s: 400, e: t('error.required') }))\r\n    if (u.email) {\r\n      const userData = await db.read('users', u.email).catch(() => final(null, { s: 400, e: t('error.no_user') }))\r\n      if (userData) {\r\n        await sendReset(u.email, userData.phone).catch(() => final(null, { s: 500, e: t('error.email') }))\r\n        final(null, { s: 200, o: { status: 'ok' } })\r\n      } else {\r\n        final(null, { s: 400, e: t('error.no_user') })\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.required') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3efa2df20a643ef03eb4e1f62e8fbbff9685a2f6","contentHash":"9e7f18ff54300f91107e5af2fb90bed04c6bc0ad67a9b208ce25a2b62ae073ee"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\reset\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\reset\\schema.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":104},"end":{"line":1,"column":118}},"2":{"start":{"line":1,"column":127},"end":{"line":1,"column":150}},"3":{"start":{"line":1,"column":163},"end":{"line":1,"column":293}},"4":{"start":{"line":1,"column":294},"end":{"line":1,"column":326}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["resetSchema","shape","email","required","locale","oneOf","LANGUAGES"],"mappings":"uJAIaA,WAAW,CAAG,kBAASC,KAAT,CAAe,CACxCC,KAAK,CAAE,kBAASC,QAAT,GAAoBD,KAApB,EADiC,CAExCE,MAAM,CAAE,kBAASD,QAAT,GAAoBE,KAApB,CAA0BC,iBAA1B,CAFgC,CAAf,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\reset","sourcesContent":["import { object, string } from 'yup'\r\n\r\nimport { LANGUAGES } from '../../config'\r\n\r\nexport const resetSchema = object().shape({\r\n  email: string().required().email(),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"905079ab4df15657d5ffebb8c4b9efb7448dfc19","contentHash":"3e967f8c1820f3329418b8e68ae61e8b1fbb238747c002b160113f134a87d78c"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\shop\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\shop\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":261}},"1":{"start":{"line":1,"column":269},"end":{"line":1,"column":316}},"2":{"start":{"line":1,"column":324},"end":{"line":1,"column":350}},"3":{"start":{"line":1,"column":386},"end":{"line":1,"column":422}},"4":{"start":{"line":1,"column":466},"end":{"line":1,"column":520}},"5":{"start":{"line":1,"column":476},"end":{"line":1,"column":483}},"6":{"start":{"line":1,"column":486},"end":{"line":1,"column":493}},"7":{"start":{"line":1,"column":503},"end":{"line":1,"column":519}},"8":{"start":{"line":1,"column":520},"end":{"line":1,"column":560}},"9":{"start":{"line":1,"column":591},"end":{"line":1,"column":803}},"10":{"start":{"line":1,"column":615},"end":{"line":1,"column":619}},"11":{"start":{"line":1,"column":622},"end":{"line":1,"column":631}},"12":{"start":{"line":1,"column":632},"end":{"line":1,"column":802}},"13":{"start":{"line":1,"column":679},"end":{"line":1,"column":717}},"14":{"start":{"line":1,"column":732},"end":{"line":1,"column":771}},"15":{"start":{"line":1,"column":778},"end":{"line":1,"column":790}},"16":{"start":{"line":1,"column":791},"end":{"line":1,"column":800}},"17":{"start":{"line":1,"column":814},"end":{"line":1,"column":821}},"18":{"start":{"line":1,"column":847},"end":{"line":1,"column":1248}},"19":{"start":{"line":1,"column":864},"end":{"line":1,"column":1195}},"20":{"start":{"line":1,"column":938},"end":{"line":1,"column":1192}},"21":{"start":{"line":1,"column":981},"end":{"line":1,"column":1188}},"22":{"start":{"line":1,"column":988},"end":{"line":1,"column":1188}},"23":{"start":{"line":1,"column":1017},"end":{"line":1,"column":1081}},"24":{"start":{"line":1,"column":1088},"end":{"line":1,"column":1140}},"25":{"start":{"line":1,"column":1147},"end":{"line":1,"column":1154}},"26":{"start":{"line":1,"column":1171},"end":{"line":1,"column":1187}},"27":{"start":{"line":1,"column":1196},"end":{"line":1,"column":1245}},"28":{"start":{"line":1,"column":1214},"end":{"line":1,"column":1244}},"29":{"start":{"line":1,"column":1249},"end":{"line":1,"column":1281}},"30":{"start":{"line":1,"column":1300},"end":{"line":1,"column":1312}},"31":{"start":{"line":1,"column":1313},"end":{"line":1,"column":1351}},"32":{"start":{"line":1,"column":1365},"end":{"line":1,"column":1377}},"33":{"start":{"line":1,"column":1378},"end":{"line":1,"column":1406}},"34":{"start":{"line":1,"column":1425},"end":{"line":1,"column":1437}},"35":{"start":{"line":1,"column":1438},"end":{"line":1,"column":1476}},"36":{"start":{"line":1,"column":1488},"end":{"line":1,"column":1500}},"37":{"start":{"line":1,"column":1501},"end":{"line":1,"column":1525}},"38":{"start":{"line":1,"column":1538},"end":{"line":1,"column":1550}},"39":{"start":{"line":1,"column":1551},"end":{"line":1,"column":1577}},"40":{"start":{"line":1,"column":1595},"end":{"line":1,"column":1607}},"41":{"start":{"line":1,"column":1608},"end":{"line":1,"column":1644}},"42":{"start":{"line":1,"column":1667},"end":{"line":1,"column":1679}},"43":{"start":{"line":1,"column":1680},"end":{"line":1,"column":1726}},"44":{"start":{"line":1,"column":1742},"end":{"line":1,"column":1754}},"45":{"start":{"line":1,"column":1755},"end":{"line":1,"column":1787}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":360},"end":{"line":1,"column":382}},"loc":{"start":{"line":1,"column":385},"end":{"line":1,"column":423}},"line":1},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":432},"end":{"line":1,"column":450}},"loc":{"start":{"line":1,"column":465},"end":{"line":1,"column":561}},"line":1},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":570},"end":{"line":1,"column":587}},"loc":{"start":{"line":1,"column":590},"end":{"line":1,"column":804}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":598},"end":{"line":1,"column":599}},"loc":{"start":{"line":1,"column":608},"end":{"line":1,"column":803}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":651},"end":{"line":1,"column":652}},"loc":{"start":{"line":1,"column":664},"end":{"line":1,"column":801}},"line":1},"5":{"name":"f","decl":{"start":{"line":1,"column":674},"end":{"line":1,"column":675}},"loc":{"start":{"line":1,"column":678},"end":{"line":1,"column":718}},"line":1},"6":{"name":"g","decl":{"start":{"line":1,"column":727},"end":{"line":1,"column":728}},"loc":{"start":{"line":1,"column":731},"end":{"line":1,"column":772}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":1,"column":847},"end":{"line":1,"column":848}},"loc":{"start":{"line":1,"column":857},"end":{"line":1,"column":1246}},"line":1},"8":{"name":"a","decl":{"start":{"line":1,"column":928},"end":{"line":1,"column":929}},"loc":{"start":{"line":1,"column":931},"end":{"line":1,"column":1193}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":969},"end":{"line":1,"column":970}},"loc":{"start":{"line":1,"column":980},"end":{"line":1,"column":1189}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":1203},"end":{"line":1,"column":1204}},"loc":{"start":{"line":1,"column":1213},"end":{"line":1,"column":1245}},"line":1},"11":{"name":"(anonymous_11)","decl":{"start":{"line":1,"column":1300},"end":{"line":1,"column":1301}},"loc":{"start":{"line":1,"column":1310},"end":{"line":1,"column":1312}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":1365},"end":{"line":1,"column":1366}},"loc":{"start":{"line":1,"column":1375},"end":{"line":1,"column":1377}},"line":1},"13":{"name":"(anonymous_13)","decl":{"start":{"line":1,"column":1425},"end":{"line":1,"column":1426}},"loc":{"start":{"line":1,"column":1435},"end":{"line":1,"column":1437}},"line":1},"14":{"name":"(anonymous_14)","decl":{"start":{"line":1,"column":1488},"end":{"line":1,"column":1489}},"loc":{"start":{"line":1,"column":1498},"end":{"line":1,"column":1500}},"line":1},"15":{"name":"(anonymous_15)","decl":{"start":{"line":1,"column":1538},"end":{"line":1,"column":1539}},"loc":{"start":{"line":1,"column":1548},"end":{"line":1,"column":1550}},"line":1},"16":{"name":"(anonymous_16)","decl":{"start":{"line":1,"column":1595},"end":{"line":1,"column":1596}},"loc":{"start":{"line":1,"column":1605},"end":{"line":1,"column":1607}},"line":1},"17":{"name":"(anonymous_17)","decl":{"start":{"line":1,"column":1667},"end":{"line":1,"column":1668}},"loc":{"start":{"line":1,"column":1677},"end":{"line":1,"column":1679}},"line":1},"18":{"name":"(anonymous_18)","decl":{"start":{"line":1,"column":1742},"end":{"line":1,"column":1743}},"loc":{"start":{"line":1,"column":1752},"end":{"line":1,"column":1754}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":393},"end":{"line":1,"column":422}},"type":"cond-expr","locations":[{"start":{"line":1,"column":409},"end":{"line":1,"column":410}},{"start":{"line":1,"column":411},"end":{"line":1,"column":422}}],"line":1},"1":{"loc":{"start":{"line":1,"column":393},"end":{"line":1,"column":408}},"type":"binary-expr","locations":[{"start":{"line":1,"column":393},"end":{"line":1,"column":394}},{"start":{"line":1,"column":396},"end":{"line":1,"column":408}}],"line":1},"2":{"loc":{"start":{"line":1,"column":520},"end":{"line":1,"column":560}},"type":"cond-expr","locations":[{"start":{"line":1,"column":527},"end":{"line":1,"column":531}},{"start":{"line":1,"column":532},"end":{"line":1,"column":560}}],"line":1},"3":{"loc":{"start":{"line":1,"column":988},"end":{"line":1,"column":1188}},"type":"switch","locations":[{"start":{"line":1,"column":1010},"end":{"line":1,"column":1081}},{"start":{"line":1,"column":1081},"end":{"line":1,"column":1140}},{"start":{"line":1,"column":1140},"end":{"line":1,"column":1154}},{"start":{"line":1,"column":1154},"end":{"line":1,"column":1161}},{"start":{"line":1,"column":1161},"end":{"line":1,"column":1187}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1},"f":{"0":1,"1":0,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0,0,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["table","getProducts","db","get","products","getProductById","addToCart","removeFromCart","getCart","checkout","addToWishlist","removeFromWishlist","getWishlist"],"mappings":"uyBAEMA,CAAAA,KAAK,CAAG,O,CAEDC,WAAW,sFAAG,kHACFC,eAAGC,GAAH,WAAUH,KAAV,aADE,cACnBI,CAAAA,CADmB,iBAEP,0BAFO,sDAAH,uD,iCAKjB,GAAMC,CAAAA,cAAc,CAAG,UAAiB,CAE9C,CAFM,C,sCAIA,GAAMC,CAAAA,SAAS,CAAG,UAAiB,CAEzC,CAFM,C,4BAIA,GAAMC,CAAAA,cAAc,CAAG,UAAiB,CAE9C,CAFM,C,sCAIA,GAAMC,CAAAA,OAAO,CAAG,UAAiB,CAEvC,CAFM,C,wBAIA,GAAMC,CAAAA,QAAQ,CAAG,UAAiB,CAExC,CAFM,C,0BAIA,GAAMC,CAAAA,aAAa,CAAG,UAAiB,CAE7C,CAFM,C,oCAIA,GAAMC,CAAAA,kBAAkB,CAAG,UAAiB,CAElD,CAFM,C,8CAIA,GAAMC,CAAAA,WAAW,CAAG,UAAiB,CAE3C,CAFM,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\shop","sourcesContent":["import db from '../../lib/db'\r\nimport { protoResponse } from '../../lib/proto'\r\nconst table = 'shop_'\r\n\r\nexport const getProducts = async (data, final) => {\r\n  const products = await db.get(`${table}products`)\r\n  const res = await protoResponse()\r\n}\r\n\r\nexport const getProductById = (data, final) => {\r\n\r\n}\r\n\r\nexport const addToCart = (data, final) => {\r\n    \r\n}\r\n\r\nexport const removeFromCart = (data, final) => {\r\n    \r\n}\r\n\r\nexport const getCart = (data, final) => {\r\n    \r\n}\r\n\r\nexport const checkout = (data, final) => {\r\n\r\n}\r\n\r\nexport const addToWishlist = (data, final) => {\r\n\r\n}\r\n\r\nexport const removeFromWishlist = (data, final) => {\r\n\r\n}\r\n\r\nexport const getWishlist = (data, final) => {\r\n\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6d0519a592748a8cff4306f8de32653b7d6db335","contentHash":"1d383c1a74daa3bb67831c79687ab353ba9f6ca2b4f9729ecc659179690d6377"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\blog\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\blog\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":298}},"1":{"start":{"line":1,"column":306},"end":{"line":1,"column":353}},"2":{"start":{"line":1,"column":361},"end":{"line":1,"column":387}},"3":{"start":{"line":1,"column":423},"end":{"line":1,"column":459}},"4":{"start":{"line":1,"column":470},"end":{"line":1,"column":477}},"5":{"start":{"line":1,"column":497},"end":{"line":1,"column":509}},"6":{"start":{"line":1,"column":510},"end":{"line":1,"column":556}},"7":{"start":{"line":1,"column":582},"end":{"line":1,"column":594}},"8":{"start":{"line":1,"column":595},"end":{"line":1,"column":647}},"9":{"start":{"line":1,"column":662},"end":{"line":1,"column":674}},"10":{"start":{"line":1,"column":675},"end":{"line":1,"column":705}},"11":{"start":{"line":1,"column":720},"end":{"line":2,"column":1}},"12":{"start":{"line":2,"column":2},"end":{"line":2,"column":32}},"13":{"start":{"line":2,"column":48},"end":{"line":3,"column":1}},"14":{"start":{"line":3,"column":2},"end":{"line":3,"column":34}},"15":{"start":{"line":3,"column":52},"end":{"line":4,"column":1}},"16":{"start":{"line":4,"column":2},"end":{"line":4,"column":38}},"17":{"start":{"line":4,"column":54},"end":{"line":5,"column":1}},"18":{"start":{"line":5,"column":2},"end":{"line":5,"column":34}},"19":{"start":{"line":5,"column":51},"end":{"line":5,"column":63}},"20":{"start":{"line":5,"column":64},"end":{"line":5,"column":98}},"21":{"start":{"line":5,"column":117},"end":{"line":6,"column":1}},"22":{"start":{"line":6,"column":2},"end":{"line":6,"column":40}},"23":{"start":{"line":6,"column":58},"end":{"line":6,"column":70}},"24":{"start":{"line":6,"column":71},"end":{"line":6,"column":107}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":397},"end":{"line":1,"column":419}},"loc":{"start":{"line":1,"column":422},"end":{"line":1,"column":460}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":497},"end":{"line":1,"column":498}},"loc":{"start":{"line":1,"column":507},"end":{"line":1,"column":509}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":582},"end":{"line":1,"column":583}},"loc":{"start":{"line":1,"column":592},"end":{"line":1,"column":594}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":662},"end":{"line":1,"column":663}},"loc":{"start":{"line":1,"column":672},"end":{"line":1,"column":674}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":720},"end":{"line":1,"column":721}},"loc":{"start":{"line":1,"column":730},"end":{"line":2,"column":1}},"line":1},"5":{"name":"(anonymous_5)","decl":{"start":{"line":2,"column":48},"end":{"line":2,"column":49}},"loc":{"start":{"line":2,"column":58},"end":{"line":3,"column":1}},"line":2},"6":{"name":"(anonymous_6)","decl":{"start":{"line":3,"column":52},"end":{"line":3,"column":53}},"loc":{"start":{"line":3,"column":62},"end":{"line":4,"column":1}},"line":3},"7":{"name":"(anonymous_7)","decl":{"start":{"line":4,"column":54},"end":{"line":4,"column":55}},"loc":{"start":{"line":4,"column":64},"end":{"line":5,"column":1}},"line":4},"8":{"name":"(anonymous_8)","decl":{"start":{"line":5,"column":51},"end":{"line":5,"column":52}},"loc":{"start":{"line":5,"column":61},"end":{"line":5,"column":63}},"line":5},"9":{"name":"(anonymous_9)","decl":{"start":{"line":5,"column":117},"end":{"line":5,"column":118}},"loc":{"start":{"line":5,"column":127},"end":{"line":6,"column":1}},"line":5},"10":{"name":"(anonymous_10)","decl":{"start":{"line":6,"column":58},"end":{"line":6,"column":59}},"loc":{"start":{"line":6,"column":68},"end":{"line":6,"column":70}},"line":6}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":430},"end":{"line":1,"column":459}},"type":"cond-expr","locations":[{"start":{"line":1,"column":446},"end":{"line":1,"column":447}},{"start":{"line":1,"column":448},"end":{"line":1,"column":459}}],"line":1},"1":{"loc":{"start":{"line":1,"column":430},"end":{"line":1,"column":445}},"type":"binary-expr","locations":[{"start":{"line":1,"column":430},"end":{"line":1,"column":431}},{"start":{"line":1,"column":433},"end":{"line":1,"column":445}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{"0":[1,0],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["table","getArticlesByTitle","getArticlesByCategory","getArticle","addArticle","editArticle","deleteArticle","addCategory","editCategory","removeCategory","getCategories"],"mappings":"+cAEMA,CAAAA,KAAK,CAAG,O,CAEDC,kBAAkB,CAAG,UAAiB,CAElD,C,+CAEM,GAAMC,CAAAA,qBAAqB,CAAG,UAAiB,CAErD,CAFM,C,oDAIA,GAAMC,CAAAA,UAAU,CAAG,UAAiB,CAE1C,CAFM,C,8BAIA,GAAMC,CAAAA,UAAU,CAAG,UAAiB,CACzC;AACD,CAFM,C,8BAIA,GAAMC,CAAAA,WAAW,CAAG,UAAiB,CAC1C;AACD,CAFM,C,gCAIA,GAAMC,CAAAA,aAAa,CAAG,UAAiB,CAC5C;AACD,CAFM,C,oCAIA,GAAMC,CAAAA,WAAW,CAAG,UAAiB,CAC1C;AACD,CAFM,C,gCAIA,GAAMC,CAAAA,YAAY,CAAG,UAAiB,CAE5C,CAFM,C,kCAIA,GAAMC,CAAAA,cAAc,CAAG,UAAiB,CAC7C;AACD,CAFM,C,sCAIA,GAAMC,CAAAA,aAAa,CAAG,UAAiB,CAE7C,CAFM,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\blog","sourcesContent":["import db from '../../lib/db'\r\nimport { protoResponse } from '../../lib/proto'\r\nconst table = 'blog_'\r\n\r\nexport const getArticlesByTitle = (data, final) => {\r\n    \r\n}\r\n\r\nexport const getArticlesByCategory = (data, final) => {\r\n    \r\n}\r\n\r\nexport const getArticle = (data, final) => {\r\n    \r\n}\r\n\r\nexport const addArticle = (data, final) => {\r\n  // only users\r\n}\r\n\r\nexport const editArticle = (data, final) => {\r\n  // only user's own\r\n}\r\n\r\nexport const deleteArticle = (data, final) => {\r\n  // only user's own or admins/ editors\r\n}\r\n\r\nexport const addCategory = (data, final) => {\r\n  // only admins/ editors\r\n}\r\n\r\nexport const editCategory = (data, final) => {\r\n    \r\n}\r\n\r\nexport const removeCategory = (data, final) => {\r\n  // only admins/ editors\r\n}\r\n\r\nexport const getCategories = (data, final) => {\r\n    \r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a2e93e47160d1bdd5836aac0903f0f6ae341edb5","contentHash":"4720ed76b3ec59e5b779c52ac6f5cd38a401a2abb655d258caf5aaeb3322a1ef"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\upload\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\upload\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":94}},"1":{"start":{"line":1,"column":102},"end":{"line":1,"column":149}},"2":{"start":{"line":1,"column":160},"end":{"line":1,"column":189}},"3":{"start":{"line":1,"column":198},"end":{"line":1,"column":221}},"4":{"start":{"line":1,"column":236},"end":{"line":1,"column":269}},"5":{"start":{"line":1,"column":278},"end":{"line":1,"column":297}},"6":{"start":{"line":1,"column":333},"end":{"line":1,"column":369}},"7":{"start":{"line":1,"column":413},"end":{"line":1,"column":467}},"8":{"start":{"line":1,"column":423},"end":{"line":1,"column":430}},"9":{"start":{"line":1,"column":433},"end":{"line":1,"column":440}},"10":{"start":{"line":1,"column":450},"end":{"line":1,"column":466}},"11":{"start":{"line":1,"column":467},"end":{"line":1,"column":507}},"12":{"start":{"line":1,"column":538},"end":{"line":1,"column":750}},"13":{"start":{"line":1,"column":562},"end":{"line":1,"column":566}},"14":{"start":{"line":1,"column":569},"end":{"line":1,"column":578}},"15":{"start":{"line":1,"column":579},"end":{"line":1,"column":749}},"16":{"start":{"line":1,"column":626},"end":{"line":1,"column":664}},"17":{"start":{"line":1,"column":679},"end":{"line":1,"column":718}},"18":{"start":{"line":1,"column":725},"end":{"line":1,"column":737}},"19":{"start":{"line":1,"column":738},"end":{"line":1,"column":747}},"20":{"start":{"line":1,"column":770},"end":{"line":1,"column":809}},"21":{"start":{"line":1,"column":832},"end":{"line":1,"column":1795}},"22":{"start":{"line":1,"column":849},"end":{"line":1,"column":1742}},"23":{"start":{"line":1,"column":934},"end":{"line":1,"column":1739}},"24":{"start":{"line":1,"column":977},"end":{"line":1,"column":1735}},"25":{"start":{"line":1,"column":984},"end":{"line":1,"column":1735}},"26":{"start":{"line":1,"column":1013},"end":{"line":1,"column":1099}},"27":{"start":{"line":1,"column":1106},"end":{"line":1,"column":1129}},"28":{"start":{"line":1,"column":1113},"end":{"line":1,"column":1123}},"29":{"start":{"line":1,"column":1123},"end":{"line":1,"column":1128}},"30":{"start":{"line":1,"column":1129},"end":{"line":1,"column":1195}},"31":{"start":{"line":1,"column":1179},"end":{"line":1,"column":1189}},"32":{"start":{"line":1,"column":1189},"end":{"line":1,"column":1194}},"33":{"start":{"line":1,"column":1195},"end":{"line":1,"column":1336}},"34":{"start":{"line":1,"column":1279},"end":{"line":1,"column":1333}},"35":{"start":{"line":1,"column":1343},"end":{"line":1,"column":1496}},"36":{"start":{"line":1,"column":1472},"end":{"line":1,"column":1493}},"37":{"start":{"line":1,"column":1504},"end":{"line":1,"column":1552}},"38":{"start":{"line":1,"column":1552},"end":{"line":1,"column":1558}},"39":{"start":{"line":1,"column":1566},"end":{"line":1,"column":1617}},"40":{"start":{"line":1,"column":1625},"end":{"line":1,"column":1635}},"41":{"start":{"line":1,"column":1635},"end":{"line":1,"column":1641}},"42":{"start":{"line":1,"column":1649},"end":{"line":1,"column":1700}},"43":{"start":{"line":1,"column":1718},"end":{"line":1,"column":1734}},"44":{"start":{"line":1,"column":1743},"end":{"line":1,"column":1792}},"45":{"start":{"line":1,"column":1761},"end":{"line":1,"column":1791}},"46":{"start":{"line":1,"column":1796},"end":{"line":1,"column":1824}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":307},"end":{"line":1,"column":329}},"loc":{"start":{"line":1,"column":332},"end":{"line":1,"column":370}},"line":1},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":379},"end":{"line":1,"column":397}},"loc":{"start":{"line":1,"column":412},"end":{"line":1,"column":508}},"line":1},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":517},"end":{"line":1,"column":534}},"loc":{"start":{"line":1,"column":537},"end":{"line":1,"column":751}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":545},"end":{"line":1,"column":546}},"loc":{"start":{"line":1,"column":555},"end":{"line":1,"column":750}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":598},"end":{"line":1,"column":599}},"loc":{"start":{"line":1,"column":611},"end":{"line":1,"column":748}},"line":1},"5":{"name":"f","decl":{"start":{"line":1,"column":621},"end":{"line":1,"column":622}},"loc":{"start":{"line":1,"column":625},"end":{"line":1,"column":665}},"line":1},"6":{"name":"g","decl":{"start":{"line":1,"column":674},"end":{"line":1,"column":675}},"loc":{"start":{"line":1,"column":678},"end":{"line":1,"column":719}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":1,"column":832},"end":{"line":1,"column":833}},"loc":{"start":{"line":1,"column":842},"end":{"line":1,"column":1793}},"line":1},"8":{"name":"a","decl":{"start":{"line":1,"column":913},"end":{"line":1,"column":914}},"loc":{"start":{"line":1,"column":919},"end":{"line":1,"column":1740}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":965},"end":{"line":1,"column":966}},"loc":{"start":{"line":1,"column":976},"end":{"line":1,"column":1736}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":1268},"end":{"line":1,"column":1269}},"loc":{"start":{"line":1,"column":1278},"end":{"line":1,"column":1334}},"line":1},"11":{"name":"(anonymous_11)","decl":{"start":{"line":1,"column":1460},"end":{"line":1,"column":1461}},"loc":{"start":{"line":1,"column":1471},"end":{"line":1,"column":1494}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":1750},"end":{"line":1,"column":1751}},"loc":{"start":{"line":1,"column":1760},"end":{"line":1,"column":1792}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":340},"end":{"line":1,"column":369}},"type":"cond-expr","locations":[{"start":{"line":1,"column":356},"end":{"line":1,"column":357}},{"start":{"line":1,"column":358},"end":{"line":1,"column":369}}],"line":1},"1":{"loc":{"start":{"line":1,"column":340},"end":{"line":1,"column":355}},"type":"binary-expr","locations":[{"start":{"line":1,"column":340},"end":{"line":1,"column":341}},{"start":{"line":1,"column":343},"end":{"line":1,"column":355}}],"line":1},"2":{"loc":{"start":{"line":1,"column":467},"end":{"line":1,"column":507}},"type":"cond-expr","locations":[{"start":{"line":1,"column":474},"end":{"line":1,"column":478}},{"start":{"line":1,"column":479},"end":{"line":1,"column":507}}],"line":1},"3":{"loc":{"start":{"line":1,"column":984},"end":{"line":1,"column":1735}},"type":"switch","locations":[{"start":{"line":1,"column":1006},"end":{"line":1,"column":1099}},{"start":{"line":1,"column":1099},"end":{"line":1,"column":1336}},{"start":{"line":1,"column":1336},"end":{"line":1,"column":1496}},{"start":{"line":1,"column":1496},"end":{"line":1,"column":1558}},{"start":{"line":1,"column":1558},"end":{"line":1,"column":1617}},{"start":{"line":1,"column":1617},"end":{"line":1,"column":1641}},{"start":{"line":1,"column":1641},"end":{"line":1,"column":1700}},{"start":{"line":1,"column":1700},"end":{"line":1,"column":1708}},{"start":{"line":1,"column":1708},"end":{"line":1,"column":1734}}],"line":1},"4":{"loc":{"start":{"line":1,"column":1106},"end":{"line":1,"column":1129}},"type":"if","locations":[{"start":{"line":1,"column":1106},"end":{"line":1,"column":1129}},{"start":{"line":1,"column":1106},"end":{"line":1,"column":1129}}],"line":1},"5":{"loc":{"start":{"line":1,"column":1129},"end":{"line":1,"column":1195}},"type":"if","locations":[{"start":{"line":1,"column":1129},"end":{"line":1,"column":1195}},{"start":{"line":1,"column":1129},"end":{"line":1,"column":1195}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":1,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":1},"f":{"0":1,"1":0,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0,0,0,0,0,0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["accceptedTypes","data","final","valid","uploadSchema","isValid","body","file","includes","mimetype","ext","name","split","s","e","id","fileName","db","create","UPLOAD_TABLE","o","status"],"mappings":"kvBAKMA,CAAAA,cAAc,CAAG,CAAC,WAAD,CAAc,YAAd,CAA4B,YAA5B,C,+FAER,WAAOC,CAAP,CAAaC,CAAb,qGACPC,CAAAA,CADO,CACCC,qBAAaC,OAAb,CAAqBJ,CAAI,CAACK,IAA1B,CADD,UAEP,4BAAUL,CAAV,CAFO,YAGTE,CAHS,qBAILI,CAJK,CAIEN,CAAI,CAACK,IAJP,EAKPN,cAAc,CAACQ,QAAf,CAAwBD,CAAI,CAACE,QAA7B,CALO,wBAMHC,CAAAA,CANG,CAMGH,CAAI,CAACI,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CANH,UAOQ,kCAAiB,iBAAMV,CAAAA,CAAK,CAAC,CAAEW,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,aAAF,CAAb,CAAD,CAAX,CAAjB,CAPR,cAOHC,CAAAA,CAPG,QAQHC,CARG,WAQWD,CARX,aAQiBL,CARjB,YASHO,eAAGC,MAAH,CAAUC,oBAAV,CAAwBH,CAAxB,CAAkCT,CAAI,CAACN,IAAvC,WAAmD,SAACa,CAAD,QAAOZ,CAAAA,CAAK,CAAC,CAAEW,CAAC,CAAE,GAAL,CAAUC,CAAC,CAADA,CAAV,CAAD,CAAZ,CAAnD,CATG,SAUTZ,CAAK,CAAC,CAAEW,CAAC,CAAE,GAAL,CAAUO,CAAC,CAAE,CAAEC,MAAM,CAAE,IAAV,CAAgBL,QAAQ,CAARA,CAAhB,CAAb,CAAD,CAVI,yBAYTd,CAAK,CAAC,CAAEW,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,gBAAF,CAAb,CAAD,CAZI,iCAeXZ,CAAK,CAAC,CAAEW,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,gBAAF,CAAb,CAAD,CAfM,yC","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\upload","sourcesContent":["import db from '../../lib/db'\r\nimport { randomID } from '../../lib/security'\r\nimport { UPLOAD_TABLE } from '../../config'\r\nimport { t, setLocale } from '../../lib/translations'\r\nimport { uploadSchema } from './schema'\r\nconst accceptedTypes = ['image/png', 'image/jpeg', 'image/webp']\r\n\r\nexport default async (data, final) => {\r\n  const valid = uploadSchema.isValid(data.body)\r\n  await setLocale(data)\r\n  if (valid) {\r\n    const file = data.body\r\n    if (accceptedTypes.includes(file.mimetype)) {\r\n      const ext = file.name.split('.')[1]\r\n      const id = await randomID().catch(() => final(null, { s: 500, e: t('error.bytes') }))\r\n      const fileName = `${id}.${ext}`\r\n      await db.create(UPLOAD_TABLE, fileName, file.data).catch((e) => final(null, { s: 500, e }))\r\n      final(null, { s: 200, o: { status: 'ok', fileName } })\r\n    } else {\r\n      final(null, { s: 400, e: t('error.fileType') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"987824a61d6ff07fee384def290b65b31557b458","contentHash":"20eb50f015abd103c717f50981ffe913851b3ba31aff91d8c5aec08500fe7b92"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\upload\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\upload\\schema.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":96}},"1":{"start":{"line":1,"column":105},"end":{"line":1,"column":119}},"2":{"start":{"line":1,"column":128},"end":{"line":1,"column":151}},"3":{"start":{"line":1,"column":165},"end":{"line":1,"column":380}},"4":{"start":{"line":1,"column":381},"end":{"line":1,"column":415}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["uploadSchema","shape","name","required","min","mimetype","data","locale","oneOf","LANGUAGES"],"mappings":"wJAIaA,YAAY,CAAG,kBAASC,KAAT,CAAe,CACzCC,IAAI,CAAE,kBAASC,QAAT,GAAoBC,GAApB,CAAwB,CAAxB,CADmC,CAEzCC,QAAQ,CAAE,kBAASF,QAAT,GAAoBC,GAApB,CAAwB,CAAxB,CAF+B,CAGzCE,IAAI,CAAE,kBAASH,QAAT,GAAoBC,GAApB,CAAwB,EAAxB,CAHmC,CAIzCG,MAAM,CAAE,kBAASJ,QAAT,GAAoBK,KAApB,CAA0BC,iBAA1B,CAJiC,CAAf,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\upload","sourcesContent":["import { object, string } from 'yup'\r\n\r\nimport { LANGUAGES } from '../../config'\r\n\r\nexport const uploadSchema = object().shape({\r\n  name: string().required().min(5),\r\n  mimetype: string().required().min(5),\r\n  data: string().required().min(10),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7eeadcc2763f069fb2f1fafbf1983f44f94a6f8e","contentHash":"8adb939015b002297e1130da7f69fb81ca4fad6485aea111790341b90898edec"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\contact-us\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\contact-us\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":94}},"1":{"start":{"line":1,"column":105},"end":{"line":1,"column":131}},"2":{"start":{"line":1,"column":146},"end":{"line":1,"column":179}},"3":{"start":{"line":1,"column":187},"end":{"line":1,"column":213}},"4":{"start":{"line":1,"column":222},"end":{"line":1,"column":241}},"5":{"start":{"line":1,"column":285},"end":{"line":1,"column":339}},"6":{"start":{"line":1,"column":295},"end":{"line":1,"column":302}},"7":{"start":{"line":1,"column":305},"end":{"line":1,"column":312}},"8":{"start":{"line":1,"column":322},"end":{"line":1,"column":338}},"9":{"start":{"line":1,"column":339},"end":{"line":1,"column":379}},"10":{"start":{"line":1,"column":410},"end":{"line":1,"column":622}},"11":{"start":{"line":1,"column":434},"end":{"line":1,"column":438}},"12":{"start":{"line":1,"column":441},"end":{"line":1,"column":450}},"13":{"start":{"line":1,"column":451},"end":{"line":1,"column":621}},"14":{"start":{"line":1,"column":498},"end":{"line":1,"column":536}},"15":{"start":{"line":1,"column":551},"end":{"line":1,"column":590}},"16":{"start":{"line":1,"column":597},"end":{"line":1,"column":609}},"17":{"start":{"line":1,"column":610},"end":{"line":1,"column":619}},"18":{"start":{"line":1,"column":649},"end":{"line":1,"column":1610}},"19":{"start":{"line":1,"column":666},"end":{"line":1,"column":1557}},"20":{"start":{"line":1,"column":751},"end":{"line":1,"column":1554}},"21":{"start":{"line":1,"column":794},"end":{"line":1,"column":1550}},"22":{"start":{"line":1,"column":801},"end":{"line":1,"column":1550}},"23":{"start":{"line":1,"column":830},"end":{"line":1,"column":886}},"24":{"start":{"line":1,"column":893},"end":{"line":1,"column":925}},"25":{"start":{"line":1,"column":909},"end":{"line":1,"column":919}},"26":{"start":{"line":1,"column":919},"end":{"line":1,"column":924}},"27":{"start":{"line":1,"column":925},"end":{"line":1,"column":969}},"28":{"start":{"line":1,"column":954},"end":{"line":1,"column":963}},"29":{"start":{"line":1,"column":963},"end":{"line":1,"column":968}},"30":{"start":{"line":1,"column":969},"end":{"line":1,"column":1016}},"31":{"start":{"line":1,"column":1023},"end":{"line":1,"column":1161}},"32":{"start":{"line":1,"column":1096},"end":{"line":1,"column":1158}},"33":{"start":{"line":1,"column":1169},"end":{"line":1,"column":1201}},"34":{"start":{"line":1,"column":1185},"end":{"line":1,"column":1195}},"35":{"start":{"line":1,"column":1195},"end":{"line":1,"column":1200}},"36":{"start":{"line":1,"column":1201},"end":{"line":1,"column":1305}},"37":{"start":{"line":1,"column":1313},"end":{"line":1,"column":1362}},"38":{"start":{"line":1,"column":1362},"end":{"line":1,"column":1368}},"39":{"start":{"line":1,"column":1376},"end":{"line":1,"column":1432}},"40":{"start":{"line":1,"column":1440},"end":{"line":1,"column":1450}},"41":{"start":{"line":1,"column":1450},"end":{"line":1,"column":1456}},"42":{"start":{"line":1,"column":1464},"end":{"line":1,"column":1515}},"43":{"start":{"line":1,"column":1533},"end":{"line":1,"column":1549}},"44":{"start":{"line":1,"column":1558},"end":{"line":1,"column":1607}},"45":{"start":{"line":1,"column":1576},"end":{"line":1,"column":1606}},"46":{"start":{"line":1,"column":1611},"end":{"line":1,"column":1639}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":251},"end":{"line":1,"column":269}},"loc":{"start":{"line":1,"column":284},"end":{"line":1,"column":380}},"line":1},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":389},"end":{"line":1,"column":406}},"loc":{"start":{"line":1,"column":409},"end":{"line":1,"column":623}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":417},"end":{"line":1,"column":418}},"loc":{"start":{"line":1,"column":427},"end":{"line":1,"column":622}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":470},"end":{"line":1,"column":471}},"loc":{"start":{"line":1,"column":483},"end":{"line":1,"column":620}},"line":1},"4":{"name":"f","decl":{"start":{"line":1,"column":493},"end":{"line":1,"column":494}},"loc":{"start":{"line":1,"column":497},"end":{"line":1,"column":537}},"line":1},"5":{"name":"g","decl":{"start":{"line":1,"column":546},"end":{"line":1,"column":547}},"loc":{"start":{"line":1,"column":550},"end":{"line":1,"column":591}},"line":1},"6":{"name":"(anonymous_6)","decl":{"start":{"line":1,"column":649},"end":{"line":1,"column":650}},"loc":{"start":{"line":1,"column":659},"end":{"line":1,"column":1608}},"line":1},"7":{"name":"a","decl":{"start":{"line":1,"column":730},"end":{"line":1,"column":731}},"loc":{"start":{"line":1,"column":736},"end":{"line":1,"column":1555}},"line":1},"8":{"name":"(anonymous_8)","decl":{"start":{"line":1,"column":782},"end":{"line":1,"column":783}},"loc":{"start":{"line":1,"column":793},"end":{"line":1,"column":1551}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":1085},"end":{"line":1,"column":1086}},"loc":{"start":{"line":1,"column":1095},"end":{"line":1,"column":1159}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":1565},"end":{"line":1,"column":1566}},"loc":{"start":{"line":1,"column":1575},"end":{"line":1,"column":1607}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":339},"end":{"line":1,"column":379}},"type":"cond-expr","locations":[{"start":{"line":1,"column":346},"end":{"line":1,"column":350}},{"start":{"line":1,"column":351},"end":{"line":1,"column":379}}],"line":1},"1":{"loc":{"start":{"line":1,"column":801},"end":{"line":1,"column":1550}},"type":"switch","locations":[{"start":{"line":1,"column":823},"end":{"line":1,"column":886}},{"start":{"line":1,"column":886},"end":{"line":1,"column":1016}},{"start":{"line":1,"column":1016},"end":{"line":1,"column":1161}},{"start":{"line":1,"column":1161},"end":{"line":1,"column":1305}},{"start":{"line":1,"column":1305},"end":{"line":1,"column":1368}},{"start":{"line":1,"column":1368},"end":{"line":1,"column":1432}},{"start":{"line":1,"column":1432},"end":{"line":1,"column":1456}},{"start":{"line":1,"column":1456},"end":{"line":1,"column":1515}},{"start":{"line":1,"column":1515},"end":{"line":1,"column":1523}},{"start":{"line":1,"column":1523},"end":{"line":1,"column":1549}}],"line":1},"2":{"loc":{"start":{"line":1,"column":893},"end":{"line":1,"column":925}},"type":"if","locations":[{"start":{"line":1,"column":893},"end":{"line":1,"column":925}},{"start":{"line":1,"column":893},"end":{"line":1,"column":925}}],"line":1},"3":{"loc":{"start":{"line":1,"column":925},"end":{"line":1,"column":969}},"type":"if","locations":[{"start":{"line":1,"column":925},"end":{"line":1,"column":969}},{"start":{"line":1,"column":925},"end":{"line":1,"column":969}}],"line":1},"4":{"loc":{"start":{"line":1,"column":1169},"end":{"line":1,"column":1201}},"type":"if","locations":[{"start":{"line":1,"column":1169},"end":{"line":1,"column":1201}},{"start":{"line":1,"column":1169},"end":{"line":1,"column":1201}}],"line":1},"5":{"loc":{"start":{"line":1,"column":1322},"end":{"line":1,"column":1351}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1322},"end":{"line":1,"column":1323}},{"start":{"line":1,"column":1325},"end":{"line":1,"column":1351}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":1},"f":{"0":0,"1":1,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0},"b":{"0":[0,0],"1":[0,0,0,0,0,0,0,0,0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["data","final","contactUsSchema","isValid","body","valid","locale","email","s","e","subject","name","msg","o","status"],"mappings":"itBAKe,WAAOA,CAAP,CAAaC,CAAb,+GACOC,wBAAgBC,OAAhB,CAAwBH,CAAI,CAACI,IAA7B,CADP,WACPC,CADO,SAGTA,CAHS,qBAILC,CAJK,CAIIN,CAAI,CAACI,IAAL,CAAUE,MAJd,CAKI,IAAX,GAAAA,CALO,iCAMH,4BAAUA,CAAV,CANG,yBASS,sBAAWN,CAAI,CAACI,IAAL,CAAUG,KAArB,WAAkC,iBAAMN,CAAAA,CAAK,CAAC,CAAEO,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,qBAAF,CAAb,CAAD,CAAX,CAAlC,CATT,YASLJ,CATK,SAUPA,CAVO,wBAWHK,CAAAA,CAXG,yBAWwBV,CAAI,CAACI,IAAL,CAAUO,IAXlC,YAYO,qBAAUX,CAAI,CAACI,IAAL,CAAUG,KAApB,CAA2BG,CAA3B,CAAoCV,CAAI,CAACI,IAAL,CAAUQ,GAA9C,CAZP,SAYHH,CAZG,QAaJA,CAbI,EAcPR,CAAK,CAAC,CAAEO,CAAC,CAAE,GAAL,CAAUK,CAAC,CAAE,CAAEC,MAAM,CAAE,IAAV,CAAb,CAAD,CAdE,yBAiBTb,CAAK,CAAC,CAAEO,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,qBAAF,CAAb,CAAD,CAjBI,iCAoBXR,CAAK,CAAC,CAAEO,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,gBAAF,CAAb,CAAD,CApBM,yC","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\contact-us","sourcesContent":["import { sendEmail } from '../../lib/email'\r\nimport { t, setLocale } from '../../lib/translations'\r\nimport { validEmail } from '../../lib/utils'\r\nimport { contactUsSchema } from './schema'\r\n\r\nexport default async (data, final) => {\r\n  const valid = await contactUsSchema.isValid(data.body)\r\n\r\n  if (valid) {\r\n    const locale = data.body.locale\r\n    if (locale !== 'en') {\r\n      await setLocale(locale)\r\n    }\r\n\r\n    const valid = await validEmail(data.body.email).catch(() => final(null, { s: 400, e: t('error.invalid_email') }))\r\n    if (valid) {\r\n      const subject = `Message from: ${data.body.name}`\r\n      const e = await sendEmail(data.body.email, subject, data.body.msg)\r\n      if (!e) {\r\n        final(null, { s: 200, o: { status: 'ok' } })\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.invalid_email') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"63976bc5d4ee64b26a16454b3355607055895b48","contentHash":"e3706077663df82da0b62d7f009737751cb0aa8fb07472de82aee864abdb8cf1"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\contact-us\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\contact-us\\schema.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":99}},"1":{"start":{"line":1,"column":108},"end":{"line":1,"column":122}},"2":{"start":{"line":1,"column":131},"end":{"line":1,"column":154}},"3":{"start":{"line":1,"column":171},"end":{"line":1,"column":383}},"4":{"start":{"line":1,"column":384},"end":{"line":1,"column":424}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["contactUsSchema","shape","email","required","name","min","msg","locale","oneOf","LANGUAGES"],"mappings":"2JAIaA,eAAe,CAAG,kBAASC,KAAT,CAAe,CAC5CC,KAAK,CAAE,kBAASC,QAAT,GAAoBD,KAApB,EADqC,CAE5CE,IAAI,CAAE,kBAASD,QAAT,GAAoBE,GAApB,CAAwB,CAAxB,CAFsC,CAG5CC,GAAG,CAAE,kBAASH,QAAT,GAAoBE,GAApB,CAAwB,EAAxB,CAHuC,CAI5CE,MAAM,CAAE,kBAASJ,QAAT,GAAoBK,KAApB,CAA0BC,iBAA1B,CAJoC,CAAf,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\contact-us","sourcesContent":["import { object, string } from 'yup'\r\n\r\nimport { LANGUAGES } from '../../config'\r\n\r\nexport const contactUsSchema = object().shape({\r\n  email: string().required().email(),\r\n  name: string().required().min(5),\r\n  msg: string().required().min(10),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4e5b5405518e626faf30535065a86cf0c788e4d6","contentHash":"4e38614da7d5f9d9f317871786ff993ee5996f248738f91099015774e43207d8"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\generics\\notFound.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\generics\\notFound.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":94}},"1":{"start":{"line":1,"column":105},"end":{"line":1,"column":131}},"2":{"start":{"line":1,"column":146},"end":{"line":1,"column":179}},"3":{"start":{"line":1,"column":223},"end":{"line":1,"column":277}},"4":{"start":{"line":1,"column":233},"end":{"line":1,"column":240}},"5":{"start":{"line":1,"column":243},"end":{"line":1,"column":250}},"6":{"start":{"line":1,"column":260},"end":{"line":1,"column":276}},"7":{"start":{"line":1,"column":277},"end":{"line":1,"column":317}},"8":{"start":{"line":1,"column":348},"end":{"line":1,"column":560}},"9":{"start":{"line":1,"column":372},"end":{"line":1,"column":376}},"10":{"start":{"line":1,"column":379},"end":{"line":1,"column":388}},"11":{"start":{"line":1,"column":389},"end":{"line":1,"column":559}},"12":{"start":{"line":1,"column":436},"end":{"line":1,"column":474}},"13":{"start":{"line":1,"column":489},"end":{"line":1,"column":528}},"14":{"start":{"line":1,"column":535},"end":{"line":1,"column":547}},"15":{"start":{"line":1,"column":548},"end":{"line":1,"column":557}},"16":{"start":{"line":1,"column":587},"end":{"line":1,"column":900}},"17":{"start":{"line":1,"column":604},"end":{"line":1,"column":847}},"18":{"start":{"line":1,"column":675},"end":{"line":1,"column":844}},"19":{"start":{"line":1,"column":718},"end":{"line":1,"column":840}},"20":{"start":{"line":1,"column":725},"end":{"line":1,"column":840}},"21":{"start":{"line":1,"column":754},"end":{"line":1,"column":806}},"22":{"start":{"line":1,"column":823},"end":{"line":1,"column":839}},"23":{"start":{"line":1,"column":848},"end":{"line":1,"column":897}},"24":{"start":{"line":1,"column":866},"end":{"line":1,"column":896}},"25":{"start":{"line":1,"column":901},"end":{"line":1,"column":929}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":189},"end":{"line":1,"column":207}},"loc":{"start":{"line":1,"column":222},"end":{"line":1,"column":318}},"line":1},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":327},"end":{"line":1,"column":344}},"loc":{"start":{"line":1,"column":347},"end":{"line":1,"column":561}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":355},"end":{"line":1,"column":356}},"loc":{"start":{"line":1,"column":365},"end":{"line":1,"column":560}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":408},"end":{"line":1,"column":409}},"loc":{"start":{"line":1,"column":421},"end":{"line":1,"column":558}},"line":1},"4":{"name":"f","decl":{"start":{"line":1,"column":431},"end":{"line":1,"column":432}},"loc":{"start":{"line":1,"column":435},"end":{"line":1,"column":475}},"line":1},"5":{"name":"g","decl":{"start":{"line":1,"column":484},"end":{"line":1,"column":485}},"loc":{"start":{"line":1,"column":488},"end":{"line":1,"column":529}},"line":1},"6":{"name":"(anonymous_6)","decl":{"start":{"line":1,"column":587},"end":{"line":1,"column":588}},"loc":{"start":{"line":1,"column":597},"end":{"line":1,"column":898}},"line":1},"7":{"name":"a","decl":{"start":{"line":1,"column":668},"end":{"line":1,"column":669}},"loc":{"start":{"line":1,"column":674},"end":{"line":1,"column":845}},"line":1},"8":{"name":"(anonymous_8)","decl":{"start":{"line":1,"column":706},"end":{"line":1,"column":707}},"loc":{"start":{"line":1,"column":717},"end":{"line":1,"column":841}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":855},"end":{"line":1,"column":856}},"loc":{"start":{"line":1,"column":865},"end":{"line":1,"column":897}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":277},"end":{"line":1,"column":317}},"type":"cond-expr","locations":[{"start":{"line":1,"column":284},"end":{"line":1,"column":288}},{"start":{"line":1,"column":289},"end":{"line":1,"column":317}}],"line":1},"1":{"loc":{"start":{"line":1,"column":725},"end":{"line":1,"column":840}},"type":"switch","locations":[{"start":{"line":1,"column":747},"end":{"line":1,"column":806}},{"start":{"line":1,"column":806},"end":{"line":1,"column":813}},{"start":{"line":1,"column":813},"end":{"line":1,"column":839}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":1},"f":{"0":0,"1":1,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0},"b":{"0":[0,0],"1":[0,0,0]},"inputSourceMap":{"version":3,"sources":["notFound.js"],"names":["data","final","s","e"],"mappings":"mpBAGe,WAAOA,CAAP,CAAaC,CAAb,iFACbA,CAAK,CAAC,CAAEC,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,iBAAF,CAAb,CAAD,CADQ,wC","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\generics","sourcesContent":["import { sendErr } from '../../lib/utils'\r\nimport { t } from '../../lib/translations'\r\n\r\nexport default async (data, final) => {\r\n  final(null, { s: 400, e: t('error.not_found') })\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8626db94e0cd3e72182d3192212b236c51ec152e","contentHash":"7b7ad7302b052602c973604bd729790965eee06de3efa036ca86933b91e7c464"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\module\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\module\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":106}},"1":{"start":{"line":1,"column":114},"end":{"line":1,"column":161}},"2":{"start":{"line":1,"column":170},"end":{"line":1,"column":189}},"3":{"start":{"line":1,"column":204},"end":{"line":1,"column":237}},"4":{"start":{"line":1,"column":248},"end":{"line":1,"column":277}},"5":{"start":{"line":1,"column":286},"end":{"line":1,"column":309}},"6":{"start":{"line":1,"column":345},"end":{"line":1,"column":381}},"7":{"start":{"line":1,"column":425},"end":{"line":1,"column":479}},"8":{"start":{"line":1,"column":435},"end":{"line":1,"column":442}},"9":{"start":{"line":1,"column":445},"end":{"line":1,"column":452}},"10":{"start":{"line":1,"column":462},"end":{"line":1,"column":478}},"11":{"start":{"line":1,"column":479},"end":{"line":1,"column":519}},"12":{"start":{"line":1,"column":550},"end":{"line":1,"column":762}},"13":{"start":{"line":1,"column":574},"end":{"line":1,"column":578}},"14":{"start":{"line":1,"column":581},"end":{"line":1,"column":590}},"15":{"start":{"line":1,"column":591},"end":{"line":1,"column":761}},"16":{"start":{"line":1,"column":638},"end":{"line":1,"column":676}},"17":{"start":{"line":1,"column":691},"end":{"line":1,"column":730}},"18":{"start":{"line":1,"column":737},"end":{"line":1,"column":749}},"19":{"start":{"line":1,"column":750},"end":{"line":1,"column":759}},"20":{"start":{"line":1,"column":787},"end":{"line":1,"column":1916}},"21":{"start":{"line":1,"column":804},"end":{"line":1,"column":1863}},"22":{"start":{"line":1,"column":885},"end":{"line":1,"column":1860}},"23":{"start":{"line":1,"column":928},"end":{"line":1,"column":1856}},"24":{"start":{"line":1,"column":935},"end":{"line":1,"column":1856}},"25":{"start":{"line":1,"column":964},"end":{"line":1,"column":1016}},"26":{"start":{"line":1,"column":1023},"end":{"line":1,"column":1055}},"27":{"start":{"line":1,"column":1039},"end":{"line":1,"column":1049}},"28":{"start":{"line":1,"column":1049},"end":{"line":1,"column":1054}},"29":{"start":{"line":1,"column":1055},"end":{"line":1,"column":1102}},"30":{"start":{"line":1,"column":1109},"end":{"line":1,"column":1231}},"31":{"start":{"line":1,"column":1167},"end":{"line":1,"column":1228}},"32":{"start":{"line":1,"column":1238},"end":{"line":1,"column":1293}},"33":{"start":{"line":1,"column":1277},"end":{"line":1,"column":1287}},"34":{"start":{"line":1,"column":1287},"end":{"line":1,"column":1292}},"35":{"start":{"line":1,"column":1293},"end":{"line":1,"column":1358}},"36":{"start":{"line":1,"column":1358},"end":{"line":1,"column":1364}},"37":{"start":{"line":1,"column":1372},"end":{"line":1,"column":1510}},"38":{"start":{"line":1,"column":1447},"end":{"line":1,"column":1507}},"39":{"start":{"line":1,"column":1518},"end":{"line":1,"column":1698}},"40":{"start":{"line":1,"column":1633},"end":{"line":1,"column":1695}},"41":{"start":{"line":1,"column":1706},"end":{"line":1,"column":1738}},"42":{"start":{"line":1,"column":1746},"end":{"line":1,"column":1756}},"43":{"start":{"line":1,"column":1756},"end":{"line":1,"column":1762}},"44":{"start":{"line":1,"column":1770},"end":{"line":1,"column":1821}},"45":{"start":{"line":1,"column":1839},"end":{"line":1,"column":1855}},"46":{"start":{"line":1,"column":1864},"end":{"line":1,"column":1913}},"47":{"start":{"line":1,"column":1882},"end":{"line":1,"column":1912}},"48":{"start":{"line":1,"column":1917},"end":{"line":1,"column":1939}},"49":{"start":{"line":1,"column":1964},"end":{"line":1,"column":2355}},"50":{"start":{"line":1,"column":1981},"end":{"line":1,"column":2302}},"51":{"start":{"line":1,"column":2058},"end":{"line":1,"column":2299}},"52":{"start":{"line":1,"column":2101},"end":{"line":1,"column":2295}},"53":{"start":{"line":1,"column":2108},"end":{"line":1,"column":2295}},"54":{"start":{"line":1,"column":2137},"end":{"line":1,"column":2191}},"55":{"start":{"line":1,"column":2198},"end":{"line":1,"column":2261}},"56":{"start":{"line":1,"column":2278},"end":{"line":1,"column":2294}},"57":{"start":{"line":1,"column":2303},"end":{"line":1,"column":2352}},"58":{"start":{"line":1,"column":2321},"end":{"line":1,"column":2351}},"59":{"start":{"line":1,"column":2356},"end":{"line":1,"column":2380}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":319},"end":{"line":1,"column":341}},"loc":{"start":{"line":1,"column":344},"end":{"line":1,"column":382}},"line":1},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":391},"end":{"line":1,"column":409}},"loc":{"start":{"line":1,"column":424},"end":{"line":1,"column":520}},"line":1},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":529},"end":{"line":1,"column":546}},"loc":{"start":{"line":1,"column":549},"end":{"line":1,"column":763}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":557},"end":{"line":1,"column":558}},"loc":{"start":{"line":1,"column":567},"end":{"line":1,"column":762}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":610},"end":{"line":1,"column":611}},"loc":{"start":{"line":1,"column":623},"end":{"line":1,"column":760}},"line":1},"5":{"name":"f","decl":{"start":{"line":1,"column":633},"end":{"line":1,"column":634}},"loc":{"start":{"line":1,"column":637},"end":{"line":1,"column":677}},"line":1},"6":{"name":"g","decl":{"start":{"line":1,"column":686},"end":{"line":1,"column":687}},"loc":{"start":{"line":1,"column":690},"end":{"line":1,"column":731}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":1,"column":787},"end":{"line":1,"column":788}},"loc":{"start":{"line":1,"column":797},"end":{"line":1,"column":1914}},"line":1},"8":{"name":"a","decl":{"start":{"line":1,"column":868},"end":{"line":1,"column":869}},"loc":{"start":{"line":1,"column":874},"end":{"line":1,"column":1861}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":916},"end":{"line":1,"column":917}},"loc":{"start":{"line":1,"column":927},"end":{"line":1,"column":1857}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":1156},"end":{"line":1,"column":1157}},"loc":{"start":{"line":1,"column":1166},"end":{"line":1,"column":1229}},"line":1},"11":{"name":"(anonymous_11)","decl":{"start":{"line":1,"column":1436},"end":{"line":1,"column":1437}},"loc":{"start":{"line":1,"column":1446},"end":{"line":1,"column":1508}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":1622},"end":{"line":1,"column":1623}},"loc":{"start":{"line":1,"column":1632},"end":{"line":1,"column":1696}},"line":1},"13":{"name":"(anonymous_13)","decl":{"start":{"line":1,"column":1871},"end":{"line":1,"column":1872}},"loc":{"start":{"line":1,"column":1881},"end":{"line":1,"column":1913}},"line":1},"14":{"name":"(anonymous_14)","decl":{"start":{"line":1,"column":1964},"end":{"line":1,"column":1965}},"loc":{"start":{"line":1,"column":1974},"end":{"line":1,"column":2353}},"line":1},"15":{"name":"a","decl":{"start":{"line":1,"column":2045},"end":{"line":1,"column":2046}},"loc":{"start":{"line":1,"column":2051},"end":{"line":1,"column":2300}},"line":1},"16":{"name":"(anonymous_16)","decl":{"start":{"line":1,"column":2089},"end":{"line":1,"column":2090}},"loc":{"start":{"line":1,"column":2100},"end":{"line":1,"column":2296}},"line":1},"17":{"name":"(anonymous_17)","decl":{"start":{"line":1,"column":2310},"end":{"line":1,"column":2311}},"loc":{"start":{"line":1,"column":2320},"end":{"line":1,"column":2352}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":352},"end":{"line":1,"column":381}},"type":"cond-expr","locations":[{"start":{"line":1,"column":368},"end":{"line":1,"column":369}},{"start":{"line":1,"column":370},"end":{"line":1,"column":381}}],"line":1},"1":{"loc":{"start":{"line":1,"column":352},"end":{"line":1,"column":367}},"type":"binary-expr","locations":[{"start":{"line":1,"column":352},"end":{"line":1,"column":353}},{"start":{"line":1,"column":355},"end":{"line":1,"column":367}}],"line":1},"2":{"loc":{"start":{"line":1,"column":479},"end":{"line":1,"column":519}},"type":"cond-expr","locations":[{"start":{"line":1,"column":486},"end":{"line":1,"column":490}},{"start":{"line":1,"column":491},"end":{"line":1,"column":519}}],"line":1},"3":{"loc":{"start":{"line":1,"column":935},"end":{"line":1,"column":1856}},"type":"switch","locations":[{"start":{"line":1,"column":957},"end":{"line":1,"column":1016}},{"start":{"line":1,"column":1016},"end":{"line":1,"column":1102}},{"start":{"line":1,"column":1102},"end":{"line":1,"column":1231}},{"start":{"line":1,"column":1231},"end":{"line":1,"column":1364}},{"start":{"line":1,"column":1364},"end":{"line":1,"column":1510}},{"start":{"line":1,"column":1510},"end":{"line":1,"column":1698}},{"start":{"line":1,"column":1698},"end":{"line":1,"column":1738}},{"start":{"line":1,"column":1738},"end":{"line":1,"column":1762}},{"start":{"line":1,"column":1762},"end":{"line":1,"column":1821}},{"start":{"line":1,"column":1821},"end":{"line":1,"column":1829}},{"start":{"line":1,"column":1829},"end":{"line":1,"column":1855}}],"line":1},"4":{"loc":{"start":{"line":1,"column":1023},"end":{"line":1,"column":1055}},"type":"if","locations":[{"start":{"line":1,"column":1023},"end":{"line":1,"column":1055}},{"start":{"line":1,"column":1023},"end":{"line":1,"column":1055}}],"line":1},"5":{"loc":{"start":{"line":1,"column":1238},"end":{"line":1,"column":1293}},"type":"if","locations":[{"start":{"line":1,"column":1238},"end":{"line":1,"column":1293}},{"start":{"line":1,"column":1238},"end":{"line":1,"column":1293}}],"line":1},"6":{"loc":{"start":{"line":1,"column":2108},"end":{"line":1,"column":2295}},"type":"switch","locations":[{"start":{"line":1,"column":2130},"end":{"line":1,"column":2191}},{"start":{"line":1,"column":2191},"end":{"line":1,"column":2261}},{"start":{"line":1,"column":2261},"end":{"line":1,"column":2268}},{"start":{"line":1,"column":2268},"end":{"line":1,"column":2294}}],"line":1},"7":{"loc":{"start":{"line":1,"column":2207},"end":{"line":1,"column":2260}},"type":"binary-expr","locations":[{"start":{"line":1,"column":2207},"end":{"line":1,"column":2208}},{"start":{"line":1,"column":2210},"end":{"line":1,"column":2260}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":2,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":0,"48":1,"49":1,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":1},"f":{"0":1,"1":0,"2":2,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0,0,0,0,0,0,0,0,0],"4":[0,0],"5":[0,0],"6":[0,0,0,0],"7":[0,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["create","data","final","moduleCrete","isValid","body","valid","s","e","tokenData","role","ROLES","db","read","schema","modules","field","update","o","status","migrate","moduleMigrate"],"mappings":"2vBAMO,GAAMA,CAAAA,MAAM,sFAAG,WAAOC,CAAP,CAAaC,CAAb,2GACAC,oBAAYC,OAAZ,CAAoBH,CAAI,CAACI,IAAzB,CADA,WACdC,CADc,SAEhBA,CAFgB,kCAGZ,4BAAUL,CAAV,CAHY,wBAIM,mBAAKA,CAAL,WAAiB,iBAAMC,CAAAA,CAAK,CAAC,CAAEK,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,oBAAF,CAAb,CAAD,CAAX,CAAjB,CAJN,WAIZC,CAJY,QAKdA,CAAS,CAACC,IAAV,GAAmBC,cAAM,CAAN,CALL,kBAMhBT,CAAK,CAAC,CAAEK,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,oBAAF,CAAb,CAAD,CANW,0CAQKI,eAAGC,IAAH,CAAQ,SAAR,CAAmB,MAAnB,WAAiC,iBAAMX,CAAAA,CAAK,CAAC,CAAEK,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,mBAAF,CAAb,CAAD,CAAX,CAAjC,CARL,eAQVM,CAAAA,CARU,QAShBA,CAAM,CAACC,OAAP,CAAed,CAAI,CAACI,IAAL,CAAUW,KAAzB,EAAkC,EATlB,WAUVJ,eAAGK,MAAH,CAAU,SAAV,CAAqB,MAArB,CAA6BH,CAA7B,WAA2C,iBAAMZ,CAAAA,CAAK,CAAC,CAAEK,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,qBAAF,CAAb,CAAD,CAAX,CAA3C,CAVU,SAWhBN,CAAK,CAAC,IAAD,CAAO,CAAEK,CAAC,CAAE,GAAL,CAAUW,CAAC,CAAE,CAAEC,MAAM,CAAE,IAAV,CAAb,CAAP,CAXW,iCAclBjB,CAAK,CAAC,CAAEK,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,gBAAF,CAAb,CAAD,CAda,yCAAH,uDAAZ,C,sBAkBA,GAAMY,CAAAA,OAAO,sFAAG,WAAOnB,CAAP,CAAaC,CAAb,uGACDmB,sBAAcjB,OAAd,CAAsBH,CAAI,CAACI,IAA3B,CADC,QACfC,CADe,QAGjBA,CAHiB,EAKnBJ,CAAK,CAAC,CAAEK,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,gBAAF,CAAb,CAAD,CALc,wCAAH,uDAAb,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\module","sourcesContent":["import db from '../../lib/db'\r\nimport { moduleCrete, moduleMigrate } from './schema'\r\nimport { t, setLocale } from '../../lib/translations'\r\nimport { auth } from '../../lib/security'\r\nimport { ROLES } from '../../config'\r\n\r\nexport const create = async (data, final) => {\r\n  const valid = await moduleCrete.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const tokenData = await auth(data).catch(() => final(null, { s: 403, e: t('error.unauthorized') }))\r\n    if (tokenData.role !== ROLES[1]) {\r\n      final(null, { s: 403, e: t('error.unauthorized') })\r\n    } else {\r\n      const schema = await db.read('schemas', 'user').catch(() => final(null, { s: 400, e: t('error.cannot_read') }))\r\n      schema.modules[data.body.field] = []\r\n      await db.update('schemas', 'user', schema).catch(() => final(null, { s: 500, e: t('error.cannot_update') }))\r\n      final(null, { s: 200, o: { status: 'ok' } })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nexport const migrate = async (data, final) => {\r\n  const valid = await moduleMigrate.isValid(data.body)\r\n  // for each existing user - update its schema\r\n  if (valid) {\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"aab6367463aa60bd23cd592a4282c1908a2cd478","contentHash":"55d90d8cf69eee3d1a0733ff7aac062f6521310352b191ed72558fe3d8d11465"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\module\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\module\\schema.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":117}},"1":{"start":{"line":1,"column":126},"end":{"line":1,"column":140}},"2":{"start":{"line":1,"column":149},"end":{"line":1,"column":172}},"3":{"start":{"line":1,"column":185},"end":{"line":1,"column":314}},"4":{"start":{"line":1,"column":315},"end":{"line":1,"column":347}},"5":{"start":{"line":1,"column":365},"end":{"line":1,"column":494}},"6":{"start":{"line":1,"column":495},"end":{"line":1,"column":531}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["moduleCrete","shape","field","required","min","locale","oneOf","LANGUAGES","moduleMigrate"],"mappings":"6KAIaA,WAAW,CAAG,kBAASC,KAAT,CAAe,CACxCC,KAAK,CAAE,kBAASC,QAAT,GAAoBC,GAApB,CAAwB,CAAxB,CADiC,CAExCC,MAAM,CAAE,kBAASF,QAAT,GAAoBG,KAApB,CAA0BC,iBAA1B,CAFgC,CAAf,C,iCAKpB,GAAMC,CAAAA,aAAa,CAAG,kBAASP,KAAT,CAAe,CAC1CC,KAAK,CAAE,kBAASC,QAAT,GAAoBC,GAApB,CAAwB,CAAxB,CADmC,CAE1CC,MAAM,CAAE,kBAASF,QAAT,GAAoBG,KAApB,CAA0BC,iBAA1B,CAFkC,CAAf,CAAtB,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\module","sourcesContent":["import { object, string } from 'yup'\r\n\r\nimport { LANGUAGES } from '../../config'\r\n\r\nexport const moduleCrete = object().shape({\r\n  field: string().required().min(5),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const moduleMigrate = object().shape({\r\n  field: string().required().min(5),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8a1a6707f47a8700e8fbfdce751e0483a3f4462c","contentHash":"46a3e8fdb37ebbf4e83f9944c0c320003e197b2fedaa6ed5d7b15629ef7bd65d"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\notifications\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\notifications\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":110}},"1":{"start":{"line":1,"column":129},"end":{"line":1,"column":163}},"2":{"start":{"line":1,"column":172},"end":{"line":1,"column":191}},"3":{"start":{"line":1,"column":206},"end":{"line":1,"column":239}},"4":{"start":{"line":1,"column":283},"end":{"line":1,"column":337}},"5":{"start":{"line":1,"column":293},"end":{"line":1,"column":300}},"6":{"start":{"line":1,"column":303},"end":{"line":1,"column":310}},"7":{"start":{"line":1,"column":320},"end":{"line":1,"column":336}},"8":{"start":{"line":1,"column":337},"end":{"line":1,"column":377}},"9":{"start":{"line":1,"column":408},"end":{"line":1,"column":620}},"10":{"start":{"line":1,"column":432},"end":{"line":1,"column":436}},"11":{"start":{"line":1,"column":439},"end":{"line":1,"column":448}},"12":{"start":{"line":1,"column":449},"end":{"line":1,"column":619}},"13":{"start":{"line":1,"column":496},"end":{"line":1,"column":534}},"14":{"start":{"line":1,"column":549},"end":{"line":1,"column":588}},"15":{"start":{"line":1,"column":595},"end":{"line":1,"column":607}},"16":{"start":{"line":1,"column":608},"end":{"line":1,"column":617}},"17":{"start":{"line":1,"column":643},"end":{"line":1,"column":1393}},"18":{"start":{"line":1,"column":660},"end":{"line":1,"column":1340}},"19":{"start":{"line":1,"column":739},"end":{"line":1,"column":1337}},"20":{"start":{"line":1,"column":782},"end":{"line":1,"column":1333}},"21":{"start":{"line":1,"column":789},"end":{"line":1,"column":1333}},"22":{"start":{"line":1,"column":818},"end":{"line":1,"column":871}},"23":{"start":{"line":1,"column":878},"end":{"line":1,"column":910}},"24":{"start":{"line":1,"column":894},"end":{"line":1,"column":904}},"25":{"start":{"line":1,"column":904},"end":{"line":1,"column":909}},"26":{"start":{"line":1,"column":910},"end":{"line":1,"column":1018}},"27":{"start":{"line":1,"column":954},"end":{"line":1,"column":1015}},"28":{"start":{"line":1,"column":1025},"end":{"line":1,"column":1081}},"29":{"start":{"line":1,"column":1088},"end":{"line":1,"column":1215}},"30":{"start":{"line":1,"column":1157},"end":{"line":1,"column":1212}},"31":{"start":{"line":1,"column":1223},"end":{"line":1,"column":1233}},"32":{"start":{"line":1,"column":1233},"end":{"line":1,"column":1239}},"33":{"start":{"line":1,"column":1247},"end":{"line":1,"column":1298}},"34":{"start":{"line":1,"column":1316},"end":{"line":1,"column":1332}},"35":{"start":{"line":1,"column":1341},"end":{"line":1,"column":1390}},"36":{"start":{"line":1,"column":1359},"end":{"line":1,"column":1389}},"37":{"start":{"line":1,"column":1394},"end":{"line":1,"column":1412}},"38":{"start":{"line":1,"column":1443},"end":{"line":1,"column":2058}},"39":{"start":{"line":1,"column":1460},"end":{"line":1,"column":2005}},"40":{"start":{"line":1,"column":1539},"end":{"line":1,"column":2002}},"41":{"start":{"line":1,"column":1582},"end":{"line":1,"column":1998}},"42":{"start":{"line":1,"column":1589},"end":{"line":1,"column":1998}},"43":{"start":{"line":1,"column":1618},"end":{"line":1,"column":1671}},"44":{"start":{"line":1,"column":1678},"end":{"line":1,"column":1710}},"45":{"start":{"line":1,"column":1694},"end":{"line":1,"column":1704}},"46":{"start":{"line":1,"column":1704},"end":{"line":1,"column":1709}},"47":{"start":{"line":1,"column":1710},"end":{"line":1,"column":1818}},"48":{"start":{"line":1,"column":1754},"end":{"line":1,"column":1815}},"49":{"start":{"line":1,"column":1825},"end":{"line":1,"column":1881}},"50":{"start":{"line":1,"column":1888},"end":{"line":1,"column":1898}},"51":{"start":{"line":1,"column":1898},"end":{"line":1,"column":1904}},"52":{"start":{"line":1,"column":1912},"end":{"line":1,"column":1963}},"53":{"start":{"line":1,"column":1981},"end":{"line":1,"column":1997}},"54":{"start":{"line":1,"column":2006},"end":{"line":1,"column":2055}},"55":{"start":{"line":1,"column":2024},"end":{"line":1,"column":2054}},"56":{"start":{"line":1,"column":2059},"end":{"line":1,"column":2095}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":1,"column":249},"end":{"line":1,"column":267}},"loc":{"start":{"line":1,"column":282},"end":{"line":1,"column":378}},"line":1},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":387},"end":{"line":1,"column":404}},"loc":{"start":{"line":1,"column":407},"end":{"line":1,"column":621}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":415},"end":{"line":1,"column":416}},"loc":{"start":{"line":1,"column":425},"end":{"line":1,"column":620}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":468},"end":{"line":1,"column":469}},"loc":{"start":{"line":1,"column":481},"end":{"line":1,"column":618}},"line":1},"4":{"name":"f","decl":{"start":{"line":1,"column":491},"end":{"line":1,"column":492}},"loc":{"start":{"line":1,"column":495},"end":{"line":1,"column":535}},"line":1},"5":{"name":"g","decl":{"start":{"line":1,"column":544},"end":{"line":1,"column":545}},"loc":{"start":{"line":1,"column":548},"end":{"line":1,"column":589}},"line":1},"6":{"name":"(anonymous_6)","decl":{"start":{"line":1,"column":643},"end":{"line":1,"column":644}},"loc":{"start":{"line":1,"column":653},"end":{"line":1,"column":1391}},"line":1},"7":{"name":"a","decl":{"start":{"line":1,"column":724},"end":{"line":1,"column":725}},"loc":{"start":{"line":1,"column":730},"end":{"line":1,"column":1338}},"line":1},"8":{"name":"(anonymous_8)","decl":{"start":{"line":1,"column":770},"end":{"line":1,"column":771}},"loc":{"start":{"line":1,"column":781},"end":{"line":1,"column":1334}},"line":1},"9":{"name":"(anonymous_9)","decl":{"start":{"line":1,"column":943},"end":{"line":1,"column":944}},"loc":{"start":{"line":1,"column":953},"end":{"line":1,"column":1016}},"line":1},"10":{"name":"(anonymous_10)","decl":{"start":{"line":1,"column":1146},"end":{"line":1,"column":1147}},"loc":{"start":{"line":1,"column":1156},"end":{"line":1,"column":1213}},"line":1},"11":{"name":"(anonymous_11)","decl":{"start":{"line":1,"column":1348},"end":{"line":1,"column":1349}},"loc":{"start":{"line":1,"column":1358},"end":{"line":1,"column":1390}},"line":1},"12":{"name":"(anonymous_12)","decl":{"start":{"line":1,"column":1443},"end":{"line":1,"column":1444}},"loc":{"start":{"line":1,"column":1453},"end":{"line":1,"column":2056}},"line":1},"13":{"name":"a","decl":{"start":{"line":1,"column":1524},"end":{"line":1,"column":1525}},"loc":{"start":{"line":1,"column":1530},"end":{"line":1,"column":2003}},"line":1},"14":{"name":"(anonymous_14)","decl":{"start":{"line":1,"column":1570},"end":{"line":1,"column":1571}},"loc":{"start":{"line":1,"column":1581},"end":{"line":1,"column":1999}},"line":1},"15":{"name":"(anonymous_15)","decl":{"start":{"line":1,"column":1743},"end":{"line":1,"column":1744}},"loc":{"start":{"line":1,"column":1753},"end":{"line":1,"column":1816}},"line":1},"16":{"name":"(anonymous_16)","decl":{"start":{"line":1,"column":2013},"end":{"line":1,"column":2014}},"loc":{"start":{"line":1,"column":2023},"end":{"line":1,"column":2055}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":337},"end":{"line":1,"column":377}},"type":"cond-expr","locations":[{"start":{"line":1,"column":344},"end":{"line":1,"column":348}},{"start":{"line":1,"column":349},"end":{"line":1,"column":377}}],"line":1},"1":{"loc":{"start":{"line":1,"column":789},"end":{"line":1,"column":1333}},"type":"switch","locations":[{"start":{"line":1,"column":811},"end":{"line":1,"column":871}},{"start":{"line":1,"column":871},"end":{"line":1,"column":1018}},{"start":{"line":1,"column":1018},"end":{"line":1,"column":1081}},{"start":{"line":1,"column":1081},"end":{"line":1,"column":1215}},{"start":{"line":1,"column":1215},"end":{"line":1,"column":1239}},{"start":{"line":1,"column":1239},"end":{"line":1,"column":1298}},{"start":{"line":1,"column":1298},"end":{"line":1,"column":1306}},{"start":{"line":1,"column":1306},"end":{"line":1,"column":1332}}],"line":1},"2":{"loc":{"start":{"line":1,"column":878},"end":{"line":1,"column":910}},"type":"if","locations":[{"start":{"line":1,"column":878},"end":{"line":1,"column":910}},{"start":{"line":1,"column":878},"end":{"line":1,"column":910}}],"line":1},"3":{"loc":{"start":{"line":1,"column":1589},"end":{"line":1,"column":1998}},"type":"switch","locations":[{"start":{"line":1,"column":1611},"end":{"line":1,"column":1671}},{"start":{"line":1,"column":1671},"end":{"line":1,"column":1818}},{"start":{"line":1,"column":1818},"end":{"line":1,"column":1881}},{"start":{"line":1,"column":1881},"end":{"line":1,"column":1904}},{"start":{"line":1,"column":1904},"end":{"line":1,"column":1963}},{"start":{"line":1,"column":1963},"end":{"line":1,"column":1971}},{"start":{"line":1,"column":1971},"end":{"line":1,"column":1997}}],"line":1},"4":{"loc":{"start":{"line":1,"column":1678},"end":{"line":1,"column":1710}},"type":"if","locations":[{"start":{"line":1,"column":1678},"end":{"line":1,"column":1710}},{"start":{"line":1,"column":1678},"end":{"line":1,"column":1710}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":2,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":1,"38":1,"39":1,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1,"55":0,"56":1},"f":{"0":0,"1":2,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0},"b":{"0":[0,0],"1":[0,0,0,0,0,0,0,0],"2":[0,0],"3":[0,0,0,0,0,0,0],"4":[0,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["push","data","final","notifySchema","isValid","body","valid","auth","s","e","tokenData","pushSubscribe"],"mappings":"6mBAKO,GAAMA,CAAAA,IAAI,sFAAG,WAAOC,CAAP,CAAaC,CAAb,yGAEEC,qBAAaC,OAAb,CAAqBH,CAAI,CAACI,IAA1B,CAFF,WAEZC,CAFY,SAGdA,CAHc,kCAIQC,IAAI,CAACN,CAAD,CAAJ,UAAiB,iBAAMC,CAAAA,CAAK,CAAC,CAAEM,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,oBAAF,CAAb,CAAD,CAAX,CAAjB,CAJR,cAIVC,CAAAA,CAJU,iBAKV,4BAAUT,CAAV,CALU,yBAMV,6BAAUA,CAAV,WAAsB,iBAAMC,CAAAA,CAAK,CAAC,CAAEM,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,cAAF,CAAb,CAAD,CAAX,CAAtB,CANU,iCAQhBP,CAAK,CAAC,CAAEM,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,gBAAF,CAAb,CAAD,CARW,yCAAH,uDAAV,C,kBAYA,GAAME,CAAAA,aAAa,sFAAG,WAAOV,CAAP,CAAaC,CAAb,yGACPC,qBAAaC,OAAb,CAAqBH,CAAI,CAACI,IAA1B,CADO,WACrBC,CADqB,SAEvBA,CAFuB,kCAIDC,IAAI,CAACN,CAAD,CAAJ,UAAiB,iBAAMC,CAAAA,CAAK,CAAC,CAAEM,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,oBAAF,CAAb,CAAD,CAAX,CAAjB,CAJC,cAInBC,CAAAA,CAJmB,iBAKnB,4BAAUT,CAAV,CALmB,gCAQzBC,CAAK,CAAC,CAAEM,CAAC,CAAE,GAAL,CAAUC,CAAC,CAAE,oBAAE,gBAAF,CAAb,CAAD,CARoB,yCAAH,uDAAnB,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\notifications","sourcesContent":["import { subscribe } from '../../lib/notifications'\r\nimport { notifySchema } from './schema'\r\nimport { t, setLocale } from '../../lib/translations'\r\n\r\n// @TODO!!!\r\nexport const push = async (data, final) => {\r\n  // for admins\r\n  const valid = await notifySchema.isValid(data.body)\r\n  if (valid) {\r\n    const tokenData = await auth(data).catch(() => final(null, { s: 403, e: t('error.unauthorized') }))\r\n    await setLocale(data)\r\n    await subscribe(data).catch(() => final(null, { s: 400, e: t('error.notify') }))\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nexport const pushSubscribe = async (data, final) => {\r\n  const valid = await notifySchema.isValid(data.body)\r\n  if (valid) {\r\n    // if no user exists - create only notif id user\r\n    const tokenData = await auth(data).catch(() => final(null, { s: 403, e: t('error.unauthorized') }))\r\n    await setLocale(data)\r\n    // update user with subsription id\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cb37a5672f6b12d4759f1b5ca989b99557ec712e","contentHash":"673703a06cbacb0d3ae966f1ed280ee3260496772dc3432fee214e5bc00ecb28"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\notifications\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\notifications\\index.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":111}},"1":{"start":{"line":1,"column":138},"end":{"line":1,"column":195}},"2":{"start":{"line":1,"column":202},"end":{"line":1,"column":217}},"3":{"start":{"line":1,"column":227},"end":{"line":1,"column":270}},"4":{"start":{"line":1,"column":279},"end":{"line":1,"column":302}},"5":{"start":{"line":1,"column":338},"end":{"line":1,"column":374}},"6":{"start":{"line":1,"column":390},"end":{"line":1,"column":1158}},"7":{"start":{"line":1,"column":412},"end":{"line":1,"column":926}},"8":{"start":{"line":1,"column":929},"end":{"line":1,"column":1074}},"9":{"start":{"line":1,"column":1075},"end":{"line":1,"column":1157}},"10":{"start":{"line":1,"column":1104},"end":{"line":1,"column":1120}},"11":{"start":{"line":1,"column":1144},"end":{"line":1,"column":1155}},"12":{"start":{"line":1,"column":1169},"end":{"line":1,"column":1200}},"13":{"start":{"line":1,"column":1201},"end":{"line":1,"column":1229}},"14":{"start":{"line":1,"column":1244},"end":{"line":1,"column":1509}},"15":{"start":{"line":1,"column":1258},"end":{"line":1,"column":1376}},"16":{"start":{"line":1,"column":1382},"end":{"line":1,"column":1388}},"17":{"start":{"line":1,"column":1391},"end":{"line":1,"column":1411}},"18":{"start":{"line":1,"column":1412},"end":{"line":1,"column":1508}},"19":{"start":{"line":1,"column":1491},"end":{"line":1,"column":1502}},"20":{"start":{"line":1,"column":1520},"end":{"line":1,"column":1551}},"21":{"start":{"line":1,"column":1552},"end":{"line":1,"column":1580}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":312},"end":{"line":1,"column":334}},"loc":{"start":{"line":1,"column":337},"end":{"line":1,"column":375}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":390},"end":{"line":1,"column":391}},"loc":{"start":{"line":1,"column":405},"end":{"line":1,"column":1158}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":1092},"end":{"line":1,"column":1093}},"loc":{"start":{"line":1,"column":1103},"end":{"line":1,"column":1121}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":1132},"end":{"line":1,"column":1133}},"loc":{"start":{"line":1,"column":1143},"end":{"line":1,"column":1156}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":1244},"end":{"line":1,"column":1245}},"loc":{"start":{"line":1,"column":1257},"end":{"line":1,"column":1509}},"line":1},"5":{"name":"(anonymous_5)","decl":{"start":{"line":1,"column":1479},"end":{"line":1,"column":1480}},"loc":{"start":{"line":1,"column":1490},"end":{"line":1,"column":1503}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":345},"end":{"line":1,"column":374}},"type":"cond-expr","locations":[{"start":{"line":1,"column":361},"end":{"line":1,"column":362}},{"start":{"line":1,"column":363},"end":{"line":1,"column":374}}],"line":1},"1":{"loc":{"start":{"line":1,"column":345},"end":{"line":1,"column":360}},"type":"binary-expr","locations":[{"start":{"line":1,"column":345},"end":{"line":1,"column":346}},{"start":{"line":1,"column":348},"end":{"line":1,"column":360}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":1},"f":{"0":2,"1":0,"2":0,"3":0,"4":0,"5":0},"b":{"0":[0,2],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["_multiPush","title","registrationIds","done","push","PushNotifications","gcm","id","phonegap","apn","token","key","keyId","teamId","production","adm","client_id","client_secret","wns","notificationMethod","web","vapidDetails","subject","publicKey","privateKey","gcmAPIKey","TTL","contentEncoding","headers","isAlwaysUseFCM","data","body","COMPANY","custom","sender","expiry","Math","floor","Date","now","timeToLive","send","then","results","err","multiPush","_subscribe","event","webPush","setVapidDetails","WAPID_EMAIL","WAPID_PUBLIC","WAPID_PRIVATE","subscription","o","sendNotification","JSON","stringify","e","subscribe"],"mappings":"0XAMMA,CAAAA,UAAU,CAAG,SAACC,CAAD,CAAQC,CAAR,CAAyBC,CAAzB,CAAkC,IAqC7CC,CAAAA,CAAI,CAAG,GAAIC,kCAAJ,CApCI,CACfC,GAAG,CAAE,CACHC,EAAE,CAAE,IADD,CAEHC,QAAQ,GAFL,CADU,CAKfC,GAAG,CAAE,CACHC,KAAK,CAAE,CACLC,GAAG,CAAE,gBADA,CAELC,KAAK,CAAE,MAFF,CAGLC,MAAM,CAAE,MAHH,CADJ,CAMHC,UAAU,GANP,CALU,CAafC,GAAG,CAAE,CACHC,SAAS,CAAE,IADR,CAEHC,aAAa,CAAE,IAFZ,CAbU,CAiBfC,GAAG,CAAE,CACHF,SAAS,CAAE,IADR,CAEHC,aAAa,CAAE,IAFZ,CAGHE,kBAAkB,CAAE,qBAHjB,CAjBU,CAsBfC,GAAG,CAAE,CACHC,YAAY,CAAE,CACZC,OAAO,CAAE,6BADG,CAEZC,SAAS,CAAE,wCAFC,CAGZC,UAAU,CAAE,yCAHA,CADX,CAMHC,SAAS,CAAE,QANR,CAOHC,GAAG,CAAE,OAPF,CAQHC,eAAe,CAAE,WARd,CASHC,OAAO,CAAE,EATN,CAtBU,CAiCfC,cAAc,GAjCC,CAoCJ,CArCsC,CAuC7CC,CAAI,CAAG,CACX7B,KAAK,CAALA,CADW,CAEX8B,IAAI,sBAAgBC,eAAhB,CAFO,CAGXC,MAAM,CAAE,CACNC,MAAM,CAAEF,eADF,CAHG,CAMXG,MAAM,CAAEC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACC,GAAL,GAAa,GAAxB,SANG,CAOXC,UAAU,QAPC,CAvCsC,CAiDnDpC,CAAI,CAACqC,IAAL,CAAUvC,CAAV,CAA2B4B,CAA3B,EACGY,IADH,CACQ,SAACC,CAAD,QAAaxC,CAAAA,CAAI,CAAC,IAAD,CAAOwC,CAAP,CAAjB,CADR,WAES,SAACC,CAAD,QAASzC,CAAAA,CAAI,CAACyC,CAAD,CAAb,CAFT,CAGD,C,CAEYC,SAAS,CAAG,oBAAU7C,UAAV,C,gCAEnB8C,CAAAA,UAAU,CAAG,SAACC,CAAD,CAAQ5C,CAAR,CAAiB,CAClC6C,oBAAQC,eAAR,kBAAkCC,mBAAlC,EAAiDC,oBAAjD,CAA+DC,qBAA/D,CADkC,IAE5BC,CAAAA,CAAY,CAAGN,CAAK,CAAChB,IAFO,CAG5BuB,CAAC,CAAG,CACRrD,KAAK,CAAE8C,CAAK,CAAChB,IAAN,CAAW9B,KADV,CAHwB,CAOlC+C,oBAAQO,gBAAR,CAAyBF,CAAzB,CAAuCG,IAAI,CAACC,SAAL,CAAeH,CAAf,CAAvC,WAAgE,SAACI,CAAD,QAAOvD,CAAAA,CAAI,CAACuD,CAAD,CAAX,CAAhE,CAPkC,CAQlCvD,CAAI,EACL,C,CAEYwD,SAAS,CAAG,oBAAUb,UAAV,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\notifications","sourcesContent":["import PushNotifications from 'node-pushnotifications';\r\nimport { promisify } from 'util'\r\nimport webPush from 'web-push'\r\n\r\nimport { COMPANY, WAPID_PUBLIC, WAPID_PRIVATE, WAPID_EMAIL } from '../../config'\r\n\r\nconst _multiPush = (title, registrationIds, done) => {\r\n  const settings = {\r\n    gcm: {\r\n      id: null,\r\n      phonegap: false\r\n    },\r\n    apn: { \r\n      token: {\r\n        key: './certs/key.p8',\r\n        keyId: 'ABCD',\r\n        teamId: 'EFGH'\r\n      },\r\n      production: false\r\n    },\r\n    adm: {\r\n      client_id: null,\r\n      client_secret: null\r\n    },\r\n    wns: {\r\n      client_id: null,\r\n      client_secret: null,\r\n      notificationMethod: 'sendTileSquareBlock'\r\n    },\r\n    web: {\r\n      vapidDetails: {\r\n        subject: '< \\'mailto\\' Address or URL >',\r\n        publicKey: '< URL Safe Base64 Encoded Public Key >',\r\n        privateKey: '< URL Safe Base64 Encoded Private Key >',\r\n      },\r\n      gcmAPIKey: 'gcmkey',\r\n      TTL: 2419200,\r\n      contentEncoding: 'aes128gcm',\r\n      headers: {}\r\n    },\r\n    isAlwaysUseFCM: false\r\n  }\r\n\r\n  const push = new PushNotifications(settings)\r\n\r\n  const data = {\r\n    title,\r\n    body: `Powered by ${COMPANY}`,\r\n    custom: {\r\n      sender: COMPANY\r\n    },\r\n    expiry: Math.floor(Date.now() / 1000) + 28 * 86400,\r\n    timeToLive: 28 * 86400,\r\n  }\r\n\r\n  push.send(registrationIds, data)\r\n    .then((results) => done(null, results))\r\n    .catch((err) => done(err))\r\n}\r\n\r\nexport const multiPush = promisify(_multiPush)\r\n\r\nconst _subscribe = (event, done) => {\r\n  webPush.setVapidDetails(`mailto:${WAPID_EMAIL}`, WAPID_PUBLIC, WAPID_PRIVATE)\r\n  const subscription = event.body\r\n  const o = {\r\n    title: event.body.title\r\n  }\r\n\r\n  webPush.sendNotification(subscription, JSON.stringify(o)).catch((e) => done(e))\r\n  done()\r\n}\r\n\r\nexport const subscribe = promisify(_subscribe)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d5e1ce0ea1cd8f094a53008825f4e184d078a9f3","contentHash":"359a993dca8f10abb3b51acf293e282f709962a0508c1334586719a9fc0dd120"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\notifications\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\notifications\\schema.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":97}},"1":{"start":{"line":1,"column":106},"end":{"line":1,"column":120}},"2":{"start":{"line":1,"column":129},"end":{"line":1,"column":152}},"3":{"start":{"line":1,"column":167},"end":{"line":1,"column":254}},"4":{"start":{"line":1,"column":255},"end":{"line":1,"column":291}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["setRoleSchema","shape","locale","required","oneOf","LANGUAGES"],"mappings":"yJAIaA,aAAa,CAAG,kBAASC,KAAT,CAAe,CAC1CC,MAAM,CAAE,kBAASC,QAAT,GAAoBC,KAApB,CAA0BC,iBAA1B,CADkC,CAAf,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\notifications","sourcesContent":["import { object, string } from 'yup'\r\n\r\nimport { LANGUAGES } from '../../config'\r\n\r\nexport const setRoleSchema = object().shape({\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"dadae66cae4ca749512748a1282bb35502ff1b77","contentHash":"31401775c8e3e656c32ee7d3075597dfbd580b0a2f2cb0f0829fde769f4c54b6"}}