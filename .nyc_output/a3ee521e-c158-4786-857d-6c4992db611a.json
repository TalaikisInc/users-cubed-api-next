{"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\config.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\config.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":804}},"2":{"start":{"line":8,"column":24},"end":{"line":8,"column":328}},"3":{"start":{"line":8,"column":99},"end":{"line":8,"column":154}},"4":{"start":{"line":8,"column":133},"end":{"line":8,"column":151}},"5":{"start":{"line":8,"column":164},"end":{"line":8,"column":326}},"6":{"start":{"line":8,"column":198},"end":{"line":8,"column":323}},"7":{"start":{"line":8,"column":329},"end":{"line":8,"column":349}},"8":{"start":{"line":10,"column":15},"end":{"line":10,"column":32}},"9":{"start":{"line":11,"column":18},"end":{"line":11,"column":38}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":81}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":81}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":79}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":93}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":83}},"15":{"start":{"line":18,"column":0},"end":{"line":18,"column":87}},"16":{"start":{"line":19,"column":0},"end":{"line":19,"column":81}},"17":{"start":{"line":20,"column":0},"end":{"line":20,"column":89}},"18":{"start":{"line":21,"column":0},"end":{"line":21,"column":97}},"19":{"start":{"line":22,"column":0},"end":{"line":22,"column":82}},"20":{"start":{"line":23,"column":0},"end":{"line":23,"column":89}},"21":{"start":{"line":24,"column":0},"end":{"line":24,"column":86}},"22":{"start":{"line":25,"column":0},"end":{"line":25,"column":85}},"23":{"start":{"line":26,"column":0},"end":{"line":26,"column":91}},"24":{"start":{"line":27,"column":0},"end":{"line":27,"column":73}},"25":{"start":{"line":28,"column":22},"end":{"line":28,"column":30}},"26":{"start":{"line":29,"column":0},"end":{"line":29,"column":42}},"27":{"start":{"line":30,"column":21},"end":{"line":30,"column":30}},"28":{"start":{"line":31,"column":0},"end":{"line":31,"column":40}},"29":{"start":{"line":32,"column":23},"end":{"line":32,"column":31}},"30":{"start":{"line":33,"column":0},"end":{"line":33,"column":44}},"31":{"start":{"line":34,"column":14},"end":{"line":34,"column":18}},"32":{"start":{"line":35,"column":0},"end":{"line":35,"column":26}},"33":{"start":{"line":36,"column":12},"end":{"line":36,"column":39}},"34":{"start":{"line":38,"column":0},"end":{"line":38,"column":22}},"35":{"start":{"line":39,"column":22},"end":{"line":39,"column":30}},"36":{"start":{"line":40,"column":0},"end":{"line":40,"column":42}},"37":{"start":{"line":41,"column":23},"end":{"line":41,"column":77}},"38":{"start":{"line":42,"column":0},"end":{"line":42,"column":44}},"39":{"start":{"line":43,"column":19},"end":{"line":43,"column":43}},"40":{"start":{"line":44,"column":0},"end":{"line":44,"column":36}},"41":{"start":{"line":45,"column":20},"end":{"line":45,"column":45}},"42":{"start":{"line":46,"column":0},"end":{"line":46,"column":38}},"43":{"start":{"line":47,"column":18},"end":{"line":47,"column":20}},"44":{"start":{"line":48,"column":0},"end":{"line":48,"column":34}},"45":{"start":{"line":49,"column":14},"end":{"line":53,"column":1}},"46":{"start":{"line":54,"column":0},"end":{"line":54,"column":26}},"47":{"start":{"line":55,"column":13},"end":{"line":59,"column":1}},"48":{"start":{"line":60,"column":0},"end":{"line":60,"column":24}},"49":{"start":{"line":61,"column":18},"end":{"line":61,"column":41}},"50":{"start":{"line":62,"column":0},"end":{"line":62,"column":34}},"51":{"start":{"line":63,"column":14},"end":{"line":63,"column":29}},"52":{"start":{"line":64,"column":0},"end":{"line":64,"column":26}},"53":{"start":{"line":65,"column":15},"end":{"line":65,"column":25}},"54":{"start":{"line":66,"column":0},"end":{"line":66,"column":28}},"55":{"start":{"line":67,"column":20},"end":{"line":67,"column":27}},"56":{"start":{"line":68,"column":0},"end":{"line":68,"column":38}},"57":{"start":{"line":69,"column":24},"end":{"line":69,"column":36}},"58":{"start":{"line":70,"column":0},"end":{"line":70,"column":46}},"59":{"start":{"line":71,"column":19},"end":{"line":71,"column":48}},"60":{"start":{"line":72,"column":0},"end":{"line":72,"column":36}},"61":{"start":{"line":73,"column":22},"end":{"line":73,"column":49}},"62":{"start":{"line":74,"column":0},"end":{"line":74,"column":42}},"63":{"start":{"line":75,"column":26},"end":{"line":75,"column":57}},"64":{"start":{"line":76,"column":0},"end":{"line":76,"column":50}},"65":{"start":{"line":77,"column":24},"end":{"line":77,"column":42}},"66":{"start":{"line":78,"column":0},"end":{"line":78,"column":46}},"67":{"start":{"line":79,"column":14},"end":{"line":83,"column":1}},"68":{"start":{"line":84,"column":0},"end":{"line":84,"column":26}},"69":{"start":{"line":85,"column":22},"end":{"line":85,"column":49}},"70":{"start":{"line":86,"column":0},"end":{"line":86,"column":42}},"71":{"start":{"line":87,"column":19},"end":{"line":87,"column":43}},"72":{"start":{"line":88,"column":0},"end":{"line":88,"column":36}},"73":{"start":{"line":89,"column":19},"end":{"line":89,"column":56}},"74":{"start":{"line":90,"column":0},"end":{"line":90,"column":36}},"75":{"start":{"line":91,"column":16},"end":{"line":91,"column":28}},"76":{"start":{"line":92,"column":0},"end":{"line":92,"column":30}},"77":{"start":{"line":93,"column":19},"end":{"line":93,"column":28}},"78":{"start":{"line":94,"column":0},"end":{"line":94,"column":36}},"79":{"start":{"line":95,"column":14},"end":{"line":95,"column":33}},"80":{"start":{"line":96,"column":0},"end":{"line":96,"column":26}},"81":{"start":{"line":97,"column":19},"end":{"line":97,"column":22}},"82":{"start":{"line":98,"column":0},"end":{"line":98,"column":36}},"83":{"start":{"line":99,"column":25},"end":{"line":99,"column":55}},"84":{"start":{"line":100,"column":0},"end":{"line":100,"column":48}},"85":{"start":{"line":101,"column":25},"end":{"line":101,"column":55}},"86":{"start":{"line":102,"column":0},"end":{"line":102,"column":48}},"87":{"start":{"line":103,"column":21},"end":{"line":103,"column":23}},"88":{"start":{"line":104,"column":0},"end":{"line":104,"column":40}},"89":{"start":{"line":105,"column":28},"end":{"line":105,"column":30}},"90":{"start":{"line":106,"column":0},"end":{"line":106,"column":54}},"91":{"start":{"line":107,"column":17},"end":{"line":107,"column":19}},"92":{"start":{"line":108,"column":0},"end":{"line":108,"column":32}}},"fnMap":{"0":{"name":"_typeof","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":16}},"loc":{"start":{"line":8,"column":22},"end":{"line":8,"column":351}},"line":8},"1":{"name":"_typeof","decl":{"start":{"line":8,"column":118},"end":{"line":8,"column":125}},"loc":{"start":{"line":8,"column":131},"end":{"line":8,"column":153}},"line":8},"2":{"name":"_typeof","decl":{"start":{"line":8,"column":183},"end":{"line":8,"column":190}},"loc":{"start":{"line":8,"column":196},"end":{"line":8,"column":325}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":24},"end":{"line":8,"column":328}},"type":"if","locations":[{"start":{"line":8,"column":24},"end":{"line":8,"column":328}},{"start":{"line":8,"column":24},"end":{"line":8,"column":328}}],"line":8},"1":{"loc":{"start":{"line":8,"column":28},"end":{"line":8,"column":95}},"type":"binary-expr","locations":[{"start":{"line":8,"column":28},"end":{"line":8,"column":56}},{"start":{"line":8,"column":60},"end":{"line":8,"column":95}}],"line":8},"2":{"loc":{"start":{"line":8,"column":205},"end":{"line":8,"column":322}},"type":"cond-expr","locations":[{"start":{"line":8,"column":301},"end":{"line":8,"column":309}},{"start":{"line":8,"column":312},"end":{"line":8,"column":322}}],"line":8},"3":{"loc":{"start":{"line":8,"column":205},"end":{"line":8,"column":298}},"type":"binary-expr","locations":[{"start":{"line":8,"column":205},"end":{"line":8,"column":208}},{"start":{"line":8,"column":212},"end":{"line":8,"column":240}},{"start":{"line":8,"column":244},"end":{"line":8,"column":270}},{"start":{"line":8,"column":274},"end":{"line":8,"column":298}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":1,"4":15,"5":0,"6":0,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1},"f":{"0":1,"1":15,"2":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0,0]},"inputSourceMap":{"version":3,"sources":["config.js"],"names":["require","strictEqual","process","env","HASH_SECRET","TWILIO_FROM","TWILIO_SID","TWILIO_AUTH_TOKEN","MAILGUN_FROM","MAILGUN_DOMAIN","MAILGUN_KEY","ENCRYPTION_SALT","ENCRYPTION_PASSWORD","BUCKET","AUTH0_CLIENT_ID","AUTH0_DOMAIN","S3_ACCESS_KEY","S3_ACCESS_SECRET","API_KEY","MOBILE_PROVIDER","EMAIL_PROVIDER","PAYMENT_PROVIDER","DB_TYPE","ROLES","FIRST_USER_ROLE","SOCIAL_PROVIDERS","WAPID_PUBLIC","WAPID_PRIVATE","WAPID_EMAIL","MAILGUN","nameFrom","domainName","apiKey","TWILIO","from","sid","authToken","COMPANY","BASE_URL","FIRST_CONFIRM","USER_TOKEN_EXPIRY","FRONTEND_URL","USERS_BUCKET_NAME","WORKERS","tokenClean","logRotate","unconfirmedClean","REDIRECT_URL","LANGUAGES","UPLOAD_TABLE","ALLOW_ORIGIN","STRIPE_TEST_SECRET","STRIPE_LIVE_SECRET","STRIPE_ACCOUNT","STRIPE_WEBHOOK_SECRET","STRIPE_ENV"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app","sourcesContent":["const { strictEqual } = require('assert')\r\nstrictEqual(typeof process.env.HASH_SECRET, 'string', 'You need hash secret!')\r\nstrictEqual(typeof process.env.TWILIO_FROM, 'string', 'You need Twilio from!')\r\nstrictEqual(typeof process.env.TWILIO_SID, 'string', 'You need TWILIO_SID!')\r\nstrictEqual(typeof process.env.TWILIO_AUTH_TOKEN, 'string', 'You need TWILIO_AUTH_TOKEN!')\r\nstrictEqual(typeof process.env.MAILGUN_FROM, 'string', 'You need MAILGUN_FROM!')\r\nstrictEqual(typeof process.env.MAILGUN_DOMAIN, 'string', 'You need MAILGUN_DOMAIN!')\r\nstrictEqual(typeof process.env.MAILGUN_KEY, 'string', 'You need MAILGUN_KEY!')\r\nstrictEqual(typeof process.env.ENCRYPTION_SALT, 'string', 'You need ENCRYPTION_SALT!')\r\nstrictEqual(typeof process.env.ENCRYPTION_PASSWORD, 'string', 'You need ENCRYPTION_PASSWORD!')\r\nstrictEqual(typeof process.env.BUCKET, 'string', 'You need USERS_BUCKET_NAME!')\r\nstrictEqual(typeof process.env.AUTH0_CLIENT_ID, 'string', 'You need AUTH0_CLIENT_ID!')\r\nstrictEqual(typeof process.env.AUTH0_DOMAIN, 'string', 'You need AUTH0_CLIENT_ID!')\r\nstrictEqual(typeof process.env.S3_ACCESS_KEY, 'string', 'You need S3_ACCESS_KEY!')\r\nstrictEqual(typeof process.env.S3_ACCESS_SECRET, 'string', 'You need S3_ACCESS_SECRET!')\r\nstrictEqual(typeof process.env.API_KEY, 'string', 'You need API_KEY!')\r\n\r\nexport const MOBILE_PROVIDER = 'twilio'\r\nexport const EMAIL_PROVIDER = 'mailgun'\r\nexport const PAYMENT_PROVIDER = 'stripe'\r\nexport const DB_TYPE = 's3'\r\nexport const ROLES = ['user', 'admin', 'editor'] // 1st should be always default, 2nd - admin\r\nexport const FIRST_USER_ROLE = ROLES[1]\r\nexport const SOCIAL_PROVIDERS = ['auth0', 'google', 'facebook', 'twitter', 'linkedin']\r\n\r\nexport const WAPID_PUBLIC = process.env.WAPID_PUBLIC\r\nexport const WAPID_PRIVATE = process.env.WAPID_PRIVATE\r\nexport const WAPID_EMAIL = ''\r\n\r\nexport const MAILGUN = {\r\n  nameFrom: process.env.MAILGUN_FROM,\r\n  domainName: process.env.MAILGUN_DOMAIN,\r\n  apiKey: process.env.MAILGUN_KEY\r\n}\r\n\r\nexport const TWILIO = {\r\n  from: process.env.TWILIO_FROM,\r\n  sid: process.env.TWILIO_SID,\r\n  authToken: process.env.TWILIO_AUTH_TOKEN\r\n}\r\n\r\nexport const HASH_SECRET = process.env.HASH_SECRET\r\n\r\nexport const COMPANY = 'Talaikis Ltd.'\r\n\r\nexport const BASE_URL = 'https://'\r\n\r\nexport const FIRST_CONFIRM = 'email'\r\n\r\nexport const USER_TOKEN_EXPIRY = 60 * 60 * 15\r\n\r\nexport const FRONTEND_URL = 'https://cubed.talaikis.com/'\r\n\r\nexport const ENCRYPTION_SALT = process.env.ENCRYPTION_SALT\r\n\r\nexport const ENCRYPTION_PASSWORD = process.env.ENCRYPTION_PASSWORD\r\n\r\nexport const USERS_BUCKET_NAME = process.env.BUCKET\r\n\r\nexport const WORKERS = {\r\n  tokenClean: 60 * 60,\r\n  logRotate: 60 * 60 * 24,\r\n  unconfirmedClean: 60 * 60 * 3\r\n}\r\n\r\nexport const AUTH0_CLIENT_ID = process.env.AUTH0_CLIENT_ID\r\nexport const AUTH0_DOMAIN = process.env.AUTH0_DOMAIN\r\nexport const REDIRECT_URL = `${FRONTEND_URL}/dashboard`\r\n\r\nexport const LANGUAGES = ['en', 'fr']\r\nexport const UPLOAD_TABLE = 'avatars'\r\n\r\nexport const API_KEY = process.env.API_KEY\r\nexport const ALLOW_ORIGIN = '*'\r\n\r\nexport const STRIPE_TEST_SECRET = process.env.STRIPE_TEST_SECRET\r\nexport const STRIPE_LIVE_SECRET = process.env.STRIPE_LIVE_SECRET\r\nexport const STRIPE_ACCOUNT = ''\r\nexport const STRIPE_WEBHOOK_SECRET = ''\r\nexport const STRIPE_ENV = ''\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cf4c4a5b88a55ddc5991a60bbbadabb0d1dbae73","contentHash":"f8858567bc0a0596d5e82b2f2ebdf0f797f985c3d564fad35c498c9124875401"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\proto\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\proto\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":156}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":27}},"3":{"start":{"line":10,"column":18},"end":{"line":10,"column":63}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":27}},"5":{"start":{"line":14,"column":14},"end":{"line":14,"column":37}},"6":{"start":{"line":16,"column":13},"end":{"line":16,"column":32}},"7":{"start":{"line":18,"column":20},"end":{"line":18,"column":46}},"8":{"start":{"line":20,"column":39},"end":{"line":20,"column":95}},"9":{"start":{"line":22,"column":77},"end":{"line":22,"column":175}},"10":{"start":{"line":22,"column":94},"end":{"line":22,"column":107}},"11":{"start":{"line":22,"column":121},"end":{"line":22,"column":131}},"12":{"start":{"line":22,"column":151},"end":{"line":22,"column":165}},"13":{"start":{"line":22,"column":166},"end":{"line":22,"column":173}},"14":{"start":{"line":22,"column":176},"end":{"line":22,"column":263}},"15":{"start":{"line":22,"column":193},"end":{"line":22,"column":208}},"16":{"start":{"line":22,"column":218},"end":{"line":22,"column":261}},"17":{"start":{"line":24,"column":33},"end":{"line":24,"column":387}},"18":{"start":{"line":24,"column":65},"end":{"line":24,"column":69}},"19":{"start":{"line":24,"column":78},"end":{"line":24,"column":87}},"20":{"start":{"line":24,"column":89},"end":{"line":24,"column":384}},"21":{"start":{"line":24,"column":147},"end":{"line":24,"column":167}},"22":{"start":{"line":24,"column":193},"end":{"line":24,"column":264}},"23":{"start":{"line":24,"column":290},"end":{"line":24,"column":360}},"24":{"start":{"line":24,"column":363},"end":{"line":24,"column":380}},"25":{"start":{"line":26,"column":27},"end":{"line":26,"column":70}},"26":{"start":{"line":27,"column":16},"end":{"line":27,"column":74}},"27":{"start":{"line":28,"column":16},"end":{"line":28,"column":74}},"28":{"start":{"line":30,"column":14},"end":{"line":45,"column":1}},"29":{"start":{"line":31,"column":2},"end":{"line":44,"column":5}},"30":{"start":{"line":32,"column":4},"end":{"line":43,"column":5}},"31":{"start":{"line":33,"column":6},"end":{"line":40,"column":7}},"32":{"start":{"line":34,"column":22},"end":{"line":34,"column":50}},"33":{"start":{"line":35,"column":22},"end":{"line":35,"column":73}},"34":{"start":{"line":36,"column":18},"end":{"line":36,"column":43}},"35":{"start":{"line":37,"column":8},"end":{"line":37,"column":24}},"36":{"start":{"line":39,"column":8},"end":{"line":39,"column":24}},"37":{"start":{"line":41,"column":11},"end":{"line":43,"column":5}},"38":{"start":{"line":42,"column":6},"end":{"line":42,"column":24}},"39":{"start":{"line":49,"column":0},"end":{"line":70,"column":3}},"40":{"start":{"line":50,"column":13},"end":{"line":65,"column":5}},"41":{"start":{"line":53,"column":4},"end":{"line":64,"column":16}},"42":{"start":{"line":54,"column":6},"end":{"line":63,"column":7}},"43":{"start":{"line":55,"column":8},"end":{"line":62,"column":9}},"44":{"start":{"line":57,"column":12},"end":{"line":57,"column":64}},"45":{"start":{"line":61,"column":12},"end":{"line":61,"column":35}},"46":{"start":{"line":67,"column":2},"end":{"line":69,"column":4}},"47":{"start":{"line":68,"column":4},"end":{"line":68,"column":39}},"48":{"start":{"line":72,"column":13},"end":{"line":72,"column":42}},"49":{"start":{"line":73,"column":0},"end":{"line":73,"column":24}},"50":{"start":{"line":75,"column":14},"end":{"line":90,"column":1}},"51":{"start":{"line":76,"column":2},"end":{"line":89,"column":5}},"52":{"start":{"line":77,"column":4},"end":{"line":88,"column":5}},"53":{"start":{"line":78,"column":6},"end":{"line":85,"column":7}},"54":{"start":{"line":79,"column":22},"end":{"line":79,"column":50}},"55":{"start":{"line":80,"column":22},"end":{"line":80,"column":44}},"56":{"start":{"line":81,"column":18},"end":{"line":81,"column":50}},"57":{"start":{"line":82,"column":8},"end":{"line":82,"column":24}},"58":{"start":{"line":84,"column":8},"end":{"line":84,"column":24}},"59":{"start":{"line":87,"column":6},"end":{"line":87,"column":24}},"60":{"start":{"line":92,"column":14},"end":{"line":94,"column":1}},"61":{"start":{"line":93,"column":2},"end":{"line":93,"column":48}},"62":{"start":{"line":96,"column":13},"end":{"line":96,"column":42}},"63":{"start":{"line":98,"column":0},"end":{"line":98,"column":24}},"64":{"start":{"line":102,"column":0},"end":{"line":123,"column":3}},"65":{"start":{"line":103,"column":14},"end":{"line":118,"column":5}},"66":{"start":{"line":106,"column":4},"end":{"line":117,"column":17}},"67":{"start":{"line":107,"column":6},"end":{"line":116,"column":7}},"68":{"start":{"line":108,"column":8},"end":{"line":115,"column":9}},"69":{"start":{"line":110,"column":12},"end":{"line":110,"column":38}},"70":{"start":{"line":114,"column":12},"end":{"line":114,"column":36}},"71":{"start":{"line":120,"column":2},"end":{"line":122,"column":4}},"72":{"start":{"line":121,"column":4},"end":{"line":121,"column":40}},"73":{"start":{"line":125,"column":20},"end":{"line":125,"column":56}},"74":{"start":{"line":126,"column":0},"end":{"line":126,"column":38}},"75":{"start":{"line":128,"column":22},"end":{"line":130,"column":1}},"76":{"start":{"line":129,"column":2},"end":{"line":129,"column":54}},"77":{"start":{"line":132,"column":21},"end":{"line":132,"column":58}},"78":{"start":{"line":133,"column":0},"end":{"line":133,"column":40}},"79":{"start":{"line":135,"column":18},"end":{"line":137,"column":1}},"80":{"start":{"line":136,"column":2},"end":{"line":136,"column":49}},"81":{"start":{"line":139,"column":17},"end":{"line":139,"column":50}},"82":{"start":{"line":140,"column":0},"end":{"line":140,"column":32}},"83":{"start":{"line":142,"column":18},"end":{"line":144,"column":1}},"84":{"start":{"line":143,"column":2},"end":{"line":143,"column":49}},"85":{"start":{"line":146,"column":17},"end":{"line":146,"column":50}},"86":{"start":{"line":147,"column":0},"end":{"line":147,"column":32}},"87":{"start":{"line":151,"column":0},"end":{"line":235,"column":3}},"88":{"start":{"line":152,"column":14},"end":{"line":230,"column":5}},"89":{"start":{"line":156,"column":4},"end":{"line":229,"column":17}},"90":{"start":{"line":157,"column":6},"end":{"line":228,"column":7}},"91":{"start":{"line":158,"column":8},"end":{"line":227,"column":9}},"92":{"start":{"line":160,"column":12},"end":{"line":160,"column":31}},"93":{"start":{"line":161,"column":12},"end":{"line":190,"column":17}},"94":{"start":{"line":164,"column":26},"end":{"line":185,"column":17}},"95":{"start":{"line":167,"column":16},"end":{"line":184,"column":29}},"96":{"start":{"line":168,"column":18},"end":{"line":183,"column":19}},"97":{"start":{"line":169,"column":20},"end":{"line":182,"column":21}},"98":{"start":{"line":171,"column":24},"end":{"line":171,"column":44}},"99":{"start":{"line":172,"column":24},"end":{"line":172,"column":43}},"100":{"start":{"line":173,"column":24},"end":{"line":173,"column":59}},"101":{"start":{"line":176,"column":24},"end":{"line":176,"column":54}},"102":{"start":{"line":177,"column":24},"end":{"line":177,"column":97}},"103":{"start":{"line":181,"column":24},"end":{"line":181,"column":48}},"104":{"start":{"line":187,"column":14},"end":{"line":189,"column":16}},"105":{"start":{"line":188,"column":16},"end":{"line":188,"column":52}},"106":{"start":{"line":193,"column":12},"end":{"line":193,"column":36}},"107":{"start":{"line":195,"column":12},"end":{"line":198,"column":13}},"108":{"start":{"line":196,"column":14},"end":{"line":196,"column":33}},"109":{"start":{"line":197,"column":14},"end":{"line":197,"column":20}},"110":{"start":{"line":200,"column":12},"end":{"line":200,"column":45}},"111":{"start":{"line":201,"column":12},"end":{"line":211,"column":15}},"112":{"start":{"line":212,"column":12},"end":{"line":212,"column":32}},"113":{"start":{"line":213,"column":12},"end":{"line":213,"column":18}},"114":{"start":{"line":216,"column":12},"end":{"line":216,"column":32}},"115":{"start":{"line":217,"column":12},"end":{"line":217,"column":32}},"116":{"start":{"line":218,"column":12},"end":{"line":218,"column":83}},"117":{"start":{"line":221,"column":12},"end":{"line":221,"column":42}},"118":{"start":{"line":222,"column":12},"end":{"line":222,"column":50}},"119":{"start":{"line":226,"column":12},"end":{"line":226,"column":36}},"120":{"start":{"line":232,"column":2},"end":{"line":234,"column":4}},"121":{"start":{"line":233,"column":4},"end":{"line":233,"column":40}},"122":{"start":{"line":237,"column":20},"end":{"line":237,"column":56}},"123":{"start":{"line":238,"column":0},"end":{"line":238,"column":38}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":31}},"loc":{"start":{"line":20,"column":37},"end":{"line":20,"column":97}},"line":20},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":27}},"loc":{"start":{"line":22,"column":75},"end":{"line":22,"column":265}},"line":22},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":24,"column":9},"end":{"line":24,"column":26}},"loc":{"start":{"line":24,"column":31},"end":{"line":24,"column":389}},"line":24},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":40},"end":{"line":24,"column":41}},"loc":{"start":{"line":24,"column":52},"end":{"line":24,"column":386}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":24,"column":108},"end":{"line":24,"column":109}},"loc":{"start":{"line":24,"column":135},"end":{"line":24,"column":382}},"line":24},"5":{"name":"_next","decl":{"start":{"line":24,"column":178},"end":{"line":24,"column":183}},"loc":{"start":{"line":24,"column":191},"end":{"line":24,"column":266}},"line":24},"6":{"name":"_throw","decl":{"start":{"line":24,"column":276},"end":{"line":24,"column":282}},"loc":{"start":{"line":24,"column":288},"end":{"line":24,"column":362}},"line":24},"7":{"name":"decoder","decl":{"start":{"line":30,"column":23},"end":{"line":30,"column":30}},"loc":{"start":{"line":30,"column":67},"end":{"line":45,"column":1}},"line":30},"8":{"name":"(anonymous_8)","decl":{"start":{"line":31,"column":33},"end":{"line":31,"column":34}},"loc":{"start":{"line":31,"column":54},"end":{"line":44,"column":3}},"line":31},"9":{"name":"(anonymous_9)","decl":{"start":{"line":49,"column":0},"end":{"line":49,"column":1}},"loc":{"start":{"line":49,"column":12},"end":{"line":70,"column":1}},"line":49},"10":{"name":"_callee","decl":{"start":{"line":52,"column":35},"end":{"line":52,"column":42}},"loc":{"start":{"line":52,"column":76},"end":{"line":65,"column":3}},"line":52},"11":{"name":"_callee$","decl":{"start":{"line":53,"column":44},"end":{"line":53,"column":52}},"loc":{"start":{"line":53,"column":63},"end":{"line":64,"column":5}},"line":53},"12":{"name":"_decode","decl":{"start":{"line":67,"column":18},"end":{"line":67,"column":25}},"loc":{"start":{"line":67,"column":40},"end":{"line":69,"column":3}},"line":67},"13":{"name":"encoder","decl":{"start":{"line":75,"column":23},"end":{"line":75,"column":30}},"loc":{"start":{"line":75,"column":61},"end":{"line":90,"column":1}},"line":75},"14":{"name":"(anonymous_14)","decl":{"start":{"line":76,"column":33},"end":{"line":76,"column":34}},"loc":{"start":{"line":76,"column":54},"end":{"line":89,"column":3}},"line":76},"15":{"name":"_encode","decl":{"start":{"line":92,"column":23},"end":{"line":92,"column":30}},"loc":{"start":{"line":92,"column":58},"end":{"line":94,"column":1}},"line":92},"16":{"name":"(anonymous_16)","decl":{"start":{"line":102,"column":0},"end":{"line":102,"column":1}},"loc":{"start":{"line":102,"column":12},"end":{"line":123,"column":1}},"line":102},"17":{"name":"_callee2","decl":{"start":{"line":105,"column":35},"end":{"line":105,"column":43}},"loc":{"start":{"line":105,"column":71},"end":{"line":118,"column":3}},"line":105},"18":{"name":"_callee2$","decl":{"start":{"line":106,"column":44},"end":{"line":106,"column":53}},"loc":{"start":{"line":106,"column":65},"end":{"line":117,"column":5}},"line":106},"19":{"name":"_encodeRequest","decl":{"start":{"line":120,"column":18},"end":{"line":120,"column":32}},"loc":{"start":{"line":120,"column":48},"end":{"line":122,"column":3}},"line":120},"20":{"name":"_decodeResponse","decl":{"start":{"line":128,"column":31},"end":{"line":128,"column":46}},"loc":{"start":{"line":128,"column":80},"end":{"line":130,"column":1}},"line":128},"21":{"name":"_encodeBody","decl":{"start":{"line":135,"column":27},"end":{"line":135,"column":38}},"loc":{"start":{"line":135,"column":59},"end":{"line":137,"column":1}},"line":135},"22":{"name":"_decodeBody","decl":{"start":{"line":142,"column":27},"end":{"line":142,"column":38}},"loc":{"start":{"line":142,"column":59},"end":{"line":144,"column":1}},"line":142},"23":{"name":"(anonymous_23)","decl":{"start":{"line":151,"column":0},"end":{"line":151,"column":1}},"loc":{"start":{"line":151,"column":12},"end":{"line":235,"column":1}},"line":151},"24":{"name":"_callee4","decl":{"start":{"line":154,"column":35},"end":{"line":154,"column":43}},"loc":{"start":{"line":154,"column":83},"end":{"line":230,"column":3}},"line":154},"25":{"name":"_callee4$","decl":{"start":{"line":156,"column":44},"end":{"line":156,"column":53}},"loc":{"start":{"line":156,"column":65},"end":{"line":229,"column":5}},"line":156},"26":{"name":"(anonymous_26)","decl":{"start":{"line":163,"column":12},"end":{"line":163,"column":13}},"loc":{"start":{"line":163,"column":24},"end":{"line":190,"column":13}},"line":163},"27":{"name":"_callee3","decl":{"start":{"line":166,"column":47},"end":{"line":166,"column":55}},"loc":{"start":{"line":166,"column":59},"end":{"line":185,"column":15}},"line":166},"28":{"name":"_callee3$","decl":{"start":{"line":167,"column":56},"end":{"line":167,"column":65}},"loc":{"start":{"line":167,"column":77},"end":{"line":184,"column":17}},"line":167},"29":{"name":"(anonymous_29)","decl":{"start":{"line":187,"column":21},"end":{"line":187,"column":22}},"loc":{"start":{"line":187,"column":37},"end":{"line":189,"column":15}},"line":187},"30":{"name":"_protoResponse","decl":{"start":{"line":232,"column":18},"end":{"line":232,"column":32}},"loc":{"start":{"line":232,"column":54},"end":{"line":234,"column":3}},"line":232}},"branchMap":{"0":{"loc":{"start":{"line":20,"column":46},"end":{"line":20,"column":94}},"type":"cond-expr","locations":[{"start":{"line":20,"column":70},"end":{"line":20,"column":73}},{"start":{"line":20,"column":76},"end":{"line":20,"column":94}}],"line":20},"1":{"loc":{"start":{"line":20,"column":46},"end":{"line":20,"column":67}},"type":"binary-expr","locations":[{"start":{"line":20,"column":46},"end":{"line":20,"column":49}},{"start":{"line":20,"column":53},"end":{"line":20,"column":67}}],"line":20},"2":{"loc":{"start":{"line":22,"column":176},"end":{"line":22,"column":263}},"type":"if","locations":[{"start":{"line":22,"column":176},"end":{"line":22,"column":263}},{"start":{"line":22,"column":176},"end":{"line":22,"column":263}}],"line":22},"3":{"loc":{"start":{"line":32,"column":4},"end":{"line":43,"column":5}},"type":"if","locations":[{"start":{"line":32,"column":4},"end":{"line":43,"column":5}},{"start":{"line":32,"column":4},"end":{"line":43,"column":5}}],"line":32},"4":{"loc":{"start":{"line":32,"column":8},"end":{"line":32,"column":20}},"type":"binary-expr","locations":[{"start":{"line":32,"column":8},"end":{"line":32,"column":12}},{"start":{"line":32,"column":16},"end":{"line":32,"column":20}}],"line":32},"5":{"loc":{"start":{"line":41,"column":11},"end":{"line":43,"column":5}},"type":"if","locations":[{"start":{"line":41,"column":11},"end":{"line":43,"column":5}},{"start":{"line":41,"column":11},"end":{"line":43,"column":5}}],"line":41},"6":{"loc":{"start":{"line":55,"column":8},"end":{"line":62,"column":9}},"type":"switch","locations":[{"start":{"line":56,"column":10},"end":{"line":57,"column":64}},{"start":{"line":59,"column":10},"end":{"line":59,"column":17}},{"start":{"line":60,"column":10},"end":{"line":61,"column":35}}],"line":55},"7":{"loc":{"start":{"line":77,"column":4},"end":{"line":88,"column":5}},"type":"if","locations":[{"start":{"line":77,"column":4},"end":{"line":88,"column":5}},{"start":{"line":77,"column":4},"end":{"line":88,"column":5}}],"line":77},"8":{"loc":{"start":{"line":77,"column":8},"end":{"line":77,"column":20}},"type":"binary-expr","locations":[{"start":{"line":77,"column":8},"end":{"line":77,"column":12}},{"start":{"line":77,"column":16},"end":{"line":77,"column":20}}],"line":77},"9":{"loc":{"start":{"line":108,"column":8},"end":{"line":115,"column":9}},"type":"switch","locations":[{"start":{"line":109,"column":10},"end":{"line":110,"column":38}},{"start":{"line":112,"column":10},"end":{"line":112,"column":17}},{"start":{"line":113,"column":10},"end":{"line":114,"column":36}}],"line":108},"10":{"loc":{"start":{"line":158,"column":8},"end":{"line":227,"column":9}},"type":"switch","locations":[{"start":{"line":159,"column":10},"end":{"line":190,"column":17}},{"start":{"line":192,"column":10},"end":{"line":213,"column":18}},{"start":{"line":215,"column":10},"end":{"line":218,"column":83}},{"start":{"line":220,"column":10},"end":{"line":222,"column":50}},{"start":{"line":224,"column":10},"end":{"line":224,"column":18}},{"start":{"line":225,"column":10},"end":{"line":226,"column":36}}],"line":158},"11":{"loc":{"start":{"line":169,"column":20},"end":{"line":182,"column":21}},"type":"switch","locations":[{"start":{"line":170,"column":22},"end":{"line":173,"column":59}},{"start":{"line":175,"column":22},"end":{"line":177,"column":97}},{"start":{"line":179,"column":22},"end":{"line":179,"column":29}},{"start":{"line":180,"column":22},"end":{"line":181,"column":48}}],"line":169},"12":{"loc":{"start":{"line":195,"column":12},"end":{"line":198,"column":13}},"type":"if","locations":[{"start":{"line":195,"column":12},"end":{"line":198,"column":13}},{"start":{"line":195,"column":12},"end":{"line":198,"column":13}}],"line":195}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":47,"10":47,"11":47,"12":0,"13":0,"14":47,"15":31,"16":16,"17":19,"18":31,"19":31,"20":31,"21":31,"22":47,"23":0,"24":31,"25":1,"26":1,"27":1,"28":1,"29":17,"30":17,"31":17,"32":17,"33":17,"34":17,"35":17,"36":0,"37":0,"38":0,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":33,"52":33,"53":33,"54":33,"55":33,"56":33,"57":31,"58":2,"59":0,"60":1,"61":19,"62":1,"63":1,"64":1,"65":1,"66":14,"67":14,"68":14,"69":14,"70":14,"71":1,"72":14,"73":1,"74":1,"75":1,"76":2,"77":1,"78":1,"79":1,"80":14,"81":1,"82":1,"83":1,"84":14,"85":1,"86":1,"87":1,"88":1,"89":16,"90":32,"91":48,"92":16,"93":16,"94":16,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":16,"105":0,"106":16,"107":16,"108":0,"109":0,"110":16,"111":16,"112":16,"113":16,"114":0,"115":0,"116":0,"117":0,"118":0,"119":16,"120":1,"121":16,"122":1,"123":1},"f":{"0":1,"1":47,"2":19,"3":31,"4":31,"5":47,"6":0,"7":17,"8":17,"9":1,"10":1,"11":1,"12":1,"13":33,"14":33,"15":19,"16":1,"17":14,"18":14,"19":14,"20":2,"21":14,"22":14,"23":1,"24":16,"25":32,"26":16,"27":0,"28":0,"29":0,"30":16},"b":{"0":[0,1],"1":[1,1],"2":[31,16],"3":[17,0],"4":[17,17],"5":[0,0],"6":[1,1,1],"7":[33,0],"8":[33,33],"9":[14,14,14],"10":[16,16,0,0,16,16],"11":[0,0,0,0],"12":[0,16]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["definitionsDirectory","__dirname","resBundle","reqBundle","decoder","p","base64Buffer","messageType","done","protobuf","load","err","root","MsgType","lookupType","message","decode","Buffer","from","obj","toObject","e","_decode","encoder","output","create","enc","encode","finish","_encode","_encodeRequest","_encodeBody","encodeRequest","_decodeResponse","decodeResponse","encodeBody","_decodeBody","decodeBody","_protoResponse","statusCode","buffer","body","toString","headers","Accept","ALLOW_ORIGIN","Action","isBase64Encoded","protoResponse"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\proto","sourcesContent":["import { resolve } from 'path'\r\nimport protobuf from 'protobufjs'\r\nimport { promisify } from 'util'\r\n\r\nimport { ALLOW_ORIGIN } from '../../config'\r\nimport { sendErr } from '../utils'\r\nimport { t } from '../translations'\r\nconst definitionsDirectory = resolve(__dirname, '../schemas')\r\nconst resBundle = resolve(definitionsDirectory, 'resBundle.json')\r\nconst reqBundle = resolve(definitionsDirectory, 'reqBundle.json')\r\n\r\nconst decoder = (p, base64Buffer, messageType, done) => {\r\n  protobuf.load(p, (err, root) => {\r\n    if (!err && root) {\r\n      try {\r\n        const MsgType = root.lookupType(messageType)\r\n        const message = MsgType.decode(Buffer.from(base64Buffer, 'base64'))\r\n        const obj = MsgType.toObject(message)\r\n        done(null, obj)\r\n      } catch (e) {\r\n        done(e.message)\r\n      }\r\n    } else if (err) {\r\n      done(err.message)\r\n    }\r\n  })\r\n}\r\n\r\nconst _decode = async (base64Buffer, messageType, done) => {\r\n  decoder(reqBundle, base64Buffer, messageType, done)\r\n}\r\n\r\nexport const decode = promisify(_decode)\r\n\r\nconst encoder = (p, output, messageType, done) => {\r\n  protobuf.load(p, (err, root) => {\r\n    if (!err && root) {\r\n      try {\r\n        const MsgType = root.lookupType(messageType)\r\n        const message = MsgType.create(output)\r\n        const enc = MsgType.encode(message).finish()\r\n        done(null, enc)\r\n      } catch (e) {\r\n        done(e.message)\r\n      }\r\n    } else {\r\n      done(err.message)\r\n    }\r\n  })\r\n}\r\n\r\nconst _encode = (output, messageType, done) => {\r\n  encoder(resBundle, output, messageType, done)\r\n}\r\n\r\nexport const encode = promisify(_encode)\r\n\r\n// @TODO remove messageType\r\nconst _encodeRequest = async (output, messageType, done) => {\r\n  _encodeBody(output, done)\r\n}\r\n\r\nexport const encodeRequest = promisify(_encodeRequest)\r\n\r\nconst _decodeResponse = (base64Buffer, messageType, done) => {\r\n  decoder(resBundle, base64Buffer, messageType, done)\r\n}\r\n\r\nexport const decodeResponse = promisify(_decodeResponse)\r\n\r\nconst _encodeBody = (base64Buffer, done) => {\r\n  encoder(resBundle, base64Buffer, 'Body', done)\r\n}\r\n\r\nexport const encodeBody = promisify(_encodeBody)\r\n\r\nconst _decodeBody = (base64Buffer, done) => {\r\n  decoder(reqBundle, base64Buffer, 'Body', done)\r\n}\r\n\r\nexport const decodeBody = promisify(_decodeBody)\r\n\r\nconst _protoResponse = async (statusCode, output, messageType, done) => {\r\n  const buffer = await encode(output, messageType).catch(async (e) => done(null, await sendErr(500, e)))\r\n  if (buffer) {\r\n    const body = buffer.toString('base64')\r\n    done(null, {\r\n      statusCode,\r\n      headers: {\r\n        'Content-Type': 'application/x-protobuf',\r\n        Accept: 'application/x-protobuf',\r\n        'Access-Control-Allow-Origin': ALLOW_ORIGIN,\r\n        Action: messageType\r\n      },\r\n      body,\r\n      isBase64Encoded: true\r\n    })\r\n  } else {\r\n    done(null, await sendErr(500, t('error.unknown')))\r\n  }\r\n}\r\n\r\nexport const protoResponse = promisify(_protoResponse)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"377f22f56207c10600230bf8baf63054439c10cb","contentHash":"0d8b02abfe9b0872cf557312156d2cbc969cdaa7e7fcff13c7067c1b6fd223d3"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\utils\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\utils\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":169}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":51}},"3":{"start":{"line":10,"column":13},"end":{"line":10,"column":53}},"4":{"start":{"line":12,"column":19},"end":{"line":12,"column":41}},"5":{"start":{"line":14,"column":13},"end":{"line":14,"column":53}},"6":{"start":{"line":16,"column":12},"end":{"line":16,"column":27}},"7":{"start":{"line":18,"column":15},"end":{"line":18,"column":33}},"8":{"start":{"line":20,"column":13},"end":{"line":20,"column":32}},"9":{"start":{"line":22,"column":10},"end":{"line":22,"column":50}},"10":{"start":{"line":24,"column":20},"end":{"line":24,"column":46}},"11":{"start":{"line":26,"column":12},"end":{"line":26,"column":30}},"12":{"start":{"line":28,"column":16},"end":{"line":28,"column":41}},"13":{"start":{"line":30,"column":39},"end":{"line":30,"column":95}},"14":{"start":{"line":32,"column":24},"end":{"line":32,"column":328}},"15":{"start":{"line":32,"column":99},"end":{"line":32,"column":154}},"16":{"start":{"line":32,"column":133},"end":{"line":32,"column":151}},"17":{"start":{"line":32,"column":164},"end":{"line":32,"column":326}},"18":{"start":{"line":32,"column":198},"end":{"line":32,"column":323}},"19":{"start":{"line":32,"column":329},"end":{"line":32,"column":349}},"20":{"start":{"line":34,"column":77},"end":{"line":34,"column":175}},"21":{"start":{"line":34,"column":94},"end":{"line":34,"column":107}},"22":{"start":{"line":34,"column":121},"end":{"line":34,"column":131}},"23":{"start":{"line":34,"column":151},"end":{"line":34,"column":165}},"24":{"start":{"line":34,"column":166},"end":{"line":34,"column":173}},"25":{"start":{"line":34,"column":176},"end":{"line":34,"column":263}},"26":{"start":{"line":34,"column":193},"end":{"line":34,"column":208}},"27":{"start":{"line":34,"column":218},"end":{"line":34,"column":261}},"28":{"start":{"line":36,"column":33},"end":{"line":36,"column":387}},"29":{"start":{"line":36,"column":65},"end":{"line":36,"column":69}},"30":{"start":{"line":36,"column":78},"end":{"line":36,"column":87}},"31":{"start":{"line":36,"column":89},"end":{"line":36,"column":384}},"32":{"start":{"line":36,"column":147},"end":{"line":36,"column":167}},"33":{"start":{"line":36,"column":193},"end":{"line":36,"column":264}},"34":{"start":{"line":36,"column":290},"end":{"line":36,"column":360}},"35":{"start":{"line":36,"column":363},"end":{"line":36,"column":380}},"36":{"start":{"line":40,"column":0},"end":{"line":67,"column":3}},"37":{"start":{"line":41,"column":13},"end":{"line":62,"column":5}},"38":{"start":{"line":44,"column":4},"end":{"line":61,"column":16}},"39":{"start":{"line":45,"column":6},"end":{"line":60,"column":7}},"40":{"start":{"line":46,"column":8},"end":{"line":59,"column":9}},"41":{"start":{"line":48,"column":12},"end":{"line":48,"column":30}},"42":{"start":{"line":49,"column":12},"end":{"line":51,"column":24}},"43":{"start":{"line":54,"column":12},"end":{"line":54,"column":60}},"44":{"start":{"line":58,"column":12},"end":{"line":58,"column":35}},"45":{"start":{"line":64,"column":2},"end":{"line":66,"column":4}},"46":{"start":{"line":65,"column":4},"end":{"line":65,"column":39}},"47":{"start":{"line":69,"column":0},"end":{"line":69,"column":26}},"48":{"start":{"line":73,"column":0},"end":{"line":100,"column":3}},"49":{"start":{"line":74,"column":14},"end":{"line":95,"column":5}},"50":{"start":{"line":77,"column":4},"end":{"line":94,"column":17}},"51":{"start":{"line":78,"column":6},"end":{"line":93,"column":7}},"52":{"start":{"line":79,"column":8},"end":{"line":92,"column":9}},"53":{"start":{"line":81,"column":12},"end":{"line":81,"column":31}},"54":{"start":{"line":82,"column":12},"end":{"line":84,"column":21}},"55":{"start":{"line":87,"column":12},"end":{"line":87,"column":62}},"56":{"start":{"line":91,"column":12},"end":{"line":91,"column":36}},"57":{"start":{"line":97,"column":2},"end":{"line":99,"column":4}},"58":{"start":{"line":98,"column":4},"end":{"line":98,"column":40}},"59":{"start":{"line":102,"column":0},"end":{"line":102,"column":24}},"60":{"start":{"line":104,"column":15},"end":{"line":130,"column":1}},"61":{"start":{"line":105,"column":18},"end":{"line":105,"column":104}},"62":{"start":{"line":106,"column":22},"end":{"line":106,"column":100}},"63":{"start":{"line":108,"column":2},"end":{"line":129,"column":3}},"64":{"start":{"line":109,"column":4},"end":{"line":109,"column":69}},"65":{"start":{"line":110,"column":14},"end":{"line":118,"column":6}},"66":{"start":{"line":111,"column":19},"end":{"line":111,"column":33}},"67":{"start":{"line":113,"column":6},"end":{"line":117,"column":7}},"68":{"start":{"line":114,"column":8},"end":{"line":114,"column":15}},"69":{"start":{"line":116,"column":8},"end":{"line":116,"column":49}},"70":{"start":{"line":119,"column":4},"end":{"line":121,"column":7}},"71":{"start":{"line":120,"column":6},"end":{"line":120,"column":24}},"72":{"start":{"line":122,"column":4},"end":{"line":124,"column":7}},"73":{"start":{"line":123,"column":6},"end":{"line":123,"column":50}},"74":{"start":{"line":125,"column":4},"end":{"line":125,"column":29}},"75":{"start":{"line":126,"column":4},"end":{"line":126,"column":14}},"76":{"start":{"line":128,"column":4},"end":{"line":128,"column":49}},"77":{"start":{"line":132,"column":0},"end":{"line":132,"column":28}},"78":{"start":{"line":133,"column":14},"end":{"line":133,"column":44}},"79":{"start":{"line":134,"column":0},"end":{"line":134,"column":26}},"80":{"start":{"line":136,"column":22},"end":{"line":212,"column":1}},"81":{"start":{"line":137,"column":2},"end":{"line":211,"column":3}},"82":{"start":{"line":138,"column":4},"end":{"line":173,"column":9}},"83":{"start":{"line":141,"column":18},"end":{"line":168,"column":9}},"84":{"start":{"line":144,"column":8},"end":{"line":167,"column":21}},"85":{"start":{"line":145,"column":10},"end":{"line":166,"column":11}},"86":{"start":{"line":146,"column":12},"end":{"line":165,"column":13}},"87":{"start":{"line":148,"column":16},"end":{"line":160,"column":17}},"88":{"start":{"line":149,"column":18},"end":{"line":154,"column":21}},"89":{"start":{"line":156,"column":18},"end":{"line":159,"column":21}},"90":{"start":{"line":164,"column":16},"end":{"line":164,"column":40}},"91":{"start":{"line":170,"column":6},"end":{"line":172,"column":8}},"92":{"start":{"line":171,"column":8},"end":{"line":171,"column":44}},"93":{"start":{"line":175,"column":4},"end":{"line":210,"column":9}},"94":{"start":{"line":178,"column":18},"end":{"line":205,"column":9}},"95":{"start":{"line":181,"column":8},"end":{"line":204,"column":21}},"96":{"start":{"line":182,"column":10},"end":{"line":203,"column":11}},"97":{"start":{"line":183,"column":12},"end":{"line":202,"column":13}},"98":{"start":{"line":185,"column":16},"end":{"line":197,"column":17}},"99":{"start":{"line":186,"column":18},"end":{"line":191,"column":21}},"100":{"start":{"line":193,"column":18},"end":{"line":196,"column":21}},"101":{"start":{"line":201,"column":16},"end":{"line":201,"column":40}},"102":{"start":{"line":207,"column":6},"end":{"line":209,"column":8}},"103":{"start":{"line":208,"column":8},"end":{"line":208,"column":44}},"104":{"start":{"line":214,"column":0},"end":{"line":214,"column":42}},"105":{"start":{"line":218,"column":0},"end":{"line":263,"column":3}},"106":{"start":{"line":219,"column":14},"end":{"line":258,"column":5}},"107":{"start":{"line":223,"column":4},"end":{"line":257,"column":17}},"108":{"start":{"line":224,"column":6},"end":{"line":256,"column":7}},"109":{"start":{"line":225,"column":8},"end":{"line":255,"column":9}},"110":{"start":{"line":227,"column":12},"end":{"line":230,"column":13}},"111":{"start":{"line":228,"column":14},"end":{"line":228,"column":33}},"112":{"start":{"line":229,"column":14},"end":{"line":229,"column":20}},"113":{"start":{"line":232,"column":12},"end":{"line":232,"column":31}},"114":{"start":{"line":233,"column":12},"end":{"line":235,"column":15}},"115":{"start":{"line":234,"column":14},"end":{"line":234,"column":39}},"116":{"start":{"line":238,"column":12},"end":{"line":238,"column":31}},"117":{"start":{"line":240,"column":12},"end":{"line":244,"column":13}},"118":{"start":{"line":241,"column":14},"end":{"line":241,"column":32}},"119":{"start":{"line":243,"column":14},"end":{"line":243,"column":32}},"120":{"start":{"line":246,"column":12},"end":{"line":246,"column":31}},"121":{"start":{"line":247,"column":12},"end":{"line":247,"column":18}},"122":{"start":{"line":250,"column":12},"end":{"line":250,"column":30}},"123":{"start":{"line":254,"column":12},"end":{"line":254,"column":36}},"124":{"start":{"line":260,"column":2},"end":{"line":262,"column":4}},"125":{"start":{"line":261,"column":4},"end":{"line":261,"column":40}},"126":{"start":{"line":265,"column":17},"end":{"line":265,"column":50}},"127":{"start":{"line":266,"column":0},"end":{"line":266,"column":32}},"128":{"start":{"line":270,"column":0},"end":{"line":315,"column":3}},"129":{"start":{"line":271,"column":14},"end":{"line":310,"column":5}},"130":{"start":{"line":275,"column":4},"end":{"line":309,"column":17}},"131":{"start":{"line":276,"column":6},"end":{"line":308,"column":7}},"132":{"start":{"line":277,"column":8},"end":{"line":307,"column":9}},"133":{"start":{"line":279,"column":12},"end":{"line":279,"column":31}},"134":{"start":{"line":280,"column":12},"end":{"line":282,"column":15}},"135":{"start":{"line":281,"column":14},"end":{"line":281,"column":29}},"136":{"start":{"line":285,"column":12},"end":{"line":285,"column":42}},"137":{"start":{"line":286,"column":12},"end":{"line":286,"column":31}},"138":{"start":{"line":287,"column":12},"end":{"line":289,"column":15}},"139":{"start":{"line":288,"column":14},"end":{"line":288,"column":29}},"140":{"start":{"line":292,"column":12},"end":{"line":292,"column":40}},"141":{"start":{"line":294,"column":12},"end":{"line":302,"column":13}},"142":{"start":{"line":295,"column":14},"end":{"line":298,"column":16}},"143":{"start":{"line":299,"column":14},"end":{"line":299,"column":30}},"144":{"start":{"line":301,"column":14},"end":{"line":301,"column":63}},"145":{"start":{"line":306,"column":12},"end":{"line":306,"column":36}},"146":{"start":{"line":312,"column":2},"end":{"line":314,"column":4}},"147":{"start":{"line":313,"column":4},"end":{"line":313,"column":40}},"148":{"start":{"line":317,"column":20},"end":{"line":317,"column":56}},"149":{"start":{"line":318,"column":0},"end":{"line":318,"column":38}},"150":{"start":{"line":322,"column":0},"end":{"line":450,"column":3}},"151":{"start":{"line":323,"column":14},"end":{"line":445,"column":5}},"152":{"start":{"line":327,"column":4},"end":{"line":444,"column":17}},"153":{"start":{"line":328,"column":6},"end":{"line":443,"column":7}},"154":{"start":{"line":329,"column":8},"end":{"line":442,"column":9}},"155":{"start":{"line":331,"column":12},"end":{"line":331,"column":31}},"156":{"start":{"line":332,"column":12},"end":{"line":361,"column":17}},"157":{"start":{"line":335,"column":26},"end":{"line":356,"column":17}},"158":{"start":{"line":338,"column":16},"end":{"line":355,"column":29}},"159":{"start":{"line":339,"column":18},"end":{"line":354,"column":19}},"160":{"start":{"line":340,"column":20},"end":{"line":353,"column":21}},"161":{"start":{"line":342,"column":24},"end":{"line":342,"column":44}},"162":{"start":{"line":343,"column":24},"end":{"line":343,"column":43}},"163":{"start":{"line":344,"column":24},"end":{"line":344,"column":47}},"164":{"start":{"line":347,"column":24},"end":{"line":347,"column":54}},"165":{"start":{"line":348,"column":24},"end":{"line":348,"column":97}},"166":{"start":{"line":352,"column":24},"end":{"line":352,"column":48}},"167":{"start":{"line":358,"column":14},"end":{"line":360,"column":16}},"168":{"start":{"line":359,"column":16},"end":{"line":359,"column":52}},"169":{"start":{"line":364,"column":12},"end":{"line":364,"column":37}},"170":{"start":{"line":366,"column":12},"end":{"line":369,"column":13}},"171":{"start":{"line":367,"column":14},"end":{"line":367,"column":34}},"172":{"start":{"line":368,"column":14},"end":{"line":368,"column":20}},"173":{"start":{"line":371,"column":12},"end":{"line":371,"column":44}},"174":{"start":{"line":372,"column":12},"end":{"line":372,"column":132}},"175":{"start":{"line":373,"column":12},"end":{"line":373,"column":31}},"176":{"start":{"line":374,"column":12},"end":{"line":424,"column":17}},"177":{"start":{"line":377,"column":26},"end":{"line":419,"column":17}},"178":{"start":{"line":380,"column":16},"end":{"line":418,"column":29}},"179":{"start":{"line":381,"column":18},"end":{"line":417,"column":19}},"180":{"start":{"line":382,"column":20},"end":{"line":416,"column":21}},"181":{"start":{"line":384,"column":24},"end":{"line":387,"column":25}},"182":{"start":{"line":385,"column":26},"end":{"line":385,"column":45}},"183":{"start":{"line":386,"column":26},"end":{"line":386,"column":32}},"184":{"start":{"line":389,"column":24},"end":{"line":389,"column":44}},"185":{"start":{"line":390,"column":24},"end":{"line":390,"column":43}},"186":{"start":{"line":391,"column":24},"end":{"line":391,"column":89}},"187":{"start":{"line":394,"column":24},"end":{"line":394,"column":54}},"188":{"start":{"line":395,"column":24},"end":{"line":395,"column":62}},"189":{"start":{"line":396,"column":24},"end":{"line":396,"column":44}},"190":{"start":{"line":397,"column":24},"end":{"line":397,"column":30}},"191":{"start":{"line":400,"column":24},"end":{"line":403,"column":25}},"192":{"start":{"line":401,"column":26},"end":{"line":401,"column":46}},"193":{"start":{"line":402,"column":26},"end":{"line":402,"column":32}},"194":{"start":{"line":405,"column":24},"end":{"line":405,"column":44}},"195":{"start":{"line":406,"column":24},"end":{"line":406,"column":44}},"196":{"start":{"line":407,"column":24},"end":{"line":407,"column":53}},"197":{"start":{"line":410,"column":24},"end":{"line":410,"column":54}},"198":{"start":{"line":411,"column":24},"end":{"line":411,"column":62}},"199":{"start":{"line":415,"column":24},"end":{"line":415,"column":48}},"200":{"start":{"line":421,"column":14},"end":{"line":423,"column":16}},"201":{"start":{"line":422,"column":16},"end":{"line":422,"column":52}},"202":{"start":{"line":427,"column":12},"end":{"line":427,"column":32}},"203":{"start":{"line":428,"column":12},"end":{"line":428,"column":18}},"204":{"start":{"line":431,"column":12},"end":{"line":431,"column":32}},"205":{"start":{"line":432,"column":12},"end":{"line":432,"column":32}},"206":{"start":{"line":433,"column":12},"end":{"line":433,"column":76}},"207":{"start":{"line":436,"column":12},"end":{"line":436,"column":42}},"208":{"start":{"line":437,"column":12},"end":{"line":437,"column":50}},"209":{"start":{"line":441,"column":12},"end":{"line":441,"column":36}},"210":{"start":{"line":447,"column":2},"end":{"line":449,"column":4}},"211":{"start":{"line":448,"column":4},"end":{"line":448,"column":40}},"212":{"start":{"line":452,"column":15},"end":{"line":452,"column":46}},"213":{"start":{"line":453,"column":0},"end":{"line":453,"column":28}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":30,"column":9},"end":{"line":30,"column":31}},"loc":{"start":{"line":30,"column":37},"end":{"line":30,"column":97}},"line":30},"1":{"name":"_typeof","decl":{"start":{"line":32,"column":9},"end":{"line":32,"column":16}},"loc":{"start":{"line":32,"column":22},"end":{"line":32,"column":351}},"line":32},"2":{"name":"_typeof","decl":{"start":{"line":32,"column":118},"end":{"line":32,"column":125}},"loc":{"start":{"line":32,"column":131},"end":{"line":32,"column":153}},"line":32},"3":{"name":"_typeof","decl":{"start":{"line":32,"column":183},"end":{"line":32,"column":190}},"loc":{"start":{"line":32,"column":196},"end":{"line":32,"column":325}},"line":32},"4":{"name":"asyncGeneratorStep","decl":{"start":{"line":34,"column":9},"end":{"line":34,"column":27}},"loc":{"start":{"line":34,"column":75},"end":{"line":34,"column":265}},"line":34},"5":{"name":"_asyncToGenerator","decl":{"start":{"line":36,"column":9},"end":{"line":36,"column":26}},"loc":{"start":{"line":36,"column":31},"end":{"line":36,"column":389}},"line":36},"6":{"name":"(anonymous_6)","decl":{"start":{"line":36,"column":40},"end":{"line":36,"column":41}},"loc":{"start":{"line":36,"column":52},"end":{"line":36,"column":386}},"line":36},"7":{"name":"(anonymous_7)","decl":{"start":{"line":36,"column":108},"end":{"line":36,"column":109}},"loc":{"start":{"line":36,"column":135},"end":{"line":36,"column":382}},"line":36},"8":{"name":"_next","decl":{"start":{"line":36,"column":178},"end":{"line":36,"column":183}},"loc":{"start":{"line":36,"column":191},"end":{"line":36,"column":266}},"line":36},"9":{"name":"_throw","decl":{"start":{"line":36,"column":276},"end":{"line":36,"column":282}},"loc":{"start":{"line":36,"column":288},"end":{"line":36,"column":362}},"line":36},"10":{"name":"(anonymous_10)","decl":{"start":{"line":40,"column":0},"end":{"line":40,"column":1}},"loc":{"start":{"line":40,"column":12},"end":{"line":67,"column":1}},"line":40},"11":{"name":"_callee","decl":{"start":{"line":43,"column":35},"end":{"line":43,"column":42}},"loc":{"start":{"line":43,"column":56},"end":{"line":62,"column":3}},"line":43},"12":{"name":"_callee$","decl":{"start":{"line":44,"column":44},"end":{"line":44,"column":52}},"loc":{"start":{"line":44,"column":63},"end":{"line":61,"column":5}},"line":44},"13":{"name":"sendErr","decl":{"start":{"line":64,"column":18},"end":{"line":64,"column":25}},"loc":{"start":{"line":64,"column":35},"end":{"line":66,"column":3}},"line":64},"14":{"name":"(anonymous_14)","decl":{"start":{"line":73,"column":0},"end":{"line":73,"column":1}},"loc":{"start":{"line":73,"column":12},"end":{"line":100,"column":1}},"line":73},"15":{"name":"_callee2","decl":{"start":{"line":76,"column":35},"end":{"line":76,"column":43}},"loc":{"start":{"line":76,"column":46},"end":{"line":95,"column":3}},"line":76},"16":{"name":"_callee2$","decl":{"start":{"line":77,"column":44},"end":{"line":77,"column":53}},"loc":{"start":{"line":77,"column":65},"end":{"line":94,"column":5}},"line":77},"17":{"name":"sendOk","decl":{"start":{"line":97,"column":18},"end":{"line":97,"column":24}},"loc":{"start":{"line":97,"column":27},"end":{"line":99,"column":3}},"line":97},"18":{"name":"_request","decl":{"start":{"line":104,"column":24},"end":{"line":104,"column":32}},"loc":{"start":{"line":104,"column":52},"end":{"line":130,"column":1}},"line":104},"19":{"name":"(anonymous_19)","decl":{"start":{"line":110,"column":37},"end":{"line":110,"column":38}},"loc":{"start":{"line":110,"column":52},"end":{"line":118,"column":5}},"line":110},"20":{"name":"(anonymous_20)","decl":{"start":{"line":119,"column":20},"end":{"line":119,"column":21}},"loc":{"start":{"line":119,"column":35},"end":{"line":121,"column":5}},"line":119},"21":{"name":"(anonymous_21)","decl":{"start":{"line":122,"column":22},"end":{"line":122,"column":23}},"loc":{"start":{"line":122,"column":34},"end":{"line":124,"column":5}},"line":122},"22":{"name":"finalizeRequest","decl":{"start":{"line":136,"column":31},"end":{"line":136,"column":46}},"loc":{"start":{"line":136,"column":84},"end":{"line":212,"column":1}},"line":136},"23":{"name":"(anonymous_23)","decl":{"start":{"line":140,"column":4},"end":{"line":140,"column":5}},"loc":{"start":{"line":140,"column":16},"end":{"line":173,"column":5}},"line":140},"24":{"name":"_callee3","decl":{"start":{"line":143,"column":39},"end":{"line":143,"column":47}},"loc":{"start":{"line":143,"column":59},"end":{"line":168,"column":7}},"line":143},"25":{"name":"_callee3$","decl":{"start":{"line":144,"column":48},"end":{"line":144,"column":57}},"loc":{"start":{"line":144,"column":69},"end":{"line":167,"column":9}},"line":144},"26":{"name":"(anonymous_26)","decl":{"start":{"line":170,"column":13},"end":{"line":170,"column":14}},"loc":{"start":{"line":170,"column":33},"end":{"line":172,"column":7}},"line":170},"27":{"name":"(anonymous_27)","decl":{"start":{"line":177,"column":4},"end":{"line":177,"column":5}},"loc":{"start":{"line":177,"column":16},"end":{"line":210,"column":5}},"line":177},"28":{"name":"_callee4","decl":{"start":{"line":180,"column":39},"end":{"line":180,"column":47}},"loc":{"start":{"line":180,"column":59},"end":{"line":205,"column":7}},"line":180},"29":{"name":"_callee4$","decl":{"start":{"line":181,"column":48},"end":{"line":181,"column":57}},"loc":{"start":{"line":181,"column":69},"end":{"line":204,"column":9}},"line":181},"30":{"name":"(anonymous_30)","decl":{"start":{"line":207,"column":13},"end":{"line":207,"column":14}},"loc":{"start":{"line":207,"column":33},"end":{"line":209,"column":7}},"line":207},"31":{"name":"(anonymous_31)","decl":{"start":{"line":218,"column":0},"end":{"line":218,"column":1}},"loc":{"start":{"line":218,"column":12},"end":{"line":263,"column":1}},"line":218},"32":{"name":"_callee5","decl":{"start":{"line":221,"column":35},"end":{"line":221,"column":43}},"loc":{"start":{"line":221,"column":57},"end":{"line":258,"column":3}},"line":221},"33":{"name":"_callee5$","decl":{"start":{"line":223,"column":44},"end":{"line":223,"column":53}},"loc":{"start":{"line":223,"column":65},"end":{"line":257,"column":5}},"line":223},"34":{"name":"(anonymous_34)","decl":{"start":{"line":233,"column":58},"end":{"line":233,"column":59}},"loc":{"start":{"line":233,"column":70},"end":{"line":235,"column":13}},"line":233},"35":{"name":"_validEmail","decl":{"start":{"line":260,"column":18},"end":{"line":260,"column":29}},"loc":{"start":{"line":260,"column":40},"end":{"line":262,"column":3}},"line":260},"36":{"name":"(anonymous_36)","decl":{"start":{"line":270,"column":0},"end":{"line":270,"column":1}},"loc":{"start":{"line":270,"column":12},"end":{"line":315,"column":1}},"line":270},"37":{"name":"_callee6","decl":{"start":{"line":273,"column":35},"end":{"line":273,"column":43}},"loc":{"start":{"line":273,"column":57},"end":{"line":310,"column":3}},"line":273},"38":{"name":"_callee6$","decl":{"start":{"line":275,"column":44},"end":{"line":275,"column":53}},"loc":{"start":{"line":275,"column":65},"end":{"line":309,"column":5}},"line":275},"39":{"name":"(anonymous_39)","decl":{"start":{"line":280,"column":58},"end":{"line":280,"column":59}},"loc":{"start":{"line":280,"column":71},"end":{"line":282,"column":13}},"line":280},"40":{"name":"(anonymous_40)","decl":{"start":{"line":287,"column":61},"end":{"line":287,"column":62}},"loc":{"start":{"line":287,"column":74},"end":{"line":289,"column":13}},"line":287},"41":{"name":"_decodeRequest","decl":{"start":{"line":312,"column":18},"end":{"line":312,"column":32}},"loc":{"start":{"line":312,"column":44},"end":{"line":314,"column":3}},"line":312},"42":{"name":"(anonymous_42)","decl":{"start":{"line":322,"column":0},"end":{"line":322,"column":1}},"loc":{"start":{"line":322,"column":12},"end":{"line":450,"column":1}},"line":322},"43":{"name":"_callee9","decl":{"start":{"line":325,"column":35},"end":{"line":325,"column":43}},"loc":{"start":{"line":325,"column":57},"end":{"line":445,"column":3}},"line":325},"44":{"name":"_callee9$","decl":{"start":{"line":327,"column":44},"end":{"line":327,"column":53}},"loc":{"start":{"line":327,"column":65},"end":{"line":444,"column":5}},"line":327},"45":{"name":"(anonymous_45)","decl":{"start":{"line":334,"column":12},"end":{"line":334,"column":13}},"loc":{"start":{"line":334,"column":24},"end":{"line":361,"column":13}},"line":334},"46":{"name":"_callee7","decl":{"start":{"line":337,"column":47},"end":{"line":337,"column":55}},"loc":{"start":{"line":337,"column":59},"end":{"line":356,"column":15}},"line":337},"47":{"name":"_callee7$","decl":{"start":{"line":338,"column":56},"end":{"line":338,"column":65}},"loc":{"start":{"line":338,"column":77},"end":{"line":355,"column":17}},"line":338},"48":{"name":"(anonymous_48)","decl":{"start":{"line":358,"column":21},"end":{"line":358,"column":22}},"loc":{"start":{"line":358,"column":37},"end":{"line":360,"column":15}},"line":358},"49":{"name":"(anonymous_49)","decl":{"start":{"line":376,"column":12},"end":{"line":376,"column":13}},"loc":{"start":{"line":376,"column":24},"end":{"line":424,"column":13}},"line":376},"50":{"name":"_callee8","decl":{"start":{"line":379,"column":47},"end":{"line":379,"column":55}},"loc":{"start":{"line":379,"column":64},"end":{"line":419,"column":15}},"line":379},"51":{"name":"_callee8$","decl":{"start":{"line":380,"column":56},"end":{"line":380,"column":65}},"loc":{"start":{"line":380,"column":77},"end":{"line":418,"column":17}},"line":380},"52":{"name":"(anonymous_52)","decl":{"start":{"line":421,"column":21},"end":{"line":421,"column":22}},"loc":{"start":{"line":421,"column":43},"end":{"line":423,"column":15}},"line":421},"53":{"name":"_response","decl":{"start":{"line":447,"column":18},"end":{"line":447,"column":27}},"loc":{"start":{"line":447,"column":40},"end":{"line":449,"column":3}},"line":447}},"branchMap":{"0":{"loc":{"start":{"line":30,"column":46},"end":{"line":30,"column":94}},"type":"cond-expr","locations":[{"start":{"line":30,"column":70},"end":{"line":30,"column":73}},{"start":{"line":30,"column":76},"end":{"line":30,"column":94}}],"line":30},"1":{"loc":{"start":{"line":30,"column":46},"end":{"line":30,"column":67}},"type":"binary-expr","locations":[{"start":{"line":30,"column":46},"end":{"line":30,"column":49}},{"start":{"line":30,"column":53},"end":{"line":30,"column":67}}],"line":30},"2":{"loc":{"start":{"line":32,"column":24},"end":{"line":32,"column":328}},"type":"if","locations":[{"start":{"line":32,"column":24},"end":{"line":32,"column":328}},{"start":{"line":32,"column":24},"end":{"line":32,"column":328}}],"line":32},"3":{"loc":{"start":{"line":32,"column":28},"end":{"line":32,"column":95}},"type":"binary-expr","locations":[{"start":{"line":32,"column":28},"end":{"line":32,"column":56}},{"start":{"line":32,"column":60},"end":{"line":32,"column":95}}],"line":32},"4":{"loc":{"start":{"line":32,"column":205},"end":{"line":32,"column":322}},"type":"cond-expr","locations":[{"start":{"line":32,"column":301},"end":{"line":32,"column":309}},{"start":{"line":32,"column":312},"end":{"line":32,"column":322}}],"line":32},"5":{"loc":{"start":{"line":32,"column":205},"end":{"line":32,"column":298}},"type":"binary-expr","locations":[{"start":{"line":32,"column":205},"end":{"line":32,"column":208}},{"start":{"line":32,"column":212},"end":{"line":32,"column":240}},{"start":{"line":32,"column":244},"end":{"line":32,"column":270}},{"start":{"line":32,"column":274},"end":{"line":32,"column":298}}],"line":32},"6":{"loc":{"start":{"line":34,"column":176},"end":{"line":34,"column":263}},"type":"if","locations":[{"start":{"line":34,"column":176},"end":{"line":34,"column":263}},{"start":{"line":34,"column":176},"end":{"line":34,"column":263}}],"line":34},"7":{"loc":{"start":{"line":46,"column":8},"end":{"line":59,"column":9}},"type":"switch","locations":[{"start":{"line":47,"column":10},"end":{"line":51,"column":24}},{"start":{"line":53,"column":10},"end":{"line":54,"column":60}},{"start":{"line":56,"column":10},"end":{"line":56,"column":17}},{"start":{"line":57,"column":10},"end":{"line":58,"column":35}}],"line":46},"8":{"loc":{"start":{"line":79,"column":8},"end":{"line":92,"column":9}},"type":"switch","locations":[{"start":{"line":80,"column":10},"end":{"line":84,"column":21}},{"start":{"line":86,"column":10},"end":{"line":87,"column":62}},{"start":{"line":89,"column":10},"end":{"line":89,"column":17}},{"start":{"line":90,"column":10},"end":{"line":91,"column":36}}],"line":79},"9":{"loc":{"start":{"line":105,"column":18},"end":{"line":105,"column":104}},"type":"cond-expr","locations":[{"start":{"line":105,"column":68},"end":{"line":105,"column":84}},{"start":{"line":105,"column":87},"end":{"line":105,"column":104}}],"line":105},"10":{"loc":{"start":{"line":105,"column":18},"end":{"line":105,"column":65}},"type":"binary-expr","locations":[{"start":{"line":105,"column":18},"end":{"line":105,"column":44}},{"start":{"line":105,"column":48},"end":{"line":105,"column":65}}],"line":105},"11":{"loc":{"start":{"line":106,"column":22},"end":{"line":106,"column":100}},"type":"cond-expr","locations":[{"start":{"line":106,"column":55},"end":{"line":106,"column":92}},{"start":{"line":106,"column":95},"end":{"line":106,"column":100}}],"line":106},"12":{"loc":{"start":{"line":108,"column":2},"end":{"line":129,"column":3}},"type":"if","locations":[{"start":{"line":108,"column":2},"end":{"line":129,"column":3}},{"start":{"line":108,"column":2},"end":{"line":129,"column":3}}],"line":108},"13":{"loc":{"start":{"line":108,"column":6},"end":{"line":108,"column":56}},"type":"binary-expr","locations":[{"start":{"line":108,"column":6},"end":{"line":108,"column":19}},{"start":{"line":108,"column":23},"end":{"line":108,"column":56}}],"line":108},"14":{"loc":{"start":{"line":113,"column":6},"end":{"line":117,"column":7}},"type":"if","locations":[{"start":{"line":113,"column":6},"end":{"line":117,"column":7}},{"start":{"line":113,"column":6},"end":{"line":117,"column":7}}],"line":113},"15":{"loc":{"start":{"line":113,"column":10},"end":{"line":113,"column":42}},"type":"binary-expr","locations":[{"start":{"line":113,"column":10},"end":{"line":113,"column":24}},{"start":{"line":113,"column":28},"end":{"line":113,"column":42}}],"line":113},"16":{"loc":{"start":{"line":137,"column":2},"end":{"line":211,"column":3}},"type":"if","locations":[{"start":{"line":137,"column":2},"end":{"line":211,"column":3}},{"start":{"line":137,"column":2},"end":{"line":211,"column":3}}],"line":137},"17":{"loc":{"start":{"line":146,"column":12},"end":{"line":165,"column":13}},"type":"switch","locations":[{"start":{"line":147,"column":14},"end":{"line":160,"column":17}},{"start":{"line":162,"column":14},"end":{"line":162,"column":21}},{"start":{"line":163,"column":14},"end":{"line":164,"column":40}}],"line":146},"18":{"loc":{"start":{"line":148,"column":16},"end":{"line":160,"column":17}},"type":"if","locations":[{"start":{"line":148,"column":16},"end":{"line":160,"column":17}},{"start":{"line":148,"column":16},"end":{"line":160,"column":17}}],"line":148},"19":{"loc":{"start":{"line":183,"column":12},"end":{"line":202,"column":13}},"type":"switch","locations":[{"start":{"line":184,"column":14},"end":{"line":197,"column":17}},{"start":{"line":199,"column":14},"end":{"line":199,"column":21}},{"start":{"line":200,"column":14},"end":{"line":201,"column":40}}],"line":183},"20":{"loc":{"start":{"line":185,"column":16},"end":{"line":197,"column":17}},"type":"if","locations":[{"start":{"line":185,"column":16},"end":{"line":197,"column":17}},{"start":{"line":185,"column":16},"end":{"line":197,"column":17}}],"line":185},"21":{"loc":{"start":{"line":225,"column":8},"end":{"line":255,"column":9}},"type":"switch","locations":[{"start":{"line":226,"column":10},"end":{"line":235,"column":15}},{"start":{"line":237,"column":10},"end":{"line":247,"column":18}},{"start":{"line":249,"column":10},"end":{"line":250,"column":30}},{"start":{"line":252,"column":10},"end":{"line":252,"column":17}},{"start":{"line":253,"column":10},"end":{"line":254,"column":36}}],"line":225},"22":{"loc":{"start":{"line":227,"column":12},"end":{"line":230,"column":13}},"type":"if","locations":[{"start":{"line":227,"column":12},"end":{"line":230,"column":13}},{"start":{"line":227,"column":12},"end":{"line":230,"column":13}}],"line":227},"23":{"loc":{"start":{"line":240,"column":12},"end":{"line":244,"column":13}},"type":"if","locations":[{"start":{"line":240,"column":12},"end":{"line":244,"column":13}},{"start":{"line":240,"column":12},"end":{"line":244,"column":13}}],"line":240},"24":{"loc":{"start":{"line":240,"column":16},"end":{"line":240,"column":30}},"type":"binary-expr","locations":[{"start":{"line":240,"column":16},"end":{"line":240,"column":17}},{"start":{"line":240,"column":21},"end":{"line":240,"column":30}}],"line":240},"25":{"loc":{"start":{"line":277,"column":8},"end":{"line":307,"column":9}},"type":"switch","locations":[{"start":{"line":278,"column":10},"end":{"line":282,"column":15}},{"start":{"line":284,"column":10},"end":{"line":289,"column":15}},{"start":{"line":291,"column":10},"end":{"line":302,"column":13}},{"start":{"line":304,"column":10},"end":{"line":304,"column":17}},{"start":{"line":305,"column":10},"end":{"line":306,"column":36}}],"line":277},"26":{"loc":{"start":{"line":294,"column":12},"end":{"line":302,"column":13}},"type":"if","locations":[{"start":{"line":294,"column":12},"end":{"line":302,"column":13}},{"start":{"line":294,"column":12},"end":{"line":302,"column":13}}],"line":294},"27":{"loc":{"start":{"line":329,"column":8},"end":{"line":442,"column":9}},"type":"switch","locations":[{"start":{"line":330,"column":10},"end":{"line":361,"column":17}},{"start":{"line":363,"column":10},"end":{"line":424,"column":17}},{"start":{"line":426,"column":10},"end":{"line":428,"column":18}},{"start":{"line":430,"column":10},"end":{"line":433,"column":76}},{"start":{"line":435,"column":10},"end":{"line":437,"column":50}},{"start":{"line":439,"column":10},"end":{"line":439,"column":18}},{"start":{"line":440,"column":10},"end":{"line":441,"column":36}}],"line":329},"28":{"loc":{"start":{"line":340,"column":20},"end":{"line":353,"column":21}},"type":"switch","locations":[{"start":{"line":341,"column":22},"end":{"line":344,"column":47}},{"start":{"line":346,"column":22},"end":{"line":348,"column":97}},{"start":{"line":350,"column":22},"end":{"line":350,"column":29}},{"start":{"line":351,"column":22},"end":{"line":352,"column":48}}],"line":340},"29":{"loc":{"start":{"line":366,"column":12},"end":{"line":369,"column":13}},"type":"if","locations":[{"start":{"line":366,"column":12},"end":{"line":369,"column":13}},{"start":{"line":366,"column":12},"end":{"line":369,"column":13}}],"line":366},"30":{"loc":{"start":{"line":372,"column":22},"end":{"line":372,"column":131}},"type":"cond-expr","locations":[{"start":{"line":372,"column":74},"end":{"line":372,"column":100}},{"start":{"line":372,"column":103},"end":{"line":372,"column":131}}],"line":372},"31":{"loc":{"start":{"line":382,"column":20},"end":{"line":416,"column":21}},"type":"switch","locations":[{"start":{"line":383,"column":22},"end":{"line":391,"column":89}},{"start":{"line":393,"column":22},"end":{"line":397,"column":30}},{"start":{"line":399,"column":22},"end":{"line":407,"column":53}},{"start":{"line":409,"column":22},"end":{"line":411,"column":62}},{"start":{"line":413,"column":22},"end":{"line":413,"column":30}},{"start":{"line":414,"column":22},"end":{"line":415,"column":48}}],"line":382},"32":{"loc":{"start":{"line":384,"column":24},"end":{"line":387,"column":25}},"type":"if","locations":[{"start":{"line":384,"column":24},"end":{"line":387,"column":25}},{"start":{"line":384,"column":24},"end":{"line":387,"column":25}}],"line":384},"33":{"loc":{"start":{"line":384,"column":30},"end":{"line":384,"column":51}},"type":"binary-expr","locations":[{"start":{"line":384,"column":30},"end":{"line":384,"column":33}},{"start":{"line":384,"column":37},"end":{"line":384,"column":42}},{"start":{"line":384,"column":46},"end":{"line":384,"column":51}}],"line":384},"34":{"loc":{"start":{"line":400,"column":24},"end":{"line":403,"column":25}},"type":"if","locations":[{"start":{"line":400,"column":24},"end":{"line":403,"column":25}},{"start":{"line":400,"column":24},"end":{"line":403,"column":25}}],"line":400},"35":{"loc":{"start":{"line":400,"column":30},"end":{"line":400,"column":51}},"type":"binary-expr","locations":[{"start":{"line":400,"column":30},"end":{"line":400,"column":33}},{"start":{"line":400,"column":37},"end":{"line":400,"column":42}},{"start":{"line":400,"column":46},"end":{"line":400,"column":51}}],"line":400}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":4,"14":1,"15":1,"16":7,"17":0,"18":0,"19":1,"20":136,"21":136,"22":136,"23":0,"24":0,"25":136,"26":57,"27":79,"28":38,"29":57,"30":57,"31":57,"32":57,"33":136,"34":0,"35":57,"36":1,"37":1,"38":2,"39":6,"40":6,"41":2,"42":2,"43":2,"44":2,"45":1,"46":2,"47":1,"48":1,"49":1,"50":1,"51":3,"52":3,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":1,"77":1,"78":1,"79":1,"80":1,"81":5,"82":4,"83":4,"84":4,"85":4,"86":4,"87":4,"88":4,"89":0,"90":4,"91":4,"92":4,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":0,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":7,"108":13,"109":20,"110":7,"111":1,"112":1,"113":6,"114":6,"115":1,"116":6,"117":6,"118":5,"119":1,"120":6,"121":6,"122":1,"123":7,"124":1,"125":7,"126":1,"127":1,"128":1,"129":1,"130":14,"131":42,"132":42,"133":14,"134":14,"135":0,"136":14,"137":14,"138":14,"139":0,"140":14,"141":14,"142":14,"143":14,"144":0,"145":14,"146":1,"147":14,"148":1,"149":1,"150":1,"151":1,"152":14,"153":42,"154":56,"155":14,"156":14,"157":14,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":14,"168":0,"169":14,"170":14,"171":0,"172":0,"173":14,"174":14,"175":14,"176":14,"177":14,"178":14,"179":28,"180":42,"181":14,"182":1,"183":1,"184":13,"185":13,"186":13,"187":13,"188":13,"189":13,"190":13,"191":1,"192":0,"193":0,"194":1,"195":1,"196":1,"197":1,"198":1,"199":14,"200":14,"201":14,"202":14,"203":14,"204":0,"205":0,"206":0,"207":0,"208":0,"209":14,"210":1,"211":14,"212":1,"213":1},"f":{"0":4,"1":1,"2":7,"3":0,"4":136,"5":38,"6":57,"7":57,"8":136,"9":0,"10":1,"11":2,"12":6,"13":2,"14":1,"15":1,"16":3,"17":1,"18":1,"19":0,"20":0,"21":0,"22":5,"23":4,"24":4,"25":4,"26":4,"27":1,"28":1,"29":1,"30":1,"31":1,"32":7,"33":13,"34":1,"35":7,"36":1,"37":14,"38":42,"39":0,"40":0,"41":14,"42":1,"43":14,"44":42,"45":14,"46":0,"47":0,"48":0,"49":14,"50":14,"51":28,"52":14,"53":14},"b":{"0":[1,3],"1":[4,4],"2":[1,0],"3":[1,1],"4":[0,0],"5":[0,0,0,0],"6":[57,79],"7":[2,2,0,2],"8":[1,1,0,1],"9":[0,1],"10":[1,1],"11":[1,0],"12":[0,1],"13":[1,1],"14":[0,0],"15":[0,0],"16":[4,1],"17":[4,4,4],"18":[4,0],"19":[1,1,1],"20":[1,0],"21":[7,6,1,7,7],"22":[1,6],"23":[5,1],"24":[6,5],"25":[14,14,14,14,14],"26":[14,0],"27":[14,14,14,0,0,14,14],"28":[0,0,0,0],"29":[0,14],"30":[14,0],"31":[14,13,1,1,14,14],"32":[1,13],"33":[14,14,14],"34":[0,1],"35":[1,1,1]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["sendErr","status","msg","error","sendOk","_request","schema","obj","done","schemaLib","http","https","payloadString","data","headers","Buffer","byteLength","req","request","res","statusCode","on","err","message","write","end","finalizeRequest","collection","id","action","final","db","s","o","e","_validEmail","email","r","isValid","validEmail","_decodeRequest","event","decodedEvent","authorized","body","decodeRequest","_response","payload","Action","handler","handlers","NOT_FOUND","h","_","response"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\utils","sourcesContent":["import http from 'http'\r\nimport https from 'https'\r\nimport { stringify } from 'querystring'\r\nimport legit from 'legit'\r\nimport { promisify } from 'util'\r\nimport { validate } from 'isemail'\r\n\r\nimport { protoResponse, decode, decodeBody } from '../proto'\r\nimport db from '../db'\r\nimport { t } from '../translations'\r\nimport { apiAuth } from '../auth'\r\nimport { handlers } from '../../handlers'\r\n\r\nexport const sendErr = async (status, msg) => {\r\n  return await protoResponse(status, { error: msg }, 'Error')\r\n}\r\n\r\nexport const sendOk = async () => {\r\n  return await protoResponse(200, { status: 'Ok' }, 'Ok')\r\n}\r\n\r\nexport const _request = (schema, obj, done) => {\r\n  const schemaLib = typeof schema === 'string' && schema === 'http' ? http : https\r\n  const payloadString = typeof obj.data === 'object' ? stringify(obj.data) : false\r\n  if (payloadString && typeof obj.headers === 'object') {\r\n    obj.headers['Content-Length'] = Buffer.byteLength(payloadString)\r\n    const req = schemaLib.request(obj, (res) => {\r\n      const status = res.statusCode\r\n      if (status === 200 || status === 201) {\r\n        done()\r\n      } else {\r\n        done(`Response status: ${status}`)\r\n      }\r\n    })\r\n\r\n    req.on('error', (err) => {\r\n      done(err.message)\r\n    })\r\n\r\n    req.on('timeout', () => {\r\n      done(t('error.timeout'))\r\n    })\r\n\r\n    req.write(payloadString)\r\n    req.end()\r\n  } else {\r\n    done(t('error.required'))\r\n  }\r\n}\r\n\r\nexport const request = promisify(_request)\r\n\r\nexport const finalizeRequest = (collection, id, action, obj, final) => {\r\n  if (typeof obj === 'object') {\r\n    db[action](collection, id, obj, async (err, data) => {\r\n      if (!err) {\r\n        final(null, { s: 200, o: { status: 'ok' } })\r\n      } else {\r\n        final(null, { s: 500, e: t('error.internal') })\r\n      }\r\n    })\r\n  } else {\r\n    db[action](collection, id, async (err, data) => {\r\n      if (!err) {\r\n        final(null, { s: 200, o: { status: 'ok' } })\r\n      } else {\r\n        final(null, { s: 500, e: t('error.internal') })\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst _validEmail = async (email, done) => {\r\n  if (validate(email)) {\r\n    const r = await legit(email).catch(() => done(null, false))\r\n    if (r && r.isValid) {\r\n      done(null, email)\r\n    } else {\r\n      done(null, false)\r\n    }\r\n  } else {\r\n    done(null, false)\r\n  }\r\n}\r\n\r\nexport const validEmail = promisify(_validEmail)\r\n\r\nconst _decodeRequest = async (event, done) => {\r\n  const decodedEvent = await decodeBody(event).catch((e) => done(e))\r\n  const authorized = await apiAuth(decodedEvent).catch((e) => done(e))\r\n  if (authorized) {\r\n    const obj = {\r\n      body: authorized.body,\r\n      headers: authorized.headers\r\n    }\r\n    done(null, obj)\r\n  } else {\r\n    done(t('error.unauthorized'))\r\n  }\r\n}\r\n\r\nexport const decodeRequest = promisify(_decodeRequest)\r\n\r\nconst _response = async (event, done) => {\r\n  const payload = await decodeRequest(event).catch(async (e) => done(null, await sendErr(403, e)))\r\n  if (payload) {\r\n    const action = payload.headers.Action\r\n    const handler = typeof handlers[action] !== 'undefined' ? handlers[action] : handlers.NOT_FOUND\r\n    await handler.h(payload, async (_, res) => {\r\n      if (res && res.s && res.o) {\r\n        done(null, await protoResponse(res.s, res.o, handler.class))\r\n      } else if (res && res.s && res.e) {\r\n        done(null, await sendErr(res.s, res.e))\r\n      }\r\n    })\r\n  } else {\r\n    done(null, await sendErr(403, t('error.unauthorized')))\r\n  }\r\n}\r\n\r\nexport const response = promisify(_response)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"aa54033525cef50eee7f880f465b04faa0349c72","contentHash":"809dfd1889e57b9c72d9403802f11a32563f9040396732d65dff37b707ed5df0"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\db\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\db\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":56}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":27}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":37}},"4":{"start":{"line":12,"column":17},"end":{"line":12,"column":63}},"5":{"start":{"line":14,"column":20},"end":{"line":14,"column":46}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":95}},"7":{"start":{"line":18,"column":25},"end":{"line":44,"column":1}},"8":{"start":{"line":19,"column":17},"end":{"line":19,"column":27}},"9":{"start":{"line":21,"column":2},"end":{"line":43,"column":3}},"10":{"start":{"line":22,"column":18},"end":{"line":22,"column":19}},"11":{"start":{"line":23,"column":17},"end":{"line":23,"column":22}},"12":{"start":{"line":24,"column":4},"end":{"line":40,"column":7}},"13":{"start":{"line":25,"column":6},"end":{"line":39,"column":9}},"14":{"start":{"line":26,"column":8},"end":{"line":30,"column":9}},"15":{"start":{"line":27,"column":10},"end":{"line":27,"column":23}},"16":{"start":{"line":29,"column":10},"end":{"line":29,"column":24}},"17":{"start":{"line":32,"column":8},"end":{"line":38,"column":9}},"18":{"start":{"line":33,"column":10},"end":{"line":37,"column":11}},"19":{"start":{"line":34,"column":12},"end":{"line":34,"column":19}},"20":{"start":{"line":36,"column":12},"end":{"line":36,"column":60}},"21":{"start":{"line":42,"column":4},"end":{"line":42,"column":11}},"22":{"start":{"line":46,"column":24},"end":{"line":46,"column":64}},"23":{"start":{"line":47,"column":0},"end":{"line":47,"column":46}},"24":{"start":{"line":49,"column":15},"end":{"line":49,"column":68}},"25":{"start":{"line":51,"column":0},"end":{"line":51,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":97}},"line":16},"1":{"name":"_joinedTableDelete","decl":{"start":{"line":18,"column":34},"end":{"line":18,"column":52}},"loc":{"start":{"line":18,"column":71},"end":{"line":44,"column":1}},"line":18},"2":{"name":"(anonymous_2)","decl":{"start":{"line":24,"column":16},"end":{"line":24,"column":17}},"loc":{"start":{"line":24,"column":30},"end":{"line":40,"column":5}},"line":24},"3":{"name":"(anonymous_3)","decl":{"start":{"line":25,"column":47},"end":{"line":25,"column":48}},"loc":{"start":{"line":25,"column":62},"end":{"line":39,"column":7}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":94}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":94}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16},"2":{"loc":{"start":{"line":21,"column":2},"end":{"line":43,"column":3}},"type":"if","locations":[{"start":{"line":21,"column":2},"end":{"line":43,"column":3}},{"start":{"line":21,"column":2},"end":{"line":43,"column":3}}],"line":21},"3":{"loc":{"start":{"line":26,"column":8},"end":{"line":30,"column":9}},"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":30,"column":9}},{"start":{"line":26,"column":8},"end":{"line":30,"column":9}}],"line":26},"4":{"loc":{"start":{"line":32,"column":8},"end":{"line":38,"column":9}},"type":"if","locations":[{"start":{"line":32,"column":8},"end":{"line":38,"column":9}},{"start":{"line":32,"column":8},"end":{"line":38,"column":9}}],"line":32},"5":{"loc":{"start":{"line":33,"column":10},"end":{"line":37,"column":11}},"type":"if","locations":[{"start":{"line":33,"column":10},"end":{"line":37,"column":11}},{"start":{"line":33,"column":10},"end":{"line":37,"column":11}}],"line":33},"6":{"loc":{"start":{"line":49,"column":15},"end":{"line":49,"column":68}},"type":"cond-expr","locations":[{"start":{"line":49,"column":42},"end":{"line":49,"column":63}},{"start":{"line":49,"column":66},"end":{"line":49,"column":68}}],"line":49}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":2,"10":1,"11":1,"12":1,"13":3,"14":3,"15":3,"16":0,"17":3,"18":1,"19":1,"20":0,"21":1,"22":1,"23":1,"24":1,"25":1},"f":{"0":1,"1":2,"2":3,"3":3},"b":{"0":[1,0],"1":[1,1],"2":[1,1],"3":[3,0],"4":[1,2],"5":[1,0],"6":[1,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["_joinedTableDelete","table","col","done","toDelete","length","deleted","errors","forEach","id","db","destroy","err","joinedTableDelete","DB_TYPE"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;AACA;;;;AAEA,IAAMA,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,KAAD,EAAQC,GAAR,EAAaC,IAAb,EAAsB;AAC/C,MAAMC,QAAQ,GAAGF,GAAG,CAACG,MAArB;;AACA,MAAID,QAAQ,GAAG,CAAf,EAAkB;AAChB,QAAIE,OAAO,GAAG,CAAd;AACA,QAAIC,MAAM,GAAG,KAAb;AACAL,IAAAA,GAAG,CAACM,OAAJ,CAAY,UAACC,EAAD,EAAQ;AAClBC,4BAAGC,OAAH,CAAWV,KAAX,EAAkBQ,EAAlB,EAAsB,UAACG,GAAD,EAAS;AAC7B,YAAI,CAACA,GAAL,EAAU;AACRN,UAAAA,OAAO,IAAI,CAAX;AACD,SAFD,MAEO;AACLC,UAAAA,MAAM,GAAG,IAAT;AACD;;AAED,YAAID,OAAO,KAAKF,QAAhB,EAA0B;AACxB,cAAI,CAACG,MAAL,EAAa;AACXJ,YAAAA,IAAI;AACL,WAFD,MAEO;AACLA,YAAAA,IAAI,CAAC,qBAAE,mBAAF,CAAD,CAAJ;AACD;AACF;AACF,OAdD;AAeD,KAhBD;AAiBD,GApBD,MAoBO;AACLA,IAAAA,IAAI;AACL;AACF,CAzBD;;AA2BO,IAAMU,iBAAiB,GAAG,qBAAUb,kBAAV,CAA1B;;;eAEQc,oBAAY,IAAZ,GAAmBJ,qBAAnB,GAAwB,E","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\db","sourcesContent":["import { promisify } from 'util'\r\n\r\nimport { DB_TYPE } from '../../config'\r\nimport db from './functions'\r\nimport { t } from '../translations'\r\n\r\nconst _joinedTableDelete = (table, col, done) => {\r\n  const toDelete = col.length\r\n  if (toDelete > 0) {\r\n    let deleted = 0\r\n    let errors = false\r\n    col.forEach((id) => {\r\n      db.destroy(table, id, (err) => {\r\n        if (!err) {\r\n          deleted += 1\r\n        } else {\r\n          errors = true\r\n        }\r\n\r\n        if (deleted === toDelete) {\r\n          if (!errors) {\r\n            done()\r\n          } else {\r\n            done(t('error.join_delete'))\r\n          }\r\n        }\r\n      })\r\n    })\r\n  } else {\r\n    done()\r\n  }\r\n}\r\n\r\nexport const joinedTableDelete = promisify(_joinedTableDelete)\r\n\r\nexport default DB_TYPE === 's3' ? db : {}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fefe3afb9a7acbfe835ae6e05bbd16fddc02405e","contentHash":"c8b4cedca3d3d54e2f7f45c330d04ba0ba64de5576a1d439371e372239d3481b"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\db\\functions.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\db\\functions.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":27}},"3":{"start":{"line":10,"column":9},"end":{"line":10,"column":49}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":95}},"5":{"start":{"line":14,"column":77},"end":{"line":14,"column":175}},"6":{"start":{"line":14,"column":94},"end":{"line":14,"column":107}},"7":{"start":{"line":14,"column":121},"end":{"line":14,"column":131}},"8":{"start":{"line":14,"column":151},"end":{"line":14,"column":165}},"9":{"start":{"line":14,"column":166},"end":{"line":14,"column":173}},"10":{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},"11":{"start":{"line":14,"column":193},"end":{"line":14,"column":208}},"12":{"start":{"line":14,"column":218},"end":{"line":14,"column":261}},"13":{"start":{"line":16,"column":33},"end":{"line":16,"column":387}},"14":{"start":{"line":16,"column":65},"end":{"line":16,"column":69}},"15":{"start":{"line":16,"column":78},"end":{"line":16,"column":87}},"16":{"start":{"line":16,"column":89},"end":{"line":16,"column":384}},"17":{"start":{"line":16,"column":147},"end":{"line":16,"column":167}},"18":{"start":{"line":16,"column":193},"end":{"line":16,"column":264}},"19":{"start":{"line":16,"column":290},"end":{"line":16,"column":360}},"20":{"start":{"line":16,"column":363},"end":{"line":16,"column":380}},"21":{"start":{"line":18,"column":9},"end":{"line":18,"column":11}},"22":{"start":{"line":22,"column":0},"end":{"line":51,"column":3}},"23":{"start":{"line":23,"column":13},"end":{"line":46,"column":5}},"24":{"start":{"line":27,"column":4},"end":{"line":45,"column":16}},"25":{"start":{"line":28,"column":6},"end":{"line":44,"column":7}},"26":{"start":{"line":29,"column":8},"end":{"line":43,"column":9}},"27":{"start":{"line":31,"column":12},"end":{"line":31,"column":30}},"28":{"start":{"line":32,"column":12},"end":{"line":34,"column":15}},"29":{"start":{"line":33,"column":14},"end":{"line":33,"column":29}},"30":{"start":{"line":37,"column":12},"end":{"line":37,"column":32}},"31":{"start":{"line":38,"column":12},"end":{"line":38,"column":28}},"32":{"start":{"line":42,"column":12},"end":{"line":42,"column":35}},"33":{"start":{"line":48,"column":2},"end":{"line":50,"column":4}},"34":{"start":{"line":49,"column":4},"end":{"line":49,"column":39}},"35":{"start":{"line":55,"column":0},"end":{"line":84,"column":3}},"36":{"start":{"line":56,"column":14},"end":{"line":79,"column":5}},"37":{"start":{"line":60,"column":4},"end":{"line":78,"column":17}},"38":{"start":{"line":61,"column":6},"end":{"line":77,"column":7}},"39":{"start":{"line":62,"column":8},"end":{"line":76,"column":9}},"40":{"start":{"line":64,"column":12},"end":{"line":64,"column":31}},"41":{"start":{"line":65,"column":12},"end":{"line":67,"column":15}},"42":{"start":{"line":66,"column":14},"end":{"line":66,"column":29}},"43":{"start":{"line":70,"column":12},"end":{"line":70,"column":33}},"44":{"start":{"line":71,"column":12},"end":{"line":71,"column":28}},"45":{"start":{"line":75,"column":12},"end":{"line":75,"column":36}},"46":{"start":{"line":81,"column":2},"end":{"line":83,"column":4}},"47":{"start":{"line":82,"column":4},"end":{"line":82,"column":40}},"48":{"start":{"line":88,"column":0},"end":{"line":136,"column":3}},"49":{"start":{"line":89,"column":14},"end":{"line":131,"column":5}},"50":{"start":{"line":93,"column":4},"end":{"line":130,"column":17}},"51":{"start":{"line":94,"column":6},"end":{"line":129,"column":7}},"52":{"start":{"line":95,"column":8},"end":{"line":128,"column":9}},"53":{"start":{"line":97,"column":12},"end":{"line":97,"column":31}},"54":{"start":{"line":98,"column":12},"end":{"line":100,"column":15}},"55":{"start":{"line":99,"column":14},"end":{"line":99,"column":29}},"56":{"start":{"line":103,"column":12},"end":{"line":103,"column":33}},"57":{"start":{"line":105,"column":12},"end":{"line":108,"column":13}},"58":{"start":{"line":106,"column":14},"end":{"line":106,"column":34}},"59":{"start":{"line":107,"column":14},"end":{"line":107,"column":20}},"60":{"start":{"line":110,"column":12},"end":{"line":110,"column":31}},"61":{"start":{"line":111,"column":12},"end":{"line":113,"column":15}},"62":{"start":{"line":112,"column":14},"end":{"line":112,"column":29}},"63":{"start":{"line":116,"column":12},"end":{"line":116,"column":31}},"64":{"start":{"line":117,"column":12},"end":{"line":119,"column":15}},"65":{"start":{"line":118,"column":14},"end":{"line":118,"column":29}},"66":{"start":{"line":122,"column":12},"end":{"line":122,"column":34}},"67":{"start":{"line":123,"column":12},"end":{"line":123,"column":29}},"68":{"start":{"line":127,"column":12},"end":{"line":127,"column":36}},"69":{"start":{"line":133,"column":2},"end":{"line":135,"column":4}},"70":{"start":{"line":134,"column":4},"end":{"line":134,"column":40}},"71":{"start":{"line":140,"column":0},"end":{"line":167,"column":3}},"72":{"start":{"line":141,"column":14},"end":{"line":162,"column":5}},"73":{"start":{"line":144,"column":4},"end":{"line":161,"column":17}},"74":{"start":{"line":145,"column":6},"end":{"line":160,"column":7}},"75":{"start":{"line":146,"column":8},"end":{"line":159,"column":9}},"76":{"start":{"line":148,"column":12},"end":{"line":148,"column":31}},"77":{"start":{"line":149,"column":12},"end":{"line":151,"column":15}},"78":{"start":{"line":150,"column":14},"end":{"line":150,"column":29}},"79":{"start":{"line":154,"column":12},"end":{"line":154,"column":19}},"80":{"start":{"line":158,"column":12},"end":{"line":158,"column":36}},"81":{"start":{"line":164,"column":2},"end":{"line":166,"column":4}},"82":{"start":{"line":165,"column":4},"end":{"line":165,"column":40}},"83":{"start":{"line":171,"column":0},"end":{"line":200,"column":3}},"84":{"start":{"line":172,"column":14},"end":{"line":195,"column":5}},"85":{"start":{"line":176,"column":4},"end":{"line":194,"column":17}},"86":{"start":{"line":177,"column":6},"end":{"line":193,"column":7}},"87":{"start":{"line":178,"column":8},"end":{"line":192,"column":9}},"88":{"start":{"line":180,"column":12},"end":{"line":180,"column":31}},"89":{"start":{"line":181,"column":12},"end":{"line":183,"column":15}},"90":{"start":{"line":182,"column":14},"end":{"line":182,"column":29}},"91":{"start":{"line":186,"column":12},"end":{"line":186,"column":33}},"92":{"start":{"line":187,"column":12},"end":{"line":187,"column":28}},"93":{"start":{"line":191,"column":12},"end":{"line":191,"column":36}},"94":{"start":{"line":197,"column":2},"end":{"line":199,"column":4}},"95":{"start":{"line":198,"column":4},"end":{"line":198,"column":40}},"96":{"start":{"line":202,"column":13},"end":{"line":202,"column":42}},"97":{"start":{"line":203,"column":11},"end":{"line":203,"column":38}},"98":{"start":{"line":204,"column":13},"end":{"line":204,"column":42}},"99":{"start":{"line":205,"column":14},"end":{"line":205,"column":43}},"100":{"start":{"line":206,"column":14},"end":{"line":206,"column":41}},"101":{"start":{"line":207,"column":0},"end":{"line":207,"column":19}},"102":{"start":{"line":208,"column":0},"end":{"line":208,"column":15}},"103":{"start":{"line":209,"column":0},"end":{"line":209,"column":19}},"104":{"start":{"line":210,"column":0},"end":{"line":210,"column":21}},"105":{"start":{"line":211,"column":0},"end":{"line":211,"column":21}},"106":{"start":{"line":212,"column":15},"end":{"line":212,"column":17}},"107":{"start":{"line":213,"column":0},"end":{"line":213,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":97}},"line":12},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":27}},"loc":{"start":{"line":14,"column":75},"end":{"line":14,"column":265}},"line":14},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":26}},"loc":{"start":{"line":16,"column":31},"end":{"line":16,"column":389}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":40},"end":{"line":16,"column":41}},"loc":{"start":{"line":16,"column":52},"end":{"line":16,"column":386}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":16,"column":108},"end":{"line":16,"column":109}},"loc":{"start":{"line":16,"column":135},"end":{"line":16,"column":382}},"line":16},"5":{"name":"_next","decl":{"start":{"line":16,"column":178},"end":{"line":16,"column":183}},"loc":{"start":{"line":16,"column":191},"end":{"line":16,"column":266}},"line":16},"6":{"name":"_throw","decl":{"start":{"line":16,"column":276},"end":{"line":16,"column":282}},"loc":{"start":{"line":16,"column":288},"end":{"line":16,"column":362}},"line":16},"7":{"name":"(anonymous_7)","decl":{"start":{"line":22,"column":0},"end":{"line":22,"column":1}},"loc":{"start":{"line":22,"column":12},"end":{"line":51,"column":1}},"line":22},"8":{"name":"_callee","decl":{"start":{"line":25,"column":35},"end":{"line":25,"column":42}},"loc":{"start":{"line":25,"column":66},"end":{"line":46,"column":3}},"line":25},"9":{"name":"_callee$","decl":{"start":{"line":27,"column":44},"end":{"line":27,"column":52}},"loc":{"start":{"line":27,"column":63},"end":{"line":45,"column":5}},"line":27},"10":{"name":"(anonymous_10)","decl":{"start":{"line":32,"column":87},"end":{"line":32,"column":88}},"loc":{"start":{"line":32,"column":100},"end":{"line":34,"column":13}},"line":32},"11":{"name":"_create","decl":{"start":{"line":48,"column":18},"end":{"line":48,"column":25}},"loc":{"start":{"line":48,"column":45},"end":{"line":50,"column":3}},"line":48},"12":{"name":"(anonymous_12)","decl":{"start":{"line":55,"column":0},"end":{"line":55,"column":1}},"loc":{"start":{"line":55,"column":12},"end":{"line":84,"column":1}},"line":55},"13":{"name":"_callee2","decl":{"start":{"line":58,"column":35},"end":{"line":58,"column":43}},"loc":{"start":{"line":58,"column":61},"end":{"line":79,"column":3}},"line":58},"14":{"name":"_callee2$","decl":{"start":{"line":60,"column":44},"end":{"line":60,"column":53}},"loc":{"start":{"line":60,"column":65},"end":{"line":78,"column":5}},"line":60},"15":{"name":"(anonymous_15)","decl":{"start":{"line":65,"column":84},"end":{"line":65,"column":85}},"loc":{"start":{"line":65,"column":97},"end":{"line":67,"column":13}},"line":65},"16":{"name":"_read","decl":{"start":{"line":81,"column":18},"end":{"line":81,"column":23}},"loc":{"start":{"line":81,"column":39},"end":{"line":83,"column":3}},"line":81},"17":{"name":"(anonymous_17)","decl":{"start":{"line":88,"column":0},"end":{"line":88,"column":1}},"loc":{"start":{"line":88,"column":12},"end":{"line":136,"column":1}},"line":88},"18":{"name":"_callee3","decl":{"start":{"line":91,"column":35},"end":{"line":91,"column":43}},"loc":{"start":{"line":91,"column":70},"end":{"line":131,"column":3}},"line":91},"19":{"name":"_callee3$","decl":{"start":{"line":93,"column":44},"end":{"line":93,"column":53}},"loc":{"start":{"line":93,"column":65},"end":{"line":130,"column":5}},"line":93},"20":{"name":"(anonymous_20)","decl":{"start":{"line":98,"column":84},"end":{"line":98,"column":85}},"loc":{"start":{"line":98,"column":97},"end":{"line":100,"column":13}},"line":98},"21":{"name":"(anonymous_21)","decl":{"start":{"line":111,"column":83},"end":{"line":111,"column":84}},"loc":{"start":{"line":111,"column":96},"end":{"line":113,"column":13}},"line":111},"22":{"name":"(anonymous_22)","decl":{"start":{"line":117,"column":90},"end":{"line":117,"column":91}},"loc":{"start":{"line":117,"column":103},"end":{"line":119,"column":13}},"line":117},"23":{"name":"_update","decl":{"start":{"line":133,"column":18},"end":{"line":133,"column":25}},"loc":{"start":{"line":133,"column":48},"end":{"line":135,"column":3}},"line":133},"24":{"name":"(anonymous_24)","decl":{"start":{"line":140,"column":0},"end":{"line":140,"column":1}},"loc":{"start":{"line":140,"column":12},"end":{"line":167,"column":1}},"line":140},"25":{"name":"_callee4","decl":{"start":{"line":143,"column":35},"end":{"line":143,"column":43}},"loc":{"start":{"line":143,"column":61},"end":{"line":162,"column":3}},"line":143},"26":{"name":"_callee4$","decl":{"start":{"line":144,"column":44},"end":{"line":144,"column":53}},"loc":{"start":{"line":144,"column":65},"end":{"line":161,"column":5}},"line":144},"27":{"name":"(anonymous_27)","decl":{"start":{"line":149,"column":83},"end":{"line":149,"column":84}},"loc":{"start":{"line":149,"column":96},"end":{"line":151,"column":13}},"line":149},"28":{"name":"_delete","decl":{"start":{"line":164,"column":18},"end":{"line":164,"column":25}},"loc":{"start":{"line":164,"column":44},"end":{"line":166,"column":3}},"line":164},"29":{"name":"(anonymous_29)","decl":{"start":{"line":171,"column":0},"end":{"line":171,"column":1}},"loc":{"start":{"line":171,"column":12},"end":{"line":200,"column":1}},"line":171},"30":{"name":"_callee5","decl":{"start":{"line":174,"column":35},"end":{"line":174,"column":43}},"loc":{"start":{"line":174,"column":55},"end":{"line":195,"column":3}},"line":174},"31":{"name":"_callee5$","decl":{"start":{"line":176,"column":44},"end":{"line":176,"column":53}},"loc":{"start":{"line":176,"column":65},"end":{"line":194,"column":5}},"line":176},"32":{"name":"(anonymous_32)","decl":{"start":{"line":181,"column":57},"end":{"line":181,"column":58}},"loc":{"start":{"line":181,"column":70},"end":{"line":183,"column":13}},"line":181},"33":{"name":"_list","decl":{"start":{"line":197,"column":18},"end":{"line":197,"column":23}},"loc":{"start":{"line":197,"column":36},"end":{"line":199,"column":3}},"line":197}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":94}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":94}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},"type":"if","locations":[{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},{"start":{"line":14,"column":176},"end":{"line":14,"column":263}}],"line":14},"3":{"loc":{"start":{"line":29,"column":8},"end":{"line":43,"column":9}},"type":"switch","locations":[{"start":{"line":30,"column":10},"end":{"line":34,"column":15}},{"start":{"line":36,"column":10},"end":{"line":38,"column":28}},{"start":{"line":40,"column":10},"end":{"line":40,"column":17}},{"start":{"line":41,"column":10},"end":{"line":42,"column":35}}],"line":29},"4":{"loc":{"start":{"line":62,"column":8},"end":{"line":76,"column":9}},"type":"switch","locations":[{"start":{"line":63,"column":10},"end":{"line":67,"column":15}},{"start":{"line":69,"column":10},"end":{"line":71,"column":28}},{"start":{"line":73,"column":10},"end":{"line":73,"column":17}},{"start":{"line":74,"column":10},"end":{"line":75,"column":36}}],"line":62},"5":{"loc":{"start":{"line":95,"column":8},"end":{"line":128,"column":9}},"type":"switch","locations":[{"start":{"line":96,"column":10},"end":{"line":100,"column":15}},{"start":{"line":102,"column":10},"end":{"line":113,"column":15}},{"start":{"line":115,"column":10},"end":{"line":119,"column":15}},{"start":{"line":121,"column":10},"end":{"line":123,"column":29}},{"start":{"line":125,"column":10},"end":{"line":125,"column":18}},{"start":{"line":126,"column":10},"end":{"line":127,"column":36}}],"line":95},"6":{"loc":{"start":{"line":105,"column":12},"end":{"line":108,"column":13}},"type":"if","locations":[{"start":{"line":105,"column":12},"end":{"line":108,"column":13}},{"start":{"line":105,"column":12},"end":{"line":108,"column":13}}],"line":105},"7":{"loc":{"start":{"line":146,"column":8},"end":{"line":159,"column":9}},"type":"switch","locations":[{"start":{"line":147,"column":10},"end":{"line":151,"column":15}},{"start":{"line":153,"column":10},"end":{"line":154,"column":19}},{"start":{"line":156,"column":10},"end":{"line":156,"column":17}},{"start":{"line":157,"column":10},"end":{"line":158,"column":36}}],"line":146},"8":{"loc":{"start":{"line":178,"column":8},"end":{"line":192,"column":9}},"type":"switch","locations":[{"start":{"line":179,"column":10},"end":{"line":183,"column":15}},{"start":{"line":185,"column":10},"end":{"line":187,"column":28}},{"start":{"line":189,"column":10},"end":{"line":189,"column":17}},{"start":{"line":190,"column":10},"end":{"line":191,"column":36}}],"line":178}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":124,"6":124,"7":124,"8":0,"9":0,"10":124,"11":55,"12":69,"13":5,"14":55,"15":55,"16":55,"17":55,"18":124,"19":0,"20":55,"21":1,"22":1,"23":1,"24":14,"25":28,"26":28,"27":14,"28":14,"29":0,"30":14,"31":14,"32":14,"33":1,"34":14,"35":1,"36":1,"37":21,"38":42,"39":42,"40":21,"41":21,"42":2,"43":21,"44":21,"45":21,"46":1,"47":21,"48":1,"49":1,"50":7,"51":28,"52":28,"53":7,"54":7,"55":0,"56":7,"57":7,"58":0,"59":0,"60":7,"61":7,"62":0,"63":7,"64":7,"65":0,"66":7,"67":7,"68":7,"69":1,"70":7,"71":1,"72":1,"73":8,"74":16,"75":16,"76":8,"77":8,"78":0,"79":8,"80":8,"81":1,"82":8,"83":1,"84":1,"85":5,"86":10,"87":10,"88":5,"89":5,"90":0,"91":5,"92":5,"93":5,"94":1,"95":5,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1},"f":{"0":1,"1":124,"2":5,"3":55,"4":55,"5":124,"6":0,"7":1,"8":14,"9":28,"10":0,"11":14,"12":1,"13":21,"14":42,"15":2,"16":21,"17":1,"18":7,"19":28,"20":0,"21":0,"22":0,"23":7,"24":1,"25":8,"26":16,"27":0,"28":8,"29":1,"30":5,"31":10,"32":0,"33":5},"b":{"0":[1,0],"1":[1,1],"2":[55,69],"3":[14,14,14,14],"4":[21,21,21,21],"5":[7,7,7,7,7,7],"6":[0,7],"7":[8,8,8,8],"8":[5,5,5,5]},"inputSourceMap":{"version":3,"sources":["functions.js"],"names":["db","_create","dir","file","data","done","s3","save","e","res","_read","getData","_update","newData","remove","res2","_delete","_list","listItems","create","read","update","destroy","listDir"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\db","sourcesContent":["import { promisify } from 'util'\r\n\r\nimport s3 from '../s3'\r\nconst db = {}\r\n\r\nconst _create = async (dir, file, data, done) => {\r\n  const res = await s3.save(`${dir}/${file}`, data).catch((e) => done(e))\r\n  done(null, res)\r\n}\r\n\r\nconst _read = async (dir, file, done) => {\r\n  const res = await s3.getData(`${dir}/${file}`).catch((e) => done(e))\r\n  done(null, res)\r\n}\r\n\r\nconst _update = async (dir, file, newData, done) => {\r\n  const res = await s3.getData(`${dir}/${file}`).catch((e) => done(e))\r\n  if (res) {\r\n    await s3.remove(`${dir}/${file}`).catch((e) => done(e))\r\n    const res2 = await s3.save(`${dir}/${file}`, newData).catch((e) => done(e))\r\n    done(null, res2)\r\n  }\r\n}\r\n\r\nconst _delete = async (dir, file, done) => {\r\n  await s3.remove(`${dir}/${file}`).catch((e) => done(e))\r\n  done()\r\n}\r\n\r\nconst _list = async (dir, done) => {\r\n  const res = await s3.listItems(dir).catch((e) => done(e))\r\n  done(null, res)\r\n}\r\n\r\nconst create = promisify(_create)\r\nconst read = promisify(_read)\r\nconst update = promisify(_update)\r\nconst destroy = promisify(_delete)\r\nconst listDir = promisify(_list)\r\n\r\ndb.create = create\r\ndb.read = read\r\ndb.update = update\r\ndb.destroy = destroy\r\ndb.listDir = listDir\r\n\r\nexport default db\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"477810825bff2447700cafcb20eda59fdab28900","contentHash":"591a6ad1dc7f1e9bf6ebcf099c70fa4013f40b2d0cbc0c0231b762696b864997"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":9},"end":{"line":8,"column":48}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":53}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":95}},"5":{"start":{"line":14,"column":15},"end":{"line":14,"column":84}},"6":{"start":{"line":16,"column":0},"end":{"line":16,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":97}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":94}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":94}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":14,"column":15},"end":{"line":14,"column":84}},"type":"cond-expr","locations":[{"start":{"line":14,"column":52},"end":{"line":14,"column":68}},{"start":{"line":14,"column":71},"end":{"line":14,"column":84}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":1},"f":{"0":2},"b":{"0":[2,0],"1":[2,2],"2":[1,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["process","env","NODE_ENV","mock","s3"],"mappings":";;;;;;;AAAA;;AACA;;;;eAEeA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,SAAzB,GAAqCC,gBAArC,GAA4CC,a","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3","sourcesContent":["import s3 from './s3'\r\nimport mock from './mock'\r\n\r\nexport default process.env.NODE_ENV === 'testing' ? mock : s3\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e4fbf10b50ebb79bde3eb7ef46b40984043dd1b1","contentHash":"58307ea4b5e532b469e590847c07890cec1eaba5a5f4494ca9d62d3e709eabee"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3\\s3.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3\\s3.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":56}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":27}},"4":{"start":{"line":12,"column":14},"end":{"line":12,"column":37}},"5":{"start":{"line":14,"column":16},"end":{"line":14,"column":38}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":95}},"7":{"start":{"line":18,"column":24},"end":{"line":18,"column":328}},"8":{"start":{"line":18,"column":99},"end":{"line":18,"column":154}},"9":{"start":{"line":18,"column":133},"end":{"line":18,"column":151}},"10":{"start":{"line":18,"column":164},"end":{"line":18,"column":326}},"11":{"start":{"line":18,"column":198},"end":{"line":18,"column":323}},"12":{"start":{"line":18,"column":329},"end":{"line":18,"column":349}},"13":{"start":{"line":20,"column":77},"end":{"line":20,"column":175}},"14":{"start":{"line":20,"column":94},"end":{"line":20,"column":107}},"15":{"start":{"line":20,"column":121},"end":{"line":20,"column":131}},"16":{"start":{"line":20,"column":151},"end":{"line":20,"column":165}},"17":{"start":{"line":20,"column":166},"end":{"line":20,"column":173}},"18":{"start":{"line":20,"column":176},"end":{"line":20,"column":263}},"19":{"start":{"line":20,"column":193},"end":{"line":20,"column":208}},"20":{"start":{"line":20,"column":218},"end":{"line":20,"column":261}},"21":{"start":{"line":22,"column":33},"end":{"line":22,"column":387}},"22":{"start":{"line":22,"column":65},"end":{"line":22,"column":69}},"23":{"start":{"line":22,"column":78},"end":{"line":22,"column":87}},"24":{"start":{"line":22,"column":89},"end":{"line":22,"column":384}},"25":{"start":{"line":22,"column":147},"end":{"line":22,"column":167}},"26":{"start":{"line":22,"column":193},"end":{"line":22,"column":264}},"27":{"start":{"line":22,"column":290},"end":{"line":22,"column":360}},"28":{"start":{"line":22,"column":363},"end":{"line":22,"column":380}},"29":{"start":{"line":24,"column":9},"end":{"line":24,"column":36}},"30":{"start":{"line":25,"column":11},"end":{"line":25,"column":13}},"31":{"start":{"line":27,"column":15},"end":{"line":40,"column":1}},"32":{"start":{"line":28,"column":15},"end":{"line":31,"column":3}},"33":{"start":{"line":32,"column":2},"end":{"line":39,"column":5}},"34":{"start":{"line":33,"column":4},"end":{"line":38,"column":5}},"35":{"start":{"line":34,"column":6},"end":{"line":34,"column":24}},"36":{"start":{"line":36,"column":14},"end":{"line":36,"column":52}},"37":{"start":{"line":37,"column":6},"end":{"line":37,"column":20}},"38":{"start":{"line":42,"column":14},"end":{"line":42,"column":44}},"39":{"start":{"line":46,"column":0},"end":{"line":83,"column":3}},"40":{"start":{"line":47,"column":13},"end":{"line":78,"column":5}},"41":{"start":{"line":51,"column":4},"end":{"line":77,"column":16}},"42":{"start":{"line":52,"column":6},"end":{"line":76,"column":7}},"43":{"start":{"line":53,"column":8},"end":{"line":75,"column":9}},"44":{"start":{"line":55,"column":12},"end":{"line":55,"column":73}},"45":{"start":{"line":56,"column":12},"end":{"line":63,"column":14}},"46":{"start":{"line":64,"column":12},"end":{"line":70,"column":15}},"47":{"start":{"line":65,"column":14},"end":{"line":69,"column":15}},"48":{"start":{"line":66,"column":16},"end":{"line":66,"column":34}},"49":{"start":{"line":68,"column":16},"end":{"line":68,"column":63}},"50":{"start":{"line":74,"column":12},"end":{"line":74,"column":35}},"51":{"start":{"line":80,"column":2},"end":{"line":82,"column":4}},"52":{"start":{"line":81,"column":4},"end":{"line":81,"column":39}},"53":{"start":{"line":85,"column":11},"end":{"line":85,"column":38}},"54":{"start":{"line":87,"column":14},"end":{"line":99,"column":1}},"55":{"start":{"line":88,"column":15},"end":{"line":91,"column":3}},"56":{"start":{"line":92,"column":2},"end":{"line":98,"column":5}},"57":{"start":{"line":93,"column":4},"end":{"line":97,"column":5}},"58":{"start":{"line":94,"column":6},"end":{"line":94,"column":24}},"59":{"start":{"line":96,"column":6},"end":{"line":96,"column":23}},"60":{"start":{"line":101,"column":13},"end":{"line":101,"column":42}},"61":{"start":{"line":103,"column":19},"end":{"line":118,"column":1}},"62":{"start":{"line":104,"column":15},"end":{"line":110,"column":3}},"63":{"start":{"line":111,"column":2},"end":{"line":117,"column":5}},"64":{"start":{"line":112,"column":4},"end":{"line":116,"column":5}},"65":{"start":{"line":113,"column":6},"end":{"line":113,"column":24}},"66":{"start":{"line":115,"column":6},"end":{"line":115,"column":23}},"67":{"start":{"line":120,"column":18},"end":{"line":120,"column":52}},"68":{"start":{"line":122,"column":12},"end":{"line":135,"column":1}},"69":{"start":{"line":123,"column":15},"end":{"line":127,"column":3}},"70":{"start":{"line":128,"column":2},"end":{"line":134,"column":5}},"71":{"start":{"line":129,"column":4},"end":{"line":133,"column":5}},"72":{"start":{"line":130,"column":6},"end":{"line":130,"column":24}},"73":{"start":{"line":132,"column":6},"end":{"line":132,"column":32}},"74":{"start":{"line":137,"column":16},"end":{"line":137,"column":43}},"75":{"start":{"line":139,"column":14},"end":{"line":152,"column":1}},"76":{"start":{"line":140,"column":15},"end":{"line":144,"column":3}},"77":{"start":{"line":145,"column":2},"end":{"line":151,"column":5}},"78":{"start":{"line":146,"column":4},"end":{"line":150,"column":5}},"79":{"start":{"line":147,"column":6},"end":{"line":147,"column":24}},"80":{"start":{"line":149,"column":6},"end":{"line":149,"column":23}},"81":{"start":{"line":154,"column":13},"end":{"line":154,"column":42}},"82":{"start":{"line":156,"column":14},"end":{"line":185,"column":1}},"83":{"start":{"line":158,"column":15},"end":{"line":174,"column":3}},"84":{"start":{"line":175,"column":2},"end":{"line":184,"column":5}},"85":{"start":{"line":176,"column":4},"end":{"line":181,"column":7}},"86":{"start":{"line":177,"column":6},"end":{"line":180,"column":7}},"87":{"start":{"line":178,"column":21},"end":{"line":178,"column":42}},"88":{"start":{"line":179,"column":8},"end":{"line":179,"column":38}},"89":{"start":{"line":183,"column":4},"end":{"line":183,"column":14}},"90":{"start":{"line":187,"column":13},"end":{"line":187,"column":42}},"91":{"start":{"line":188,"column":0},"end":{"line":188,"column":23}},"92":{"start":{"line":189,"column":0},"end":{"line":189,"column":17}},"93":{"start":{"line":190,"column":0},"end":{"line":190,"column":21}},"94":{"start":{"line":191,"column":0},"end":{"line":191,"column":31}},"95":{"start":{"line":192,"column":0},"end":{"line":192,"column":27}},"96":{"start":{"line":193,"column":0},"end":{"line":193,"column":21}},"97":{"start":{"line":194,"column":0},"end":{"line":194,"column":21}},"98":{"start":{"line":195,"column":15},"end":{"line":195,"column":19}},"99":{"start":{"line":196,"column":0},"end":{"line":196,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":97}},"line":16},"1":{"name":"_typeof","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":16}},"loc":{"start":{"line":18,"column":22},"end":{"line":18,"column":351}},"line":18},"2":{"name":"_typeof","decl":{"start":{"line":18,"column":118},"end":{"line":18,"column":125}},"loc":{"start":{"line":18,"column":131},"end":{"line":18,"column":153}},"line":18},"3":{"name":"_typeof","decl":{"start":{"line":18,"column":183},"end":{"line":18,"column":190}},"loc":{"start":{"line":18,"column":196},"end":{"line":18,"column":325}},"line":18},"4":{"name":"asyncGeneratorStep","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":27}},"loc":{"start":{"line":20,"column":75},"end":{"line":20,"column":265}},"line":20},"5":{"name":"_asyncToGenerator","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":26}},"loc":{"start":{"line":22,"column":31},"end":{"line":22,"column":389}},"line":22},"6":{"name":"(anonymous_6)","decl":{"start":{"line":22,"column":40},"end":{"line":22,"column":41}},"loc":{"start":{"line":22,"column":52},"end":{"line":22,"column":386}},"line":22},"7":{"name":"(anonymous_7)","decl":{"start":{"line":22,"column":108},"end":{"line":22,"column":109}},"loc":{"start":{"line":22,"column":135},"end":{"line":22,"column":382}},"line":22},"8":{"name":"_next","decl":{"start":{"line":22,"column":178},"end":{"line":22,"column":183}},"loc":{"start":{"line":22,"column":191},"end":{"line":22,"column":266}},"line":22},"9":{"name":"_throw","decl":{"start":{"line":22,"column":276},"end":{"line":22,"column":282}},"loc":{"start":{"line":22,"column":288},"end":{"line":22,"column":362}},"line":22},"10":{"name":"_getData","decl":{"start":{"line":27,"column":24},"end":{"line":27,"column":32}},"loc":{"start":{"line":27,"column":43},"end":{"line":40,"column":1}},"line":27},"11":{"name":"(anonymous_11)","decl":{"start":{"line":32,"column":23},"end":{"line":32,"column":24}},"loc":{"start":{"line":32,"column":44},"end":{"line":39,"column":3}},"line":32},"12":{"name":"(anonymous_12)","decl":{"start":{"line":46,"column":0},"end":{"line":46,"column":1}},"loc":{"start":{"line":46,"column":12},"end":{"line":83,"column":1}},"line":46},"13":{"name":"_callee","decl":{"start":{"line":49,"column":35},"end":{"line":49,"column":42}},"loc":{"start":{"line":49,"column":59},"end":{"line":78,"column":3}},"line":49},"14":{"name":"_callee$","decl":{"start":{"line":51,"column":44},"end":{"line":51,"column":52}},"loc":{"start":{"line":51,"column":63},"end":{"line":77,"column":5}},"line":51},"15":{"name":"(anonymous_15)","decl":{"start":{"line":64,"column":33},"end":{"line":64,"column":34}},"loc":{"start":{"line":64,"column":54},"end":{"line":70,"column":13}},"line":64},"16":{"name":"_save","decl":{"start":{"line":80,"column":18},"end":{"line":80,"column":23}},"loc":{"start":{"line":80,"column":38},"end":{"line":82,"column":3}},"line":80},"17":{"name":"_remove","decl":{"start":{"line":87,"column":23},"end":{"line":87,"column":30}},"loc":{"start":{"line":87,"column":41},"end":{"line":99,"column":1}},"line":87},"18":{"name":"(anonymous_18)","decl":{"start":{"line":92,"column":26},"end":{"line":92,"column":27}},"loc":{"start":{"line":92,"column":47},"end":{"line":98,"column":3}},"line":92},"19":{"name":"_multiRemove","decl":{"start":{"line":103,"column":28},"end":{"line":103,"column":40}},"loc":{"start":{"line":103,"column":53},"end":{"line":118,"column":1}},"line":103},"20":{"name":"(anonymous_20)","decl":{"start":{"line":111,"column":27},"end":{"line":111,"column":28}},"loc":{"start":{"line":111,"column":48},"end":{"line":117,"column":3}},"line":111},"21":{"name":"_list","decl":{"start":{"line":122,"column":21},"end":{"line":122,"column":26}},"loc":{"start":{"line":122,"column":38},"end":{"line":135,"column":1}},"line":122},"22":{"name":"(anonymous_22)","decl":{"start":{"line":128,"column":27},"end":{"line":128,"column":28}},"loc":{"start":{"line":128,"column":48},"end":{"line":134,"column":3}},"line":128},"23":{"name":"_upload","decl":{"start":{"line":139,"column":23},"end":{"line":139,"column":30}},"loc":{"start":{"line":139,"column":56},"end":{"line":152,"column":1}},"line":139},"24":{"name":"(anonymous_24)","decl":{"start":{"line":145,"column":20},"end":{"line":145,"column":21}},"loc":{"start":{"line":145,"column":41},"end":{"line":151,"column":3}},"line":145},"25":{"name":"_select","decl":{"start":{"line":156,"column":23},"end":{"line":156,"column":30}},"loc":{"start":{"line":156,"column":57},"end":{"line":185,"column":1}},"line":156},"26":{"name":"(anonymous_26)","decl":{"start":{"line":175,"column":48},"end":{"line":175,"column":49}},"loc":{"start":{"line":175,"column":66},"end":{"line":182,"column":3}},"line":175},"27":{"name":"(anonymous_27)","decl":{"start":{"line":176,"column":30},"end":{"line":176,"column":31}},"loc":{"start":{"line":176,"column":47},"end":{"line":181,"column":5}},"line":176},"28":{"name":"(anonymous_28)","decl":{"start":{"line":182,"column":10},"end":{"line":182,"column":11}},"loc":{"start":{"line":182,"column":25},"end":{"line":184,"column":3}},"line":182}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":94}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":94}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16},"2":{"loc":{"start":{"line":18,"column":24},"end":{"line":18,"column":328}},"type":"if","locations":[{"start":{"line":18,"column":24},"end":{"line":18,"column":328}},{"start":{"line":18,"column":24},"end":{"line":18,"column":328}}],"line":18},"3":{"loc":{"start":{"line":18,"column":28},"end":{"line":18,"column":95}},"type":"binary-expr","locations":[{"start":{"line":18,"column":28},"end":{"line":18,"column":56}},{"start":{"line":18,"column":60},"end":{"line":18,"column":95}}],"line":18},"4":{"loc":{"start":{"line":18,"column":205},"end":{"line":18,"column":322}},"type":"cond-expr","locations":[{"start":{"line":18,"column":301},"end":{"line":18,"column":309}},{"start":{"line":18,"column":312},"end":{"line":18,"column":322}}],"line":18},"5":{"loc":{"start":{"line":18,"column":205},"end":{"line":18,"column":298}},"type":"binary-expr","locations":[{"start":{"line":18,"column":205},"end":{"line":18,"column":208}},{"start":{"line":18,"column":212},"end":{"line":18,"column":240}},{"start":{"line":18,"column":244},"end":{"line":18,"column":270}},{"start":{"line":18,"column":274},"end":{"line":18,"column":298}}],"line":18},"6":{"loc":{"start":{"line":20,"column":176},"end":{"line":20,"column":263}},"type":"if","locations":[{"start":{"line":20,"column":176},"end":{"line":20,"column":263}},{"start":{"line":20,"column":176},"end":{"line":20,"column":263}}],"line":20},"7":{"loc":{"start":{"line":33,"column":4},"end":{"line":38,"column":5}},"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":38,"column":5}},{"start":{"line":33,"column":4},"end":{"line":38,"column":5}}],"line":33},"8":{"loc":{"start":{"line":53,"column":8},"end":{"line":75,"column":9}},"type":"switch","locations":[{"start":{"line":54,"column":10},"end":{"line":70,"column":15}},{"start":{"line":72,"column":10},"end":{"line":72,"column":17}},{"start":{"line":73,"column":10},"end":{"line":74,"column":35}}],"line":53},"9":{"loc":{"start":{"line":55,"column":16},"end":{"line":55,"column":72}},"type":"cond-expr","locations":[{"start":{"line":55,"column":45},"end":{"line":55,"column":65}},{"start":{"line":55,"column":68},"end":{"line":55,"column":72}}],"line":55},"10":{"loc":{"start":{"line":65,"column":14},"end":{"line":69,"column":15}},"type":"if","locations":[{"start":{"line":65,"column":14},"end":{"line":69,"column":15}},{"start":{"line":65,"column":14},"end":{"line":69,"column":15}}],"line":65},"11":{"loc":{"start":{"line":93,"column":4},"end":{"line":97,"column":5}},"type":"if","locations":[{"start":{"line":93,"column":4},"end":{"line":97,"column":5}},{"start":{"line":93,"column":4},"end":{"line":97,"column":5}}],"line":93},"12":{"loc":{"start":{"line":112,"column":4},"end":{"line":116,"column":5}},"type":"if","locations":[{"start":{"line":112,"column":4},"end":{"line":116,"column":5}},{"start":{"line":112,"column":4},"end":{"line":116,"column":5}}],"line":112},"13":{"loc":{"start":{"line":129,"column":4},"end":{"line":133,"column":5}},"type":"if","locations":[{"start":{"line":129,"column":4},"end":{"line":133,"column":5}},{"start":{"line":129,"column":4},"end":{"line":133,"column":5}}],"line":129},"14":{"loc":{"start":{"line":146,"column":4},"end":{"line":150,"column":5}},"type":"if","locations":[{"start":{"line":146,"column":4},"end":{"line":150,"column":5}},{"start":{"line":146,"column":4},"end":{"line":150,"column":5}}],"line":146},"15":{"loc":{"start":{"line":177,"column":6},"end":{"line":180,"column":7}},"type":"if","locations":[{"start":{"line":177,"column":6},"end":{"line":180,"column":7}},{"start":{"line":177,"column":6},"end":{"line":180,"column":7}}],"line":177}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":1,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":1,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":1,"52":0,"53":1,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":1,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":1,"69":0,"70":0,"71":0,"72":0,"73":0,"74":1,"75":1,"76":0,"77":0,"78":0,"79":0,"80":0,"81":1,"82":1,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},"b":{"0":[0,1],"1":[1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0]},"inputSourceMap":{"version":3,"sources":["s3.js"],"names":["s3","AWS","S3","s3db","_getData","id","done","params","Bucket","USERS_BUCKET_NAME","Key","getObject","err","data","message","o","JSON","parse","Body","toString","getData","_save","s","stringify","Buffer","from","ServerSideEncryption","StorageClass","ContentMD5","putObject","save","_remove","deleteObject","remove","_multiRemove","objs","Delete","Objects","Quiet","deleteObjects","multiRemove","_list","dir","MaxKeys","Prefix","listObjectsV2","Contents","listItems","_upload","name","key","stream","upload","_select","bucket","query","ExpressionType","Expression","InputSerialization","CompressionType","Type","OutputSerialization","RecordDelimiter","selectObjectContent","promise","then","output","Payload","on","event","Records","buffer","select"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3","sourcesContent":["import AWS from 'aws-sdk'\r\nimport { promisify } from 'util'\r\n\r\nimport { USERS_BUCKET_NAME } from '../../config'\r\nimport { md5 } from '../security'\r\nconst s3 = new AWS.S3()\r\nconst s3db = {}\r\n\r\nconst _getData = (id, done) => {\r\n  const params = {\r\n    Bucket: USERS_BUCKET_NAME,\r\n    Key: id\r\n  }\r\n\r\n  s3.getObject(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      const o = JSON.parse(data.Body.toString('utf8'))\r\n      done(null, o)\r\n    }\r\n  })\r\n}\r\n\r\nconst getData = promisify(_getData)\r\n\r\nconst _save = async (id, data, done) => {\r\n  const s = typeof data === 'object' ? JSON.stringify(data) : data\r\n  const params = {\r\n    Body: Buffer.from(s),\r\n    Bucket: USERS_BUCKET_NAME,\r\n    ServerSideEncryption: 'AES256',\r\n    StorageClass: 'STANDARD_IA',\r\n    ContentMD5: md5(s),\r\n    Key: id\r\n  }\r\n  s3.putObject(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, JSON.parse(params.Body.toString()))\r\n    }\r\n  })\r\n}\r\n\r\nconst save = promisify(_save)\r\n\r\nconst _remove = (id, done) => {\r\n  const params = {\r\n    Bucket: USERS_BUCKET_NAME,\r\n    Key: id\r\n  }\r\n\r\n  s3.deleteObject(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, data)\r\n    }\r\n  })\r\n}\r\n\r\nconst remove = promisify(_remove)\r\n\r\nconst _multiRemove = (objs, done) => {\r\n  const params = {\r\n    Bucket: USERS_BUCKET_NAME,\r\n    Delete: {\r\n      Objects: objs,\r\n      Quiet: false\r\n    }\r\n  }\r\n\r\n  s3.deleteObjects(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, data)\r\n    }\r\n  })\r\n}\r\n\r\nconst multiRemove = promisify(_multiRemove)\r\n\r\nconst _list = (dir, done) => {\r\n  const params = {\r\n    Bucket: USERS_BUCKET_NAME,\r\n    MaxKeys: 10,\r\n    Prefix: dir\r\n  }\r\n\r\n  s3.listObjectsV2(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, data.Contents)\r\n    }\r\n  })\r\n}\r\n\r\nconst listItems = promisify(_list)\r\n\r\nconst _upload = (name, key, stream, done) => {\r\n  const params = { Bucket: name, Key: key, Body: stream }\r\n  s3.upload(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, data)\r\n    }\r\n  })\r\n}\r\n\r\nconst upload = promisify(_upload)\r\n\r\nconst _select = (bucket, key, query, done) => {\r\n  // ex.: 'SELECT s.* FROM S3Object[*][*] s WHERE s.price < 9 LIMIT 10'\r\n  const params = {\r\n    Bucket: bucket,\r\n    Key: key,\r\n    ExpressionType: 'SQL',\r\n    Expression: query,\r\n    InputSerialization: {\r\n      CompressionType: 'GZIP',\r\n      JSON: {\r\n        Type: 'DOCUMENT'\r\n      }\r\n    },\r\n    OutputSerialization: {\r\n      JSON: {\r\n        RecordDelimiter: ','\r\n      }\r\n    }\r\n  }\r\n  s3.selectObjectContent(params)\r\n    .promise()\r\n    .then((output) => {\r\n      output.Payload.on('data', (event) => {\r\n        if (event.Records) {\r\n          const buffer = event.Records.Payload\r\n          done(null, buffer.toString())\r\n        }\r\n      })\r\n    })\r\n    .then((err) => {\r\n      done(err)\r\n    })\r\n}\r\n\r\nconst select = promisify(_select)\r\n\r\ns3db.getData = getData\r\ns3db.save = save\r\ns3db.remove = remove\r\ns3db.multiRemove = multiRemove\r\ns3db.listItems = listItems\r\ns3db.upload = upload\r\ns3db.select = select\r\n\r\nexport default s3db\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"54e05c3dff74e865f7eada56f7fa7414de562491","contentHash":"d0353bdf9f4597ae89cf63cbdbac35a1ea4f11e9a067a8ae1e2da70e8cd4dc4d"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\security\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\security\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":176}},"2":{"start":{"line":8,"column":18},"end":{"line":8,"column":40}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":27}},"4":{"start":{"line":12,"column":14},"end":{"line":12,"column":31}},"5":{"start":{"line":14,"column":10},"end":{"line":14,"column":50}},"6":{"start":{"line":16,"column":14},"end":{"line":16,"column":37}},"7":{"start":{"line":18,"column":20},"end":{"line":18,"column":46}},"8":{"start":{"line":20,"column":39},"end":{"line":20,"column":95}},"9":{"start":{"line":22,"column":77},"end":{"line":22,"column":175}},"10":{"start":{"line":22,"column":94},"end":{"line":22,"column":107}},"11":{"start":{"line":22,"column":121},"end":{"line":22,"column":131}},"12":{"start":{"line":22,"column":151},"end":{"line":22,"column":165}},"13":{"start":{"line":22,"column":166},"end":{"line":22,"column":173}},"14":{"start":{"line":22,"column":176},"end":{"line":22,"column":263}},"15":{"start":{"line":22,"column":193},"end":{"line":22,"column":208}},"16":{"start":{"line":22,"column":218},"end":{"line":22,"column":261}},"17":{"start":{"line":24,"column":33},"end":{"line":24,"column":387}},"18":{"start":{"line":24,"column":65},"end":{"line":24,"column":69}},"19":{"start":{"line":24,"column":78},"end":{"line":24,"column":87}},"20":{"start":{"line":24,"column":89},"end":{"line":24,"column":384}},"21":{"start":{"line":24,"column":147},"end":{"line":24,"column":167}},"22":{"start":{"line":24,"column":193},"end":{"line":24,"column":264}},"23":{"start":{"line":24,"column":290},"end":{"line":24,"column":360}},"24":{"start":{"line":24,"column":363},"end":{"line":24,"column":380}},"25":{"start":{"line":26,"column":24},"end":{"line":26,"column":328}},"26":{"start":{"line":26,"column":99},"end":{"line":26,"column":154}},"27":{"start":{"line":26,"column":133},"end":{"line":26,"column":151}},"28":{"start":{"line":26,"column":164},"end":{"line":26,"column":326}},"29":{"start":{"line":26,"column":198},"end":{"line":26,"column":323}},"30":{"start":{"line":26,"column":329},"end":{"line":26,"column":349}},"31":{"start":{"line":28,"column":16},"end":{"line":28,"column":29}},"32":{"start":{"line":30,"column":14},"end":{"line":38,"column":1}},"33":{"start":{"line":31,"column":2},"end":{"line":37,"column":5}},"34":{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},"35":{"start":{"line":33,"column":6},"end":{"line":33,"column":24}},"36":{"start":{"line":36,"column":4},"end":{"line":36,"column":36}},"37":{"start":{"line":40,"column":13},"end":{"line":40,"column":42}},"38":{"start":{"line":41,"column":0},"end":{"line":41,"column":24}},"39":{"start":{"line":43,"column":13},"end":{"line":58,"column":1}},"40":{"start":{"line":44,"column":17},"end":{"line":44,"column":22}},"41":{"start":{"line":46,"column":2},"end":{"line":49,"column":3}},"42":{"start":{"line":47,"column":4},"end":{"line":47,"column":32}},"43":{"start":{"line":48,"column":4},"end":{"line":48,"column":20}},"44":{"start":{"line":51,"column":2},"end":{"line":51,"column":50}},"45":{"start":{"line":53,"column":2},"end":{"line":55,"column":3}},"46":{"start":{"line":54,"column":4},"end":{"line":54,"column":28}},"47":{"start":{"line":57,"column":2},"end":{"line":57,"column":19}},"48":{"start":{"line":60,"column":12},"end":{"line":60,"column":40}},"49":{"start":{"line":64,"column":0},"end":{"line":97,"column":3}},"50":{"start":{"line":65,"column":13},"end":{"line":92,"column":5}},"51":{"start":{"line":68,"column":4},"end":{"line":91,"column":16}},"52":{"start":{"line":69,"column":6},"end":{"line":90,"column":7}},"53":{"start":{"line":70,"column":8},"end":{"line":89,"column":9}},"54":{"start":{"line":72,"column":12},"end":{"line":75,"column":13}},"55":{"start":{"line":73,"column":14},"end":{"line":73,"column":32}},"56":{"start":{"line":74,"column":14},"end":{"line":74,"column":20}},"57":{"start":{"line":77,"column":12},"end":{"line":77,"column":30}},"58":{"start":{"line":78,"column":12},"end":{"line":78,"column":37}},"59":{"start":{"line":81,"column":12},"end":{"line":81,"column":39}},"60":{"start":{"line":84,"column":12},"end":{"line":84,"column":52}},"61":{"start":{"line":88,"column":12},"end":{"line":88,"column":35}},"62":{"start":{"line":94,"column":2},"end":{"line":96,"column":4}},"63":{"start":{"line":95,"column":4},"end":{"line":95,"column":39}},"64":{"start":{"line":99,"column":0},"end":{"line":99,"column":18}},"65":{"start":{"line":101,"column":15},"end":{"line":110,"column":1}},"66":{"start":{"line":102,"column":2},"end":{"line":109,"column":3}},"67":{"start":{"line":103,"column":17},"end":{"line":103,"column":104}},"68":{"start":{"line":104,"column":20},"end":{"line":104,"column":54}},"69":{"start":{"line":105,"column":4},"end":{"line":105,"column":40}},"70":{"start":{"line":106,"column":4},"end":{"line":106,"column":26}},"71":{"start":{"line":108,"column":4},"end":{"line":108,"column":12}},"72":{"start":{"line":112,"column":15},"end":{"line":121,"column":1}},"73":{"start":{"line":113,"column":2},"end":{"line":120,"column":3}},"74":{"start":{"line":114,"column":19},"end":{"line":114,"column":108}},"75":{"start":{"line":115,"column":20},"end":{"line":115,"column":61}},"76":{"start":{"line":116,"column":4},"end":{"line":116,"column":43}},"77":{"start":{"line":117,"column":4},"end":{"line":117,"column":26}},"78":{"start":{"line":119,"column":4},"end":{"line":119,"column":12}},"79":{"start":{"line":123,"column":10},"end":{"line":125,"column":1}},"80":{"start":{"line":124,"column":2},"end":{"line":124,"column":70}},"81":{"start":{"line":127,"column":0},"end":{"line":127,"column":18}},"82":{"start":{"line":128,"column":14},"end":{"line":128,"column":44}},"83":{"start":{"line":129,"column":0},"end":{"line":129,"column":26}},"84":{"start":{"line":130,"column":14},"end":{"line":130,"column":44}},"85":{"start":{"line":131,"column":0},"end":{"line":131,"column":26}},"86":{"start":{"line":133,"column":13},"end":{"line":139,"column":1}},"87":{"start":{"line":134,"column":2},"end":{"line":138,"column":5}},"88":{"start":{"line":135,"column":12},"end":{"line":135,"column":34}},"89":{"start":{"line":136,"column":12},"end":{"line":136,"column":41}},"90":{"start":{"line":137,"column":4},"end":{"line":137,"column":26}},"91":{"start":{"line":141,"column":0},"end":{"line":141,"column":24}},"92":{"start":{"line":143,"column":12},"end":{"line":149,"column":1}},"93":{"start":{"line":144,"column":2},"end":{"line":148,"column":3}},"94":{"start":{"line":145,"column":4},"end":{"line":145,"column":97}},"95":{"start":{"line":147,"column":4},"end":{"line":147,"column":48}},"96":{"start":{"line":151,"column":11},"end":{"line":151,"column":38}},"97":{"start":{"line":152,"column":0},"end":{"line":152,"column":20}},"98":{"start":{"line":154,"column":16},"end":{"line":162,"column":1}},"99":{"start":{"line":155,"column":2},"end":{"line":161,"column":5}},"100":{"start":{"line":156,"column":4},"end":{"line":160,"column":5}},"101":{"start":{"line":157,"column":6},"end":{"line":157,"column":48}},"102":{"start":{"line":159,"column":6},"end":{"line":159,"column":38}},"103":{"start":{"line":164,"column":15},"end":{"line":164,"column":46}},"104":{"start":{"line":165,"column":0},"end":{"line":165,"column":28}},"105":{"start":{"line":167,"column":19},"end":{"line":175,"column":1}},"106":{"start":{"line":168,"column":2},"end":{"line":174,"column":3}},"107":{"start":{"line":169,"column":16},"end":{"line":169,"column":65}},"108":{"start":{"line":170,"column":4},"end":{"line":170,"column":48}},"109":{"start":{"line":171,"column":4},"end":{"line":171,"column":22}},"110":{"start":{"line":173,"column":4},"end":{"line":173,"column":53}},"111":{"start":{"line":177,"column":18},"end":{"line":177,"column":52}},"112":{"start":{"line":178,"column":0},"end":{"line":178,"column":34}},"113":{"start":{"line":182,"column":0},"end":{"line":230,"column":3}},"114":{"start":{"line":183,"column":14},"end":{"line":225,"column":5}},"115":{"start":{"line":187,"column":4},"end":{"line":224,"column":17}},"116":{"start":{"line":188,"column":6},"end":{"line":223,"column":7}},"117":{"start":{"line":189,"column":8},"end":{"line":222,"column":9}},"118":{"start":{"line":191,"column":12},"end":{"line":191,"column":31}},"119":{"start":{"line":192,"column":12},"end":{"line":194,"column":15}},"120":{"start":{"line":193,"column":14},"end":{"line":193,"column":29}},"121":{"start":{"line":197,"column":12},"end":{"line":197,"column":35}},"122":{"start":{"line":199,"column":12},"end":{"line":202,"column":13}},"123":{"start":{"line":200,"column":14},"end":{"line":200,"column":33}},"124":{"start":{"line":201,"column":14},"end":{"line":201,"column":20}},"125":{"start":{"line":204,"column":12},"end":{"line":204,"column":31}},"126":{"start":{"line":205,"column":12},"end":{"line":207,"column":15}},"127":{"start":{"line":206,"column":14},"end":{"line":206,"column":59}},"128":{"start":{"line":210,"column":12},"end":{"line":210,"column":39}},"129":{"start":{"line":212,"column":12},"end":{"line":214,"column":13}},"130":{"start":{"line":213,"column":14},"end":{"line":213,"column":36}},"131":{"start":{"line":217,"column":12},"end":{"line":217,"column":61}},"132":{"start":{"line":221,"column":12},"end":{"line":221,"column":36}},"133":{"start":{"line":227,"column":2},"end":{"line":229,"column":4}},"134":{"start":{"line":228,"column":4},"end":{"line":228,"column":40}},"135":{"start":{"line":232,"column":11},"end":{"line":232,"column":38}},"136":{"start":{"line":233,"column":0},"end":{"line":233,"column":20}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":31}},"loc":{"start":{"line":20,"column":37},"end":{"line":20,"column":97}},"line":20},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":27}},"loc":{"start":{"line":22,"column":75},"end":{"line":22,"column":265}},"line":22},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":24,"column":9},"end":{"line":24,"column":26}},"loc":{"start":{"line":24,"column":31},"end":{"line":24,"column":389}},"line":24},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":40},"end":{"line":24,"column":41}},"loc":{"start":{"line":24,"column":52},"end":{"line":24,"column":386}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":24,"column":108},"end":{"line":24,"column":109}},"loc":{"start":{"line":24,"column":135},"end":{"line":24,"column":382}},"line":24},"5":{"name":"_next","decl":{"start":{"line":24,"column":178},"end":{"line":24,"column":183}},"loc":{"start":{"line":24,"column":191},"end":{"line":24,"column":266}},"line":24},"6":{"name":"_throw","decl":{"start":{"line":24,"column":276},"end":{"line":24,"column":282}},"loc":{"start":{"line":24,"column":288},"end":{"line":24,"column":362}},"line":24},"7":{"name":"_typeof","decl":{"start":{"line":26,"column":9},"end":{"line":26,"column":16}},"loc":{"start":{"line":26,"column":22},"end":{"line":26,"column":351}},"line":26},"8":{"name":"_typeof","decl":{"start":{"line":26,"column":118},"end":{"line":26,"column":125}},"loc":{"start":{"line":26,"column":131},"end":{"line":26,"column":153}},"line":26},"9":{"name":"_typeof","decl":{"start":{"line":26,"column":183},"end":{"line":26,"column":190}},"loc":{"start":{"line":26,"column":196},"end":{"line":26,"column":325}},"line":26},"10":{"name":"_random","decl":{"start":{"line":30,"column":23},"end":{"line":30,"column":30}},"loc":{"start":{"line":30,"column":40},"end":{"line":38,"column":1}},"line":30},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":30},"end":{"line":31,"column":31}},"loc":{"start":{"line":31,"column":50},"end":{"line":37,"column":3}},"line":31},"12":{"name":"_clean","decl":{"start":{"line":43,"column":22},"end":{"line":43,"column":28}},"loc":{"start":{"line":43,"column":41},"end":{"line":58,"column":1}},"line":43},"13":{"name":"(anonymous_13)","decl":{"start":{"line":64,"column":0},"end":{"line":64,"column":1}},"loc":{"start":{"line":64,"column":12},"end":{"line":97,"column":1}},"line":64},"14":{"name":"_callee","decl":{"start":{"line":67,"column":35},"end":{"line":67,"column":42}},"loc":{"start":{"line":67,"column":50},"end":{"line":92,"column":3}},"line":67},"15":{"name":"_callee$","decl":{"start":{"line":68,"column":44},"end":{"line":68,"column":52}},"loc":{"start":{"line":68,"column":63},"end":{"line":91,"column":5}},"line":68},"16":{"name":"xss","decl":{"start":{"line":94,"column":18},"end":{"line":94,"column":21}},"loc":{"start":{"line":94,"column":26},"end":{"line":96,"column":3}},"line":94},"17":{"name":"_encrypt","decl":{"start":{"line":101,"column":24},"end":{"line":101,"column":32}},"loc":{"start":{"line":101,"column":54},"end":{"line":110,"column":1}},"line":101},"18":{"name":"_decrypt","decl":{"start":{"line":112,"column":24},"end":{"line":112,"column":32}},"loc":{"start":{"line":112,"column":59},"end":{"line":121,"column":1}},"line":112},"19":{"name":"md5","decl":{"start":{"line":123,"column":19},"end":{"line":123,"column":22}},"loc":{"start":{"line":123,"column":29},"end":{"line":125,"column":1}},"line":123},"20":{"name":"uuidv4","decl":{"start":{"line":133,"column":22},"end":{"line":133,"column":28}},"loc":{"start":{"line":133,"column":31},"end":{"line":139,"column":1}},"line":133},"21":{"name":"(anonymous_21)","decl":{"start":{"line":134,"column":65},"end":{"line":134,"column":66}},"loc":{"start":{"line":134,"column":78},"end":{"line":138,"column":3}},"line":134},"22":{"name":"_hash","decl":{"start":{"line":143,"column":21},"end":{"line":143,"column":26}},"loc":{"start":{"line":143,"column":38},"end":{"line":149,"column":1}},"line":143},"23":{"name":"_randomID","decl":{"start":{"line":154,"column":25},"end":{"line":154,"column":34}},"loc":{"start":{"line":154,"column":44},"end":{"line":162,"column":1}},"line":154},"24":{"name":"(anonymous_24)","decl":{"start":{"line":155,"column":30},"end":{"line":155,"column":31}},"loc":{"start":{"line":155,"column":50},"end":{"line":161,"column":3}},"line":155},"25":{"name":"_tokenHeader","decl":{"start":{"line":167,"column":28},"end":{"line":167,"column":40}},"loc":{"start":{"line":167,"column":53},"end":{"line":175,"column":1}},"line":167},"26":{"name":"(anonymous_26)","decl":{"start":{"line":182,"column":0},"end":{"line":182,"column":1}},"loc":{"start":{"line":182,"column":12},"end":{"line":230,"column":1}},"line":182},"27":{"name":"_callee2","decl":{"start":{"line":185,"column":35},"end":{"line":185,"column":43}},"loc":{"start":{"line":185,"column":56},"end":{"line":225,"column":3}},"line":185},"28":{"name":"_callee2$","decl":{"start":{"line":187,"column":44},"end":{"line":187,"column":53}},"loc":{"start":{"line":187,"column":65},"end":{"line":224,"column":5}},"line":187},"29":{"name":"(anonymous_29)","decl":{"start":{"line":192,"column":46},"end":{"line":192,"column":47}},"loc":{"start":{"line":192,"column":59},"end":{"line":194,"column":13}},"line":192},"30":{"name":"(anonymous_30)","decl":{"start":{"line":205,"column":65},"end":{"line":205,"column":66}},"loc":{"start":{"line":205,"column":77},"end":{"line":207,"column":13}},"line":205},"31":{"name":"_auth","decl":{"start":{"line":227,"column":18},"end":{"line":227,"column":23}},"loc":{"start":{"line":227,"column":34},"end":{"line":229,"column":3}},"line":227}},"branchMap":{"0":{"loc":{"start":{"line":20,"column":46},"end":{"line":20,"column":94}},"type":"cond-expr","locations":[{"start":{"line":20,"column":70},"end":{"line":20,"column":73}},{"start":{"line":20,"column":76},"end":{"line":20,"column":94}}],"line":20},"1":{"loc":{"start":{"line":20,"column":46},"end":{"line":20,"column":67}},"type":"binary-expr","locations":[{"start":{"line":20,"column":46},"end":{"line":20,"column":49}},{"start":{"line":20,"column":53},"end":{"line":20,"column":67}}],"line":20},"2":{"loc":{"start":{"line":22,"column":176},"end":{"line":22,"column":263}},"type":"if","locations":[{"start":{"line":22,"column":176},"end":{"line":22,"column":263}},{"start":{"line":22,"column":176},"end":{"line":22,"column":263}}],"line":22},"3":{"loc":{"start":{"line":26,"column":24},"end":{"line":26,"column":328}},"type":"if","locations":[{"start":{"line":26,"column":24},"end":{"line":26,"column":328}},{"start":{"line":26,"column":24},"end":{"line":26,"column":328}}],"line":26},"4":{"loc":{"start":{"line":26,"column":28},"end":{"line":26,"column":95}},"type":"binary-expr","locations":[{"start":{"line":26,"column":28},"end":{"line":26,"column":56}},{"start":{"line":26,"column":60},"end":{"line":26,"column":95}}],"line":26},"5":{"loc":{"start":{"line":26,"column":205},"end":{"line":26,"column":322}},"type":"cond-expr","locations":[{"start":{"line":26,"column":301},"end":{"line":26,"column":309}},{"start":{"line":26,"column":312},"end":{"line":26,"column":322}}],"line":26},"6":{"loc":{"start":{"line":26,"column":205},"end":{"line":26,"column":298}},"type":"binary-expr","locations":[{"start":{"line":26,"column":205},"end":{"line":26,"column":208}},{"start":{"line":26,"column":212},"end":{"line":26,"column":240}},{"start":{"line":26,"column":244},"end":{"line":26,"column":270}},{"start":{"line":26,"column":274},"end":{"line":26,"column":298}}],"line":26},"7":{"loc":{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},"type":"if","locations":[{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},{"start":{"line":32,"column":4},"end":{"line":34,"column":5}}],"line":32},"8":{"loc":{"start":{"line":46,"column":2},"end":{"line":49,"column":3}},"type":"if","locations":[{"start":{"line":46,"column":2},"end":{"line":49,"column":3}},{"start":{"line":46,"column":2},"end":{"line":49,"column":3}}],"line":46},"9":{"loc":{"start":{"line":53,"column":2},"end":{"line":55,"column":3}},"type":"if","locations":[{"start":{"line":53,"column":2},"end":{"line":55,"column":3}},{"start":{"line":53,"column":2},"end":{"line":55,"column":3}}],"line":53},"10":{"loc":{"start":{"line":70,"column":8},"end":{"line":89,"column":9}},"type":"switch","locations":[{"start":{"line":71,"column":10},"end":{"line":78,"column":37}},{"start":{"line":80,"column":10},"end":{"line":81,"column":39}},{"start":{"line":83,"column":10},"end":{"line":84,"column":52}},{"start":{"line":86,"column":10},"end":{"line":86,"column":17}},{"start":{"line":87,"column":10},"end":{"line":88,"column":35}}],"line":70},"11":{"loc":{"start":{"line":72,"column":12},"end":{"line":75,"column":13}},"type":"if","locations":[{"start":{"line":72,"column":12},"end":{"line":75,"column":13}},{"start":{"line":72,"column":12},"end":{"line":75,"column":13}}],"line":72},"12":{"loc":{"start":{"line":136,"column":12},"end":{"line":136,"column":41}},"type":"cond-expr","locations":[{"start":{"line":136,"column":24},"end":{"line":136,"column":25}},{"start":{"line":136,"column":28},"end":{"line":136,"column":41}}],"line":136},"13":{"loc":{"start":{"line":144,"column":2},"end":{"line":148,"column":3}},"type":"if","locations":[{"start":{"line":144,"column":2},"end":{"line":148,"column":3}},{"start":{"line":144,"column":2},"end":{"line":148,"column":3}}],"line":144},"14":{"loc":{"start":{"line":144,"column":6},"end":{"line":144,"column":47}},"type":"binary-expr","locations":[{"start":{"line":144,"column":6},"end":{"line":144,"column":29}},{"start":{"line":144,"column":33},"end":{"line":144,"column":47}}],"line":144},"15":{"loc":{"start":{"line":156,"column":4},"end":{"line":160,"column":5}},"type":"if","locations":[{"start":{"line":156,"column":4},"end":{"line":160,"column":5}},{"start":{"line":156,"column":4},"end":{"line":160,"column":5}}],"line":156},"16":{"loc":{"start":{"line":168,"column":2},"end":{"line":174,"column":3}},"type":"if","locations":[{"start":{"line":168,"column":2},"end":{"line":174,"column":3}},{"start":{"line":168,"column":2},"end":{"line":174,"column":3}}],"line":168},"17":{"loc":{"start":{"line":168,"column":6},"end":{"line":168,"column":68}},"type":"binary-expr","locations":[{"start":{"line":168,"column":6},"end":{"line":168,"column":18}},{"start":{"line":168,"column":22},"end":{"line":168,"column":68}}],"line":168},"18":{"loc":{"start":{"line":170,"column":12},"end":{"line":170,"column":47}},"type":"cond-expr","locations":[{"start":{"line":170,"column":34},"end":{"line":170,"column":39}},{"start":{"line":170,"column":42},"end":{"line":170,"column":47}}],"line":170},"19":{"loc":{"start":{"line":189,"column":8},"end":{"line":222,"column":9}},"type":"switch","locations":[{"start":{"line":190,"column":10},"end":{"line":194,"column":15}},{"start":{"line":196,"column":10},"end":{"line":207,"column":15}},{"start":{"line":209,"column":10},"end":{"line":214,"column":13}},{"start":{"line":216,"column":10},"end":{"line":217,"column":61}},{"start":{"line":219,"column":10},"end":{"line":219,"column":17}},{"start":{"line":220,"column":10},"end":{"line":221,"column":36}}],"line":189},"20":{"loc":{"start":{"line":199,"column":12},"end":{"line":202,"column":13}},"type":"if","locations":[{"start":{"line":199,"column":12},"end":{"line":202,"column":13}},{"start":{"line":199,"column":12},"end":{"line":202,"column":13}}],"line":199},"21":{"loc":{"start":{"line":212,"column":12},"end":{"line":214,"column":13}},"type":"if","locations":[{"start":{"line":212,"column":12},"end":{"line":214,"column":13}},{"start":{"line":212,"column":12},"end":{"line":214,"column":13}}],"line":212},"22":{"loc":{"start":{"line":212,"column":16},"end":{"line":212,"column":58}},"type":"binary-expr","locations":[{"start":{"line":212,"column":16},"end":{"line":212,"column":25}},{"start":{"line":212,"column":29},"end":{"line":212,"column":58}}],"line":212}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":31,"10":31,"11":31,"12":0,"13":0,"14":31,"15":20,"16":11,"17":2,"18":20,"19":20,"20":20,"21":20,"22":31,"23":0,"24":20,"25":1,"26":1,"27":1,"28":0,"29":0,"30":1,"31":1,"32":1,"33":0,"34":0,"35":0,"36":0,"37":1,"38":1,"39":1,"40":1,"41":1,"42":0,"43":0,"44":1,"45":1,"46":0,"47":1,"48":1,"49":1,"50":1,"51":15,"52":31,"53":45,"54":15,"55":14,"56":14,"57":1,"58":1,"59":1,"60":15,"61":15,"62":1,"63":15,"64":1,"65":1,"66":2,"67":2,"68":2,"69":2,"70":2,"71":0,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":0,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":31,"89":31,"90":31,"91":1,"92":1,"93":4,"94":4,"95":0,"96":1,"97":1,"98":1,"99":100007,"100":100007,"101":0,"102":100007,"103":1,"104":1,"105":1,"106":6,"107":5,"108":5,"109":5,"110":1,"111":1,"112":1,"113":1,"114":1,"115":5,"116":15,"117":15,"118":5,"119":5,"120":0,"121":5,"122":5,"123":0,"124":0,"125":5,"126":5,"127":0,"128":5,"129":5,"130":5,"131":5,"132":5,"133":1,"134":5,"135":1,"136":1},"f":{"0":1,"1":31,"2":2,"3":20,"4":20,"5":31,"6":0,"7":1,"8":1,"9":0,"10":0,"11":0,"12":1,"13":1,"14":15,"15":31,"16":15,"17":2,"18":1,"19":1,"20":1,"21":31,"22":4,"23":100007,"24":100007,"25":6,"26":1,"27":5,"28":15,"29":0,"30":0,"31":5},"b":{"0":[1,0],"1":[1,1],"2":[20,11],"3":[1,0],"4":[1,1],"5":[0,0],"6":[0,0,0,0],"7":[0,0],"8":[0,1],"9":[0,1],"10":[15,1,15,0,15],"11":[14,1],"12":[30,1],"13":[4,0],"14":[4,4],"15":[0,100007],"16":[5,1],"17":[6,5],"18":[5,0],"19":[5,5,5,5,5,5],"20":[0,5],"21":[5,0],"22":[5,5]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["algorithm","_random","n","done","err","buf","message","toString","random","_clean","data","isObject","JSON","stringify","trim","parse","clean","xss","event","body","_encrypt","key","iv","cipher","Buffer","from","encrypted","update","e","_decrypt","decipher","decrypted","md5","digest","encrypt","decrypt","uuidv4","replace","c","r","Math","v","_hash","msg","length","HASH_SECRET","hash","_randomID","randomID","_tokenHeader","headers","Authorization","token","tokenHeader","_auth","db","read","tokenData","expiry","Date","now","auth"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\security","sourcesContent":["import { inHTMLData } from 'xss-filters'\r\nimport { promisify } from 'util'\r\nimport { createHash, createHmac, createCipheriv, createDecipheriv, randomBytes } from 'crypto'\r\n\r\nimport db from '../db'\r\nimport { HASH_SECRET } from '../../config'\r\nimport { t } from '../translations'\r\nconst algorithm = 'aes-256-cbc'\r\n\r\nconst _random = (n, done) => {\r\n  randomBytes(n, (err, buf) => {\r\n    if (err) {\r\n      done(err.message)\r\n    }\r\n    done(null, buf.toString('hex'))\r\n  })\r\n}\r\n\r\nexport const random = promisify(_random)\r\n\r\nconst _clean = (data, done) => {\r\n  let isObject = false\r\n  if (typeof data === 'object') {\r\n    data = JSON.stringify(data)\r\n    isObject = true\r\n  }\r\n\r\n  data = inHTMLData(data).trim()\r\n  if (isObject) {\r\n    data = JSON.parse(data)\r\n  }\r\n\r\n  done(null, data)\r\n}\r\n\r\nconst clean = promisify(_clean)\r\n\r\nexport const xss = async (event) => {\r\n  if (event.body) {\r\n    event.body = await clean(event.body)\r\n  }\r\n  return event\r\n}\r\n\r\nconst _encrypt = (data, key, iv, done) => {\r\n  try {\r\n    const cipher = createCipheriv(algorithm, Buffer.from(key, 'hex'), Buffer.from(iv, 'hex'))\r\n    let encrypted = cipher.update(data, 'utf8', 'hex')\r\n    encrypted += cipher.final('hex')\r\n    done(null, encrypted)\r\n  } catch (e) {\r\n    done(e)\r\n  }\r\n}\r\n\r\nconst _decrypt = (encrypted, key, iv, done) => {\r\n  try {\r\n    const decipher = createDecipheriv(algorithm, Buffer.from(key, 'hex'), Buffer.from(iv, 'hex'))\r\n    let decrypted = decipher.update(encrypted, 'hex', 'utf8')\r\n    decrypted += decipher.final('utf8')\r\n    done(null, decrypted)\r\n  } catch (e) {\r\n    done(e)\r\n  }\r\n}\r\n\r\nexport const md5 = (data) => {\r\n  return createHash('md5').update(data).digest('base64')\r\n}\r\n\r\nexport const encrypt = promisify(_encrypt)\r\n\r\nexport const decrypt = promisify(_decrypt)\r\n\r\nexport const uuidv4 = () => {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\r\n    const r = Math.random() * 16 | 0\r\n    const v = c === 'x' ? r : (r & 0x3 | 0x8)\r\n    return v.toString(16)\r\n  })\r\n}\r\n\r\nconst _hash = (msg, done) => {\r\n  if (typeof msg === 'string' && msg.length > 0) {\r\n    done(null, createHmac('sha256', HASH_SECRET).update(msg).digest('hex'))\r\n  } else {\r\n    done(t('error.hashing'))\r\n  }\r\n}\r\n\r\nexport const hash = promisify(_hash)\r\n\r\nconst _randomID = (n, done) => {\r\n  randomBytes(n, (err, buf) => {\r\n    if (err) {\r\n      done(t('error.bytes'))\r\n    } else {\r\n      done(null, buf.toString('hex'))\r\n    }\r\n  })\r\n}\r\n\r\nexport const randomID = promisify(_randomID)\r\n\r\nconst _tokenHeader = (data, done) => {\r\n  if (data.headers && typeof data.headers.Authorization === 'string') {\r\n    let token = data.headers.Authorization.replace('Bearer ', '')\r\n    token = token.length === 64 ? token : false\r\n    done(null, token)\r\n  } else {\r\n    done(t('error.unauthorized'))\r\n  }\r\n}\r\n\r\nexport const tokenHeader = promisify(_tokenHeader)\r\n\r\nconst _auth = async (data, done) => {\r\n  const token = await tokenHeader(data).catch((e) => done(e))\r\n  if (token) {\r\n    const tokenData = await db.read('tokens', token).catch(() => t('token.expired'))\r\n    if (tokenData && tokenData.expiry > Date.now()) {\r\n      done(null, tokenData)\r\n    }\r\n  }\r\n  done(t('error.unauthorized'))\r\n}\r\n\r\nexport const auth = promisify(_auth)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0f63e5a39e7dc6ce0c6cf8d17b550434573c9a6e","contentHash":"70210c42a91439c4d404e522d548f496f818af0d72ef10cf9d981a4998e149f2"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":11,"column":3}},"2":{"start":{"line":9,"column":4},"end":{"line":9,"column":25}},"3":{"start":{"line":12,"column":0},"end":{"line":12,"column":27}},"4":{"start":{"line":14,"column":18},"end":{"line":14,"column":39}},"5":{"start":{"line":16,"column":12},"end":{"line":16,"column":27}},"6":{"start":{"line":18,"column":10},"end":{"line":18,"column":33}},"7":{"start":{"line":20,"column":10},"end":{"line":20,"column":33}},"8":{"start":{"line":22,"column":0},"end":{"line":22,"column":35}},"9":{"start":{"line":23,"column":0},"end":{"line":23,"column":35}},"10":{"start":{"line":25,"column":17},"end":{"line":29,"column":1}},"11":{"start":{"line":26,"column":12},"end":{"line":26,"column":74}},"12":{"start":{"line":27,"column":2},"end":{"line":27,"column":31}},"13":{"start":{"line":28,"column":2},"end":{"line":28,"column":9}},"14":{"start":{"line":31,"column":16},"end":{"line":31,"column":48}},"15":{"start":{"line":32,"column":0},"end":{"line":32,"column":30}},"16":{"start":{"line":33,"column":0},"end":{"line":33,"column":32}}},"fnMap":{"0":{"name":"get","decl":{"start":{"line":8,"column":16},"end":{"line":8,"column":19}},"loc":{"start":{"line":8,"column":22},"end":{"line":10,"column":3}},"line":8},"1":{"name":"_setLocale","decl":{"start":{"line":25,"column":26},"end":{"line":25,"column":36}},"loc":{"start":{"line":25,"column":49},"end":{"line":29,"column":1}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":26,"column":12},"end":{"line":26,"column":74}},"type":"cond-expr","locations":[{"start":{"line":26,"column":51},"end":{"line":26,"column":67}},{"start":{"line":26,"column":70},"end":{"line":26,"column":74}}],"line":26}},"s":{"0":1,"1":1,"2":15,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":14,"12":14,"13":14,"14":1,"15":1,"16":1},"f":{"0":15,"1":14},"b":{"0":[14,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["fr","en","_setLocale","data","done","loc","body","locale","setLocale"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AAEA;;AACA;;AAEA,qBAAI,IAAJ,EAAUA,MAAV;AACA,qBAAI,IAAJ,EAAUC,MAAV;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAOC,IAAP,EAAgB;AACjC,MAAMC,GAAG,GAAG,OAAOF,IAAI,CAACG,IAAL,CAAUC,MAAjB,KAA4B,QAA5B,GAAuCJ,IAAI,CAACG,IAAL,CAAUC,MAAjD,GAA0D,IAAtE;AACA,0BAAOF,GAAP;AACAD,EAAAA,IAAI;AACL,CAJD;;AAMO,IAAMI,SAAS,GAAG,qBAAUN,UAAV,CAAlB;;AAEP,0BAAS,IAAT","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations","sourcesContent":["import { locale, fallback, set, t } from 'frenchkiss'\r\nimport { promisify } from 'util'\r\n\r\nimport { en } from './locales/en'\r\nimport { fr } from './locales/fr'\r\n\r\nset('fr', fr)\r\nset('en', en)\r\n\r\nconst _setLocale = (data, done) => {\r\n  const loc = typeof data.body.locale === 'string' ? data.body.locale : 'en'\r\n  locale(loc)\r\n  done()\r\n}\r\n\r\nexport const setLocale = promisify(_setLocale)\r\n\r\nfallback('en')\r\n\r\nexport { t }\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"dd17f2698e4f1b411fa3e83f26fe22ce202def61","contentHash":"9077380f1201c3e8dad4abc68c2e9596de1d18bd591cd16d7bc60d0e56f7a207"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations\\locales\\en.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations\\locales\\en.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":41}},"2":{"start":{"line":7,"column":9},"end":{"line":7,"column":2480}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":16}},"4":{"start":{"line":9,"column":17},"end":{"line":34,"column":1}},"5":{"start":{"line":35,"column":0},"end":{"line":35,"column":32}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["en.js"],"names":["en","langSchema","title","type","required","uniqueItems","properties","error","token","account","refer","reset","ok"],"mappings":";;;;;;AAAO,IAAMA,EAAE,06EAAR;;AAkEA,IAAMC,UAAU,GAAG;AACxBC,EAAAA,KAAK,EAAE,sBADiB;AAExBC,EAAAA,IAAI,EAAE,QAFkB;AAGxBC,EAAAA,QAAQ,EAAE,CAAC,IAAD,CAHc;AAIxBC,EAAAA,WAAW,EAAE,IAJW;AAKxBC,EAAAA,UAAU,EAAE;AACVC,IAAAA,KAAK,EAAE;AACLJ,MAAAA,IAAI,EAAE;AADD,KADG;AAIVK,IAAAA,KAAK,EAAE;AACLL,MAAAA,IAAI,EAAE;AADD,KAJG;AAOVM,IAAAA,OAAO,EAAE;AACPN,MAAAA,IAAI,EAAE;AADC,KAPC;AAUVO,IAAAA,KAAK,EAAE;AACLP,MAAAA,IAAI,EAAE;AADD,KAVG;AAaVQ,IAAAA,KAAK,EAAE;AACLR,MAAAA,IAAI,EAAE;AADD,KAbG;AAgBVS,IAAAA,EAAE,EAAE;AACFT,MAAAA,IAAI,EAAE;AADJ;AAhBM;AALY,CAAnB","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations\\locales","sourcesContent":["export const en = {\r\n  error: {\r\n    unauthorized: 'Unauthorized.',\r\n    not_allowed: 'Bad request.',\r\n    server: 'Server error',\r\n    email: 'Send email parameters missing or are invalid or could not send email.',\r\n    phone: 'Send SMS parameters missing or are invalid.',\r\n    required: 'Missing required fields.',\r\n    confirmation_save: 'Unable to save confirmation code.',\r\n    confirmation_generate: 'Unable to generate confirmation code.',\r\n    no_user: 'No such user.',\r\n    user_exists: 'User exists.',\r\n    user_delete: 'Could not delete user.',\r\n    confirmed: 'Account is not confirmed.',\r\n    hash: 'Unable to hash password, please try again later.',\r\n    user_create: 'Could not create user.',\r\n    sms: 'Could not send SMS.',\r\n    token_notfound: 'Token not found.',\r\n    not_found: 'Not found.',\r\n    token_expired: 'Token is expired.',\r\n    token_invalid: 'Invalid token.',\r\n    generate: 'Unable to generate password, please try again later.',\r\n    invalid_password: 'Wrong login details.',\r\n    id: 'Unable to generate ID.',\r\n    token: 'Could not create token.',\r\n    cannot_read: 'Cannot read.',\r\n    cannot_update: 'Cannot Update',\r\n    unknown: 'Uknown problem.',\r\n    internal: 'Internal error',\r\n    save: 'Save error.',\r\n    refer_email: 'Cannot send referral email',\r\n    wrong_token: 'Wrong token provided.',\r\n    ref_reg: 'Referred user already registered.',\r\n    hashing: 'Error hashing.',\r\n    bytes: 'Error generating bytes.',\r\n    join_delete: 'Error occurred when deleting some column from table.',\r\n    no_payload: 'No payload.',\r\n    invalid_email: 'Invalid email.',\r\n    profile: 'There was an error getting the profile.',\r\n    timeout: 'Request timed out.',\r\n    fileType: 'Wrong file type, only png, jpeg and webp are accepted.',\r\n    bad_request: 'Bad request.',\r\n    token_delete: 'Error with confirmation token.',\r\n    social_decline: 'Account email not verified or account is blocked.',\r\n    notify: 'Error sending notifications.'\r\n  },\r\n  token: {\r\n    expired: 'Token expired.'\r\n  },\r\n  account: {\r\n    confirm_subject: 'Please confirm your account for {company}',\r\n    confirm_message: 'Your code for <a href=\"{baseUrl}\">{company}</a> account:<h4><a href=\"{baseUrl}confirm/{code}\">{code}</a></h4>',\r\n    confirm_phone: 'Your code for {company} account: {code}',\r\n    reset_phone: 'Your code for {company} password reset: {code}',\r\n  },\r\n  ok: 'OK.',\r\n  refer: {\r\n    email: 'Click the following link: <a href=\"{baseUrl}refer/{token}\">{token}</a>',\r\n  },\r\n  reset: {\r\n    email: 'Please confirm your password reset for {company}',\r\n    reset_email_text: 'Click here to confirm password reset: <h4><a href=\"{baseUrl}confirm-reset/{code}\">{code}</a></h4>',\r\n    email_password: 'Your new password for'\r\n  }\r\n}\r\n\r\nexport const langSchema = {\r\n  title: 'English schema v.1.0',\r\n  type: 'object',\r\n  required: ['ok'],\r\n  uniqueItems: true,\r\n  properties: {\r\n    error: {\r\n      type: 'object'\r\n    },\r\n    token: {\r\n      type: 'object'\r\n    },\r\n    account: {\r\n      type: 'object'\r\n    },\r\n    refer: {\r\n      type: 'object'\r\n    },\r\n    reset: {\r\n      type: 'object'\r\n    },\r\n    ok: {\r\n      type: 'string'\r\n    }\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"36e7cd29f433ee668ac36d367e12ac63e3843c4f","contentHash":"262b58ee16f4a95d110ba60c7eddbae2dbc20db6f002ed72306402d200fe582e"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations\\locales\\fr.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations\\locales\\fr.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":20}},"2":{"start":{"line":7,"column":9},"end":{"line":11,"column":1}},"3":{"start":{"line":12,"column":0},"end":{"line":12,"column":16}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["fr.js"],"names":["fr","error","unauthorized"],"mappings":";;;;;;AAAO,IAAMA,EAAE,GAAG;AAChBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,YAAY,EAAE;AADT;AADS,CAAX","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\translations\\locales","sourcesContent":["export const fr = {\r\n  error: {\r\n    unauthorized: 'Non autorisé.'\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4a7b18fafc1c0de809363f0f048f609a2ce8cc51","contentHash":"878b1a0990c17093317e6319cd20d9e3f62475710ab24a600ec1b38fcb14b0f8"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3\\mock.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3\\mock.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":27}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":27}},"4":{"start":{"line":12,"column":16},"end":{"line":12,"column":62}},"5":{"start":{"line":14,"column":14},"end":{"line":14,"column":37}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":95}},"7":{"start":{"line":18,"column":24},"end":{"line":18,"column":328}},"8":{"start":{"line":18,"column":99},"end":{"line":18,"column":154}},"9":{"start":{"line":18,"column":133},"end":{"line":18,"column":151}},"10":{"start":{"line":18,"column":164},"end":{"line":18,"column":326}},"11":{"start":{"line":18,"column":198},"end":{"line":18,"column":323}},"12":{"start":{"line":18,"column":329},"end":{"line":18,"column":349}},"13":{"start":{"line":20,"column":77},"end":{"line":20,"column":175}},"14":{"start":{"line":20,"column":94},"end":{"line":20,"column":107}},"15":{"start":{"line":20,"column":121},"end":{"line":20,"column":131}},"16":{"start":{"line":20,"column":151},"end":{"line":20,"column":165}},"17":{"start":{"line":20,"column":166},"end":{"line":20,"column":173}},"18":{"start":{"line":20,"column":176},"end":{"line":20,"column":263}},"19":{"start":{"line":20,"column":193},"end":{"line":20,"column":208}},"20":{"start":{"line":20,"column":218},"end":{"line":20,"column":261}},"21":{"start":{"line":22,"column":33},"end":{"line":22,"column":387}},"22":{"start":{"line":22,"column":65},"end":{"line":22,"column":69}},"23":{"start":{"line":22,"column":78},"end":{"line":22,"column":87}},"24":{"start":{"line":22,"column":89},"end":{"line":22,"column":384}},"25":{"start":{"line":22,"column":147},"end":{"line":22,"column":167}},"26":{"start":{"line":22,"column":193},"end":{"line":22,"column":264}},"27":{"start":{"line":22,"column":290},"end":{"line":22,"column":360}},"28":{"start":{"line":22,"column":363},"end":{"line":22,"column":380}},"29":{"start":{"line":24,"column":11},"end":{"line":24,"column":13}},"30":{"start":{"line":25,"column":0},"end":{"line":25,"column":95}},"31":{"start":{"line":27,"column":9},"end":{"line":31,"column":2}},"32":{"start":{"line":33,"column":15},"end":{"line":45,"column":1}},"33":{"start":{"line":34,"column":15},"end":{"line":37,"column":3}},"34":{"start":{"line":38,"column":2},"end":{"line":44,"column":5}},"35":{"start":{"line":39,"column":4},"end":{"line":43,"column":5}},"36":{"start":{"line":40,"column":6},"end":{"line":40,"column":24}},"37":{"start":{"line":42,"column":6},"end":{"line":42,"column":57}},"38":{"start":{"line":47,"column":14},"end":{"line":47,"column":44}},"39":{"start":{"line":49,"column":11},"end":{"line":57,"column":1}},"40":{"start":{"line":50,"column":2},"end":{"line":56,"column":5}},"41":{"start":{"line":51,"column":4},"end":{"line":55,"column":5}},"42":{"start":{"line":52,"column":6},"end":{"line":52,"column":24}},"43":{"start":{"line":54,"column":6},"end":{"line":54,"column":53}},"44":{"start":{"line":61,"column":0},"end":{"line":90,"column":3}},"45":{"start":{"line":62,"column":13},"end":{"line":85,"column":5}},"46":{"start":{"line":66,"column":4},"end":{"line":84,"column":16}},"47":{"start":{"line":67,"column":6},"end":{"line":83,"column":7}},"48":{"start":{"line":68,"column":8},"end":{"line":82,"column":9}},"49":{"start":{"line":70,"column":12},"end":{"line":70,"column":73}},"50":{"start":{"line":71,"column":12},"end":{"line":75,"column":14}},"51":{"start":{"line":77,"column":12},"end":{"line":77,"column":31}},"52":{"start":{"line":81,"column":12},"end":{"line":81,"column":35}},"53":{"start":{"line":87,"column":2},"end":{"line":89,"column":4}},"54":{"start":{"line":88,"column":4},"end":{"line":88,"column":39}},"55":{"start":{"line":92,"column":11},"end":{"line":92,"column":38}},"56":{"start":{"line":94,"column":14},"end":{"line":106,"column":1}},"57":{"start":{"line":95,"column":15},"end":{"line":98,"column":3}},"58":{"start":{"line":99,"column":2},"end":{"line":105,"column":5}},"59":{"start":{"line":100,"column":4},"end":{"line":104,"column":5}},"60":{"start":{"line":101,"column":6},"end":{"line":101,"column":24}},"61":{"start":{"line":103,"column":6},"end":{"line":103,"column":23}},"62":{"start":{"line":108,"column":13},"end":{"line":108,"column":42}},"63":{"start":{"line":110,"column":19},"end":{"line":125,"column":1}},"64":{"start":{"line":111,"column":15},"end":{"line":117,"column":3}},"65":{"start":{"line":118,"column":2},"end":{"line":124,"column":5}},"66":{"start":{"line":119,"column":4},"end":{"line":123,"column":5}},"67":{"start":{"line":120,"column":6},"end":{"line":120,"column":24}},"68":{"start":{"line":122,"column":6},"end":{"line":122,"column":23}},"69":{"start":{"line":127,"column":18},"end":{"line":127,"column":52}},"70":{"start":{"line":129,"column":12},"end":{"line":142,"column":1}},"71":{"start":{"line":130,"column":15},"end":{"line":134,"column":3}},"72":{"start":{"line":135,"column":2},"end":{"line":141,"column":5}},"73":{"start":{"line":136,"column":4},"end":{"line":140,"column":5}},"74":{"start":{"line":137,"column":6},"end":{"line":137,"column":24}},"75":{"start":{"line":139,"column":6},"end":{"line":139,"column":32}},"76":{"start":{"line":144,"column":16},"end":{"line":144,"column":43}},"77":{"start":{"line":145,"column":0},"end":{"line":145,"column":23}},"78":{"start":{"line":146,"column":0},"end":{"line":146,"column":17}},"79":{"start":{"line":147,"column":0},"end":{"line":147,"column":21}},"80":{"start":{"line":148,"column":0},"end":{"line":148,"column":31}},"81":{"start":{"line":149,"column":0},"end":{"line":149,"column":27}},"82":{"start":{"line":150,"column":15},"end":{"line":150,"column":19}},"83":{"start":{"line":151,"column":0},"end":{"line":151,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":97}},"line":16},"1":{"name":"_typeof","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":16}},"loc":{"start":{"line":18,"column":22},"end":{"line":18,"column":351}},"line":18},"2":{"name":"_typeof","decl":{"start":{"line":18,"column":118},"end":{"line":18,"column":125}},"loc":{"start":{"line":18,"column":131},"end":{"line":18,"column":153}},"line":18},"3":{"name":"_typeof","decl":{"start":{"line":18,"column":183},"end":{"line":18,"column":190}},"loc":{"start":{"line":18,"column":196},"end":{"line":18,"column":325}},"line":18},"4":{"name":"asyncGeneratorStep","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":27}},"loc":{"start":{"line":20,"column":75},"end":{"line":20,"column":265}},"line":20},"5":{"name":"_asyncToGenerator","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":26}},"loc":{"start":{"line":22,"column":31},"end":{"line":22,"column":389}},"line":22},"6":{"name":"(anonymous_6)","decl":{"start":{"line":22,"column":40},"end":{"line":22,"column":41}},"loc":{"start":{"line":22,"column":52},"end":{"line":22,"column":386}},"line":22},"7":{"name":"(anonymous_7)","decl":{"start":{"line":22,"column":108},"end":{"line":22,"column":109}},"loc":{"start":{"line":22,"column":135},"end":{"line":22,"column":382}},"line":22},"8":{"name":"_next","decl":{"start":{"line":22,"column":178},"end":{"line":22,"column":183}},"loc":{"start":{"line":22,"column":191},"end":{"line":22,"column":266}},"line":22},"9":{"name":"_throw","decl":{"start":{"line":22,"column":276},"end":{"line":22,"column":282}},"loc":{"start":{"line":22,"column":288},"end":{"line":22,"column":362}},"line":22},"10":{"name":"_getData","decl":{"start":{"line":33,"column":24},"end":{"line":33,"column":32}},"loc":{"start":{"line":33,"column":43},"end":{"line":45,"column":1}},"line":33},"11":{"name":"(anonymous_11)","decl":{"start":{"line":38,"column":23},"end":{"line":38,"column":24}},"loc":{"start":{"line":38,"column":44},"end":{"line":44,"column":3}},"line":38},"12":{"name":"_put","decl":{"start":{"line":49,"column":20},"end":{"line":49,"column":24}},"loc":{"start":{"line":49,"column":39},"end":{"line":57,"column":1}},"line":49},"13":{"name":"(anonymous_13)","decl":{"start":{"line":50,"column":23},"end":{"line":50,"column":24}},"loc":{"start":{"line":50,"column":44},"end":{"line":56,"column":3}},"line":50},"14":{"name":"(anonymous_14)","decl":{"start":{"line":61,"column":0},"end":{"line":61,"column":1}},"loc":{"start":{"line":61,"column":12},"end":{"line":90,"column":1}},"line":61},"15":{"name":"_callee","decl":{"start":{"line":64,"column":35},"end":{"line":64,"column":42}},"loc":{"start":{"line":64,"column":59},"end":{"line":85,"column":3}},"line":64},"16":{"name":"_callee$","decl":{"start":{"line":66,"column":44},"end":{"line":66,"column":52}},"loc":{"start":{"line":66,"column":63},"end":{"line":84,"column":5}},"line":66},"17":{"name":"_save","decl":{"start":{"line":87,"column":18},"end":{"line":87,"column":23}},"loc":{"start":{"line":87,"column":38},"end":{"line":89,"column":3}},"line":87},"18":{"name":"_remove","decl":{"start":{"line":94,"column":23},"end":{"line":94,"column":30}},"loc":{"start":{"line":94,"column":41},"end":{"line":106,"column":1}},"line":94},"19":{"name":"(anonymous_19)","decl":{"start":{"line":99,"column":26},"end":{"line":99,"column":27}},"loc":{"start":{"line":99,"column":47},"end":{"line":105,"column":3}},"line":99},"20":{"name":"_multiRemove","decl":{"start":{"line":110,"column":28},"end":{"line":110,"column":40}},"loc":{"start":{"line":110,"column":53},"end":{"line":125,"column":1}},"line":110},"21":{"name":"(anonymous_21)","decl":{"start":{"line":118,"column":27},"end":{"line":118,"column":28}},"loc":{"start":{"line":118,"column":48},"end":{"line":124,"column":3}},"line":118},"22":{"name":"_list","decl":{"start":{"line":129,"column":21},"end":{"line":129,"column":26}},"loc":{"start":{"line":129,"column":38},"end":{"line":142,"column":1}},"line":129},"23":{"name":"(anonymous_23)","decl":{"start":{"line":135,"column":27},"end":{"line":135,"column":28}},"loc":{"start":{"line":135,"column":48},"end":{"line":141,"column":3}},"line":135}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":94}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":94}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16},"2":{"loc":{"start":{"line":18,"column":24},"end":{"line":18,"column":328}},"type":"if","locations":[{"start":{"line":18,"column":24},"end":{"line":18,"column":328}},{"start":{"line":18,"column":24},"end":{"line":18,"column":328}}],"line":18},"3":{"loc":{"start":{"line":18,"column":28},"end":{"line":18,"column":95}},"type":"binary-expr","locations":[{"start":{"line":18,"column":28},"end":{"line":18,"column":56}},{"start":{"line":18,"column":60},"end":{"line":18,"column":95}}],"line":18},"4":{"loc":{"start":{"line":18,"column":205},"end":{"line":18,"column":322}},"type":"cond-expr","locations":[{"start":{"line":18,"column":301},"end":{"line":18,"column":309}},{"start":{"line":18,"column":312},"end":{"line":18,"column":322}}],"line":18},"5":{"loc":{"start":{"line":18,"column":205},"end":{"line":18,"column":298}},"type":"binary-expr","locations":[{"start":{"line":18,"column":205},"end":{"line":18,"column":208}},{"start":{"line":18,"column":212},"end":{"line":18,"column":240}},{"start":{"line":18,"column":244},"end":{"line":18,"column":270}},{"start":{"line":18,"column":274},"end":{"line":18,"column":298}}],"line":18},"6":{"loc":{"start":{"line":20,"column":176},"end":{"line":20,"column":263}},"type":"if","locations":[{"start":{"line":20,"column":176},"end":{"line":20,"column":263}},{"start":{"line":20,"column":176},"end":{"line":20,"column":263}}],"line":20},"7":{"loc":{"start":{"line":39,"column":4},"end":{"line":43,"column":5}},"type":"if","locations":[{"start":{"line":39,"column":4},"end":{"line":43,"column":5}},{"start":{"line":39,"column":4},"end":{"line":43,"column":5}}],"line":39},"8":{"loc":{"start":{"line":51,"column":4},"end":{"line":55,"column":5}},"type":"if","locations":[{"start":{"line":51,"column":4},"end":{"line":55,"column":5}},{"start":{"line":51,"column":4},"end":{"line":55,"column":5}}],"line":51},"9":{"loc":{"start":{"line":68,"column":8},"end":{"line":82,"column":9}},"type":"switch","locations":[{"start":{"line":69,"column":10},"end":{"line":77,"column":31}},{"start":{"line":79,"column":10},"end":{"line":79,"column":17}},{"start":{"line":80,"column":10},"end":{"line":81,"column":35}}],"line":68},"10":{"loc":{"start":{"line":70,"column":16},"end":{"line":70,"column":72}},"type":"cond-expr","locations":[{"start":{"line":70,"column":45},"end":{"line":70,"column":65}},{"start":{"line":70,"column":68},"end":{"line":70,"column":72}}],"line":70},"11":{"loc":{"start":{"line":100,"column":4},"end":{"line":104,"column":5}},"type":"if","locations":[{"start":{"line":100,"column":4},"end":{"line":104,"column":5}},{"start":{"line":100,"column":4},"end":{"line":104,"column":5}}],"line":100},"12":{"loc":{"start":{"line":119,"column":4},"end":{"line":123,"column":5}},"type":"if","locations":[{"start":{"line":119,"column":4},"end":{"line":123,"column":5}},{"start":{"line":119,"column":4},"end":{"line":123,"column":5}}],"line":119},"13":{"loc":{"start":{"line":136,"column":4},"end":{"line":140,"column":5}},"type":"if","locations":[{"start":{"line":136,"column":4},"end":{"line":140,"column":5}},{"start":{"line":136,"column":4},"end":{"line":140,"column":5}}],"line":136}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":21,"10":0,"11":0,"12":1,"13":21,"14":21,"15":21,"16":0,"17":0,"18":21,"19":21,"20":0,"21":1,"22":21,"23":21,"24":21,"25":21,"26":21,"27":0,"28":21,"29":1,"30":1,"31":1,"32":1,"33":28,"34":28,"35":28,"36":2,"37":26,"38":1,"39":1,"40":21,"41":21,"42":0,"43":21,"44":1,"45":1,"46":21,"47":21,"48":21,"49":21,"50":21,"51":21,"52":21,"53":1,"54":21,"55":1,"56":1,"57":15,"58":15,"59":15,"60":0,"61":15,"62":1,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":1,"70":1,"71":5,"72":5,"73":5,"74":0,"75":5,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1},"f":{"0":1,"1":1,"2":21,"3":0,"4":21,"5":1,"6":21,"7":21,"8":21,"9":0,"10":28,"11":28,"12":21,"13":21,"14":1,"15":21,"16":21,"17":21,"18":15,"19":15,"20":0,"21":0,"22":5,"23":5},"b":{"0":[0,1],"1":[1,1],"2":[1,0],"3":[1,1],"4":[0,0],"5":[0,0,0,0],"6":[21,0],"7":[2,26],"8":[0,21],"9":[21,21,21],"10":[21,0],"11":[0,15],"12":[0,0],"13":[0,5]},"inputSourceMap":{"version":3,"sources":["mock.js"],"names":["s3db","AWSMock","config","basePath","__dirname","s3","S3","params","Bucket","USERS_BUCKET_NAME","_getData","id","done","Key","getObject","err","data","message","JSON","parse","Body","toString","getData","_put","putObject","_save","s","stringify","Buffer","from","save","_remove","deleteObject","remove","_multiRemove","objs","Delete","Objects","Quiet","deleteObjects","multiRemove","_list","dir","MaxKeys","Prefix","listObjectsV2","Contents","listItems"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\s3","sourcesContent":["import { promisify } from 'util'\r\nimport { resolve } from 'path'\r\nimport AWSMock from 'mock-aws-s3'\r\n\r\nimport { USERS_BUCKET_NAME } from '../../config'\r\nconst s3db = {}\r\nAWSMock.config.basePath = resolve(__dirname, '../../../tests/buckets')\r\nconst s3 = AWSMock.S3({ params: { Bucket: USERS_BUCKET_NAME } })\r\n\r\nconst _getData = (id, done) => {\r\n  const params = {\r\n    Bucket: USERS_BUCKET_NAME,\r\n    Key: id\r\n  }\r\n\r\n  s3.getObject(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, JSON.parse(data.Body.toString('utf8')))\r\n    }\r\n  })\r\n}\r\n\r\nconst getData = promisify(_getData)\r\n\r\nconst _put = (params, done) => {\r\n  s3.putObject(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, JSON.parse(params.Body.toString()))\r\n    }\r\n  })\r\n}\r\n\r\nconst _save = async (id, data, done) => {\r\n  const s = typeof data === 'object' ? JSON.stringify(data) : data\r\n  const params = {\r\n    Body: Buffer.from(s),\r\n    Bucket: USERS_BUCKET_NAME,\r\n    Key: id\r\n  }\r\n  _put(params, done)\r\n}\r\n\r\nconst save = promisify(_save)\r\n\r\nconst _remove = (id, done) => {\r\n  const params = {\r\n    Bucket: USERS_BUCKET_NAME,\r\n    Key: id\r\n  }\r\n\r\n  s3.deleteObject(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, data)\r\n    }\r\n  })\r\n}\r\n\r\nconst remove = promisify(_remove)\r\n\r\nconst _multiRemove = (objs, done) => {\r\n  const params = {\r\n    Bucket: USERS_BUCKET_NAME,\r\n    Delete: {\r\n      Objects: objs,\r\n      Quiet: false\r\n    }\r\n  }\r\n\r\n  s3.deleteObjects(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, data)\r\n    }\r\n  })\r\n}\r\n\r\nconst multiRemove = promisify(_multiRemove)\r\n\r\nconst _list = (dir, done) => {\r\n  const params = {\r\n    Bucket: USERS_BUCKET_NAME,\r\n    MaxKeys: 10,\r\n    Prefix: dir\r\n  }\r\n\r\n  s3.listObjectsV2(params, (err, data) => {\r\n    if (err) {\r\n      done(err.message)\r\n    } else {\r\n      done(null, data.Contents)\r\n    }\r\n  })\r\n}\r\n\r\nconst listItems = promisify(_list)\r\n\r\ns3db.getData = getData\r\ns3db.save = save\r\ns3db.remove = remove\r\ns3db.multiRemove = multiRemove\r\ns3db.listItems = listItems\r\n\r\nexport default s3db\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"feb1612070f48208e78ecadbf9fc88fe4ff5b88c","contentHash":"f88bc03fede510c3104a43db1266c8764f4c55f3fd94a874e209ad2e68ed6c8d"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\auth\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\auth\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":48}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":38}},"3":{"start":{"line":10,"column":77},"end":{"line":10,"column":175}},"4":{"start":{"line":10,"column":94},"end":{"line":10,"column":107}},"5":{"start":{"line":10,"column":121},"end":{"line":10,"column":131}},"6":{"start":{"line":10,"column":151},"end":{"line":10,"column":165}},"7":{"start":{"line":10,"column":166},"end":{"line":10,"column":173}},"8":{"start":{"line":10,"column":176},"end":{"line":10,"column":263}},"9":{"start":{"line":10,"column":193},"end":{"line":10,"column":208}},"10":{"start":{"line":10,"column":218},"end":{"line":10,"column":261}},"11":{"start":{"line":12,"column":33},"end":{"line":12,"column":387}},"12":{"start":{"line":12,"column":65},"end":{"line":12,"column":69}},"13":{"start":{"line":12,"column":78},"end":{"line":12,"column":87}},"14":{"start":{"line":12,"column":89},"end":{"line":12,"column":384}},"15":{"start":{"line":12,"column":147},"end":{"line":12,"column":167}},"16":{"start":{"line":12,"column":193},"end":{"line":12,"column":264}},"17":{"start":{"line":12,"column":290},"end":{"line":12,"column":360}},"18":{"start":{"line":12,"column":363},"end":{"line":12,"column":380}},"19":{"start":{"line":14,"column":24},"end":{"line":14,"column":328}},"20":{"start":{"line":14,"column":99},"end":{"line":14,"column":154}},"21":{"start":{"line":14,"column":133},"end":{"line":14,"column":151}},"22":{"start":{"line":14,"column":164},"end":{"line":14,"column":326}},"23":{"start":{"line":14,"column":198},"end":{"line":14,"column":323}},"24":{"start":{"line":14,"column":329},"end":{"line":14,"column":349}},"25":{"start":{"line":16,"column":19},"end":{"line":21,"column":1}},"26":{"start":{"line":17,"column":14},"end":{"line":17,"column":54}},"27":{"start":{"line":18,"column":15},"end":{"line":18,"column":63}},"28":{"start":{"line":19,"column":2},"end":{"line":19,"column":26}},"29":{"start":{"line":19,"column":14},"end":{"line":19,"column":26}},"30":{"start":{"line":20,"column":2},"end":{"line":20,"column":15}},"31":{"start":{"line":23,"column":0},"end":{"line":23,"column":36}},"32":{"start":{"line":27,"column":0},"end":{"line":64,"column":3}},"33":{"start":{"line":28,"column":13},"end":{"line":59,"column":5}},"34":{"start":{"line":32,"column":4},"end":{"line":58,"column":16}},"35":{"start":{"line":33,"column":6},"end":{"line":57,"column":7}},"36":{"start":{"line":34,"column":8},"end":{"line":56,"column":9}},"37":{"start":{"line":36,"column":12},"end":{"line":36,"column":48}},"38":{"start":{"line":37,"column":12},"end":{"line":37,"column":30}},"39":{"start":{"line":38,"column":12},"end":{"line":38,"column":50}},"40":{"start":{"line":41,"column":12},"end":{"line":41,"column":39}},"41":{"start":{"line":43,"column":12},"end":{"line":46,"column":13}},"42":{"start":{"line":44,"column":14},"end":{"line":44,"column":32}},"43":{"start":{"line":45,"column":14},"end":{"line":45,"column":20}},"44":{"start":{"line":48,"column":12},"end":{"line":48,"column":52}},"45":{"start":{"line":51,"column":12},"end":{"line":51,"column":52}},"46":{"start":{"line":55,"column":12},"end":{"line":55,"column":35}},"47":{"start":{"line":61,"column":2},"end":{"line":63,"column":4}},"48":{"start":{"line":62,"column":4},"end":{"line":62,"column":39}},"49":{"start":{"line":66,"column":0},"end":{"line":66,"column":26}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":27}},"loc":{"start":{"line":10,"column":75},"end":{"line":10,"column":265}},"line":10},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":26}},"loc":{"start":{"line":12,"column":31},"end":{"line":12,"column":389}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":40},"end":{"line":12,"column":41}},"loc":{"start":{"line":12,"column":52},"end":{"line":12,"column":386}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":108},"end":{"line":12,"column":109}},"loc":{"start":{"line":12,"column":135},"end":{"line":12,"column":382}},"line":12},"4":{"name":"_next","decl":{"start":{"line":12,"column":178},"end":{"line":12,"column":183}},"loc":{"start":{"line":12,"column":191},"end":{"line":12,"column":266}},"line":12},"5":{"name":"_throw","decl":{"start":{"line":12,"column":276},"end":{"line":12,"column":282}},"loc":{"start":{"line":12,"column":288},"end":{"line":12,"column":362}},"line":12},"6":{"name":"_typeof","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":16}},"loc":{"start":{"line":14,"column":22},"end":{"line":14,"column":351}},"line":14},"7":{"name":"_typeof","decl":{"start":{"line":14,"column":118},"end":{"line":14,"column":125}},"loc":{"start":{"line":14,"column":131},"end":{"line":14,"column":153}},"line":14},"8":{"name":"_typeof","decl":{"start":{"line":14,"column":183},"end":{"line":14,"column":190}},"loc":{"start":{"line":14,"column":196},"end":{"line":14,"column":325}},"line":14},"9":{"name":"validRequest","decl":{"start":{"line":16,"column":28},"end":{"line":16,"column":40}},"loc":{"start":{"line":16,"column":50},"end":{"line":21,"column":1}},"line":16},"10":{"name":"(anonymous_10)","decl":{"start":{"line":27,"column":0},"end":{"line":27,"column":1}},"loc":{"start":{"line":27,"column":12},"end":{"line":64,"column":1}},"line":27},"11":{"name":"_callee","decl":{"start":{"line":30,"column":35},"end":{"line":30,"column":42}},"loc":{"start":{"line":30,"column":50},"end":{"line":59,"column":3}},"line":30},"12":{"name":"_callee$","decl":{"start":{"line":32,"column":44},"end":{"line":32,"column":52}},"loc":{"start":{"line":32,"column":63},"end":{"line":58,"column":5}},"line":32},"13":{"name":"apiAuth","decl":{"start":{"line":61,"column":18},"end":{"line":61,"column":25}},"loc":{"start":{"line":61,"column":30},"end":{"line":63,"column":3}},"line":61}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":176},"end":{"line":10,"column":263}},"type":"if","locations":[{"start":{"line":10,"column":176},"end":{"line":10,"column":263}},{"start":{"line":10,"column":176},"end":{"line":10,"column":263}}],"line":10},"1":{"loc":{"start":{"line":14,"column":24},"end":{"line":14,"column":328}},"type":"if","locations":[{"start":{"line":14,"column":24},"end":{"line":14,"column":328}},{"start":{"line":14,"column":24},"end":{"line":14,"column":328}}],"line":14},"2":{"loc":{"start":{"line":14,"column":28},"end":{"line":14,"column":95}},"type":"binary-expr","locations":[{"start":{"line":14,"column":28},"end":{"line":14,"column":56}},{"start":{"line":14,"column":60},"end":{"line":14,"column":95}}],"line":14},"3":{"loc":{"start":{"line":14,"column":205},"end":{"line":14,"column":322}},"type":"cond-expr","locations":[{"start":{"line":14,"column":301},"end":{"line":14,"column":309}},{"start":{"line":14,"column":312},"end":{"line":14,"column":322}}],"line":14},"4":{"loc":{"start":{"line":14,"column":205},"end":{"line":14,"column":298}},"type":"binary-expr","locations":[{"start":{"line":14,"column":205},"end":{"line":14,"column":208}},{"start":{"line":14,"column":212},"end":{"line":14,"column":240}},{"start":{"line":14,"column":244},"end":{"line":14,"column":270}},{"start":{"line":14,"column":274},"end":{"line":14,"column":298}}],"line":14},"5":{"loc":{"start":{"line":17,"column":14},"end":{"line":17,"column":54}},"type":"binary-expr","locations":[{"start":{"line":17,"column":14},"end":{"line":17,"column":21}},{"start":{"line":17,"column":25},"end":{"line":17,"column":54}}],"line":17},"6":{"loc":{"start":{"line":18,"column":15},"end":{"line":18,"column":63}},"type":"cond-expr","locations":[{"start":{"line":18,"column":41},"end":{"line":18,"column":55}},{"start":{"line":18,"column":58},"end":{"line":18,"column":63}}],"line":18},"7":{"loc":{"start":{"line":18,"column":15},"end":{"line":18,"column":38}},"type":"binary-expr","locations":[{"start":{"line":18,"column":15},"end":{"line":18,"column":20}},{"start":{"line":18,"column":24},"end":{"line":18,"column":38}}],"line":18},"8":{"loc":{"start":{"line":19,"column":2},"end":{"line":19,"column":26}},"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":19,"column":26}},{"start":{"line":19,"column":2},"end":{"line":19,"column":26}}],"line":19},"9":{"loc":{"start":{"line":34,"column":8},"end":{"line":56,"column":9}},"type":"switch","locations":[{"start":{"line":35,"column":10},"end":{"line":38,"column":50}},{"start":{"line":40,"column":10},"end":{"line":48,"column":52}},{"start":{"line":50,"column":10},"end":{"line":51,"column":52}},{"start":{"line":53,"column":10},"end":{"line":53,"column":17}},{"start":{"line":54,"column":10},"end":{"line":55,"column":35}}],"line":34},"10":{"loc":{"start":{"line":43,"column":12},"end":{"line":46,"column":13}},"type":"if","locations":[{"start":{"line":43,"column":12},"end":{"line":46,"column":13}},{"start":{"line":43,"column":12},"end":{"line":46,"column":13}}],"line":43}},"s":{"0":1,"1":1,"2":1,"3":28,"4":28,"5":28,"6":0,"7":0,"8":28,"9":14,"10":14,"11":1,"12":14,"13":14,"14":14,"15":14,"16":28,"17":0,"18":14,"19":1,"20":1,"21":14,"22":0,"23":0,"24":1,"25":1,"26":14,"27":14,"28":14,"29":14,"30":0,"31":1,"32":1,"33":1,"34":14,"35":42,"36":42,"37":14,"38":14,"39":14,"40":14,"41":14,"42":0,"43":0,"44":14,"45":0,"46":14,"47":1,"48":14,"49":1},"f":{"0":28,"1":1,"2":14,"3":14,"4":28,"5":0,"6":1,"7":14,"8":0,"9":14,"10":1,"11":14,"12":42,"13":14},"b":{"0":[14,14],"1":[1,0],"2":[1,1],"3":[0,0],"4":[0,0,0,0],"5":[14,14],"6":[14,0],"7":[14,14],"8":[14,0],"9":[14,14,0,0,14],"10":[0,14]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["validRequest","headers","valid","action","Action","apiAuth","event","body"],"mappings":";;;;;;;AAAA;;;;;;;;AAEO,IAAMA,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD,EAAa;AACvC,MAAMC,KAAK,GAAGD,OAAO,IAAI,QAAOA,OAAP,MAAmB,QAA5C;AACA,MAAME,MAAM,GAAGD,KAAK,IAAID,OAAO,CAACG,MAAjB,GAA0BH,OAAO,CAACG,MAAlC,GAA2C,KAA1D;AACA,MAAID,MAAJ,EAAY,OAAO,IAAP;AACZ,SAAO,KAAP;AACD,CALM;;;;AAOA,IAAME,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACfJ,YAAAA,KADe,GACPF,YAAY,CAACM,KAAK,CAACL,OAAP,CADL;AAAA;AAAA,mBAEF,mBAAIK,KAAK,CAACC,IAAV,CAFE;;AAAA;AAErBD,YAAAA,KAAK,CAACC,IAFe;;AAAA,iBAGjBL,KAHiB;AAAA;AAAA;AAAA;;AAAA,6CAGHI,KAHG;;AAAA;AAAA,6CAId,KAJc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAPD,OAAO;AAAA;AAAA;AAAA,GAAb","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\auth","sourcesContent":["import { xss } from '../security'\r\n\r\nexport const validRequest = (headers) => {\r\n  const valid = headers && typeof headers === 'object'\r\n  const action = valid && headers.Action ? headers.Action : false\r\n  if (action) return true\r\n  return false\r\n}\r\n\r\nexport const apiAuth = async (event) => {\r\n  const valid = validRequest(event.headers)\r\n  event.body = await xss(event.body)\r\n  if (valid) return event\r\n  return false\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ea25bcb52b25e6933a90567a34417dd65d2d85d5","contentHash":"c1a786a4cc39bc93f411dc9974ff427e230a2753cf3d185bb4495b1376ec17c5"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":50}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":60}},"3":{"start":{"line":12,"column":39},"end":{"line":12,"column":95}},"4":{"start":{"line":14,"column":44},"end":{"line":14,"column":195}},"5":{"start":{"line":14,"column":62},"end":{"line":14,"column":166}},"6":{"start":{"line":14,"column":176},"end":{"line":14,"column":193}},"7":{"start":{"line":14,"column":196},"end":{"line":14,"column":207}},"8":{"start":{"line":16,"column":16},"end":{"line":142,"column":13}},"9":{"start":{"line":143,"column":0},"end":{"line":143,"column":28}},"10":{"start":{"line":144,"column":20},"end":{"line":164,"column":1}},"11":{"start":{"line":165,"column":0},"end":{"line":165,"column":38}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":97}},"line":12},"1":{"name":"_defineProperty","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":24}},"loc":{"start":{"line":14,"column":42},"end":{"line":14,"column":209}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":94}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":94}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":14,"column":44},"end":{"line":14,"column":195}},"type":"if","locations":[{"start":{"line":14,"column":44},"end":{"line":14,"column":195}},{"start":{"line":14,"column":44},"end":{"line":14,"column":195}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":45,"5":1,"6":44,"7":45,"8":1,"9":1,"10":1,"11":1},"f":{"0":1,"1":45},"b":{"0":[1,0],"1":[1,1],"2":[1,44]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["handlers","ACTIONS","USER","CREATE","h","require","genUser","CREATE_SOCIAL","signinSocial","EDIT","edit","DESTROY","destroyUser","GET","getUser","CONFIRM_PHONE","confirmPhone","SET_ROLE","setRole","TOKEN","gen","EXTEND","extend","destroy","get","CONFIRM","confirm","REFER","refer","USE","use","REGISTER","register","RESET","SHOP","PRODUCTS_GET","PRODUCT_GET_BYID","CART_ADD","CART_REMOVE","CART_GET","WISHLIST_ADD","WISHLIST_REMOVE","WISHLIST_GET","CHECKOUT","BLOG","ARTICLES_GET","ARTICLE_GET_BYTITLE","ARTICLE_GET_BYCATEGORY","ARTICLE_ADD","ARTICLE_EDIT","ARTICLE_DELETE","CATEGORY_ADD","CATEGORY_EDIT","CATEGORY_DELETE","CATEGORIES_GET","UPLOAD","CONTACT_US","NOT_FOUND","MODULE","create","MIGRATE","migrate","NOTIFY","PUSH","push","SUBSCRIBE","pushSubscribe","handlerSchema","title","type","required","properties"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers","sourcesContent":["import ACTIONS from '../actions'\r\n\r\nexport const handlers = {\r\n  [ACTIONS.USER.CREATE]: { class: 'UserCreate', h: require('./users').genUser },\r\n  [ACTIONS.USER.CREATE_SOCIAL]: { class: 'UserCreateSocial', h: require('./users').signinSocial },\r\n  [ACTIONS.USER.EDIT]: { class: 'UserEdit', h: require('./users').edit },\r\n  [ACTIONS.USER.DESTROY]: { class: 'UserDestroy', h: require('./users').destroyUser },\r\n  [ACTIONS.USER.GET]: { class: 'UserGet', h: require('./users').getUser },\r\n  [ACTIONS.USER.CONFIRM_PHONE]: { class: 'ConfirmPhone', h: require('./users').confirmPhone },\r\n  [ACTIONS.USER.SET_ROLE]: { class: 'SetRole', h: require('./users').setRole },\r\n  [ACTIONS.TOKEN.CREATE]: { class: 'TokenCreate', h: require('./token').gen },\r\n  [ACTIONS.TOKEN.EXTEND]: { class: 'TokenExtend', h: require('./token').extend },\r\n  [ACTIONS.TOKEN.DESTROY]: { class: 'TokenDestroy', h: require('./token').destroy },\r\n  [ACTIONS.TOKEN.GET]: { class: 'TokenGet', h: require('./token').get },\r\n  [ACTIONS.CONFIRM]: { class: 'Confirm', h: require('./confirm').confirm },\r\n  [ACTIONS.REFER.REFER]: { class: 'Refer', h: require('./refer').refer },\r\n  [ACTIONS.REFER.USE]: { class: 'ReferUse', h: require('./refer').use },\r\n  [ACTIONS.REFER.REGISTER]: { class: 'ReferRegister', h: require('./refer').register },\r\n  [ACTIONS.RESET.CREATE]: { class: 'ResetCreate', h: require('./reset').default },\r\n\r\n  [ACTIONS.SHOP.PRODUCTS_GET]: { class: 'ResetCreate', h: require('./shop').default },\r\n  [ACTIONS.SHOP.PRODUCT_GET_BYID]: { class: 'ResetCreate', h: require('./shop').default },\r\n  [ACTIONS.SHOP.CART_ADD]: { class: 'ResetCreate', h: require('./shop').default },\r\n  [ACTIONS.SHOP.CART_REMOVE]: { class: 'ResetCreate', h: require('./shop').default },\r\n  [ACTIONS.SHOP.CART_GET]: { class: 'ResetCreate', h: require('./shop').default },\r\n  [ACTIONS.SHOP.WISHLIST_ADD]: { class: 'ResetCreate', h: require('./shop').default },\r\n  [ACTIONS.SHOP.WISHLIST_REMOVE]: { class: 'ResetCreate', h: require('./shop').default },\r\n  [ACTIONS.SHOP.WISHLIST_GET]: { class: 'ResetCreate', h: require('./shop').default },\r\n  [ACTIONS.SHOP.CHECKOUT]: { class: 'ResetCreate', h: require('./shop').default },\r\n\r\n  [ACTIONS.BLOG.ARTICLES_GET]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.ARTICLE_GET_BYTITLE]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.ARTICLE_GET_BYCATEGORY]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.ARTICLE_ADD]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.ARTICLE_EDIT]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.ARTICLE_DELETE]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.CATEGORY_ADD]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.CATEGORY_EDIT]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.CATEGORY_DELETE]: { class: 'ResetCreate', h: require('./blog').default },\r\n  [ACTIONS.BLOG.CATEGORIES_GET]: { class: 'ResetCreate', h: require('./blog').default },\r\n\r\n  [ACTIONS.UPLOAD]: { class: 'Upload', h: require('./upload').default },\r\n  [ACTIONS.CONTACT_US]: { class: 'ContactUs', h: require('./contact-us').default },\r\n  [ACTIONS.NOT_FOUND]: { class: 'NotFound', h: require('./generics/notFound').default },\r\n  [ACTIONS.MODULE.CREATE]: { class: 'ModuleCreate', h: require('./module').create },\r\n  [ACTIONS.MODULE.MIGRATE]: { class: 'ModuleMigrate', h: require('./module').migrate },\r\n  [ACTIONS.NOTIFY.PUSH]: { class: 'Notify', h: require('./notifications').push },\r\n  [ACTIONS.NOTIFY.SUBSCRIBE]: { class: 'NotifySubscribe', h: require('./notifications').pushSubscribe }\r\n}\r\n\r\nexport const handlerSchema = {\r\n  title: 'Handler schema v.1.0',\r\n  type: 'object',\r\n  required: [\r\n    [ACTIONS.USER.CREATE],\r\n    [ACTIONS.USER.CREATE_SOCIAL],\r\n    [ACTIONS.USER.EDIT],\r\n    [ACTIONS.USER.DESTROY],\r\n    [ACTIONS.USER.GET],\r\n    [ACTIONS.USER.CONFIRM_PHONE],\r\n    [ACTIONS.USER.SET_ROLE],\r\n    [ACTIONS.TOKEN.CREATE],\r\n    [ACTIONS.TOKEN.EXTEND],\r\n    [ACTIONS.TOKEN.DESTROY],\r\n    [ACTIONS.TOKEN.GET],\r\n    [ACTIONS.CONFIRM],\r\n    [ACTIONS.REFER.REFER],\r\n    [ACTIONS.REFER.USE],\r\n    [ACTIONS.REFER.REGISTER],\r\n    [ACTIONS.RESET.CREATE],\r\n    [ACTIONS.SHOP.PRODUCTS_GET],\r\n    [ACTIONS.SHOP.PRODUCT_GET_BYID],\r\n    [ACTIONS.SHOP.CART_ADD],\r\n    [ACTIONS.SHOP.CART_REMOVE],\r\n    [ACTIONS.SHOP.CART_GET],\r\n    [ACTIONS.SHOP.WISHLIST_ADD],\r\n    [ACTIONS.SHOP.WISHLIST_REMOVE],\r\n    [ACTIONS.SHOP.WISHLIST_GET],\r\n    [ACTIONS.SHOP.CHECKOUT],\r\n    [ACTIONS.BLOG.ARTICLES_GET],\r\n    [ACTIONS.BLOG.ARTICLE_GET_BYTITLE],\r\n    [ACTIONS.BLOG.ARTICLE_GET_BYCATEGORY],\r\n    [ACTIONS.BLOG.ARTICLE_ADD],\r\n    [ACTIONS.BLOG.ARTICLE_EDIT],\r\n    [ACTIONS.BLOG.ARTICLE_DELETE],\r\n    [ACTIONS.BLOG.CATEGORY_ADD],\r\n    [ACTIONS.BLOG.CATEGORY_EDIT],\r\n    [ACTIONS.BLOG.CATEGORY_DELETE],\r\n    [ACTIONS.BLOG.CATEGORIES_GET],\r\n    [ACTIONS.NOT_FOUND]\r\n  ],\r\n  properties: {\r\n    [ACTIONS.USER.CREATE]: {\r\n      type: 'object',\r\n      required: ['class', 'h'],\r\n      properties: {\r\n        class: {\r\n          type: 'string'\r\n        },\r\n        h: {\r\n          type: 'function'\r\n        }\r\n      }\r\n    },\r\n    [ACTIONS.USER.CREATE_SOCIAL]: {\r\n      type: 'object'\r\n    },\r\n    [ACTIONS.USER.EDIT]: {\r\n      type: 'object'\r\n    }\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a3ba8a7508a0b128a5bd712ef9ff7533ac39d6e9","contentHash":"ea8968b8425e91480533ae78ec920a9a62922de44665bc8fa058f9a2ad62266f"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\actions\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\actions\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":1319}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":[],"names":[],"mappings":"","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\actions","sourcesContent":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"402c7eef273fbeaf00398b8fd277a1f7c1ae63bf","contentHash":"7092c2aed8432f52d6c5669db9c146ec24af856d6e801abff1604a1c7bf9b347"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\users\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\users\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":163}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":27}},"3":{"start":{"line":10,"column":17},"end":{"line":10,"column":62}},"4":{"start":{"line":12,"column":10},"end":{"line":12,"column":58}},"5":{"start":{"line":14,"column":15},"end":{"line":14,"column":43}},"6":{"start":{"line":16,"column":14},"end":{"line":16,"column":37}},"7":{"start":{"line":18,"column":16},"end":{"line":18,"column":45}},"8":{"start":{"line":20,"column":13},"end":{"line":20,"column":63}},"9":{"start":{"line":22,"column":13},"end":{"line":22,"column":63}},"10":{"start":{"line":24,"column":20},"end":{"line":24,"column":53}},"11":{"start":{"line":26,"column":14},"end":{"line":26,"column":33}},"12":{"start":{"line":28,"column":13},"end":{"line":28,"column":39}},"13":{"start":{"line":30,"column":38},"end":{"line":30,"column":85}},"14":{"start":{"line":30,"column":73},"end":{"line":30,"column":85}},"15":{"start":{"line":30,"column":98},"end":{"line":30,"column":111}},"16":{"start":{"line":30,"column":113},"end":{"line":30,"column":194}},"17":{"start":{"line":30,"column":178},"end":{"line":30,"column":191}},"18":{"start":{"line":30,"column":195},"end":{"line":30,"column":208}},"19":{"start":{"line":32,"column":40},"end":{"line":32,"column":82}},"20":{"start":{"line":32,"column":69},"end":{"line":32,"column":80}},"21":{"start":{"line":32,"column":83},"end":{"line":32,"column":189}},"22":{"start":{"line":32,"column":161},"end":{"line":32,"column":187}},"23":{"start":{"line":32,"column":202},"end":{"line":32,"column":228}},"24":{"start":{"line":32,"column":230},"end":{"line":32,"column":285}},"25":{"start":{"line":32,"column":261},"end":{"line":32,"column":283}},"26":{"start":{"line":32,"column":299},"end":{"line":32,"column":301}},"27":{"start":{"line":32,"column":331},"end":{"line":32,"column":387}},"28":{"start":{"line":32,"column":389},"end":{"line":32,"column":669}},"29":{"start":{"line":32,"column":412},"end":{"line":32,"column":667}},"30":{"start":{"line":32,"column":477},"end":{"line":32,"column":549}},"31":{"start":{"line":32,"column":551},"end":{"line":32,"column":665}},"32":{"start":{"line":32,"column":589},"end":{"line":32,"column":630}},"33":{"start":{"line":32,"column":640},"end":{"line":32,"column":663}},"34":{"start":{"line":32,"column":670},"end":{"line":32,"column":694}},"35":{"start":{"line":32,"column":695},"end":{"line":32,"column":733}},"36":{"start":{"line":32,"column":708},"end":{"line":32,"column":731}},"37":{"start":{"line":32,"column":734},"end":{"line":32,"column":748}},"38":{"start":{"line":34,"column":39},"end":{"line":34,"column":95}},"39":{"start":{"line":36,"column":24},"end":{"line":36,"column":328}},"40":{"start":{"line":36,"column":99},"end":{"line":36,"column":154}},"41":{"start":{"line":36,"column":133},"end":{"line":36,"column":151}},"42":{"start":{"line":36,"column":164},"end":{"line":36,"column":326}},"43":{"start":{"line":36,"column":198},"end":{"line":36,"column":323}},"44":{"start":{"line":36,"column":329},"end":{"line":36,"column":349}},"45":{"start":{"line":38,"column":77},"end":{"line":38,"column":175}},"46":{"start":{"line":38,"column":94},"end":{"line":38,"column":107}},"47":{"start":{"line":38,"column":121},"end":{"line":38,"column":131}},"48":{"start":{"line":38,"column":151},"end":{"line":38,"column":165}},"49":{"start":{"line":38,"column":166},"end":{"line":38,"column":173}},"50":{"start":{"line":38,"column":176},"end":{"line":38,"column":263}},"51":{"start":{"line":38,"column":193},"end":{"line":38,"column":208}},"52":{"start":{"line":38,"column":218},"end":{"line":38,"column":261}},"53":{"start":{"line":40,"column":33},"end":{"line":40,"column":387}},"54":{"start":{"line":40,"column":65},"end":{"line":40,"column":69}},"55":{"start":{"line":40,"column":78},"end":{"line":40,"column":87}},"56":{"start":{"line":40,"column":89},"end":{"line":40,"column":384}},"57":{"start":{"line":40,"column":147},"end":{"line":40,"column":167}},"58":{"start":{"line":40,"column":193},"end":{"line":40,"column":264}},"59":{"start":{"line":40,"column":290},"end":{"line":40,"column":360}},"60":{"start":{"line":40,"column":363},"end":{"line":40,"column":380}},"61":{"start":{"line":44,"column":0},"end":{"line":103,"column":3}},"62":{"start":{"line":45,"column":13},"end":{"line":98,"column":5}},"63":{"start":{"line":49,"column":4},"end":{"line":97,"column":16}},"64":{"start":{"line":50,"column":6},"end":{"line":96,"column":7}},"65":{"start":{"line":51,"column":8},"end":{"line":95,"column":9}},"66":{"start":{"line":53,"column":12},"end":{"line":53,"column":30}},"67":{"start":{"line":54,"column":12},"end":{"line":56,"column":15}},"68":{"start":{"line":55,"column":14},"end":{"line":55,"column":79}},"69":{"start":{"line":59,"column":12},"end":{"line":59,"column":34}},"70":{"start":{"line":60,"column":12},"end":{"line":62,"column":15}},"71":{"start":{"line":63,"column":12},"end":{"line":67,"column":15}},"72":{"start":{"line":68,"column":12},"end":{"line":73,"column":14}},"73":{"start":{"line":74,"column":12},"end":{"line":74,"column":30}},"74":{"start":{"line":75,"column":12},"end":{"line":77,"column":15}},"75":{"start":{"line":76,"column":14},"end":{"line":76,"column":75}},"76":{"start":{"line":80,"column":12},"end":{"line":80,"column":31}},"77":{"start":{"line":81,"column":12},"end":{"line":83,"column":15}},"78":{"start":{"line":82,"column":14},"end":{"line":82,"column":29}},"79":{"start":{"line":86,"column":12},"end":{"line":86,"column":30}},"80":{"start":{"line":88,"column":12},"end":{"line":90,"column":13}},"81":{"start":{"line":89,"column":14},"end":{"line":89,"column":21}},"82":{"start":{"line":94,"column":12},"end":{"line":94,"column":35}},"83":{"start":{"line":100,"column":2},"end":{"line":102,"column":4}},"84":{"start":{"line":101,"column":4},"end":{"line":101,"column":39}},"85":{"start":{"line":105,"column":28},"end":{"line":105,"column":72}},"86":{"start":{"line":109,"column":0},"end":{"line":163,"column":3}},"87":{"start":{"line":110,"column":14},"end":{"line":158,"column":5}},"88":{"start":{"line":114,"column":4},"end":{"line":157,"column":17}},"89":{"start":{"line":115,"column":6},"end":{"line":156,"column":7}},"90":{"start":{"line":116,"column":8},"end":{"line":155,"column":9}},"91":{"start":{"line":118,"column":12},"end":{"line":118,"column":31}},"92":{"start":{"line":119,"column":12},"end":{"line":121,"column":15}},"93":{"start":{"line":120,"column":14},"end":{"line":120,"column":79}},"94":{"start":{"line":124,"column":12},"end":{"line":124,"column":35}},"95":{"start":{"line":125,"column":12},"end":{"line":128,"column":15}},"96":{"start":{"line":129,"column":12},"end":{"line":133,"column":14}},"97":{"start":{"line":134,"column":12},"end":{"line":134,"column":31}},"98":{"start":{"line":135,"column":12},"end":{"line":137,"column":15}},"99":{"start":{"line":136,"column":14},"end":{"line":136,"column":75}},"100":{"start":{"line":140,"column":12},"end":{"line":140,"column":31}},"101":{"start":{"line":141,"column":12},"end":{"line":143,"column":15}},"102":{"start":{"line":142,"column":14},"end":{"line":142,"column":29}},"103":{"start":{"line":146,"column":12},"end":{"line":146,"column":31}},"104":{"start":{"line":148,"column":12},"end":{"line":150,"column":13}},"105":{"start":{"line":149,"column":14},"end":{"line":149,"column":21}},"106":{"start":{"line":154,"column":12},"end":{"line":154,"column":36}},"107":{"start":{"line":160,"column":2},"end":{"line":162,"column":4}},"108":{"start":{"line":161,"column":4},"end":{"line":161,"column":40}},"109":{"start":{"line":165,"column":28},"end":{"line":165,"column":72}},"110":{"start":{"line":169,"column":0},"end":{"line":276,"column":3}},"111":{"start":{"line":170,"column":14},"end":{"line":271,"column":5}},"112":{"start":{"line":174,"column":4},"end":{"line":270,"column":17}},"113":{"start":{"line":175,"column":6},"end":{"line":269,"column":7}},"114":{"start":{"line":176,"column":8},"end":{"line":268,"column":9}},"115":{"start":{"line":178,"column":12},"end":{"line":178,"column":31}},"116":{"start":{"line":179,"column":12},"end":{"line":179,"column":54}},"117":{"start":{"line":182,"column":12},"end":{"line":182,"column":35}},"118":{"start":{"line":184,"column":12},"end":{"line":187,"column":13}},"119":{"start":{"line":185,"column":14},"end":{"line":185,"column":34}},"120":{"start":{"line":186,"column":14},"end":{"line":186,"column":20}},"121":{"start":{"line":189,"column":12},"end":{"line":189,"column":31}},"122":{"start":{"line":190,"column":12},"end":{"line":190,"column":54}},"123":{"start":{"line":193,"column":12},"end":{"line":193,"column":31}},"124":{"start":{"line":194,"column":12},"end":{"line":199,"column":15}},"125":{"start":{"line":195,"column":14},"end":{"line":198,"column":17}},"126":{"start":{"line":202,"column":12},"end":{"line":202,"column":39}},"127":{"start":{"line":204,"column":12},"end":{"line":207,"column":13}},"128":{"start":{"line":205,"column":14},"end":{"line":205,"column":34}},"129":{"start":{"line":206,"column":14},"end":{"line":206,"column":20}},"130":{"start":{"line":209,"column":12},"end":{"line":209,"column":32}},"131":{"start":{"line":210,"column":12},"end":{"line":215,"column":15}},"132":{"start":{"line":211,"column":14},"end":{"line":214,"column":17}},"133":{"start":{"line":218,"column":12},"end":{"line":218,"column":31}},"134":{"start":{"line":219,"column":12},"end":{"line":219,"column":30}},"135":{"start":{"line":220,"column":12},"end":{"line":239,"column":14}},"136":{"start":{"line":241,"column":12},"end":{"line":244,"column":15}},"137":{"start":{"line":246,"column":12},"end":{"line":246,"column":32}},"138":{"start":{"line":247,"column":12},"end":{"line":247,"column":18}},"139":{"start":{"line":250,"column":12},"end":{"line":253,"column":15}},"140":{"start":{"line":256,"column":12},"end":{"line":256,"column":32}},"141":{"start":{"line":257,"column":12},"end":{"line":257,"column":18}},"142":{"start":{"line":260,"column":12},"end":{"line":263,"column":15}},"143":{"start":{"line":267,"column":12},"end":{"line":267,"column":36}},"144":{"start":{"line":273,"column":2},"end":{"line":275,"column":4}},"145":{"start":{"line":274,"column":4},"end":{"line":274,"column":40}},"146":{"start":{"line":278,"column":0},"end":{"line":278,"column":26}},"147":{"start":{"line":279,"column":17},"end":{"line":296,"column":1}},"148":{"start":{"line":297,"column":13},"end":{"line":303,"column":1}},"149":{"start":{"line":307,"column":0},"end":{"line":522,"column":3}},"150":{"start":{"line":308,"column":14},"end":{"line":517,"column":5}},"151":{"start":{"line":312,"column":4},"end":{"line":516,"column":17}},"152":{"start":{"line":313,"column":6},"end":{"line":515,"column":7}},"153":{"start":{"line":314,"column":8},"end":{"line":514,"column":9}},"154":{"start":{"line":316,"column":12},"end":{"line":316,"column":31}},"155":{"start":{"line":317,"column":12},"end":{"line":317,"column":59}},"156":{"start":{"line":320,"column":12},"end":{"line":320,"column":35}},"157":{"start":{"line":322,"column":12},"end":{"line":325,"column":13}},"158":{"start":{"line":323,"column":14},"end":{"line":323,"column":34}},"159":{"start":{"line":324,"column":14},"end":{"line":324,"column":20}},"160":{"start":{"line":327,"column":12},"end":{"line":327,"column":31}},"161":{"start":{"line":328,"column":12},"end":{"line":328,"column":54}},"162":{"start":{"line":331,"column":12},"end":{"line":331,"column":31}},"163":{"start":{"line":332,"column":12},"end":{"line":337,"column":15}},"164":{"start":{"line":333,"column":14},"end":{"line":336,"column":17}},"165":{"start":{"line":340,"column":12},"end":{"line":340,"column":31}},"166":{"start":{"line":342,"column":12},"end":{"line":345,"column":13}},"167":{"start":{"line":343,"column":14},"end":{"line":343,"column":34}},"168":{"start":{"line":344,"column":14},"end":{"line":344,"column":20}},"169":{"start":{"line":347,"column":12},"end":{"line":347,"column":32}},"170":{"start":{"line":348,"column":12},"end":{"line":480,"column":17}},"171":{"start":{"line":354,"column":14},"end":{"line":479,"column":27}},"172":{"start":{"line":355,"column":16},"end":{"line":478,"column":17}},"173":{"start":{"line":356,"column":18},"end":{"line":477,"column":19}},"174":{"start":{"line":358,"column":22},"end":{"line":358,"column":41}},"175":{"start":{"line":359,"column":22},"end":{"line":364,"column":25}},"176":{"start":{"line":360,"column":24},"end":{"line":363,"column":27}},"177":{"start":{"line":367,"column":22},"end":{"line":367,"column":54}},"178":{"start":{"line":369,"column":22},"end":{"line":372,"column":23}},"179":{"start":{"line":370,"column":24},"end":{"line":370,"column":44}},"180":{"start":{"line":371,"column":24},"end":{"line":371,"column":30}},"181":{"start":{"line":374,"column":22},"end":{"line":374,"column":41}},"182":{"start":{"line":375,"column":22},"end":{"line":380,"column":25}},"183":{"start":{"line":376,"column":24},"end":{"line":379,"column":27}},"184":{"start":{"line":383,"column":22},"end":{"line":383,"column":42}},"185":{"start":{"line":384,"column":22},"end":{"line":384,"column":96}},"186":{"start":{"line":385,"column":22},"end":{"line":385,"column":39}},"187":{"start":{"line":386,"column":22},"end":{"line":411,"column":24}},"188":{"start":{"line":399,"column":26},"end":{"line":399,"column":49}},"189":{"start":{"line":412,"column":22},"end":{"line":412,"column":42}},"190":{"start":{"line":413,"column":22},"end":{"line":418,"column":25}},"191":{"start":{"line":414,"column":24},"end":{"line":417,"column":27}},"192":{"start":{"line":421,"column":22},"end":{"line":424,"column":23}},"193":{"start":{"line":422,"column":24},"end":{"line":422,"column":44}},"194":{"start":{"line":423,"column":24},"end":{"line":423,"column":30}},"195":{"start":{"line":426,"column":22},"end":{"line":426,"column":42}},"196":{"start":{"line":427,"column":22},"end":{"line":432,"column":25}},"197":{"start":{"line":428,"column":24},"end":{"line":431,"column":27}},"198":{"start":{"line":435,"column":22},"end":{"line":440,"column":25}},"199":{"start":{"line":443,"column":22},"end":{"line":446,"column":23}},"200":{"start":{"line":444,"column":24},"end":{"line":444,"column":44}},"201":{"start":{"line":445,"column":24},"end":{"line":445,"column":30}},"202":{"start":{"line":448,"column":22},"end":{"line":448,"column":42}},"203":{"start":{"line":449,"column":22},"end":{"line":454,"column":25}},"204":{"start":{"line":450,"column":24},"end":{"line":453,"column":27}},"205":{"start":{"line":457,"column":22},"end":{"line":462,"column":25}},"206":{"start":{"line":465,"column":22},"end":{"line":465,"column":42}},"207":{"start":{"line":466,"column":22},"end":{"line":466,"column":28}},"208":{"start":{"line":469,"column":22},"end":{"line":472,"column":25}},"209":{"start":{"line":476,"column":22},"end":{"line":476,"column":46}},"210":{"start":{"line":483,"column":12},"end":{"line":483,"column":36}},"211":{"start":{"line":485,"column":12},"end":{"line":490,"column":13}},"212":{"start":{"line":486,"column":14},"end":{"line":489,"column":17}},"213":{"start":{"line":492,"column":12},"end":{"line":492,"column":32}},"214":{"start":{"line":493,"column":12},"end":{"line":493,"column":18}},"215":{"start":{"line":496,"column":12},"end":{"line":499,"column":15}},"216":{"start":{"line":502,"column":12},"end":{"line":502,"column":32}},"217":{"start":{"line":503,"column":12},"end":{"line":503,"column":18}},"218":{"start":{"line":506,"column":12},"end":{"line":509,"column":15}},"219":{"start":{"line":513,"column":12},"end":{"line":513,"column":36}},"220":{"start":{"line":519,"column":2},"end":{"line":521,"column":4}},"221":{"start":{"line":520,"column":4},"end":{"line":520,"column":40}},"222":{"start":{"line":524,"column":0},"end":{"line":524,"column":26}},"223":{"start":{"line":528,"column":0},"end":{"line":643,"column":3}},"224":{"start":{"line":529,"column":14},"end":{"line":638,"column":5}},"225":{"start":{"line":533,"column":4},"end":{"line":637,"column":17}},"226":{"start":{"line":534,"column":6},"end":{"line":636,"column":7}},"227":{"start":{"line":535,"column":8},"end":{"line":635,"column":9}},"228":{"start":{"line":537,"column":12},"end":{"line":539,"column":13}},"229":{"start":{"line":538,"column":14},"end":{"line":538,"column":47}},"230":{"start":{"line":541,"column":12},"end":{"line":543,"column":13}},"231":{"start":{"line":542,"column":14},"end":{"line":542,"column":45}},"232":{"start":{"line":545,"column":12},"end":{"line":547,"column":13}},"233":{"start":{"line":546,"column":14},"end":{"line":546,"column":43}},"234":{"start":{"line":549,"column":12},"end":{"line":551,"column":13}},"235":{"start":{"line":550,"column":14},"end":{"line":550,"column":37}},"236":{"start":{"line":553,"column":12},"end":{"line":555,"column":13}},"237":{"start":{"line":554,"column":14},"end":{"line":554,"column":43}},"238":{"start":{"line":557,"column":12},"end":{"line":559,"column":13}},"239":{"start":{"line":558,"column":14},"end":{"line":558,"column":47}},"240":{"start":{"line":561,"column":12},"end":{"line":563,"column":13}},"241":{"start":{"line":562,"column":14},"end":{"line":562,"column":35}},"242":{"start":{"line":565,"column":12},"end":{"line":567,"column":13}},"243":{"start":{"line":566,"column":14},"end":{"line":566,"column":43}},"244":{"start":{"line":569,"column":12},"end":{"line":571,"column":13}},"245":{"start":{"line":570,"column":14},"end":{"line":570,"column":45}},"246":{"start":{"line":573,"column":12},"end":{"line":576,"column":13}},"247":{"start":{"line":574,"column":14},"end":{"line":574,"column":34}},"248":{"start":{"line":575,"column":14},"end":{"line":575,"column":20}},"249":{"start":{"line":578,"column":12},"end":{"line":578,"column":37}},"250":{"start":{"line":579,"column":12},"end":{"line":579,"column":32}},"251":{"start":{"line":580,"column":12},"end":{"line":582,"column":15}},"252":{"start":{"line":581,"column":14},"end":{"line":581,"column":29}},"253":{"start":{"line":585,"column":12},"end":{"line":588,"column":13}},"254":{"start":{"line":586,"column":14},"end":{"line":586,"column":34}},"255":{"start":{"line":587,"column":14},"end":{"line":587,"column":20}},"256":{"start":{"line":590,"column":12},"end":{"line":590,"column":32}},"257":{"start":{"line":591,"column":12},"end":{"line":593,"column":15}},"258":{"start":{"line":592,"column":14},"end":{"line":592,"column":29}},"259":{"start":{"line":596,"column":12},"end":{"line":596,"column":35}},"260":{"start":{"line":598,"column":12},"end":{"line":601,"column":13}},"261":{"start":{"line":599,"column":14},"end":{"line":599,"column":34}},"262":{"start":{"line":600,"column":14},"end":{"line":600,"column":20}},"263":{"start":{"line":603,"column":12},"end":{"line":603,"column":37}},"264":{"start":{"line":604,"column":12},"end":{"line":604,"column":32}},"265":{"start":{"line":605,"column":12},"end":{"line":607,"column":15}},"266":{"start":{"line":606,"column":14},"end":{"line":606,"column":63}},"267":{"start":{"line":610,"column":12},"end":{"line":610,"column":44}},"268":{"start":{"line":612,"column":12},"end":{"line":615,"column":13}},"269":{"start":{"line":613,"column":14},"end":{"line":613,"column":34}},"270":{"start":{"line":614,"column":14},"end":{"line":614,"column":20}},"271":{"start":{"line":617,"column":12},"end":{"line":617,"column":32}},"272":{"start":{"line":618,"column":12},"end":{"line":620,"column":15}},"273":{"start":{"line":619,"column":14},"end":{"line":619,"column":62}},"274":{"start":{"line":623,"column":12},"end":{"line":623,"column":36}},"275":{"start":{"line":625,"column":12},"end":{"line":627,"column":13}},"276":{"start":{"line":626,"column":14},"end":{"line":626,"column":41}},"277":{"start":{"line":630,"column":12},"end":{"line":630,"column":33}},"278":{"start":{"line":634,"column":12},"end":{"line":634,"column":36}},"279":{"start":{"line":640,"column":2},"end":{"line":642,"column":4}},"280":{"start":{"line":641,"column":4},"end":{"line":641,"column":40}},"281":{"start":{"line":645,"column":17},"end":{"line":645,"column":50}},"282":{"start":{"line":649,"column":0},"end":{"line":824,"column":3}},"283":{"start":{"line":650,"column":14},"end":{"line":819,"column":5}},"284":{"start":{"line":654,"column":4},"end":{"line":818,"column":17}},"285":{"start":{"line":655,"column":6},"end":{"line":817,"column":7}},"286":{"start":{"line":656,"column":8},"end":{"line":816,"column":9}},"287":{"start":{"line":658,"column":12},"end":{"line":658,"column":31}},"288":{"start":{"line":659,"column":12},"end":{"line":659,"column":57}},"289":{"start":{"line":662,"column":12},"end":{"line":662,"column":35}},"290":{"start":{"line":664,"column":12},"end":{"line":667,"column":13}},"291":{"start":{"line":665,"column":14},"end":{"line":665,"column":34}},"292":{"start":{"line":666,"column":14},"end":{"line":666,"column":20}},"293":{"start":{"line":669,"column":12},"end":{"line":669,"column":31}},"294":{"start":{"line":670,"column":12},"end":{"line":670,"column":54}},"295":{"start":{"line":673,"column":12},"end":{"line":673,"column":31}},"296":{"start":{"line":674,"column":12},"end":{"line":679,"column":15}},"297":{"start":{"line":675,"column":14},"end":{"line":678,"column":17}},"298":{"start":{"line":682,"column":12},"end":{"line":682,"column":39}},"299":{"start":{"line":683,"column":12},"end":{"line":683,"column":32}},"300":{"start":{"line":684,"column":12},"end":{"line":710,"column":17}},"301":{"start":{"line":687,"column":26},"end":{"line":705,"column":17}},"302":{"start":{"line":690,"column":16},"end":{"line":704,"column":29}},"303":{"start":{"line":691,"column":18},"end":{"line":703,"column":19}},"304":{"start":{"line":692,"column":20},"end":{"line":702,"column":21}},"305":{"start":{"line":694,"column":24},"end":{"line":697,"column":28}},"306":{"start":{"line":701,"column":24},"end":{"line":701,"column":48}},"307":{"start":{"line":707,"column":14},"end":{"line":709,"column":16}},"308":{"start":{"line":708,"column":16},"end":{"line":708,"column":52}},"309":{"start":{"line":713,"column":12},"end":{"line":713,"column":31}},"310":{"start":{"line":714,"column":12},"end":{"line":714,"column":32}},"311":{"start":{"line":715,"column":12},"end":{"line":720,"column":15}},"312":{"start":{"line":716,"column":14},"end":{"line":719,"column":17}},"313":{"start":{"line":723,"column":12},"end":{"line":723,"column":38}},"314":{"start":{"line":725,"column":12},"end":{"line":728,"column":13}},"315":{"start":{"line":726,"column":14},"end":{"line":726,"column":34}},"316":{"start":{"line":727,"column":14},"end":{"line":727,"column":20}},"317":{"start":{"line":730,"column":12},"end":{"line":730,"column":32}},"318":{"start":{"line":731,"column":12},"end":{"line":736,"column":15}},"319":{"start":{"line":732,"column":14},"end":{"line":735,"column":17}},"320":{"start":{"line":739,"column":12},"end":{"line":739,"column":37}},"321":{"start":{"line":741,"column":12},"end":{"line":744,"column":13}},"322":{"start":{"line":742,"column":14},"end":{"line":742,"column":34}},"323":{"start":{"line":743,"column":14},"end":{"line":743,"column":20}},"324":{"start":{"line":746,"column":12},"end":{"line":746,"column":32}},"325":{"start":{"line":747,"column":12},"end":{"line":752,"column":15}},"326":{"start":{"line":748,"column":14},"end":{"line":751,"column":17}},"327":{"start":{"line":755,"column":12},"end":{"line":755,"column":32}},"328":{"start":{"line":756,"column":12},"end":{"line":761,"column":15}},"329":{"start":{"line":757,"column":14},"end":{"line":760,"column":17}},"330":{"start":{"line":764,"column":12},"end":{"line":764,"column":31}},"331":{"start":{"line":766,"column":12},"end":{"line":791,"column":13}},"332":{"start":{"line":767,"column":14},"end":{"line":780,"column":16}},"333":{"start":{"line":782,"column":14},"end":{"line":785,"column":17}},"334":{"start":{"line":787,"column":14},"end":{"line":790,"column":17}},"335":{"start":{"line":794,"column":12},"end":{"line":794,"column":32}},"336":{"start":{"line":795,"column":12},"end":{"line":795,"column":18}},"337":{"start":{"line":798,"column":12},"end":{"line":801,"column":15}},"338":{"start":{"line":804,"column":12},"end":{"line":804,"column":32}},"339":{"start":{"line":805,"column":12},"end":{"line":805,"column":18}},"340":{"start":{"line":808,"column":12},"end":{"line":811,"column":15}},"341":{"start":{"line":815,"column":12},"end":{"line":815,"column":36}},"342":{"start":{"line":821,"column":2},"end":{"line":823,"column":4}},"343":{"start":{"line":822,"column":4},"end":{"line":822,"column":40}},"344":{"start":{"line":826,"column":0},"end":{"line":826,"column":20}},"345":{"start":{"line":830,"column":0},"end":{"line":941,"column":3}},"346":{"start":{"line":831,"column":14},"end":{"line":936,"column":5}},"347":{"start":{"line":835,"column":4},"end":{"line":935,"column":17}},"348":{"start":{"line":836,"column":6},"end":{"line":934,"column":7}},"349":{"start":{"line":837,"column":8},"end":{"line":933,"column":9}},"350":{"start":{"line":839,"column":12},"end":{"line":839,"column":31}},"351":{"start":{"line":840,"column":12},"end":{"line":840,"column":58}},"352":{"start":{"line":843,"column":12},"end":{"line":843,"column":35}},"353":{"start":{"line":845,"column":12},"end":{"line":848,"column":13}},"354":{"start":{"line":846,"column":14},"end":{"line":846,"column":34}},"355":{"start":{"line":847,"column":14},"end":{"line":847,"column":20}},"356":{"start":{"line":850,"column":12},"end":{"line":850,"column":31}},"357":{"start":{"line":851,"column":12},"end":{"line":851,"column":54}},"358":{"start":{"line":854,"column":12},"end":{"line":854,"column":31}},"359":{"start":{"line":855,"column":12},"end":{"line":860,"column":15}},"360":{"start":{"line":856,"column":14},"end":{"line":859,"column":17}},"361":{"start":{"line":863,"column":12},"end":{"line":863,"column":39}},"362":{"start":{"line":864,"column":12},"end":{"line":864,"column":32}},"363":{"start":{"line":865,"column":12},"end":{"line":870,"column":15}},"364":{"start":{"line":866,"column":14},"end":{"line":869,"column":17}},"365":{"start":{"line":873,"column":12},"end":{"line":873,"column":38}},"366":{"start":{"line":875,"column":12},"end":{"line":878,"column":13}},"367":{"start":{"line":876,"column":14},"end":{"line":876,"column":34}},"368":{"start":{"line":877,"column":14},"end":{"line":877,"column":20}},"369":{"start":{"line":880,"column":12},"end":{"line":880,"column":120}},"370":{"start":{"line":881,"column":12},"end":{"line":881,"column":32}},"371":{"start":{"line":882,"column":12},"end":{"line":887,"column":15}},"372":{"start":{"line":883,"column":14},"end":{"line":886,"column":17}},"373":{"start":{"line":890,"column":12},"end":{"line":890,"column":32}},"374":{"start":{"line":891,"column":12},"end":{"line":896,"column":15}},"375":{"start":{"line":892,"column":14},"end":{"line":895,"column":17}},"376":{"start":{"line":899,"column":12},"end":{"line":899,"column":31}},"377":{"start":{"line":902,"column":12},"end":{"line":909,"column":13}},"378":{"start":{"line":903,"column":14},"end":{"line":908,"column":17}},"379":{"start":{"line":911,"column":12},"end":{"line":911,"column":32}},"380":{"start":{"line":912,"column":12},"end":{"line":912,"column":18}},"381":{"start":{"line":915,"column":12},"end":{"line":918,"column":15}},"382":{"start":{"line":921,"column":12},"end":{"line":921,"column":32}},"383":{"start":{"line":922,"column":12},"end":{"line":922,"column":18}},"384":{"start":{"line":925,"column":12},"end":{"line":928,"column":15}},"385":{"start":{"line":932,"column":12},"end":{"line":932,"column":36}},"386":{"start":{"line":938,"column":2},"end":{"line":940,"column":4}},"387":{"start":{"line":939,"column":4},"end":{"line":939,"column":40}},"388":{"start":{"line":943,"column":0},"end":{"line":943,"column":34}},"389":{"start":{"line":945,"column":19},"end":{"line":945,"column":55}},"390":{"start":{"line":947,"column":0},"end":{"line":947,"column":36}},"391":{"start":{"line":949,"column":24},"end":{"line":970,"column":1}},"392":{"start":{"line":950,"column":2},"end":{"line":969,"column":3}},"393":{"start":{"line":951,"column":4},"end":{"line":968,"column":5}},"394":{"start":{"line":952,"column":6},"end":{"line":965,"column":7}},"395":{"start":{"line":953,"column":18},"end":{"line":953,"column":28}},"396":{"start":{"line":954,"column":18},"end":{"line":961,"column":9}},"397":{"start":{"line":962,"column":8},"end":{"line":962,"column":24}},"398":{"start":{"line":964,"column":8},"end":{"line":964,"column":56}},"399":{"start":{"line":967,"column":6},"end":{"line":967,"column":50}},"400":{"start":{"line":972,"column":23},"end":{"line":972,"column":62}},"401":{"start":{"line":976,"column":0},"end":{"line":1018,"column":3}},"402":{"start":{"line":977,"column":15},"end":{"line":1013,"column":5}},"403":{"start":{"line":981,"column":4},"end":{"line":1012,"column":18}},"404":{"start":{"line":982,"column":6},"end":{"line":1011,"column":7}},"405":{"start":{"line":983,"column":8},"end":{"line":1010,"column":9}},"406":{"start":{"line":985,"column":12},"end":{"line":985,"column":32}},"407":{"start":{"line":986,"column":12},"end":{"line":988,"column":15}},"408":{"start":{"line":987,"column":14},"end":{"line":987,"column":60}},"409":{"start":{"line":991,"column":12},"end":{"line":991,"column":38}},"410":{"start":{"line":992,"column":12},"end":{"line":992,"column":67}},"411":{"start":{"line":993,"column":12},"end":{"line":998,"column":14}},"412":{"start":{"line":999,"column":12},"end":{"line":999,"column":32}},"413":{"start":{"line":1000,"column":12},"end":{"line":1002,"column":15}},"414":{"start":{"line":1001,"column":14},"end":{"line":1001,"column":63}},"415":{"start":{"line":1005,"column":12},"end":{"line":1005,"column":32}},"416":{"start":{"line":1009,"column":12},"end":{"line":1009,"column":37}},"417":{"start":{"line":1015,"column":2},"end":{"line":1017,"column":4}},"418":{"start":{"line":1016,"column":4},"end":{"line":1016,"column":41}},"419":{"start":{"line":1020,"column":19},"end":{"line":1020,"column":54}},"420":{"start":{"line":1024,"column":0},"end":{"line":1224,"column":3}},"421":{"start":{"line":1025,"column":15},"end":{"line":1219,"column":5}},"422":{"start":{"line":1030,"column":4},"end":{"line":1218,"column":18}},"423":{"start":{"line":1031,"column":6},"end":{"line":1217,"column":7}},"424":{"start":{"line":1032,"column":8},"end":{"line":1216,"column":9}},"425":{"start":{"line":1034,"column":12},"end":{"line":1034,"column":32}},"426":{"start":{"line":1035,"column":12},"end":{"line":1035,"column":54}},"427":{"start":{"line":1038,"column":12},"end":{"line":1038,"column":32}},"428":{"start":{"line":1039,"column":12},"end":{"line":1039,"column":59}},"429":{"start":{"line":1042,"column":12},"end":{"line":1042,"column":36}},"430":{"start":{"line":1044,"column":12},"end":{"line":1047,"column":13}},"431":{"start":{"line":1045,"column":14},"end":{"line":1045,"column":35}},"432":{"start":{"line":1046,"column":14},"end":{"line":1046,"column":20}},"433":{"start":{"line":1049,"column":12},"end":{"line":1049,"column":32}},"434":{"start":{"line":1050,"column":12},"end":{"line":1050,"column":55}},"435":{"start":{"line":1053,"column":12},"end":{"line":1053,"column":38}},"436":{"start":{"line":1054,"column":12},"end":{"line":1054,"column":34}},"437":{"start":{"line":1055,"column":12},"end":{"line":1055,"column":51}},"438":{"start":{"line":1056,"column":12},"end":{"line":1056,"column":38}},"439":{"start":{"line":1057,"column":12},"end":{"line":1057,"column":33}},"440":{"start":{"line":1058,"column":12},"end":{"line":1063,"column":15}},"441":{"start":{"line":1059,"column":14},"end":{"line":1062,"column":17}},"442":{"start":{"line":1066,"column":12},"end":{"line":1066,"column":42}},"443":{"start":{"line":1068,"column":12},"end":{"line":1071,"column":13}},"444":{"start":{"line":1069,"column":14},"end":{"line":1069,"column":35}},"445":{"start":{"line":1070,"column":14},"end":{"line":1070,"column":20}},"446":{"start":{"line":1073,"column":12},"end":{"line":1076,"column":15}},"447":{"start":{"line":1078,"column":12},"end":{"line":1078,"column":33}},"448":{"start":{"line":1079,"column":12},"end":{"line":1079,"column":18}},"449":{"start":{"line":1082,"column":12},"end":{"line":1082,"column":33}},"450":{"start":{"line":1083,"column":12},"end":{"line":1175,"column":17}},"451":{"start":{"line":1089,"column":14},"end":{"line":1174,"column":28}},"452":{"start":{"line":1090,"column":16},"end":{"line":1173,"column":17}},"453":{"start":{"line":1091,"column":18},"end":{"line":1172,"column":19}},"454":{"start":{"line":1093,"column":22},"end":{"line":1110,"column":24}},"455":{"start":{"line":1111,"column":22},"end":{"line":1111,"column":39}},"456":{"start":{"line":1112,"column":22},"end":{"line":1141,"column":24}},"457":{"start":{"line":1142,"column":22},"end":{"line":1142,"column":42}},"458":{"start":{"line":1143,"column":22},"end":{"line":1148,"column":25}},"459":{"start":{"line":1144,"column":24},"end":{"line":1147,"column":27}},"460":{"start":{"line":1151,"column":22},"end":{"line":1151,"column":42}},"461":{"start":{"line":1152,"column":22},"end":{"line":1157,"column":25}},"462":{"start":{"line":1153,"column":24},"end":{"line":1156,"column":27}},"463":{"start":{"line":1160,"column":22},"end":{"line":1160,"column":48}},"464":{"start":{"line":1162,"column":22},"end":{"line":1167,"column":25}},"465":{"start":{"line":1171,"column":22},"end":{"line":1171,"column":47}},"466":{"start":{"line":1178,"column":12},"end":{"line":1178,"column":32}},"467":{"start":{"line":1180,"column":12},"end":{"line":1183,"column":13}},"468":{"start":{"line":1181,"column":14},"end":{"line":1181,"column":35}},"469":{"start":{"line":1182,"column":14},"end":{"line":1182,"column":20}},"470":{"start":{"line":1185,"column":12},"end":{"line":1185,"column":33}},"471":{"start":{"line":1186,"column":12},"end":{"line":1191,"column":15}},"472":{"start":{"line":1187,"column":14},"end":{"line":1190,"column":17}},"473":{"start":{"line":1194,"column":12},"end":{"line":1194,"column":38}},"474":{"start":{"line":1196,"column":12},"end":{"line":1201,"column":15}},"475":{"start":{"line":1204,"column":12},"end":{"line":1204,"column":33}},"476":{"start":{"line":1205,"column":12},"end":{"line":1205,"column":18}},"477":{"start":{"line":1208,"column":12},"end":{"line":1211,"column":15}},"478":{"start":{"line":1215,"column":12},"end":{"line":1215,"column":37}},"479":{"start":{"line":1221,"column":2},"end":{"line":1223,"column":4}},"480":{"start":{"line":1222,"column":4},"end":{"line":1222,"column":41}},"481":{"start":{"line":1226,"column":0},"end":{"line":1226,"column":36}},"482":{"start":{"line":1230,"column":0},"end":{"line":1337,"column":3}},"483":{"start":{"line":1231,"column":15},"end":{"line":1332,"column":5}},"484":{"start":{"line":1235,"column":4},"end":{"line":1331,"column":18}},"485":{"start":{"line":1236,"column":6},"end":{"line":1330,"column":7}},"486":{"start":{"line":1237,"column":8},"end":{"line":1329,"column":9}},"487":{"start":{"line":1239,"column":12},"end":{"line":1239,"column":32}},"488":{"start":{"line":1240,"column":12},"end":{"line":1240,"column":60}},"489":{"start":{"line":1243,"column":12},"end":{"line":1243,"column":36}},"490":{"start":{"line":1245,"column":12},"end":{"line":1248,"column":13}},"491":{"start":{"line":1246,"column":14},"end":{"line":1246,"column":35}},"492":{"start":{"line":1247,"column":14},"end":{"line":1247,"column":20}},"493":{"start":{"line":1250,"column":12},"end":{"line":1250,"column":32}},"494":{"start":{"line":1251,"column":12},"end":{"line":1251,"column":54}},"495":{"start":{"line":1254,"column":12},"end":{"line":1254,"column":32}},"496":{"start":{"line":1255,"column":12},"end":{"line":1260,"column":15}},"497":{"start":{"line":1256,"column":14},"end":{"line":1259,"column":17}},"498":{"start":{"line":1263,"column":12},"end":{"line":1263,"column":40}},"499":{"start":{"line":1265,"column":12},"end":{"line":1268,"column":13}},"500":{"start":{"line":1266,"column":14},"end":{"line":1266,"column":35}},"501":{"start":{"line":1267,"column":14},"end":{"line":1267,"column":20}},"502":{"start":{"line":1270,"column":12},"end":{"line":1270,"column":33}},"503":{"start":{"line":1271,"column":12},"end":{"line":1276,"column":15}},"504":{"start":{"line":1272,"column":14},"end":{"line":1275,"column":17}},"505":{"start":{"line":1279,"column":12},"end":{"line":1279,"column":39}},"506":{"start":{"line":1280,"column":12},"end":{"line":1280,"column":43}},"507":{"start":{"line":1281,"column":12},"end":{"line":1281,"column":44}},"508":{"start":{"line":1282,"column":12},"end":{"line":1282,"column":33}},"509":{"start":{"line":1283,"column":12},"end":{"line":1288,"column":15}},"510":{"start":{"line":1284,"column":14},"end":{"line":1287,"column":17}},"511":{"start":{"line":1291,"column":12},"end":{"line":1291,"column":33}},"512":{"start":{"line":1292,"column":12},"end":{"line":1297,"column":15}},"513":{"start":{"line":1293,"column":14},"end":{"line":1296,"column":17}},"514":{"start":{"line":1300,"column":12},"end":{"line":1305,"column":15}},"515":{"start":{"line":1307,"column":12},"end":{"line":1307,"column":33}},"516":{"start":{"line":1308,"column":12},"end":{"line":1308,"column":18}},"517":{"start":{"line":1311,"column":12},"end":{"line":1314,"column":15}},"518":{"start":{"line":1317,"column":12},"end":{"line":1317,"column":33}},"519":{"start":{"line":1318,"column":12},"end":{"line":1318,"column":18}},"520":{"start":{"line":1321,"column":12},"end":{"line":1324,"column":15}},"521":{"start":{"line":1328,"column":12},"end":{"line":1328,"column":37}},"522":{"start":{"line":1334,"column":2},"end":{"line":1336,"column":4}},"523":{"start":{"line":1335,"column":4},"end":{"line":1335,"column":41}},"524":{"start":{"line":1339,"column":0},"end":{"line":1339,"column":26}},"525":{"start":{"line":1341,"column":15},"end":{"line":1342,"column":1}},"526":{"start":{"line":1344,"column":0},"end":{"line":1344,"column":28}}},"fnMap":{"0":{"name":"_getRequireWildcardCache","decl":{"start":{"line":30,"column":9},"end":{"line":30,"column":33}},"loc":{"start":{"line":30,"column":36},"end":{"line":30,"column":210}},"line":30},"1":{"name":"_getRequireWildcardCache","decl":{"start":{"line":30,"column":149},"end":{"line":30,"column":173}},"loc":{"start":{"line":30,"column":176},"end":{"line":30,"column":193}},"line":30},"2":{"name":"_interopRequireWildcard","decl":{"start":{"line":32,"column":9},"end":{"line":32,"column":32}},"loc":{"start":{"line":32,"column":38},"end":{"line":32,"column":750}},"line":32},"3":{"name":"_interopRequireDefault","decl":{"start":{"line":34,"column":9},"end":{"line":34,"column":31}},"loc":{"start":{"line":34,"column":37},"end":{"line":34,"column":97}},"line":34},"4":{"name":"_typeof","decl":{"start":{"line":36,"column":9},"end":{"line":36,"column":16}},"loc":{"start":{"line":36,"column":22},"end":{"line":36,"column":351}},"line":36},"5":{"name":"_typeof","decl":{"start":{"line":36,"column":118},"end":{"line":36,"column":125}},"loc":{"start":{"line":36,"column":131},"end":{"line":36,"column":153}},"line":36},"6":{"name":"_typeof","decl":{"start":{"line":36,"column":183},"end":{"line":36,"column":190}},"loc":{"start":{"line":36,"column":196},"end":{"line":36,"column":325}},"line":36},"7":{"name":"asyncGeneratorStep","decl":{"start":{"line":38,"column":9},"end":{"line":38,"column":27}},"loc":{"start":{"line":38,"column":75},"end":{"line":38,"column":265}},"line":38},"8":{"name":"_asyncToGenerator","decl":{"start":{"line":40,"column":9},"end":{"line":40,"column":26}},"loc":{"start":{"line":40,"column":31},"end":{"line":40,"column":389}},"line":40},"9":{"name":"(anonymous_9)","decl":{"start":{"line":40,"column":40},"end":{"line":40,"column":41}},"loc":{"start":{"line":40,"column":52},"end":{"line":40,"column":386}},"line":40},"10":{"name":"(anonymous_10)","decl":{"start":{"line":40,"column":108},"end":{"line":40,"column":109}},"loc":{"start":{"line":40,"column":135},"end":{"line":40,"column":382}},"line":40},"11":{"name":"_next","decl":{"start":{"line":40,"column":178},"end":{"line":40,"column":183}},"loc":{"start":{"line":40,"column":191},"end":{"line":40,"column":266}},"line":40},"12":{"name":"_throw","decl":{"start":{"line":40,"column":276},"end":{"line":40,"column":282}},"loc":{"start":{"line":40,"column":288},"end":{"line":40,"column":362}},"line":40},"13":{"name":"(anonymous_13)","decl":{"start":{"line":44,"column":0},"end":{"line":44,"column":1}},"loc":{"start":{"line":44,"column":12},"end":{"line":103,"column":1}},"line":44},"14":{"name":"_callee","decl":{"start":{"line":47,"column":35},"end":{"line":47,"column":42}},"loc":{"start":{"line":47,"column":56},"end":{"line":98,"column":3}},"line":47},"15":{"name":"_callee$","decl":{"start":{"line":49,"column":44},"end":{"line":49,"column":52}},"loc":{"start":{"line":49,"column":63},"end":{"line":97,"column":5}},"line":49},"16":{"name":"(anonymous_16)","decl":{"start":{"line":54,"column":56},"end":{"line":54,"column":57}},"loc":{"start":{"line":54,"column":68},"end":{"line":56,"column":13}},"line":54},"17":{"name":"(anonymous_17)","decl":{"start":{"line":75,"column":74},"end":{"line":75,"column":75}},"loc":{"start":{"line":75,"column":86},"end":{"line":77,"column":13}},"line":75},"18":{"name":"(anonymous_18)","decl":{"start":{"line":81,"column":72},"end":{"line":81,"column":73}},"loc":{"start":{"line":81,"column":85},"end":{"line":83,"column":13}},"line":81},"19":{"name":"_sendEmailConfirmation","decl":{"start":{"line":100,"column":18},"end":{"line":100,"column":40}},"loc":{"start":{"line":100,"column":50},"end":{"line":102,"column":3}},"line":100},"20":{"name":"(anonymous_20)","decl":{"start":{"line":109,"column":0},"end":{"line":109,"column":1}},"loc":{"start":{"line":109,"column":12},"end":{"line":163,"column":1}},"line":109},"21":{"name":"_callee2","decl":{"start":{"line":112,"column":35},"end":{"line":112,"column":43}},"loc":{"start":{"line":112,"column":64},"end":{"line":158,"column":3}},"line":112},"22":{"name":"_callee2$","decl":{"start":{"line":114,"column":44},"end":{"line":114,"column":53}},"loc":{"start":{"line":114,"column":65},"end":{"line":157,"column":5}},"line":114},"23":{"name":"(anonymous_23)","decl":{"start":{"line":119,"column":55},"end":{"line":119,"column":56}},"loc":{"start":{"line":119,"column":67},"end":{"line":121,"column":13}},"line":119},"24":{"name":"(anonymous_24)","decl":{"start":{"line":135,"column":74},"end":{"line":135,"column":75}},"loc":{"start":{"line":135,"column":86},"end":{"line":137,"column":13}},"line":135},"25":{"name":"(anonymous_25)","decl":{"start":{"line":141,"column":63},"end":{"line":141,"column":64}},"loc":{"start":{"line":141,"column":76},"end":{"line":143,"column":13}},"line":141},"26":{"name":"_sendPhoneConfirmation","decl":{"start":{"line":160,"column":18},"end":{"line":160,"column":40}},"loc":{"start":{"line":160,"column":56},"end":{"line":162,"column":3}},"line":160},"27":{"name":"(anonymous_27)","decl":{"start":{"line":169,"column":0},"end":{"line":169,"column":1}},"loc":{"start":{"line":169,"column":12},"end":{"line":276,"column":1}},"line":169},"28":{"name":"_callee3","decl":{"start":{"line":172,"column":35},"end":{"line":172,"column":43}},"loc":{"start":{"line":172,"column":58},"end":{"line":271,"column":3}},"line":172},"29":{"name":"_callee3$","decl":{"start":{"line":174,"column":44},"end":{"line":174,"column":53}},"loc":{"start":{"line":174,"column":65},"end":{"line":270,"column":5}},"line":174},"30":{"name":"(anonymous_30)","decl":{"start":{"line":194,"column":54},"end":{"line":194,"column":55}},"loc":{"start":{"line":194,"column":67},"end":{"line":199,"column":13}},"line":194},"31":{"name":"(anonymous_31)","decl":{"start":{"line":210,"column":74},"end":{"line":210,"column":75}},"loc":{"start":{"line":210,"column":86},"end":{"line":215,"column":13}},"line":210},"32":{"name":"getUser","decl":{"start":{"line":273,"column":18},"end":{"line":273,"column":25}},"loc":{"start":{"line":273,"column":36},"end":{"line":275,"column":3}},"line":273},"33":{"name":"(anonymous_33)","decl":{"start":{"line":307,"column":0},"end":{"line":307,"column":1}},"loc":{"start":{"line":307,"column":12},"end":{"line":522,"column":1}},"line":307},"34":{"name":"_callee5","decl":{"start":{"line":310,"column":35},"end":{"line":310,"column":43}},"loc":{"start":{"line":310,"column":59},"end":{"line":517,"column":3}},"line":310},"35":{"name":"_callee5$","decl":{"start":{"line":312,"column":44},"end":{"line":312,"column":53}},"loc":{"start":{"line":312,"column":65},"end":{"line":516,"column":5}},"line":312},"36":{"name":"(anonymous_36)","decl":{"start":{"line":332,"column":53},"end":{"line":332,"column":54}},"loc":{"start":{"line":332,"column":65},"end":{"line":337,"column":13}},"line":332},"37":{"name":"_callee4","decl":{"start":{"line":352,"column":45},"end":{"line":352,"column":53}},"loc":{"start":{"line":352,"column":56},"end":{"line":480,"column":13}},"line":352},"38":{"name":"_callee4$","decl":{"start":{"line":354,"column":54},"end":{"line":354,"column":63}},"loc":{"start":{"line":354,"column":75},"end":{"line":479,"column":15}},"line":354},"39":{"name":"(anonymous_39)","decl":{"start":{"line":359,"column":70},"end":{"line":359,"column":71}},"loc":{"start":{"line":359,"column":82},"end":{"line":364,"column":23}},"line":359},"40":{"name":"(anonymous_40)","decl":{"start":{"line":375,"column":70},"end":{"line":375,"column":71}},"loc":{"start":{"line":375,"column":82},"end":{"line":380,"column":23}},"line":375},"41":{"name":"(anonymous_41)","decl":{"start":{"line":398,"column":71},"end":{"line":398,"column":72}},"loc":{"start":{"line":398,"column":84},"end":{"line":400,"column":25}},"line":398},"42":{"name":"(anonymous_42)","decl":{"start":{"line":413,"column":86},"end":{"line":413,"column":87}},"loc":{"start":{"line":413,"column":98},"end":{"line":418,"column":23}},"line":413},"43":{"name":"(anonymous_43)","decl":{"start":{"line":427,"column":69},"end":{"line":427,"column":70}},"loc":{"start":{"line":427,"column":81},"end":{"line":432,"column":23}},"line":427},"44":{"name":"(anonymous_44)","decl":{"start":{"line":449,"column":78},"end":{"line":449,"column":79}},"loc":{"start":{"line":449,"column":90},"end":{"line":454,"column":23}},"line":449},"45":{"name":"genUser","decl":{"start":{"line":519,"column":18},"end":{"line":519,"column":25}},"loc":{"start":{"line":519,"column":36},"end":{"line":521,"column":3}},"line":519},"46":{"name":"(anonymous_46)","decl":{"start":{"line":528,"column":0},"end":{"line":528,"column":1}},"loc":{"start":{"line":528,"column":12},"end":{"line":643,"column":1}},"line":528},"47":{"name":"_callee6","decl":{"start":{"line":531,"column":35},"end":{"line":531,"column":43}},"loc":{"start":{"line":531,"column":63},"end":{"line":638,"column":3}},"line":531},"48":{"name":"_callee6$","decl":{"start":{"line":533,"column":44},"end":{"line":533,"column":53}},"loc":{"start":{"line":533,"column":65},"end":{"line":637,"column":5}},"line":533},"49":{"name":"(anonymous_49)","decl":{"start":{"line":580,"column":75},"end":{"line":580,"column":76}},"loc":{"start":{"line":580,"column":88},"end":{"line":582,"column":13}},"line":580},"50":{"name":"(anonymous_50)","decl":{"start":{"line":591,"column":60},"end":{"line":591,"column":61}},"loc":{"start":{"line":591,"column":73},"end":{"line":593,"column":13}},"line":591},"51":{"name":"(anonymous_51)","decl":{"start":{"line":605,"column":59},"end":{"line":605,"column":60}},"loc":{"start":{"line":605,"column":71},"end":{"line":607,"column":13}},"line":605},"52":{"name":"(anonymous_52)","decl":{"start":{"line":618,"column":60},"end":{"line":618,"column":61}},"loc":{"start":{"line":618,"column":72},"end":{"line":620,"column":13}},"line":618},"53":{"name":"_editFields","decl":{"start":{"line":640,"column":18},"end":{"line":640,"column":29}},"loc":{"start":{"line":640,"column":48},"end":{"line":642,"column":3}},"line":640},"54":{"name":"(anonymous_54)","decl":{"start":{"line":649,"column":0},"end":{"line":649,"column":1}},"loc":{"start":{"line":649,"column":12},"end":{"line":824,"column":1}},"line":649},"55":{"name":"_callee8","decl":{"start":{"line":652,"column":35},"end":{"line":652,"column":43}},"loc":{"start":{"line":652,"column":59},"end":{"line":819,"column":3}},"line":652},"56":{"name":"_callee8$","decl":{"start":{"line":654,"column":44},"end":{"line":654,"column":53}},"loc":{"start":{"line":654,"column":65},"end":{"line":818,"column":5}},"line":654},"57":{"name":"(anonymous_57)","decl":{"start":{"line":674,"column":54},"end":{"line":674,"column":55}},"loc":{"start":{"line":674,"column":66},"end":{"line":679,"column":13}},"line":674},"58":{"name":"(anonymous_58)","decl":{"start":{"line":686,"column":12},"end":{"line":686,"column":13}},"loc":{"start":{"line":686,"column":24},"end":{"line":710,"column":13}},"line":686},"59":{"name":"_callee7","decl":{"start":{"line":689,"column":47},"end":{"line":689,"column":55}},"loc":{"start":{"line":689,"column":59},"end":{"line":705,"column":15}},"line":689},"60":{"name":"_callee7$","decl":{"start":{"line":690,"column":56},"end":{"line":690,"column":65}},"loc":{"start":{"line":690,"column":77},"end":{"line":704,"column":17}},"line":690},"61":{"name":"(anonymous_61)","decl":{"start":{"line":707,"column":21},"end":{"line":707,"column":22}},"loc":{"start":{"line":707,"column":37},"end":{"line":709,"column":15}},"line":707},"62":{"name":"(anonymous_62)","decl":{"start":{"line":715,"column":74},"end":{"line":715,"column":75}},"loc":{"start":{"line":715,"column":86},"end":{"line":720,"column":13}},"line":715},"63":{"name":"(anonymous_63)","decl":{"start":{"line":731,"column":52},"end":{"line":731,"column":53}},"loc":{"start":{"line":731,"column":64},"end":{"line":736,"column":13}},"line":731},"64":{"name":"(anonymous_64)","decl":{"start":{"line":747,"column":85},"end":{"line":747,"column":86}},"loc":{"start":{"line":747,"column":97},"end":{"line":752,"column":13}},"line":747},"65":{"name":"(anonymous_65)","decl":{"start":{"line":756,"column":74},"end":{"line":756,"column":75}},"loc":{"start":{"line":756,"column":86},"end":{"line":761,"column":13}},"line":756},"66":{"name":"edit","decl":{"start":{"line":821,"column":18},"end":{"line":821,"column":22}},"loc":{"start":{"line":821,"column":35},"end":{"line":823,"column":3}},"line":821},"67":{"name":"(anonymous_67)","decl":{"start":{"line":830,"column":0},"end":{"line":830,"column":1}},"loc":{"start":{"line":830,"column":12},"end":{"line":941,"column":1}},"line":830},"68":{"name":"_callee9","decl":{"start":{"line":833,"column":35},"end":{"line":833,"column":43}},"loc":{"start":{"line":833,"column":59},"end":{"line":936,"column":3}},"line":833},"69":{"name":"_callee9$","decl":{"start":{"line":835,"column":44},"end":{"line":835,"column":53}},"loc":{"start":{"line":835,"column":65},"end":{"line":935,"column":5}},"line":835},"70":{"name":"(anonymous_70)","decl":{"start":{"line":855,"column":54},"end":{"line":855,"column":55}},"loc":{"start":{"line":855,"column":66},"end":{"line":860,"column":13}},"line":855},"71":{"name":"(anonymous_71)","decl":{"start":{"line":865,"column":74},"end":{"line":865,"column":75}},"loc":{"start":{"line":865,"column":86},"end":{"line":870,"column":13}},"line":865},"72":{"name":"(anonymous_72)","decl":{"start":{"line":882,"column":77},"end":{"line":882,"column":78}},"loc":{"start":{"line":882,"column":89},"end":{"line":887,"column":13}},"line":882},"73":{"name":"(anonymous_73)","decl":{"start":{"line":891,"column":71},"end":{"line":891,"column":72}},"loc":{"start":{"line":891,"column":83},"end":{"line":896,"column":13}},"line":891},"74":{"name":"destroyUser","decl":{"start":{"line":938,"column":18},"end":{"line":938,"column":29}},"loc":{"start":{"line":938,"column":42},"end":{"line":940,"column":3}},"line":938},"75":{"name":"confirmPhone","decl":{"start":{"line":945,"column":28},"end":{"line":945,"column":40}},"loc":{"start":{"line":945,"column":53},"end":{"line":945,"column":55}},"line":945},"76":{"name":"_getSocialProfile","decl":{"start":{"line":949,"column":33},"end":{"line":949,"column":50}},"loc":{"start":{"line":949,"column":66},"end":{"line":970,"column":1}},"line":949},"77":{"name":"(anonymous_77)","decl":{"start":{"line":976,"column":0},"end":{"line":976,"column":1}},"loc":{"start":{"line":976,"column":12},"end":{"line":1018,"column":1}},"line":976},"78":{"name":"_callee10","decl":{"start":{"line":979,"column":35},"end":{"line":979,"column":44}},"loc":{"start":{"line":979,"column":64},"end":{"line":1013,"column":3}},"line":979},"79":{"name":"_callee10$","decl":{"start":{"line":981,"column":44},"end":{"line":981,"column":54}},"loc":{"start":{"line":981,"column":67},"end":{"line":1012,"column":5}},"line":981},"80":{"name":"(anonymous_80)","decl":{"start":{"line":986,"column":56},"end":{"line":986,"column":57}},"loc":{"start":{"line":986,"column":68},"end":{"line":988,"column":13}},"line":986},"81":{"name":"(anonymous_81)","decl":{"start":{"line":1000,"column":79},"end":{"line":1000,"column":80}},"loc":{"start":{"line":1000,"column":91},"end":{"line":1002,"column":13}},"line":1000},"82":{"name":"_getUserToken","decl":{"start":{"line":1015,"column":18},"end":{"line":1015,"column":31}},"loc":{"start":{"line":1015,"column":50},"end":{"line":1017,"column":3}},"line":1015},"83":{"name":"(anonymous_83)","decl":{"start":{"line":1024,"column":0},"end":{"line":1024,"column":1}},"loc":{"start":{"line":1024,"column":12},"end":{"line":1224,"column":1}},"line":1024},"84":{"name":"_callee12","decl":{"start":{"line":1027,"column":35},"end":{"line":1027,"column":44}},"loc":{"start":{"line":1027,"column":60},"end":{"line":1219,"column":3}},"line":1027},"85":{"name":"_callee12$","decl":{"start":{"line":1030,"column":44},"end":{"line":1030,"column":54}},"loc":{"start":{"line":1030,"column":67},"end":{"line":1218,"column":5}},"line":1030},"86":{"name":"(anonymous_86)","decl":{"start":{"line":1058,"column":58},"end":{"line":1058,"column":59}},"loc":{"start":{"line":1058,"column":71},"end":{"line":1063,"column":13}},"line":1058},"87":{"name":"_callee11","decl":{"start":{"line":1087,"column":45},"end":{"line":1087,"column":54}},"loc":{"start":{"line":1087,"column":57},"end":{"line":1175,"column":13}},"line":1087},"88":{"name":"_callee11$","decl":{"start":{"line":1089,"column":54},"end":{"line":1089,"column":64}},"loc":{"start":{"line":1089,"column":77},"end":{"line":1174,"column":15}},"line":1089},"89":{"name":"(anonymous_89)","decl":{"start":{"line":1143,"column":86},"end":{"line":1143,"column":87}},"loc":{"start":{"line":1143,"column":98},"end":{"line":1148,"column":23}},"line":1143},"90":{"name":"(anonymous_90)","decl":{"start":{"line":1152,"column":76},"end":{"line":1152,"column":77}},"loc":{"start":{"line":1152,"column":89},"end":{"line":1157,"column":23}},"line":1152},"91":{"name":"(anonymous_91)","decl":{"start":{"line":1186,"column":58},"end":{"line":1186,"column":59}},"loc":{"start":{"line":1186,"column":71},"end":{"line":1191,"column":13}},"line":1186},"92":{"name":"signinSocial","decl":{"start":{"line":1221,"column":18},"end":{"line":1221,"column":30}},"loc":{"start":{"line":1221,"column":43},"end":{"line":1223,"column":3}},"line":1221},"93":{"name":"(anonymous_93)","decl":{"start":{"line":1230,"column":0},"end":{"line":1230,"column":1}},"loc":{"start":{"line":1230,"column":12},"end":{"line":1337,"column":1}},"line":1230},"94":{"name":"_callee13","decl":{"start":{"line":1233,"column":35},"end":{"line":1233,"column":44}},"loc":{"start":{"line":1233,"column":60},"end":{"line":1332,"column":3}},"line":1233},"95":{"name":"_callee13$","decl":{"start":{"line":1235,"column":44},"end":{"line":1235,"column":54}},"loc":{"start":{"line":1235,"column":67},"end":{"line":1331,"column":5}},"line":1235},"96":{"name":"(anonymous_96)","decl":{"start":{"line":1255,"column":54},"end":{"line":1255,"column":55}},"loc":{"start":{"line":1255,"column":66},"end":{"line":1260,"column":13}},"line":1255},"97":{"name":"(anonymous_97)","decl":{"start":{"line":1271,"column":74},"end":{"line":1271,"column":75}},"loc":{"start":{"line":1271,"column":86},"end":{"line":1276,"column":13}},"line":1271},"98":{"name":"(anonymous_98)","decl":{"start":{"line":1283,"column":86},"end":{"line":1283,"column":87}},"loc":{"start":{"line":1283,"column":98},"end":{"line":1288,"column":13}},"line":1283},"99":{"name":"(anonymous_99)","decl":{"start":{"line":1292,"column":90},"end":{"line":1292,"column":91}},"loc":{"start":{"line":1292,"column":102},"end":{"line":1297,"column":13}},"line":1292},"100":{"name":"setRole","decl":{"start":{"line":1334,"column":18},"end":{"line":1334,"column":25}},"loc":{"start":{"line":1334,"column":38},"end":{"line":1336,"column":3}},"line":1334},"101":{"name":"getUsers","decl":{"start":{"line":1341,"column":24},"end":{"line":1341,"column":32}},"loc":{"start":{"line":1341,"column":48},"end":{"line":1342,"column":1}},"line":1341}},"branchMap":{"0":{"loc":{"start":{"line":30,"column":38},"end":{"line":30,"column":85}},"type":"if","locations":[{"start":{"line":30,"column":38},"end":{"line":30,"column":85}},{"start":{"line":30,"column":38},"end":{"line":30,"column":85}}],"line":30},"1":{"loc":{"start":{"line":32,"column":40},"end":{"line":32,"column":82}},"type":"if","locations":[{"start":{"line":32,"column":40},"end":{"line":32,"column":82}},{"start":{"line":32,"column":40},"end":{"line":32,"column":82}}],"line":32},"2":{"loc":{"start":{"line":32,"column":44},"end":{"line":32,"column":65}},"type":"binary-expr","locations":[{"start":{"line":32,"column":44},"end":{"line":32,"column":47}},{"start":{"line":32,"column":51},"end":{"line":32,"column":65}}],"line":32},"3":{"loc":{"start":{"line":32,"column":83},"end":{"line":32,"column":189}},"type":"if","locations":[{"start":{"line":32,"column":83},"end":{"line":32,"column":189}},{"start":{"line":32,"column":83},"end":{"line":32,"column":189}}],"line":32},"4":{"loc":{"start":{"line":32,"column":87},"end":{"line":32,"column":157}},"type":"binary-expr","locations":[{"start":{"line":32,"column":87},"end":{"line":32,"column":99}},{"start":{"line":32,"column":103},"end":{"line":32,"column":128}},{"start":{"line":32,"column":132},"end":{"line":32,"column":157}}],"line":32},"5":{"loc":{"start":{"line":32,"column":230},"end":{"line":32,"column":285}},"type":"if","locations":[{"start":{"line":32,"column":230},"end":{"line":32,"column":285}},{"start":{"line":32,"column":230},"end":{"line":32,"column":285}}],"line":32},"6":{"loc":{"start":{"line":32,"column":234},"end":{"line":32,"column":257}},"type":"binary-expr","locations":[{"start":{"line":32,"column":234},"end":{"line":32,"column":239}},{"start":{"line":32,"column":243},"end":{"line":32,"column":257}}],"line":32},"7":{"loc":{"start":{"line":32,"column":331},"end":{"line":32,"column":387}},"type":"binary-expr","locations":[{"start":{"line":32,"column":331},"end":{"line":32,"column":352}},{"start":{"line":32,"column":356},"end":{"line":32,"column":387}}],"line":32},"8":{"loc":{"start":{"line":32,"column":412},"end":{"line":32,"column":667}},"type":"if","locations":[{"start":{"line":32,"column":412},"end":{"line":32,"column":667}},{"start":{"line":32,"column":412},"end":{"line":32,"column":667}}],"line":32},"9":{"loc":{"start":{"line":32,"column":477},"end":{"line":32,"column":549}},"type":"cond-expr","locations":[{"start":{"line":32,"column":501},"end":{"line":32,"column":542}},{"start":{"line":32,"column":545},"end":{"line":32,"column":549}}],"line":32},"10":{"loc":{"start":{"line":32,"column":551},"end":{"line":32,"column":665}},"type":"if","locations":[{"start":{"line":32,"column":551},"end":{"line":32,"column":665}},{"start":{"line":32,"column":551},"end":{"line":32,"column":665}}],"line":32},"11":{"loc":{"start":{"line":32,"column":555},"end":{"line":32,"column":585}},"type":"binary-expr","locations":[{"start":{"line":32,"column":555},"end":{"line":32,"column":559}},{"start":{"line":32,"column":564},"end":{"line":32,"column":572}},{"start":{"line":32,"column":576},"end":{"line":32,"column":584}}],"line":32},"12":{"loc":{"start":{"line":32,"column":695},"end":{"line":32,"column":733}},"type":"if","locations":[{"start":{"line":32,"column":695},"end":{"line":32,"column":733}},{"start":{"line":32,"column":695},"end":{"line":32,"column":733}}],"line":32},"13":{"loc":{"start":{"line":34,"column":46},"end":{"line":34,"column":94}},"type":"cond-expr","locations":[{"start":{"line":34,"column":70},"end":{"line":34,"column":73}},{"start":{"line":34,"column":76},"end":{"line":34,"column":94}}],"line":34},"14":{"loc":{"start":{"line":34,"column":46},"end":{"line":34,"column":67}},"type":"binary-expr","locations":[{"start":{"line":34,"column":46},"end":{"line":34,"column":49}},{"start":{"line":34,"column":53},"end":{"line":34,"column":67}}],"line":34},"15":{"loc":{"start":{"line":36,"column":24},"end":{"line":36,"column":328}},"type":"if","locations":[{"start":{"line":36,"column":24},"end":{"line":36,"column":328}},{"start":{"line":36,"column":24},"end":{"line":36,"column":328}}],"line":36},"16":{"loc":{"start":{"line":36,"column":28},"end":{"line":36,"column":95}},"type":"binary-expr","locations":[{"start":{"line":36,"column":28},"end":{"line":36,"column":56}},{"start":{"line":36,"column":60},"end":{"line":36,"column":95}}],"line":36},"17":{"loc":{"start":{"line":36,"column":205},"end":{"line":36,"column":322}},"type":"cond-expr","locations":[{"start":{"line":36,"column":301},"end":{"line":36,"column":309}},{"start":{"line":36,"column":312},"end":{"line":36,"column":322}}],"line":36},"18":{"loc":{"start":{"line":36,"column":205},"end":{"line":36,"column":298}},"type":"binary-expr","locations":[{"start":{"line":36,"column":205},"end":{"line":36,"column":208}},{"start":{"line":36,"column":212},"end":{"line":36,"column":240}},{"start":{"line":36,"column":244},"end":{"line":36,"column":270}},{"start":{"line":36,"column":274},"end":{"line":36,"column":298}}],"line":36},"19":{"loc":{"start":{"line":38,"column":176},"end":{"line":38,"column":263}},"type":"if","locations":[{"start":{"line":38,"column":176},"end":{"line":38,"column":263}},{"start":{"line":38,"column":176},"end":{"line":38,"column":263}}],"line":38},"20":{"loc":{"start":{"line":51,"column":8},"end":{"line":95,"column":9}},"type":"switch","locations":[{"start":{"line":52,"column":10},"end":{"line":56,"column":15}},{"start":{"line":58,"column":10},"end":{"line":77,"column":15}},{"start":{"line":79,"column":10},"end":{"line":83,"column":15}},{"start":{"line":85,"column":10},"end":{"line":90,"column":13}},{"start":{"line":92,"column":10},"end":{"line":92,"column":18}},{"start":{"line":93,"column":10},"end":{"line":94,"column":35}}],"line":51},"21":{"loc":{"start":{"line":88,"column":12},"end":{"line":90,"column":13}},"type":"if","locations":[{"start":{"line":88,"column":12},"end":{"line":90,"column":13}},{"start":{"line":88,"column":12},"end":{"line":90,"column":13}}],"line":88},"22":{"loc":{"start":{"line":116,"column":8},"end":{"line":155,"column":9}},"type":"switch","locations":[{"start":{"line":117,"column":10},"end":{"line":121,"column":15}},{"start":{"line":123,"column":10},"end":{"line":137,"column":15}},{"start":{"line":139,"column":10},"end":{"line":143,"column":15}},{"start":{"line":145,"column":10},"end":{"line":150,"column":13}},{"start":{"line":152,"column":10},"end":{"line":152,"column":18}},{"start":{"line":153,"column":10},"end":{"line":154,"column":36}}],"line":116},"23":{"loc":{"start":{"line":148,"column":12},"end":{"line":150,"column":13}},"type":"if","locations":[{"start":{"line":148,"column":12},"end":{"line":150,"column":13}},{"start":{"line":148,"column":12},"end":{"line":150,"column":13}}],"line":148},"24":{"loc":{"start":{"line":176,"column":8},"end":{"line":268,"column":9}},"type":"switch","locations":[{"start":{"line":177,"column":10},"end":{"line":179,"column":54}},{"start":{"line":181,"column":10},"end":{"line":190,"column":54}},{"start":{"line":192,"column":10},"end":{"line":199,"column":15}},{"start":{"line":201,"column":10},"end":{"line":215,"column":15}},{"start":{"line":217,"column":10},"end":{"line":247,"column":18}},{"start":{"line":249,"column":10},"end":{"line":253,"column":15}},{"start":{"line":255,"column":10},"end":{"line":257,"column":18}},{"start":{"line":259,"column":10},"end":{"line":263,"column":15}},{"start":{"line":265,"column":10},"end":{"line":265,"column":18}},{"start":{"line":266,"column":10},"end":{"line":267,"column":36}}],"line":176},"25":{"loc":{"start":{"line":184,"column":12},"end":{"line":187,"column":13}},"type":"if","locations":[{"start":{"line":184,"column":12},"end":{"line":187,"column":13}},{"start":{"line":184,"column":12},"end":{"line":187,"column":13}}],"line":184},"26":{"loc":{"start":{"line":204,"column":12},"end":{"line":207,"column":13}},"type":"if","locations":[{"start":{"line":204,"column":12},"end":{"line":207,"column":13}},{"start":{"line":204,"column":12},"end":{"line":207,"column":13}}],"line":204},"27":{"loc":{"start":{"line":314,"column":8},"end":{"line":514,"column":9}},"type":"switch","locations":[{"start":{"line":315,"column":10},"end":{"line":317,"column":59}},{"start":{"line":319,"column":10},"end":{"line":328,"column":54}},{"start":{"line":330,"column":10},"end":{"line":337,"column":15}},{"start":{"line":339,"column":10},"end":{"line":480,"column":17}},{"start":{"line":482,"column":10},"end":{"line":493,"column":18}},{"start":{"line":495,"column":10},"end":{"line":499,"column":15}},{"start":{"line":501,"column":10},"end":{"line":503,"column":18}},{"start":{"line":505,"column":10},"end":{"line":509,"column":15}},{"start":{"line":511,"column":10},"end":{"line":511,"column":18}},{"start":{"line":512,"column":10},"end":{"line":513,"column":36}}],"line":314},"28":{"loc":{"start":{"line":322,"column":12},"end":{"line":325,"column":13}},"type":"if","locations":[{"start":{"line":322,"column":12},"end":{"line":325,"column":13}},{"start":{"line":322,"column":12},"end":{"line":325,"column":13}}],"line":322},"29":{"loc":{"start":{"line":342,"column":12},"end":{"line":345,"column":13}},"type":"if","locations":[{"start":{"line":342,"column":12},"end":{"line":345,"column":13}},{"start":{"line":342,"column":12},"end":{"line":345,"column":13}}],"line":342},"30":{"loc":{"start":{"line":342,"column":18},"end":{"line":342,"column":57}},"type":"binary-expr","locations":[{"start":{"line":342,"column":18},"end":{"line":342,"column":25}},{"start":{"line":342,"column":29},"end":{"line":342,"column":39}},{"start":{"line":342,"column":43},"end":{"line":342,"column":57}}],"line":342},"31":{"loc":{"start":{"line":356,"column":18},"end":{"line":477,"column":19}},"type":"switch","locations":[{"start":{"line":357,"column":20},"end":{"line":364,"column":25}},{"start":{"line":366,"column":20},"end":{"line":380,"column":25}},{"start":{"line":382,"column":20},"end":{"line":418,"column":25}},{"start":{"line":420,"column":20},"end":{"line":432,"column":25}},{"start":{"line":434,"column":20},"end":{"line":440,"column":25}},{"start":{"line":442,"column":20},"end":{"line":454,"column":25}},{"start":{"line":456,"column":20},"end":{"line":462,"column":25}},{"start":{"line":464,"column":20},"end":{"line":466,"column":28}},{"start":{"line":468,"column":20},"end":{"line":472,"column":25}},{"start":{"line":474,"column":20},"end":{"line":474,"column":28}},{"start":{"line":475,"column":20},"end":{"line":476,"column":46}}],"line":356},"32":{"loc":{"start":{"line":369,"column":22},"end":{"line":372,"column":23}},"type":"if","locations":[{"start":{"line":369,"column":22},"end":{"line":372,"column":23}},{"start":{"line":369,"column":22},"end":{"line":372,"column":23}}],"line":369},"33":{"loc":{"start":{"line":384,"column":29},"end":{"line":384,"column":95}},"type":"cond-expr","locations":[{"start":{"line":384,"column":60},"end":{"line":384,"column":76}},{"start":{"line":384,"column":79},"end":{"line":384,"column":95}}],"line":384},"34":{"loc":{"start":{"line":384,"column":29},"end":{"line":384,"column":57}},"type":"binary-expr","locations":[{"start":{"line":384,"column":29},"end":{"line":384,"column":32}},{"start":{"line":384,"column":36},"end":{"line":384,"column":38}},{"start":{"line":384,"column":42},"end":{"line":384,"column":57}}],"line":384},"35":{"loc":{"start":{"line":387,"column":35},"end":{"line":387,"column":65}},"type":"cond-expr","locations":[{"start":{"line":387,"column":49},"end":{"line":387,"column":60}},{"start":{"line":387,"column":63},"end":{"line":387,"column":65}}],"line":387},"36":{"loc":{"start":{"line":388,"column":34},"end":{"line":388,"column":62}},"type":"cond-expr","locations":[{"start":{"line":388,"column":47},"end":{"line":388,"column":57}},{"start":{"line":388,"column":60},"end":{"line":388,"column":62}}],"line":388},"37":{"loc":{"start":{"line":390,"column":31},"end":{"line":390,"column":53}},"type":"cond-expr","locations":[{"start":{"line":390,"column":41},"end":{"line":390,"column":48}},{"start":{"line":390,"column":51},"end":{"line":390,"column":53}}],"line":390},"38":{"loc":{"start":{"line":398,"column":33},"end":{"line":400,"column":39}},"type":"cond-expr","locations":[{"start":{"line":398,"column":45},"end":{"line":400,"column":34}},{"start":{"line":400,"column":37},"end":{"line":400,"column":39}}],"line":398},"39":{"loc":{"start":{"line":421,"column":22},"end":{"line":424,"column":23}},"type":"if","locations":[{"start":{"line":421,"column":22},"end":{"line":424,"column":23}},{"start":{"line":421,"column":22},"end":{"line":424,"column":23}}],"line":421},"40":{"loc":{"start":{"line":443,"column":22},"end":{"line":446,"column":23}},"type":"if","locations":[{"start":{"line":443,"column":22},"end":{"line":446,"column":23}},{"start":{"line":443,"column":22},"end":{"line":446,"column":23}}],"line":443},"41":{"loc":{"start":{"line":485,"column":12},"end":{"line":490,"column":13}},"type":"if","locations":[{"start":{"line":485,"column":12},"end":{"line":490,"column":13}},{"start":{"line":485,"column":12},"end":{"line":490,"column":13}}],"line":485},"42":{"loc":{"start":{"line":535,"column":8},"end":{"line":635,"column":9}},"type":"switch","locations":[{"start":{"line":536,"column":10},"end":{"line":582,"column":15}},{"start":{"line":584,"column":10},"end":{"line":593,"column":15}},{"start":{"line":595,"column":10},"end":{"line":607,"column":15}},{"start":{"line":609,"column":10},"end":{"line":620,"column":15}},{"start":{"line":622,"column":10},"end":{"line":627,"column":13}},{"start":{"line":629,"column":10},"end":{"line":630,"column":33}},{"start":{"line":632,"column":10},"end":{"line":632,"column":18}},{"start":{"line":633,"column":10},"end":{"line":634,"column":36}}],"line":535},"43":{"loc":{"start":{"line":537,"column":12},"end":{"line":539,"column":13}},"type":"if","locations":[{"start":{"line":537,"column":12},"end":{"line":539,"column":13}},{"start":{"line":537,"column":12},"end":{"line":539,"column":13}}],"line":537},"44":{"loc":{"start":{"line":537,"column":16},"end":{"line":537,"column":72}},"type":"binary-expr","locations":[{"start":{"line":537,"column":16},"end":{"line":537,"column":34}},{"start":{"line":537,"column":38},"end":{"line":537,"column":72}}],"line":537},"45":{"loc":{"start":{"line":541,"column":12},"end":{"line":543,"column":13}},"type":"if","locations":[{"start":{"line":541,"column":12},"end":{"line":543,"column":13}},{"start":{"line":541,"column":12},"end":{"line":543,"column":13}}],"line":541},"46":{"loc":{"start":{"line":541,"column":16},"end":{"line":541,"column":69}},"type":"binary-expr","locations":[{"start":{"line":541,"column":16},"end":{"line":541,"column":33}},{"start":{"line":541,"column":37},"end":{"line":541,"column":69}}],"line":541},"47":{"loc":{"start":{"line":545,"column":12},"end":{"line":547,"column":13}},"type":"if","locations":[{"start":{"line":545,"column":12},"end":{"line":547,"column":13}},{"start":{"line":545,"column":12},"end":{"line":547,"column":13}}],"line":545},"48":{"loc":{"start":{"line":545,"column":16},"end":{"line":545,"column":66}},"type":"binary-expr","locations":[{"start":{"line":545,"column":16},"end":{"line":545,"column":32}},{"start":{"line":545,"column":36},"end":{"line":545,"column":66}}],"line":545},"49":{"loc":{"start":{"line":549,"column":12},"end":{"line":551,"column":13}},"type":"if","locations":[{"start":{"line":549,"column":12},"end":{"line":551,"column":13}},{"start":{"line":549,"column":12},"end":{"line":551,"column":13}}],"line":549},"50":{"loc":{"start":{"line":549,"column":16},"end":{"line":549,"column":57}},"type":"binary-expr","locations":[{"start":{"line":549,"column":16},"end":{"line":549,"column":29}},{"start":{"line":549,"column":33},"end":{"line":549,"column":57}}],"line":549},"51":{"loc":{"start":{"line":553,"column":12},"end":{"line":555,"column":13}},"type":"if","locations":[{"start":{"line":553,"column":12},"end":{"line":555,"column":13}},{"start":{"line":553,"column":12},"end":{"line":555,"column":13}}],"line":553},"52":{"loc":{"start":{"line":553,"column":16},"end":{"line":553,"column":66}},"type":"binary-expr","locations":[{"start":{"line":553,"column":16},"end":{"line":553,"column":32}},{"start":{"line":553,"column":36},"end":{"line":553,"column":66}}],"line":553},"53":{"loc":{"start":{"line":557,"column":12},"end":{"line":559,"column":13}},"type":"if","locations":[{"start":{"line":557,"column":12},"end":{"line":559,"column":13}},{"start":{"line":557,"column":12},"end":{"line":559,"column":13}}],"line":557},"54":{"loc":{"start":{"line":557,"column":16},"end":{"line":557,"column":72}},"type":"binary-expr","locations":[{"start":{"line":557,"column":16},"end":{"line":557,"column":34}},{"start":{"line":557,"column":38},"end":{"line":557,"column":72}}],"line":557},"55":{"loc":{"start":{"line":561,"column":12},"end":{"line":563,"column":13}},"type":"if","locations":[{"start":{"line":561,"column":12},"end":{"line":563,"column":13}},{"start":{"line":561,"column":12},"end":{"line":563,"column":13}}],"line":561},"56":{"loc":{"start":{"line":561,"column":16},"end":{"line":561,"column":54}},"type":"binary-expr","locations":[{"start":{"line":561,"column":16},"end":{"line":561,"column":28}},{"start":{"line":561,"column":32},"end":{"line":561,"column":54}}],"line":561},"57":{"loc":{"start":{"line":565,"column":12},"end":{"line":567,"column":13}},"type":"if","locations":[{"start":{"line":565,"column":12},"end":{"line":567,"column":13}},{"start":{"line":565,"column":12},"end":{"line":567,"column":13}}],"line":565},"58":{"loc":{"start":{"line":565,"column":16},"end":{"line":565,"column":66}},"type":"binary-expr","locations":[{"start":{"line":565,"column":16},"end":{"line":565,"column":32}},{"start":{"line":565,"column":36},"end":{"line":565,"column":66}}],"line":565},"59":{"loc":{"start":{"line":569,"column":12},"end":{"line":571,"column":13}},"type":"if","locations":[{"start":{"line":569,"column":12},"end":{"line":571,"column":13}},{"start":{"line":569,"column":12},"end":{"line":571,"column":13}}],"line":569},"60":{"loc":{"start":{"line":569,"column":16},"end":{"line":569,"column":69}},"type":"binary-expr","locations":[{"start":{"line":569,"column":16},"end":{"line":569,"column":33}},{"start":{"line":569,"column":37},"end":{"line":569,"column":69}}],"line":569},"61":{"loc":{"start":{"line":573,"column":12},"end":{"line":576,"column":13}},"type":"if","locations":[{"start":{"line":573,"column":12},"end":{"line":576,"column":13}},{"start":{"line":573,"column":12},"end":{"line":576,"column":13}}],"line":573},"62":{"loc":{"start":{"line":573,"column":18},"end":{"line":573,"column":62}},"type":"binary-expr","locations":[{"start":{"line":573,"column":18},"end":{"line":573,"column":32}},{"start":{"line":573,"column":36},"end":{"line":573,"column":62}}],"line":573},"63":{"loc":{"start":{"line":585,"column":12},"end":{"line":588,"column":13}},"type":"if","locations":[{"start":{"line":585,"column":12},"end":{"line":588,"column":13}},{"start":{"line":585,"column":12},"end":{"line":588,"column":13}}],"line":585},"64":{"loc":{"start":{"line":585,"column":18},"end":{"line":585,"column":62}},"type":"binary-expr","locations":[{"start":{"line":585,"column":18},"end":{"line":585,"column":32}},{"start":{"line":585,"column":36},"end":{"line":585,"column":62}}],"line":585},"65":{"loc":{"start":{"line":598,"column":12},"end":{"line":601,"column":13}},"type":"if","locations":[{"start":{"line":598,"column":12},"end":{"line":601,"column":13}},{"start":{"line":598,"column":12},"end":{"line":601,"column":13}}],"line":598},"66":{"loc":{"start":{"line":612,"column":12},"end":{"line":615,"column":13}},"type":"if","locations":[{"start":{"line":612,"column":12},"end":{"line":615,"column":13}},{"start":{"line":612,"column":12},"end":{"line":615,"column":13}}],"line":612},"67":{"loc":{"start":{"line":625,"column":12},"end":{"line":627,"column":13}},"type":"if","locations":[{"start":{"line":625,"column":12},"end":{"line":627,"column":13}},{"start":{"line":625,"column":12},"end":{"line":627,"column":13}}],"line":625},"68":{"loc":{"start":{"line":656,"column":8},"end":{"line":816,"column":9}},"type":"switch","locations":[{"start":{"line":657,"column":10},"end":{"line":659,"column":57}},{"start":{"line":661,"column":10},"end":{"line":670,"column":54}},{"start":{"line":672,"column":10},"end":{"line":679,"column":15}},{"start":{"line":681,"column":10},"end":{"line":710,"column":17}},{"start":{"line":712,"column":10},"end":{"line":720,"column":15}},{"start":{"line":722,"column":10},"end":{"line":736,"column":15}},{"start":{"line":738,"column":10},"end":{"line":752,"column":15}},{"start":{"line":754,"column":10},"end":{"line":761,"column":15}},{"start":{"line":763,"column":10},"end":{"line":791,"column":13}},{"start":{"line":793,"column":10},"end":{"line":795,"column":18}},{"start":{"line":797,"column":10},"end":{"line":801,"column":15}},{"start":{"line":803,"column":10},"end":{"line":805,"column":18}},{"start":{"line":807,"column":10},"end":{"line":811,"column":15}},{"start":{"line":813,"column":10},"end":{"line":813,"column":18}},{"start":{"line":814,"column":10},"end":{"line":815,"column":36}}],"line":656},"69":{"loc":{"start":{"line":664,"column":12},"end":{"line":667,"column":13}},"type":"if","locations":[{"start":{"line":664,"column":12},"end":{"line":667,"column":13}},{"start":{"line":664,"column":12},"end":{"line":667,"column":13}}],"line":664},"70":{"loc":{"start":{"line":692,"column":20},"end":{"line":702,"column":21}},"type":"switch","locations":[{"start":{"line":693,"column":22},"end":{"line":697,"column":28}},{"start":{"line":699,"column":22},"end":{"line":699,"column":29}},{"start":{"line":700,"column":22},"end":{"line":701,"column":48}}],"line":692},"71":{"loc":{"start":{"line":725,"column":12},"end":{"line":728,"column":13}},"type":"if","locations":[{"start":{"line":725,"column":12},"end":{"line":728,"column":13}},{"start":{"line":725,"column":12},"end":{"line":728,"column":13}}],"line":725},"72":{"loc":{"start":{"line":725,"column":18},"end":{"line":725,"column":70}},"type":"binary-expr","locations":[{"start":{"line":725,"column":18},"end":{"line":725,"column":42}},{"start":{"line":725,"column":46},"end":{"line":725,"column":70}}],"line":725},"73":{"loc":{"start":{"line":741,"column":12},"end":{"line":744,"column":13}},"type":"if","locations":[{"start":{"line":741,"column":12},"end":{"line":744,"column":13}},{"start":{"line":741,"column":12},"end":{"line":744,"column":13}}],"line":741},"74":{"loc":{"start":{"line":766,"column":12},"end":{"line":791,"column":13}},"type":"if","locations":[{"start":{"line":766,"column":12},"end":{"line":791,"column":13}},{"start":{"line":766,"column":12},"end":{"line":791,"column":13}}],"line":766},"75":{"loc":{"start":{"line":837,"column":8},"end":{"line":933,"column":9}},"type":"switch","locations":[{"start":{"line":838,"column":10},"end":{"line":840,"column":58}},{"start":{"line":842,"column":10},"end":{"line":851,"column":54}},{"start":{"line":853,"column":10},"end":{"line":860,"column":15}},{"start":{"line":862,"column":10},"end":{"line":870,"column":15}},{"start":{"line":872,"column":10},"end":{"line":887,"column":15}},{"start":{"line":889,"column":10},"end":{"line":896,"column":15}},{"start":{"line":898,"column":10},"end":{"line":912,"column":18}},{"start":{"line":914,"column":10},"end":{"line":918,"column":15}},{"start":{"line":920,"column":10},"end":{"line":922,"column":18}},{"start":{"line":924,"column":10},"end":{"line":928,"column":15}},{"start":{"line":930,"column":10},"end":{"line":930,"column":18}},{"start":{"line":931,"column":10},"end":{"line":932,"column":36}}],"line":837},"76":{"loc":{"start":{"line":845,"column":12},"end":{"line":848,"column":13}},"type":"if","locations":[{"start":{"line":845,"column":12},"end":{"line":848,"column":13}},{"start":{"line":845,"column":12},"end":{"line":848,"column":13}}],"line":845},"77":{"loc":{"start":{"line":875,"column":12},"end":{"line":878,"column":13}},"type":"if","locations":[{"start":{"line":875,"column":12},"end":{"line":878,"column":13}},{"start":{"line":875,"column":12},"end":{"line":878,"column":13}}],"line":875},"78":{"loc":{"start":{"line":880,"column":19},"end":{"line":880,"column":119}},"type":"cond-expr","locations":[{"start":{"line":880,"column":97},"end":{"line":880,"column":114}},{"start":{"line":880,"column":117},"end":{"line":880,"column":119}}],"line":880},"79":{"loc":{"start":{"line":880,"column":19},"end":{"line":880,"column":94}},"type":"binary-expr","locations":[{"start":{"line":880,"column":19},"end":{"line":880,"column":58}},{"start":{"line":880,"column":62},"end":{"line":880,"column":94}}],"line":880},"80":{"loc":{"start":{"line":902,"column":12},"end":{"line":909,"column":13}},"type":"if","locations":[{"start":{"line":902,"column":12},"end":{"line":909,"column":13}},{"start":{"line":902,"column":12},"end":{"line":909,"column":13}}],"line":902},"81":{"loc":{"start":{"line":950,"column":2},"end":{"line":969,"column":3}},"type":"if","locations":[{"start":{"line":950,"column":2},"end":{"line":969,"column":3}},{"start":{"line":950,"column":2},"end":{"line":969,"column":3}}],"line":950},"82":{"loc":{"start":{"line":952,"column":6},"end":{"line":965,"column":7}},"type":"if","locations":[{"start":{"line":952,"column":6},"end":{"line":965,"column":7}},{"start":{"line":952,"column":6},"end":{"line":965,"column":7}}],"line":952},"83":{"loc":{"start":{"line":983,"column":8},"end":{"line":1010,"column":9}},"type":"switch","locations":[{"start":{"line":984,"column":10},"end":{"line":988,"column":15}},{"start":{"line":990,"column":10},"end":{"line":1002,"column":15}},{"start":{"line":1004,"column":10},"end":{"line":1005,"column":32}},{"start":{"line":1007,"column":10},"end":{"line":1007,"column":17}},{"start":{"line":1008,"column":10},"end":{"line":1009,"column":37}}],"line":983},"84":{"loc":{"start":{"line":1032,"column":8},"end":{"line":1216,"column":9}},"type":"switch","locations":[{"start":{"line":1033,"column":10},"end":{"line":1035,"column":54}},{"start":{"line":1037,"column":10},"end":{"line":1039,"column":59}},{"start":{"line":1041,"column":10},"end":{"line":1050,"column":55}},{"start":{"line":1052,"column":10},"end":{"line":1063,"column":15}},{"start":{"line":1065,"column":10},"end":{"line":1079,"column":18}},{"start":{"line":1081,"column":10},"end":{"line":1175,"column":17}},{"start":{"line":1177,"column":10},"end":{"line":1191,"column":15}},{"start":{"line":1193,"column":10},"end":{"line":1201,"column":15}},{"start":{"line":1203,"column":10},"end":{"line":1205,"column":18}},{"start":{"line":1207,"column":10},"end":{"line":1211,"column":15}},{"start":{"line":1213,"column":10},"end":{"line":1213,"column":18}},{"start":{"line":1214,"column":10},"end":{"line":1215,"column":37}}],"line":1032},"85":{"loc":{"start":{"line":1044,"column":12},"end":{"line":1047,"column":13}},"type":"if","locations":[{"start":{"line":1044,"column":12},"end":{"line":1047,"column":13}},{"start":{"line":1044,"column":12},"end":{"line":1047,"column":13}}],"line":1044},"86":{"loc":{"start":{"line":1068,"column":12},"end":{"line":1071,"column":13}},"type":"if","locations":[{"start":{"line":1068,"column":12},"end":{"line":1071,"column":13}},{"start":{"line":1068,"column":12},"end":{"line":1071,"column":13}}],"line":1068},"87":{"loc":{"start":{"line":1068,"column":18},"end":{"line":1068,"column":59}},"type":"binary-expr","locations":[{"start":{"line":1068,"column":18},"end":{"line":1068,"column":25}},{"start":{"line":1068,"column":29},"end":{"line":1068,"column":43}},{"start":{"line":1068,"column":47},"end":{"line":1068,"column":59}}],"line":1068},"88":{"loc":{"start":{"line":1091,"column":18},"end":{"line":1172,"column":19}},"type":"switch","locations":[{"start":{"line":1092,"column":20},"end":{"line":1148,"column":25}},{"start":{"line":1150,"column":20},"end":{"line":1157,"column":25}},{"start":{"line":1159,"column":20},"end":{"line":1167,"column":25}},{"start":{"line":1169,"column":20},"end":{"line":1169,"column":27}},{"start":{"line":1170,"column":20},"end":{"line":1171,"column":47}}],"line":1091},"89":{"loc":{"start":{"line":1114,"column":34},"end":{"line":1114,"column":62}},"type":"cond-expr","locations":[{"start":{"line":1114,"column":47},"end":{"line":1114,"column":57}},{"start":{"line":1114,"column":60},"end":{"line":1114,"column":62}}],"line":1114},"90":{"loc":{"start":{"line":1180,"column":12},"end":{"line":1183,"column":13}},"type":"if","locations":[{"start":{"line":1180,"column":12},"end":{"line":1183,"column":13}},{"start":{"line":1180,"column":12},"end":{"line":1183,"column":13}}],"line":1180},"91":{"loc":{"start":{"line":1237,"column":8},"end":{"line":1329,"column":9}},"type":"switch","locations":[{"start":{"line":1238,"column":10},"end":{"line":1240,"column":60}},{"start":{"line":1242,"column":10},"end":{"line":1251,"column":54}},{"start":{"line":1253,"column":10},"end":{"line":1260,"column":15}},{"start":{"line":1262,"column":10},"end":{"line":1276,"column":15}},{"start":{"line":1278,"column":10},"end":{"line":1288,"column":15}},{"start":{"line":1290,"column":10},"end":{"line":1297,"column":15}},{"start":{"line":1299,"column":10},"end":{"line":1308,"column":18}},{"start":{"line":1310,"column":10},"end":{"line":1314,"column":15}},{"start":{"line":1316,"column":10},"end":{"line":1318,"column":18}},{"start":{"line":1320,"column":10},"end":{"line":1324,"column":15}},{"start":{"line":1326,"column":10},"end":{"line":1326,"column":18}},{"start":{"line":1327,"column":10},"end":{"line":1328,"column":37}}],"line":1237},"92":{"loc":{"start":{"line":1245,"column":12},"end":{"line":1248,"column":13}},"type":"if","locations":[{"start":{"line":1245,"column":12},"end":{"line":1248,"column":13}},{"start":{"line":1245,"column":12},"end":{"line":1248,"column":13}}],"line":1245},"93":{"loc":{"start":{"line":1265,"column":12},"end":{"line":1268,"column":13}},"type":"if","locations":[{"start":{"line":1265,"column":12},"end":{"line":1268,"column":13}},{"start":{"line":1265,"column":12},"end":{"line":1268,"column":13}}],"line":1265},"94":{"loc":{"start":{"line":1265,"column":18},"end":{"line":1265,"column":66}},"type":"binary-expr","locations":[{"start":{"line":1265,"column":18},"end":{"line":1265,"column":27}},{"start":{"line":1265,"column":31},"end":{"line":1265,"column":66}}],"line":1265}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":3,"39":1,"40":1,"41":1,"42":0,"43":0,"44":1,"45":57,"46":57,"47":57,"48":0,"49":0,"50":57,"51":12,"52":45,"53":13,"54":12,"55":12,"56":12,"57":12,"58":57,"59":0,"60":12,"61":1,"62":1,"63":1,"64":4,"65":4,"66":1,"67":1,"68":0,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":0,"76":1,"77":1,"78":0,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":1,"108":0,"109":1,"110":1,"111":1,"112":1,"113":5,"114":7,"115":1,"116":1,"117":1,"118":1,"119":0,"120":0,"121":1,"122":1,"123":1,"124":1,"125":0,"126":1,"127":1,"128":0,"129":0,"130":1,"131":1,"132":0,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":0,"140":1,"141":1,"142":0,"143":1,"144":1,"145":1,"146":1,"147":1,"148":1,"149":1,"150":1,"151":2,"152":7,"153":10,"154":2,"155":2,"156":2,"157":2,"158":1,"159":1,"160":1,"161":1,"162":1,"163":1,"164":0,"165":1,"166":1,"167":0,"168":0,"169":1,"170":1,"171":1,"172":5,"173":7,"174":1,"175":1,"176":0,"177":1,"178":1,"179":0,"180":0,"181":1,"182":1,"183":0,"184":1,"185":1,"186":1,"187":1,"188":0,"189":1,"190":1,"191":0,"192":1,"193":0,"194":0,"195":1,"196":1,"197":0,"198":1,"199":1,"200":1,"201":1,"202":0,"203":0,"204":0,"205":0,"206":1,"207":1,"208":0,"209":1,"210":1,"211":1,"212":0,"213":1,"214":1,"215":0,"216":1,"217":1,"218":1,"219":2,"220":1,"221":2,"222":1,"223":1,"224":1,"225":1,"226":1,"227":4,"228":1,"229":1,"230":1,"231":1,"232":1,"233":0,"234":1,"235":0,"236":1,"237":0,"238":1,"239":0,"240":1,"241":0,"242":1,"243":0,"244":1,"245":0,"246":1,"247":1,"248":1,"249":0,"250":0,"251":0,"252":0,"253":1,"254":1,"255":1,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":1,"268":1,"269":1,"270":1,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":1,"278":1,"279":1,"280":1,"281":1,"282":1,"283":1,"284":1,"285":9,"286":11,"287":1,"288":1,"289":1,"290":1,"291":0,"292":0,"293":1,"294":1,"295":1,"296":1,"297":0,"298":1,"299":1,"300":1,"301":1,"302":0,"303":0,"304":0,"305":0,"306":0,"307":1,"308":0,"309":1,"310":1,"311":1,"312":0,"313":1,"314":1,"315":0,"316":0,"317":1,"318":1,"319":0,"320":1,"321":1,"322":0,"323":0,"324":1,"325":1,"326":0,"327":1,"328":1,"329":0,"330":1,"331":1,"332":1,"333":1,"334":0,"335":1,"336":1,"337":0,"338":1,"339":1,"340":0,"341":1,"342":1,"343":1,"344":1,"345":1,"346":1,"347":1,"348":7,"349":9,"350":1,"351":1,"352":1,"353":1,"354":0,"355":0,"356":1,"357":1,"358":1,"359":1,"360":0,"361":1,"362":1,"363":1,"364":0,"365":1,"366":1,"367":0,"368":0,"369":1,"370":1,"371":1,"372":0,"373":1,"374":1,"375":0,"376":1,"377":1,"378":1,"379":1,"380":1,"381":0,"382":1,"383":1,"384":0,"385":1,"386":1,"387":1,"388":1,"389":1,"390":1,"391":1,"392":1,"393":1,"394":1,"395":1,"396":1,"397":1,"398":0,"399":0,"400":1,"401":1,"402":1,"403":1,"404":3,"405":3,"406":1,"407":1,"408":0,"409":1,"410":1,"411":1,"412":1,"413":1,"414":0,"415":1,"416":1,"417":1,"418":1,"419":1,"420":1,"421":1,"422":1,"423":6,"424":9,"425":1,"426":1,"427":1,"428":1,"429":1,"430":1,"431":0,"432":0,"433":1,"434":1,"435":1,"436":1,"437":1,"438":1,"439":1,"440":1,"441":0,"442":1,"443":1,"444":1,"445":1,"446":0,"447":0,"448":0,"449":1,"450":1,"451":1,"452":3,"453":3,"454":1,"455":1,"456":1,"457":1,"458":1,"459":0,"460":1,"461":1,"462":0,"463":1,"464":1,"465":1,"466":1,"467":1,"468":1,"469":1,"470":0,"471":0,"472":0,"473":0,"474":0,"475":1,"476":1,"477":0,"478":1,"479":1,"480":1,"481":1,"482":1,"483":1,"484":1,"485":7,"486":9,"487":1,"488":1,"489":1,"490":1,"491":0,"492":0,"493":1,"494":1,"495":1,"496":1,"497":0,"498":1,"499":1,"500":0,"501":0,"502":1,"503":1,"504":0,"505":1,"506":1,"507":1,"508":1,"509":1,"510":0,"511":1,"512":1,"513":0,"514":1,"515":1,"516":1,"517":0,"518":1,"519":1,"520":0,"521":1,"522":1,"523":1,"524":1,"525":1,"526":1},"f":{"0":0,"1":0,"2":1,"3":3,"4":1,"5":1,"6":0,"7":57,"8":13,"9":12,"10":12,"11":57,"12":0,"13":1,"14":1,"15":4,"16":0,"17":0,"18":0,"19":1,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":1,"29":5,"30":0,"31":0,"32":1,"33":1,"34":2,"35":7,"36":0,"37":1,"38":5,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":2,"46":1,"47":1,"48":1,"49":0,"50":0,"51":0,"52":0,"53":1,"54":1,"55":1,"56":9,"57":0,"58":1,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":1,"67":1,"68":1,"69":7,"70":0,"71":0,"72":0,"73":0,"74":1,"75":0,"76":1,"77":1,"78":1,"79":3,"80":0,"81":0,"82":1,"83":1,"84":1,"85":6,"86":0,"87":1,"88":3,"89":0,"90":0,"91":0,"92":1,"93":1,"94":1,"95":7,"96":0,"97":0,"98":0,"99":0,"100":1,"101":0},"b":{"0":[0,0],"1":[1,0],"2":[1,1],"3":[0,0],"4":[0,0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0,0],"12":[0,0],"13":[2,1],"14":[3,3],"15":[1,0],"16":[1,1],"17":[0,0],"18":[0,0,0,0],"19":[12,45],"20":[1,1,1,1,1,1],"21":[1,0],"22":[0,0,0,0,0,0],"23":[0,0],"24":[1,1,1,1,1,0,1,0,1,1],"25":[0,1],"26":[0,1],"27":[2,2,1,1,1,0,1,1,2,2],"28":[1,1],"29":[0,1],"30":[1,1,1],"31":[1,1,1,1,1,1,0,1,0,1,1],"32":[0,1],"33":[0,1],"34":[1,1,1],"35":[0,1],"36":[0,1],"37":[0,1],"38":[0,1],"39":[0,1],"40":[1,0],"41":[0,1],"42":[1,1,0,1,0,1,1,1],"43":[1,0],"44":[1,1],"45":[1,0],"46":[1,1],"47":[0,1],"48":[1,0],"49":[0,1],"50":[1,0],"51":[0,1],"52":[1,0],"53":[0,1],"54":[1,0],"55":[0,1],"56":[1,0],"57":[0,1],"58":[1,0],"59":[0,1],"60":[1,0],"61":[1,0],"62":[1,0],"63":[1,0],"64":[1,0],"65":[0,0],"66":[1,0],"67":[0,0],"68":[1,1,1,1,1,1,1,1,1,1,0,1,0,1,1],"69":[0,1],"70":[0,0,0],"71":[0,1],"72":[1,0],"73":[0,1],"74":[1,0],"75":[1,1,1,1,1,1,1,0,1,0,1,1],"76":[0,1],"77":[0,1],"78":[1,0],"79":[1,1],"80":[1,0],"81":[1,0],"82":[1,0],"83":[1,1,1,1,1],"84":[1,1,1,1,1,1,1,0,1,0,1,1],"85":[0,1],"86":[1,0],"87":[1,1,1],"88":[1,1,1,1,1],"89":[0,1],"90":[1,0],"91":[1,1,1,1,1,1,1,0,1,0,1,1],"92":[0,1],"93":[0,1],"94":[1,1]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["_sendEmailConfirmation","email","done","token","subject","company","COMPANY","msg","baseUrl","BASE_URL","code","obj","type","FIRST_CONFIRM","expiry","Date","now","db","create","e","sendEmailConfirmation","_sendPhoneConfirmation","phone","sendPhoneConfirmation","getUser","data","final","userGet","isValid","body","valid","s","tokenData","read","u","password","o","firstName","lastName","dialCode","tosAgreement","referred","address","zipCode","city","country","dob","avatarUrl","confirmed","social","registeredAt","updatedAt","role","socialItem","idToken","accessToken","nickname","picture","email_verified","given_name","family_name","name","phone_number","phone_verified","blocked","last_ip","created_at","updated_at","user_id","auth0","facebook","twitter","google","linkedin","genUser","createSchema","hashedPassword","listDir","ls","length","ROLES","newObj","countries","filter","i","status","exists","_editFields","userData","hashed","editFields","edit","userUpdate","newData","update","r","destroyUser","userDestroy","refs","Array","isArray","destroy","confirmPhone","_getSocialProfile","process","env","NODE_ENV","out","err","getSocialProfile","_getUserToken","tokenId","USER_TOKEN_EXPIRY","tokenObj","getUserToken","signinSocial","socialSchema","profile","emailVerified","_validEmail","p","setRole","setRoleSchema","getUsers"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\users","sourcesContent":["import { promisify } from 'util'\r\nimport jwtDecode from 'jwt-decode'\r\n\r\nimport db, { joinedTableDelete } from '../../lib/db'\r\nimport { user, countries, loose } from '../../lib/schemas'\r\nimport { COMPANY, BASE_URL, ROLES, FIRST_CONFIRM, USER_TOKEN_EXPIRY } from '../../config'\r\nimport { randomID, hash, auth } from '../../lib/security'\r\nimport sendEmail from '../../lib/email'\r\nimport sendSMS from '../../lib/phone'\r\nimport { t, setLocale } from '../../lib/translations'\r\nimport { createSchema, userUpdate, userDestroy, userGet, socialSchema, setRoleSchema } from './schema'\r\nimport { validEmail } from '../../lib/utils'\r\n\r\nconst _sendEmailConfirmation = async (email, done) => {\r\n  const token = await randomID(32).catch(() => done(t('error.confirmation_generate')))\r\n  const subject = t('account.confirm_subject', { company: COMPANY })\r\n  const msg = t('account.confirm_message', { company: COMPANY, baseUrl: BASE_URL, code: token })\r\n  const obj = {\r\n    email,\r\n    token,\r\n    type: FIRST_CONFIRM,\r\n    expiry: Date.now() + 1000 * 60 * 60\r\n  }\r\n\r\n  await db.create('confirms', token, obj).catch(() => done(t('error.confirmation_save')))\r\n  const e = await sendEmail(email, subject, msg).catch((e) => done(e))\r\n  if (!e) {\r\n    done()\r\n  }\r\n}\r\n\r\nconst sendEmailConfirmation = promisify(_sendEmailConfirmation)\r\n\r\nconst _sendPhoneConfirmation = async (phone, email, done) => {\r\n  const token = await randomID(6).catch(() => done(t('error.confirmation_generate')))\r\n  const msg = t('account.confirm_phone', { company: COMPANY, code: token })\r\n  const obj = {\r\n    email,\r\n    token,\r\n    expiry: Date.now() + 1000 * 60 * 60\r\n  }\r\n\r\n  await db.create('confirms', token, obj).catch(() => done(t('error.confirmation_save')))\r\n  const e = await sendSMS(phone, msg).catch((e) => done(e))\r\n  if (!e) {\r\n    done()\r\n  }\r\n}\r\n\r\nconst sendPhoneConfirmation = promisify(_sendPhoneConfirmation)\r\n\r\nexport const getUser = async (data, final) => {\r\n  const valid = await userGet.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const tokenData = await auth(data).catch((e) => final(null, { s: 403, e }))\r\n    if (tokenData) {\r\n      const u = await db.read('users', tokenData.email).catch(() => final(null, { s: 400, e: t('error.cannot_read') }))\r\n      delete u.password\r\n      const o = {\r\n        email: u.email,\r\n        firstName: u.firstName,\r\n        lastName: u.lastName,\r\n        dialCode: u.dialCode,\r\n        phone: u.phone,\r\n        tosAgreement: u.tosAgreement,\r\n        referred: u.referred,\r\n        address: u.address,\r\n        zipCode: u.zipCode,\r\n        city: u.city,\r\n        country: u.country,\r\n        dob: u.dob,\r\n        avatarUrl: u.avatarUrl,\r\n        confirmed: u.confirmed,\r\n        social: u.social,\r\n        registeredAt: u.registeredAt,\r\n        updatedAt: u.updatedAt,\r\n        role: u.role\r\n      }\r\n      final(null, { s: 200, o })\r\n    } else {\r\n      final(null, { s: 400, e: t('error.no_user') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nconst socialItem = {\r\n  idToken: '',\r\n  accessToken: '',\r\n  nickname: '',\r\n  picture: '',\r\n  email: '',\r\n  email_verified: '',\r\n  given_name: '',\r\n  family_name: '',\r\n  name: '',\r\n  phone_number: '',\r\n  phone_verified: '',\r\n  blocked: '',\r\n  last_ip: '',\r\n  created_at: '',\r\n  updated_at: '',\r\n  user_id: ''\r\n}\r\n\r\nconst social = {\r\n  auth0: socialItem,\r\n  facebook: socialItem,\r\n  twitter: socialItem,\r\n  google: socialItem,\r\n  linkedin: socialItem\r\n}\r\n\r\nexport const genUser = async (data, final) => {\r\n  const valid = await createSchema.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const u = await user(data).catch(() => final(null, { s: 400, e: t('error.required') }))\r\n    if (u.email && u.password && u.tosAgreement) {\r\n      const exists = await db.read('users', u.email).catch(async () => {\r\n        const hashedPassword = await hash(u.password).catch(() => final(null, { s: 400, e: t('error.hash') }))\r\n        if (hashedPassword) {\r\n          const ls = await db.listDir('users').catch(() => final(null, { s: 400, e: t('error.user_create') }))\r\n          const role = !ls || (ls && ls.length === 0) ? ROLES[1] : ROLES[0]\r\n          const now = Date.now()\r\n          const newObj = {\r\n            firstName: u.firstName ? u.firstName : '',\r\n            lastName: u.lastName ? u.lastName : '',\r\n            dialCode: u.dialCode,\r\n            phone: u.phone ? u.phone : '',\r\n            email: u.email,\r\n            tosAgreement: u.tosAgreement,\r\n            password: hashedPassword,\r\n            referred: [],\r\n            address: u.address,\r\n            zipCode: u.zipCode,\r\n            city: u.city,\r\n            country: u.country ? countries.filter(i => i === u.country).country : '',\r\n            dob: u.dob,\r\n            avatarUrl: u.avatarUrl,\r\n            confirmed: {\r\n              email: false,\r\n              phone: false\r\n            },\r\n            social,\r\n            registeredAt: now,\r\n            updatedAt: now,\r\n            role\r\n          }\r\n\r\n          await db.create('users', u.email, newObj).catch(() => final(null, { s: 400, e: t('error.user_create') }))\r\n          if (FIRST_CONFIRM === 'email') {\r\n            await sendEmailConfirmation(u.email).catch(() => final(null, { s: 400, e: t('error.email') }))\r\n            final(null, { s: 200, o: { status: 'ok' } })\r\n          }\r\n\r\n          if (FIRST_CONFIRM === 'phone') {\r\n            await sendPhoneConfirmation(u.phone, u.email).catch(() => final(null, { s: 400, e: t('error.sms') }))\r\n            final(null, { s: 200, o: { status: 'ok' } })\r\n          }\r\n        } else {\r\n          final(null, { s: 500, e: t('error.unknown') })\r\n        }\r\n      })\r\n\r\n      if (exists) {\r\n        final(null, { s: 500, e: t('error.user_exists') })\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.required') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nconst _editFields = async (u, userData, done) => {\r\n  if (u.firstName !== '' && u.firstName !== userData.firstName) {\r\n    userData.firstName = u.firstName\r\n  }\r\n\r\n  if (u.lastName !== '' && u.lastName !== userData.lastName) {\r\n    userData.lastName = u.lastName\r\n  }\r\n\r\n  if (u.address !== '' && u.address !== userData.address) {\r\n    userData.address = u.address\r\n  }\r\n\r\n  if (u.city !== '' && u.city !== userData.city) {\r\n    userData.city = u.city\r\n  }\r\n\r\n  if (u.country !== '' && u.country !== userData.country) {\r\n    userData.country = u.country\r\n  }\r\n\r\n  if (u.avatarUrl !== '' && u.avatarUrl !== userData.avatarUrl) {\r\n    userData.avatarUrl = u.avatarUrl\r\n  }\r\n\r\n  if (u.dob !== '' && u.dob !== userData.dob) {\r\n    userData.dob = u.dob\r\n  }\r\n\r\n  if (u.zipCode !== '' && u.zipCode !== userData.zipCode) {\r\n    userData.zipCode = u.zipCode\r\n  }\r\n\r\n  if (u.dialCode !== '' && u.dialCode !== userData.dialCode) {\r\n    userData.dialCode = u.dialCode\r\n  }\r\n\r\n  if (u.phone !== '' && u.phone !== userData.phone) {\r\n    userData.phone = u.phone\r\n    await sendPhoneConfirmation(u.phone, userData.email).catch((e) => done(e))\r\n  }\r\n\r\n  if (u.email !== '' && u.email !== userData.email) {\r\n    const valid = await validEmail(u.email).catch((e) => done(e))\r\n    if (valid) {\r\n      userData.email = u.email\r\n      await sendEmailConfirmation(u.email).catch(() => done(t('error.email')))\r\n    }\r\n  }\r\n\r\n  userData.updatedAt = Date.now()\r\n\r\n  if (u.password) {\r\n    const hashed = await hash(u.password).catch(() => done(t('error.hash')))\r\n    if (hashed) {\r\n      userData.password = hashed\r\n    }\r\n  }\r\n  done(null, userData)\r\n}\r\n\r\nconst editFields = promisify(_editFields)\r\n\r\nexport const edit = async (data, final) => {\r\n  const valid = await userUpdate.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const tokenData = await auth(data).catch(() => final(null, { s: 403, e: t('error.unauthorized') }))\r\n    const u = await loose(data, data.body.email).catch(async (e) => final(null, { s: 400, e }))\r\n    const userData = await db.read('users', tokenData.email).catch(() => final(null, { s: 500, e: t('error.cannot_read') }))\r\n    if (userData.confirmed.email || userData.confirmed.phone) {\r\n      const newData = await editFields(u, userData).catch(() => final(null, { s: 400, e: t('error.unknown') }))\r\n      if (newData) {\r\n        await db.update('users', tokenData.email, newData).catch(() => final(null, { s: 500, e: t('error.cannot_update') }))\r\n        const r = await db.read('users', tokenData.email).catch(() => final(null, { s: 500, e: t('error.cannot_read') }))\r\n        if (r) {\r\n          const o = {\r\n            email: r.email,\r\n            firstName: r.firstName,\r\n            lastName: r.lastName,\r\n            dialCode: r.dialCode,\r\n            phone: r.phone,\r\n            address: r.address,\r\n            zipCode: r.zipCode,\r\n            city: r.city,\r\n            country: r.country,\r\n            dob: r.dob,\r\n            avatarUrl: r.avatarUrl,\r\n            role: r.role\r\n          }\r\n          final(null, { s: 200, o })\r\n        } else {\r\n          final(null, { s: 500, e: t('error.cannot_read') })\r\n        }\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.confirmed') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nexport const destroyUser = async (data, final) => {\r\n  const valid = await userDestroy.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const tokenData = await auth(data).catch(() => final(null, { s: 403, e: t('error.unauthorized') }))\r\n    const userData = await db.read('users', tokenData.email).catch(() => final(null, { s: 403, e: t('error.cannot_read') }))\r\n    if (userData) {\r\n      const refs = typeof userData.referred === 'object' && Array.isArray(userData.referred) ? userData.referred : []\r\n      await db.destroy('users', tokenData.email).catch(() => final(null, { s: 400, e: t('error.user_delete') }))\r\n      const e = await joinedTableDelete('refers', refs).catch(() => final(null, { s: 400, e: t('error.join_delete') }))\r\n      // @TODO for each user module - joindelete\r\n      if (!e) {\r\n        final(null, { s: 200, o: { status: 'ok' } })\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.no_user') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nexport const confirmPhone = (data, done) => {\r\n\r\n}\r\n\r\nconst _getSocialProfile = (idToken, done) => {\r\n  if (idToken) {\r\n    try {\r\n      if (process.env.NODE_ENV === 'testing') {\r\n        const now = Date.now()\r\n        const out = {\r\n          email: 'info@talaikis.com',\r\n          email_verified: true,\r\n          blocked: false,\r\n          created_at: now,\r\n          updated_at: now,\r\n          user_id: 'test123'\r\n        }\r\n        done(null, out)\r\n      } else {\r\n        done(null, jwtDecode(idToken))\r\n      }\r\n    } catch (err) {\r\n      done(t('error.profile'))\r\n    }\r\n  }\r\n}\r\n\r\nconst getSocialProfile = promisify(_getSocialProfile)\r\n\r\nconst _getUserToken = async (email, role, done) => {\r\n  const tokenId = await randomID(32).catch(() => done(t('error.id')))\r\n  const expiry = Date.now() + 1000 * USER_TOKEN_EXPIRY\r\n  const tokenObj = {\r\n    expiry,\r\n    tokenId,\r\n    role,\r\n    email\r\n  }\r\n\r\n  await db.create('tokens', tokenId, tokenObj).catch(() => done(t('error.token')))\r\n  done(null, tokenId)\r\n}\r\n\r\nconst getUserToken = promisify(_getUserToken)\r\n\r\nexport const signinSocial = async (data, final) => {\r\n  await setLocale(data)\r\n  const valid = await socialSchema.isValid(data.body)\r\n  if (valid) {\r\n    const profile = await getSocialProfile(data.body.idToken)\r\n    const email = profile.email\r\n    const emailVerified = profile.email_verified\r\n    const blocked = profile.blocked\r\n    const _validEmail = await validEmail(email).catch((e) => final(null, { s: 500, e }))\r\n\r\n    if (blocked || !emailVerified || !_validEmail) {\r\n      final(null, { s: 400, e: t('error.social') })\r\n    } else {\r\n      const u = await db.read('users', email).catch(async () => {\r\n        const p = {\r\n          idToken: data.body.idToken,\r\n          accessToken: data.body.accessToken,\r\n          nickname: profile.nickname,\r\n          picture: profile.picture,\r\n          email: email,\r\n          email_verified: profile.email_verified,\r\n          given_name: profile.given_name,\r\n          family_name: profile.family_name,\r\n          name: profile.name,\r\n          phone_number: profile.phone_number,\r\n          phone_verified: profile.phone_verified,\r\n          blocked: profile.blocked,\r\n          last_ip: profile.last_ip,\r\n          created_at: profile.created_at,\r\n          updated_at: profile.updated_at,\r\n          user_id: profile.user_id\r\n        }\r\n\r\n        const now = Date.now()\r\n        const newObj = {\r\n          firstName: p.given_name,\r\n          lastName: p.lastName ? u.lastName : '',\r\n          dialCode: '',\r\n          phone: '',\r\n          email: p.email,\r\n          tosAgreement: true,\r\n          password: '',\r\n          referred: [],\r\n          address: '',\r\n          zipCode: '',\r\n          city: '',\r\n          country: '',\r\n          dob: '',\r\n          avatarUrl: p.picture,\r\n          confirmed: {\r\n            email: true,\r\n            phone: p.phone_verified\r\n          },\r\n          social: {\r\n            auth0: p,\r\n            facebook: socialItem,\r\n            twitter: socialItem,\r\n            google: socialItem,\r\n            linkedin: socialItem\r\n          },\r\n          registeredAt: now,\r\n          updatedAt: p.updated_at,\r\n          role: ROLES[0]\r\n        }\r\n\r\n        await db.create('users', p.email, newObj).catch(() => final(null, { s: 400, e: t('error.user_create') }))\r\n        const tokenId = await getUserToken(email, ROLES[0]).catch((e) => final(null, { s: 400, e }))\r\n        final(null, { s: 200, o: { tokenId } })\r\n      })\r\n\r\n      if (u) {\r\n        // @TODO update existing profile\r\n        const tokenId = await getUserToken(u.email, u.role).catch((e) => final(null, { s: 400, e }))\r\n        final(null, { s: 200, o: { tokenId } })\r\n      }\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nexport const setRole = async (data, final) => {\r\n  const valid = await setRoleSchema.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const tokenData = await auth(data).catch(() => final(null, { s: 403, e: t('error.unauthorized') }))\r\n    if (tokenData && tokenData.role === ROLES[1]) {\r\n      const userData = await db.read('users', tokenData.email).catch(() => final(null, { s: 400, e: t('error.no_user') }))\r\n      userData.role = data.body.role\r\n      tokenData.role = data.body.role\r\n      await db.update('users', tokenData.email, userData).catch(() => final(null, { s: 403, e: t('error.cannot_update') }))\r\n      await db.update('tokens', tokenData.tokenId, tokenData).catch(() => final(null, { s: 403, e: t('error.cannot_update') }))\r\n      final(null, { s: 200, o: { status: 'ok' } })\r\n    } else {\r\n      final(null, { s: 403, e: t('error.unauthorized') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nexport const getUsers = (data, final) => {\r\n  // only admins\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6425e1ab0b9fd9c05cc58ffb8348bb5656380fe9","contentHash":"c9e7f77154b4822ebe52ca53e0acce018963b0a600ce546213ee0ac410a134aa"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\schemas\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\schemas\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":129}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":27}},"3":{"start":{"line":10,"column":13},"end":{"line":10,"column":32}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":46}},"5":{"start":{"line":14,"column":24},"end":{"line":14,"column":328}},"6":{"start":{"line":14,"column":99},"end":{"line":14,"column":154}},"7":{"start":{"line":14,"column":133},"end":{"line":14,"column":151}},"8":{"start":{"line":14,"column":164},"end":{"line":14,"column":326}},"9":{"start":{"line":14,"column":198},"end":{"line":14,"column":323}},"10":{"start":{"line":14,"column":329},"end":{"line":14,"column":349}},"11":{"start":{"line":16,"column":77},"end":{"line":16,"column":175}},"12":{"start":{"line":16,"column":94},"end":{"line":16,"column":107}},"13":{"start":{"line":16,"column":121},"end":{"line":16,"column":131}},"14":{"start":{"line":16,"column":151},"end":{"line":16,"column":165}},"15":{"start":{"line":16,"column":166},"end":{"line":16,"column":173}},"16":{"start":{"line":16,"column":176},"end":{"line":16,"column":263}},"17":{"start":{"line":16,"column":193},"end":{"line":16,"column":208}},"18":{"start":{"line":16,"column":218},"end":{"line":16,"column":261}},"19":{"start":{"line":18,"column":33},"end":{"line":18,"column":387}},"20":{"start":{"line":18,"column":65},"end":{"line":18,"column":69}},"21":{"start":{"line":18,"column":78},"end":{"line":18,"column":87}},"22":{"start":{"line":18,"column":89},"end":{"line":18,"column":384}},"23":{"start":{"line":18,"column":147},"end":{"line":18,"column":167}},"24":{"start":{"line":18,"column":193},"end":{"line":18,"column":264}},"25":{"start":{"line":18,"column":290},"end":{"line":18,"column":360}},"26":{"start":{"line":18,"column":363},"end":{"line":18,"column":380}},"27":{"start":{"line":20,"column":16},"end":{"line":20,"column":11815}},"28":{"start":{"line":21,"column":0},"end":{"line":21,"column":30}},"29":{"start":{"line":22,"column":22},"end":{"line":38,"column":1}},"30":{"start":{"line":39,"column":0},"end":{"line":39,"column":42}},"31":{"start":{"line":40,"column":21},"end":{"line":60,"column":1}},"32":{"start":{"line":61,"column":0},"end":{"line":61,"column":40}},"33":{"start":{"line":62,"column":16},"end":{"line":62,"column":9396}},"34":{"start":{"line":63,"column":0},"end":{"line":63,"column":30}},"35":{"start":{"line":65,"column":18},"end":{"line":123,"column":1}},"36":{"start":{"line":66,"column":19},"end":{"line":66,"column":28}},"37":{"start":{"line":67,"column":18},"end":{"line":67,"column":38}},"38":{"start":{"line":68,"column":17},"end":{"line":68,"column":36}},"39":{"start":{"line":69,"column":17},"end":{"line":69,"column":36}},"40":{"start":{"line":70,"column":17},"end":{"line":70,"column":36}},"41":{"start":{"line":71,"column":21},"end":{"line":71,"column":44}},"42":{"start":{"line":72,"column":14},"end":{"line":72,"column":30}},"43":{"start":{"line":73,"column":16},"end":{"line":73,"column":34}},"44":{"start":{"line":74,"column":16},"end":{"line":74,"column":34}},"45":{"start":{"line":75,"column":13},"end":{"line":75,"column":28}},"46":{"start":{"line":76,"column":16},"end":{"line":76,"column":34}},"47":{"start":{"line":77,"column":18},"end":{"line":77,"column":38}},"48":{"start":{"line":78,"column":12},"end":{"line":78,"column":26}},"49":{"start":{"line":80,"column":15},"end":{"line":80,"column":75}},"50":{"start":{"line":82,"column":18},"end":{"line":84,"column":36}},"51":{"start":{"line":83,"column":4},"end":{"line":83,"column":31}},"52":{"start":{"line":86,"column":19},"end":{"line":86,"column":103}},"53":{"start":{"line":88,"column":18},"end":{"line":88,"column":99}},"54":{"start":{"line":90,"column":18},"end":{"line":90,"column":103}},"55":{"start":{"line":92,"column":22},"end":{"line":92,"column":78}},"56":{"start":{"line":94,"column":17},"end":{"line":94,"column":95}},"57":{"start":{"line":96,"column":17},"end":{"line":96,"column":96}},"58":{"start":{"line":98,"column":14},"end":{"line":98,"column":83}},"59":{"start":{"line":100,"column":17},"end":{"line":102,"column":42}},"60":{"start":{"line":101,"column":4},"end":{"line":101,"column":33}},"61":{"start":{"line":104,"column":19},"end":{"line":104,"column":103}},"62":{"start":{"line":106,"column":13},"end":{"line":106,"column":79}},"63":{"start":{"line":108,"column":2},"end":{"line":122,"column":5}},"64":{"start":{"line":125,"column":17},"end":{"line":125,"column":50}},"65":{"start":{"line":129,"column":0},"end":{"line":154,"column":3}},"66":{"start":{"line":130,"column":13},"end":{"line":149,"column":5}},"67":{"start":{"line":133,"column":4},"end":{"line":148,"column":16}},"68":{"start":{"line":134,"column":6},"end":{"line":147,"column":7}},"69":{"start":{"line":135,"column":8},"end":{"line":146,"column":9}},"70":{"start":{"line":137,"column":12},"end":{"line":137,"column":30}},"71":{"start":{"line":138,"column":12},"end":{"line":138,"column":43}},"72":{"start":{"line":141,"column":12},"end":{"line":141,"column":60}},"73":{"start":{"line":145,"column":12},"end":{"line":145,"column":35}},"74":{"start":{"line":151,"column":2},"end":{"line":153,"column":4}},"75":{"start":{"line":152,"column":4},"end":{"line":152,"column":39}},"76":{"start":{"line":156,"column":0},"end":{"line":156,"column":22}},"77":{"start":{"line":160,"column":0},"end":{"line":218,"column":3}},"78":{"start":{"line":161,"column":14},"end":{"line":213,"column":5}},"79":{"start":{"line":165,"column":4},"end":{"line":212,"column":17}},"80":{"start":{"line":166,"column":6},"end":{"line":211,"column":7}},"81":{"start":{"line":167,"column":8},"end":{"line":210,"column":9}},"82":{"start":{"line":169,"column":12},"end":{"line":172,"column":13}},"83":{"start":{"line":170,"column":14},"end":{"line":170,"column":34}},"84":{"start":{"line":171,"column":14},"end":{"line":171,"column":20}},"85":{"start":{"line":174,"column":12},"end":{"line":174,"column":31}},"86":{"start":{"line":175,"column":12},"end":{"line":177,"column":15}},"87":{"start":{"line":176,"column":14},"end":{"line":176,"column":29}},"88":{"start":{"line":180,"column":12},"end":{"line":180,"column":35}},"89":{"start":{"line":182,"column":12},"end":{"line":185,"column":13}},"90":{"start":{"line":183,"column":14},"end":{"line":183,"column":34}},"91":{"start":{"line":184,"column":14},"end":{"line":184,"column":20}},"92":{"start":{"line":187,"column":12},"end":{"line":187,"column":31}},"93":{"start":{"line":188,"column":12},"end":{"line":188,"column":38}},"94":{"start":{"line":191,"column":12},"end":{"line":191,"column":33}},"95":{"start":{"line":192,"column":12},"end":{"line":192,"column":30}},"96":{"start":{"line":193,"column":12},"end":{"line":193,"column":28}},"97":{"start":{"line":194,"column":12},"end":{"line":194,"column":32}},"98":{"start":{"line":195,"column":12},"end":{"line":195,"column":18}},"99":{"start":{"line":198,"column":12},"end":{"line":198,"column":62}},"100":{"start":{"line":201,"column":12},"end":{"line":201,"column":32}},"101":{"start":{"line":202,"column":12},"end":{"line":202,"column":18}},"102":{"start":{"line":205,"column":12},"end":{"line":205,"column":59}},"103":{"start":{"line":209,"column":12},"end":{"line":209,"column":36}},"104":{"start":{"line":215,"column":2},"end":{"line":217,"column":4}},"105":{"start":{"line":216,"column":4},"end":{"line":216,"column":40}},"106":{"start":{"line":220,"column":11},"end":{"line":220,"column":41}},"107":{"start":{"line":221,"column":0},"end":{"line":221,"column":20}}},"fnMap":{"0":{"name":"_typeof","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":16}},"loc":{"start":{"line":14,"column":22},"end":{"line":14,"column":351}},"line":14},"1":{"name":"_typeof","decl":{"start":{"line":14,"column":118},"end":{"line":14,"column":125}},"loc":{"start":{"line":14,"column":131},"end":{"line":14,"column":153}},"line":14},"2":{"name":"_typeof","decl":{"start":{"line":14,"column":183},"end":{"line":14,"column":190}},"loc":{"start":{"line":14,"column":196},"end":{"line":14,"column":325}},"line":14},"3":{"name":"asyncGeneratorStep","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":27}},"loc":{"start":{"line":16,"column":75},"end":{"line":16,"column":265}},"line":16},"4":{"name":"_asyncToGenerator","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":26}},"loc":{"start":{"line":18,"column":31},"end":{"line":18,"column":389}},"line":18},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":40},"end":{"line":18,"column":41}},"loc":{"start":{"line":18,"column":52},"end":{"line":18,"column":386}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":18,"column":108},"end":{"line":18,"column":109}},"loc":{"start":{"line":18,"column":135},"end":{"line":18,"column":382}},"line":18},"7":{"name":"_next","decl":{"start":{"line":18,"column":178},"end":{"line":18,"column":183}},"loc":{"start":{"line":18,"column":191},"end":{"line":18,"column":266}},"line":18},"8":{"name":"_throw","decl":{"start":{"line":18,"column":276},"end":{"line":18,"column":282}},"loc":{"start":{"line":18,"column":288},"end":{"line":18,"column":362}},"line":18},"9":{"name":"_userFields","decl":{"start":{"line":65,"column":27},"end":{"line":65,"column":38}},"loc":{"start":{"line":65,"column":58},"end":{"line":123,"column":1}},"line":65},"10":{"name":"(anonymous_10)","decl":{"start":{"line":82,"column":74},"end":{"line":82,"column":75}},"loc":{"start":{"line":82,"column":87},"end":{"line":84,"column":3}},"line":82},"11":{"name":"(anonymous_11)","decl":{"start":{"line":100,"column":72},"end":{"line":100,"column":73}},"loc":{"start":{"line":100,"column":85},"end":{"line":102,"column":3}},"line":100},"12":{"name":"(anonymous_12)","decl":{"start":{"line":129,"column":0},"end":{"line":129,"column":1}},"loc":{"start":{"line":129,"column":12},"end":{"line":154,"column":1}},"line":129},"13":{"name":"_callee","decl":{"start":{"line":132,"column":35},"end":{"line":132,"column":42}},"loc":{"start":{"line":132,"column":56},"end":{"line":149,"column":3}},"line":132},"14":{"name":"_callee$","decl":{"start":{"line":133,"column":44},"end":{"line":133,"column":52}},"loc":{"start":{"line":133,"column":63},"end":{"line":148,"column":5}},"line":133},"15":{"name":"loose","decl":{"start":{"line":151,"column":18},"end":{"line":151,"column":23}},"loc":{"start":{"line":151,"column":33},"end":{"line":153,"column":3}},"line":151},"16":{"name":"(anonymous_16)","decl":{"start":{"line":160,"column":0},"end":{"line":160,"column":1}},"loc":{"start":{"line":160,"column":12},"end":{"line":218,"column":1}},"line":160},"17":{"name":"_callee2","decl":{"start":{"line":163,"column":35},"end":{"line":163,"column":43}},"loc":{"start":{"line":163,"column":56},"end":{"line":213,"column":3}},"line":163},"18":{"name":"_callee2$","decl":{"start":{"line":165,"column":44},"end":{"line":165,"column":53}},"loc":{"start":{"line":165,"column":65},"end":{"line":212,"column":5}},"line":165},"19":{"name":"(anonymous_19)","decl":{"start":{"line":175,"column":68},"end":{"line":175,"column":69}},"loc":{"start":{"line":175,"column":81},"end":{"line":177,"column":13}},"line":175},"20":{"name":"_userObj","decl":{"start":{"line":215,"column":18},"end":{"line":215,"column":26}},"loc":{"start":{"line":215,"column":37},"end":{"line":217,"column":3}},"line":215}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":24},"end":{"line":14,"column":328}},"type":"if","locations":[{"start":{"line":14,"column":24},"end":{"line":14,"column":328}},{"start":{"line":14,"column":24},"end":{"line":14,"column":328}}],"line":14},"1":{"loc":{"start":{"line":14,"column":28},"end":{"line":14,"column":95}},"type":"binary-expr","locations":[{"start":{"line":14,"column":28},"end":{"line":14,"column":56}},{"start":{"line":14,"column":60},"end":{"line":14,"column":95}}],"line":14},"2":{"loc":{"start":{"line":14,"column":205},"end":{"line":14,"column":322}},"type":"cond-expr","locations":[{"start":{"line":14,"column":301},"end":{"line":14,"column":309}},{"start":{"line":14,"column":312},"end":{"line":14,"column":322}}],"line":14},"3":{"loc":{"start":{"line":14,"column":205},"end":{"line":14,"column":298}},"type":"binary-expr","locations":[{"start":{"line":14,"column":205},"end":{"line":14,"column":208}},{"start":{"line":14,"column":212},"end":{"line":14,"column":240}},{"start":{"line":14,"column":244},"end":{"line":14,"column":270}},{"start":{"line":14,"column":274},"end":{"line":14,"column":298}}],"line":14},"4":{"loc":{"start":{"line":16,"column":176},"end":{"line":16,"column":263}},"type":"if","locations":[{"start":{"line":16,"column":176},"end":{"line":16,"column":263}},{"start":{"line":16,"column":176},"end":{"line":16,"column":263}}],"line":16},"5":{"loc":{"start":{"line":80,"column":15},"end":{"line":80,"column":75}},"type":"cond-expr","locations":[{"start":{"line":80,"column":65},"end":{"line":80,"column":70}},{"start":{"line":80,"column":73},"end":{"line":80,"column":75}}],"line":80},"6":{"loc":{"start":{"line":80,"column":15},"end":{"line":80,"column":62}},"type":"binary-expr","locations":[{"start":{"line":80,"column":15},"end":{"line":80,"column":40}},{"start":{"line":80,"column":44},"end":{"line":80,"column":62}}],"line":80},"7":{"loc":{"start":{"line":82,"column":18},"end":{"line":84,"column":36}},"type":"cond-expr","locations":[{"start":{"line":84,"column":23},"end":{"line":84,"column":31}},{"start":{"line":84,"column":34},"end":{"line":84,"column":36}}],"line":82},"8":{"loc":{"start":{"line":82,"column":18},"end":{"line":84,"column":20}},"type":"binary-expr","locations":[{"start":{"line":82,"column":18},"end":{"line":82,"column":46}},{"start":{"line":82,"column":50},"end":{"line":84,"column":20}}],"line":82},"9":{"loc":{"start":{"line":86,"column":19},"end":{"line":86,"column":103}},"type":"cond-expr","locations":[{"start":{"line":86,"column":82},"end":{"line":86,"column":98}},{"start":{"line":86,"column":101},"end":{"line":86,"column":103}}],"line":86},"10":{"loc":{"start":{"line":86,"column":19},"end":{"line":86,"column":79}},"type":"binary-expr","locations":[{"start":{"line":86,"column":19},"end":{"line":86,"column":48}},{"start":{"line":86,"column":52},"end":{"line":86,"column":79}}],"line":86},"11":{"loc":{"start":{"line":88,"column":18},"end":{"line":88,"column":99}},"type":"cond-expr","locations":[{"start":{"line":88,"column":79},"end":{"line":88,"column":94}},{"start":{"line":88,"column":97},"end":{"line":88,"column":99}}],"line":88},"12":{"loc":{"start":{"line":88,"column":18},"end":{"line":88,"column":76}},"type":"binary-expr","locations":[{"start":{"line":88,"column":18},"end":{"line":88,"column":46}},{"start":{"line":88,"column":50},"end":{"line":88,"column":76}}],"line":88},"13":{"loc":{"start":{"line":90,"column":18},"end":{"line":90,"column":103}},"type":"cond-expr","locations":[{"start":{"line":90,"column":80},"end":{"line":90,"column":95}},{"start":{"line":90,"column":98},"end":{"line":90,"column":103}}],"line":90},"14":{"loc":{"start":{"line":90,"column":18},"end":{"line":90,"column":77}},"type":"binary-expr","locations":[{"start":{"line":90,"column":18},"end":{"line":90,"column":46}},{"start":{"line":90,"column":50},"end":{"line":90,"column":77}}],"line":90},"15":{"loc":{"start":{"line":92,"column":22},"end":{"line":92,"column":78}},"type":"binary-expr","locations":[{"start":{"line":92,"column":22},"end":{"line":92,"column":54}},{"start":{"line":92,"column":58},"end":{"line":92,"column":78}}],"line":92},"16":{"loc":{"start":{"line":94,"column":17},"end":{"line":94,"column":95}},"type":"cond-expr","locations":[{"start":{"line":94,"column":76},"end":{"line":94,"column":90}},{"start":{"line":94,"column":93},"end":{"line":94,"column":95}}],"line":94},"17":{"loc":{"start":{"line":94,"column":17},"end":{"line":94,"column":73}},"type":"binary-expr","locations":[{"start":{"line":94,"column":17},"end":{"line":94,"column":44}},{"start":{"line":94,"column":48},"end":{"line":94,"column":73}}],"line":94},"18":{"loc":{"start":{"line":96,"column":17},"end":{"line":96,"column":96}},"type":"cond-expr","locations":[{"start":{"line":96,"column":77},"end":{"line":96,"column":91}},{"start":{"line":96,"column":94},"end":{"line":96,"column":96}}],"line":96},"19":{"loc":{"start":{"line":96,"column":17},"end":{"line":96,"column":74}},"type":"binary-expr","locations":[{"start":{"line":96,"column":17},"end":{"line":96,"column":44}},{"start":{"line":96,"column":48},"end":{"line":96,"column":74}}],"line":96},"20":{"loc":{"start":{"line":98,"column":14},"end":{"line":98,"column":83}},"type":"cond-expr","locations":[{"start":{"line":98,"column":67},"end":{"line":98,"column":78}},{"start":{"line":98,"column":81},"end":{"line":98,"column":83}}],"line":98},"21":{"loc":{"start":{"line":98,"column":14},"end":{"line":98,"column":64}},"type":"binary-expr","locations":[{"start":{"line":98,"column":14},"end":{"line":98,"column":38}},{"start":{"line":98,"column":42},"end":{"line":98,"column":64}}],"line":98},"22":{"loc":{"start":{"line":100,"column":17},"end":{"line":102,"column":42}},"type":"cond-expr","locations":[{"start":{"line":102,"column":23},"end":{"line":102,"column":37}},{"start":{"line":102,"column":40},"end":{"line":102,"column":42}}],"line":100},"23":{"loc":{"start":{"line":100,"column":17},"end":{"line":102,"column":20}},"type":"binary-expr","locations":[{"start":{"line":100,"column":17},"end":{"line":100,"column":44}},{"start":{"line":100,"column":48},"end":{"line":102,"column":20}}],"line":100},"24":{"loc":{"start":{"line":104,"column":19},"end":{"line":104,"column":103}},"type":"cond-expr","locations":[{"start":{"line":104,"column":82},"end":{"line":104,"column":98}},{"start":{"line":104,"column":101},"end":{"line":104,"column":103}}],"line":104},"25":{"loc":{"start":{"line":104,"column":19},"end":{"line":104,"column":79}},"type":"binary-expr","locations":[{"start":{"line":104,"column":19},"end":{"line":104,"column":48}},{"start":{"line":104,"column":52},"end":{"line":104,"column":79}}],"line":104},"26":{"loc":{"start":{"line":106,"column":13},"end":{"line":106,"column":79}},"type":"cond-expr","locations":[{"start":{"line":106,"column":64},"end":{"line":106,"column":74}},{"start":{"line":106,"column":77},"end":{"line":106,"column":79}}],"line":106},"27":{"loc":{"start":{"line":106,"column":13},"end":{"line":106,"column":61}},"type":"binary-expr","locations":[{"start":{"line":106,"column":13},"end":{"line":106,"column":36}},{"start":{"line":106,"column":40},"end":{"line":106,"column":61}}],"line":106},"28":{"loc":{"start":{"line":135,"column":8},"end":{"line":146,"column":9}},"type":"switch","locations":[{"start":{"line":136,"column":10},"end":{"line":138,"column":43}},{"start":{"line":140,"column":10},"end":{"line":141,"column":60}},{"start":{"line":143,"column":10},"end":{"line":143,"column":17}},{"start":{"line":144,"column":10},"end":{"line":145,"column":35}}],"line":135},"29":{"loc":{"start":{"line":167,"column":8},"end":{"line":210,"column":9}},"type":"switch","locations":[{"start":{"line":168,"column":10},"end":{"line":177,"column":15}},{"start":{"line":179,"column":10},"end":{"line":188,"column":38}},{"start":{"line":190,"column":10},"end":{"line":195,"column":18}},{"start":{"line":197,"column":10},"end":{"line":198,"column":62}},{"start":{"line":200,"column":10},"end":{"line":202,"column":18}},{"start":{"line":204,"column":10},"end":{"line":205,"column":59}},{"start":{"line":207,"column":10},"end":{"line":207,"column":18}},{"start":{"line":208,"column":10},"end":{"line":209,"column":36}}],"line":167},"30":{"loc":{"start":{"line":169,"column":12},"end":{"line":172,"column":13}},"type":"if","locations":[{"start":{"line":169,"column":12},"end":{"line":172,"column":13}},{"start":{"line":169,"column":12},"end":{"line":172,"column":13}}],"line":169},"31":{"loc":{"start":{"line":182,"column":12},"end":{"line":185,"column":13}},"type":"if","locations":[{"start":{"line":182,"column":12},"end":{"line":185,"column":13}},{"start":{"line":182,"column":12},"end":{"line":185,"column":13}}],"line":182}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":3,"8":0,"9":0,"10":1,"11":17,"12":17,"13":17,"14":0,"15":0,"16":17,"17":7,"18":10,"19":2,"20":7,"21":7,"22":7,"23":7,"24":17,"25":0,"26":7,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":4,"37":4,"38":4,"39":4,"40":4,"41":4,"42":4,"43":4,"44":4,"45":4,"46":4,"47":4,"48":4,"49":4,"50":4,"51":242,"52":4,"53":4,"54":4,"55":4,"56":4,"57":4,"58":4,"59":4,"60":251,"61":4,"62":4,"63":4,"64":1,"65":1,"66":1,"67":4,"68":12,"69":12,"70":4,"71":4,"72":4,"73":4,"74":1,"75":4,"76":1,"77":1,"78":1,"79":3,"80":9,"81":15,"82":3,"83":0,"84":0,"85":3,"86":3,"87":0,"88":3,"89":3,"90":0,"91":0,"92":3,"93":3,"94":3,"95":3,"96":3,"97":3,"98":3,"99":0,"100":3,"101":3,"102":0,"103":3,"104":1,"105":3,"106":1,"107":1},"f":{"0":1,"1":3,"2":0,"3":17,"4":2,"5":7,"6":7,"7":17,"8":0,"9":4,"10":242,"11":251,"12":1,"13":4,"14":12,"15":4,"16":1,"17":3,"18":9,"19":0,"20":3},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0,0],"4":[7,10],"5":[0,4],"6":[4,1],"7":[1,3],"8":[4,1],"9":[1,3],"10":[4,1],"11":[1,3],"12":[4,1],"13":[2,2],"14":[4,2],"15":[4,1],"16":[0,4],"17":[4,1],"18":[0,4],"19":[4,1],"20":[0,4],"21":[4,1],"22":[1,3],"23":[4,1],"24":[0,4],"25":[4,1],"26":[0,4],"27":[4,1],"28":[4,4,0,4],"29":[3,3,3,0,3,0,3,3],"30":[0,3],"31":[0,3]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["dialCodes","countriesSchema","title","type","required","properties","key","uniqueItems","maxLength","minLength","country","dialCodeSchema","name","dial","code","countries","_userFields","data","email","done","body","firstName","lastName","dialCode","password","tosAgreement","phone","address","zipCode","city","avatarUrl","dob","_phone","length","_dialCode","filter","e","_firstName","trim","_lastName","_password","_tosAgreement","_address","_zipCode","_city","_country","_avatarUrl","_dob","userFields","loose","_userObj","out","user"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\schemas","sourcesContent":["import { promisify } from 'util'\r\n\r\nimport { validEmail } from '../utils'\r\nimport { t } from '../translations'\r\n\r\nexport const dialCodes = [\r\n  { name: 'Afghanistan', dial: '+93', code: 'AF' },\r\n  { name: 'Aland Islands', dial: '+358', code: 'AX' },\r\n  { name: 'Albania', dial: '+355', code: 'AL' },\r\n  { name: 'Algeria', dial: '+213', code: 'DZ' },\r\n  { name: 'AmericanSamoa', dial: '+1684', code: 'AS' },\r\n  { name: 'Andorra', dial: '+376', code: 'AD' },\r\n  { name: 'Angola', dial: '+244', code: 'AO' },\r\n  { name: 'Anguilla', dial: '+1264', code: 'AI' },\r\n  { name: 'Antarctica', dial: '+672', code: 'AQ' },\r\n  { name: 'Antigua and Barbuda', dial: '+1268', code: 'AG' },\r\n  { name: 'Argentina', dial: '+54', code: 'AR' },\r\n  { name: 'Armenia', dial: '+374', code: 'AM' },\r\n  { name: 'Aruba', dial: '+297', code: 'AW' },\r\n  { name: 'Australia', dial: '+61', code: 'AU' },\r\n  { name: 'Austria', dial: '+43', code: 'AT' },\r\n  { name: 'Azerbaijan', dial: '+994', code: 'AZ' },\r\n  { name: 'Bahamas', dial: '+1242', code: 'BS' },\r\n  { name: 'Bahrain', dial: '+973', code: 'BH' },\r\n  { name: 'Bangladesh', dial: '+880', code: 'BD' },\r\n  { name: 'Barbados', dial: '+1246', code: 'BB' },\r\n  { name: 'Belarus', dial: '+375', code: 'BY' },\r\n  { name: 'Belgium', dial: '+32', code: 'BE' },\r\n  { name: 'Belize', dial: '+501', code: 'BZ' },\r\n  { name: 'Benin', dial: '+229', code: 'BJ' },\r\n  { name: 'Bermuda', dial: '+1441', code: 'BM' },\r\n  { name: 'Bhutan', dial: '+975', code: 'BT' },\r\n  { name: 'Bolivia, Plurinational State of', dial: '+591', code: 'BO' },\r\n  { name: 'Bosnia and Herzegovina', dial: '+387', code: 'BA' },\r\n  { name: 'Botswana', dial: '+267', code: 'BW' },\r\n  { name: 'Brazil', dial: '+55', code: 'BR' },\r\n  { name: 'British Indian Ocean Territory', dial: '+246', code: 'IO' },\r\n  { name: 'Brunei Darussalam', dial: '+673', code: 'BN' },\r\n  { name: 'Bulgaria', dial: '+359', code: 'BG' },\r\n  { name: 'Burkina Faso', dial: '+226', code: 'BF' },\r\n  { name: 'Burundi', dial: '+257', code: 'BI' },\r\n  { name: 'Cambodia', dial: '+855', code: 'KH' },\r\n  { name: 'Cameroon', dial: '+237', code: 'CM' },\r\n  { name: 'Canada', dial: '+1', code: 'CA' },\r\n  { name: 'Cape Verde', dial: '+238', code: 'CV' },\r\n  { name: 'Cayman Islands', dial: '+ 345', code: 'KY' },\r\n  { name: 'Central African Republic', dial: '+236', code: 'CF' },\r\n  { name: 'Chad', dial: '+235', code: 'TD' },\r\n  { name: 'Chile', dial: '+56', code: 'CL' },\r\n  { name: 'China', dial: '+86', code: 'CN' },\r\n  { name: 'Christmas Island', dial: '+61', code: 'CX' },\r\n  { name: 'Cocos (Keeling) Islands', dial: '+61', code: 'CC' },\r\n  { name: 'Colombia', dial: '+57', code: 'CO' },\r\n  { name: 'Comoros', dial: '+269', code: 'KM' },\r\n  { name: 'Congo', dial: '+242', code: 'CG' },\r\n  { name: 'Congo, The Democratic Republic of the Congo', dial: '+243', code: 'CD' },\r\n  { name: 'Cook Islands', dial: '+682', code: 'CK' },\r\n  { name: 'Costa Rica', dial: '+506', code: 'CR' },\r\n  { name: 'Cote d\\'Ivoire', dial: '+225', code: 'CI' },\r\n  { name: 'Croatia', dial: '+385', code: 'HR' },\r\n  { name: 'Cuba', dial: '+53', code: 'CU' },\r\n  { name: 'Cyprus', dial: '+357', code: 'CY' },\r\n  { name: 'Czech Republic', dial: '+420', code: 'CZ' },\r\n  { name: 'Denmark', dial: '+45', code: 'DK' },\r\n  { name: 'Djibouti', dial: '+253', code: 'DJ' },\r\n  { name: 'Dominica', dial: '+1767', code: 'DM' },\r\n  { name: 'Dominican Republic', dial: '+1849', code: 'DO' },\r\n  { name: 'Ecuador', dial: '+593', code: 'EC' },\r\n  { name: 'Egypt', dial: '+20', code: 'EG' },\r\n  { name: 'El Salvador', dial: '+503', code: 'SV' },\r\n  { name: 'Equatorial Guinea', dial: '+240', code: 'GQ' },\r\n  { name: 'Eritrea', dial: '+291', code: 'ER' },\r\n  { name: 'Estonia', dial: '+372', code: 'EE' },\r\n  { name: 'Ethiopia',  code: 'ET' },\r\n  { name: 'Falkland Islands (Malvinas)', dial: '+500', code: 'FK' },\r\n  { name: 'Faroe Islands', dial: '+298', code: 'FO' },\r\n  { name: 'Fiji', dial: '+679', code: 'FJ' },\r\n  { name: 'Finland', dial: '+358', code: 'FI' },\r\n  { name: 'France', dial: '+33', code: 'FR' },\r\n  { name: 'French Guiana', dial: '+594', code: 'GF' },\r\n  { name: 'French Polynesia', dial: '+689', code: 'PF' },\r\n  { name: 'Gabon', dial: '+241', code: 'GA' },\r\n  { name: 'Gambia', dial: '+220', code: 'GM' },\r\n  { name: 'Georgia', dial: '+995', code: 'GE' },\r\n  { name: 'Germany', dial: '+49', code: 'DE' },\r\n  { name: 'Ghana', dial: '+233', code: 'GH' },\r\n  { name: 'Gibraltar', dial: '+350', code: 'GI' },\r\n  { name: 'Greece', dial: '+30', code: 'GR' },\r\n  { name: 'Greenland', dial: '+299', code: 'GL' },\r\n  { name: 'Grenada', dial: '+1473', code: 'GD' },\r\n  { name: 'Guadeloupe', dial: '+590', code: 'GP' },\r\n  { name: 'Guam', dial: '+1671', code: 'GU' },\r\n  { name: 'Guatemala', dial: '+502', code: 'GT' },\r\n  { name: 'Guernsey', dial: '+44', code: 'GG' },\r\n  { name: 'Guinea', dial: '+224', code: 'GN' },\r\n  { name: 'Guinea-Bissau', dial: '+245', code: 'GW' },\r\n  { name: 'Guyana', dial: '+595', code: 'GY' },\r\n  { name: 'Haiti', dial: '+509', code: 'HT' },\r\n  { name: 'Holy See (Vatican City State)', dial: '+379', code: 'VA' },\r\n  { name: 'Honduras', dial: '+504', code: 'HN' },\r\n  { name: 'Hong Kong', dial: '+852', code: 'HK' },\r\n  { name: 'Hungary', dial: '+36', code: 'HU' },\r\n  { name: 'Iceland', dial: '+354', code: 'IS' },\r\n  { name: 'India', dial: '+91', code: 'IN' },\r\n  { name: 'Indonesia', dial: '+62', code: 'ID' },\r\n  { name: 'Iran, Islamic Republic of Persian Gulf', dial: '+98', code: 'IR' },\r\n  { name: 'Iraq', dial: '+964', code: 'IQ' },\r\n  { name: 'Ireland', dial: '+353', code: 'IE' },\r\n  { name: 'Isle of Man', dial: '+44', code: 'IM' },\r\n  { name: 'Israel', dial: '+972', code: 'IL' },\r\n  { name: 'Italy', dial: '+39', code: 'IT' },\r\n  { name: 'Jamaica', dial: '+1876', code: 'JM' },\r\n  { name: 'Japan', dial: '+81', code: 'JP' },\r\n  { name: 'Jersey', dial: '+44', code: 'JE' },\r\n  { name: 'Jordan', dial: '+962', code: 'JO' },\r\n  { name: 'Kazakhstan', dial: '+77', code: 'KZ' },\r\n  { name: 'Kenya', dial: '+254', code: 'KE' },\r\n  { name: 'Kiribati', dial: '+686', code: 'KI' },\r\n  { name: 'Korea, Democratic People\\'s Republic of Korea', dial: '+850', code: 'KP' },\r\n  { name: 'Korea, Republic of South Korea', dial: '+82', code: 'KR' },\r\n  { name: 'Kuwait', dial: '+965', code: 'KW' },\r\n  { name: 'Kyrgyzstan', dial: '+996', code: 'KG' },\r\n  { name: 'Laos', dial: '+856', code: 'LA' },\r\n  { name: 'Latvia', dial: '+371', code: 'LV' },\r\n  { name: 'Lebanon', dial: '+961', code: 'LB' },\r\n  { name: 'Lesotho', dial: '+266', code: 'LS' },\r\n  { name: 'Liberia', dial: '+231', code: 'LR' },\r\n  { name: 'Libyan Arab Jamahiriya', dial: '+218', code: 'LY' },\r\n  { name: 'Liechtenstein', dial: '+423', code: 'LI' },\r\n  { name: 'Lithuania', dial: '+370', code: 'LT' },\r\n  { name: 'Luxembourg', dial: '+352', code: 'LU' },\r\n  { name: 'Macao', dial: '+853', code: 'MO' },\r\n  { name: 'Macedonia', dial: '+389', code: 'MK' },\r\n  { name: 'Madagascar', dial: '+261', code: 'MG' },\r\n  { name: 'Malawi', dial: '+265', code: 'MW' },\r\n  { name: 'Malaysia', dial: '+60', code: 'MY' },\r\n  { name: 'Maldives', dial: '+960', code: 'MV' },\r\n  { name: 'Mali', dial: '+223', code: 'ML' },\r\n  { name: 'Malta', dial: '+356', code: 'MT' },\r\n  { name: 'Marshall Islands', dial: '+692', code: 'MH' },\r\n  { name: 'Martinique', dial: '+596', code: 'MQ' },\r\n  { name: 'Mauritania', dial: '+222', code: 'MR' },\r\n  { name: 'Mauritius', dial: '+230', code: 'MU' },\r\n  { name: 'Mayotte', dial: '+262', code: 'YT' },\r\n  { name: 'Mexico', dial: '+52', code: 'MX' },\r\n  { name: 'Micronesia, Federated States of Micronesia', dial: '+691', code: 'FM' },\r\n  { name: 'Moldova', dial: '+373', code: 'MD' },\r\n  { name: 'Monaco', dial: '+377', code: 'MC' },\r\n  { name: 'Mongolia', dial: '+976', code: 'MN' },\r\n  { name: 'Montenegro', dial: '+382', code: 'ME' },\r\n  { name: 'Montserrat', dial: '+1664', code: 'MS' },\r\n  { name: 'Morocco', dial: '+212', code: 'MA' },\r\n  { name: 'Mozambique', dial: '+258', code: 'MZ' },\r\n  { name: 'Myanmar', dial: '+95', code: 'MM' },\r\n  { name: 'Namibia', dial: '+264', code: 'NA' },\r\n  { name: 'Nauru', dial: '+674', code: 'NR' },\r\n  { name: 'Nepal', dial: '+977', code: 'NP' },\r\n  { name: 'Netherlands', dial: '+31', code: 'NL' },\r\n  { name: 'Netherlands Antilles', dial: '+599', code: 'AN' },\r\n  { name: 'New Caledonia', dial: '+687', code: 'NC' },\r\n  { name: 'New Zealand', dial: '+64', code: 'NZ' },\r\n  { name: 'Nicaragua', dial: '+505', code: 'NI' },\r\n  { name: 'Niger', dial: '+227', code: 'NE' },\r\n  { name: 'Nigeria', dial: '+234', code: 'NG' },\r\n  { name: 'Niue', dial: '+683', code: 'NU' },\r\n  { name: 'Norfolk Island', dial: '+672', code: 'NF' },\r\n  { name: 'Northern Mariana Islands', dial: '+1670', code: 'MP' },\r\n  { name: 'Norway', dial: '+47', code: 'NO' },\r\n  { name: 'Oman', dial: '+968', code: 'OM' },\r\n  { name: 'Pakistan', dial: '+92', code: 'PK' },\r\n  { name: 'Palau', dial: '+680', code: 'PW' },\r\n  { name: 'Palestinian Territory, Occupied', dial: '+970', code: 'PS' },\r\n  { name: 'Panama', dial: '+507', code: 'PA' },\r\n  { name: 'Papua New Guinea', dial: '+675', code: 'PG' },\r\n  { name: 'Paraguay', dial: '+595', code: 'PY' },\r\n  { name: 'Peru', dial: '+51', code: 'PE' },\r\n  { name: 'Philippines', dial: '+63', code: 'PH' },\r\n  { name: 'Pitcairn', dial: '+872', code: 'PN' },\r\n  { name: 'Poland', dial: '+48', code: 'PL' },\r\n  { name: 'Portugal', dial: '+351', code: 'PT' },\r\n  { name: 'Puerto Rico', dial: '+1939', code: 'PR' },\r\n  { name: 'Qatar', dial: '+974', code: 'QA' },\r\n  { name: 'Romania', dial: '+40', code: 'RO' },\r\n  { name: 'Russia', dial: '+7', code: 'RU' },\r\n  { name: 'Rwanda', dial: '+250', code: 'RW' },\r\n  { name: 'Reunion', dial: '+262', code: 'RE' },\r\n  { name: 'Saint Barthelemy', dial: '+590', code: 'BL' },\r\n  { name: 'Saint Helena, Ascension and Tristan Da Cunha', dial: '+290', code: 'SH' },\r\n  { name: 'Saint Kitts and Nevis', dial: '+1869', code: 'KN' },\r\n  { name: 'Saint Lucia', dial: '+1758', code: 'LC' },\r\n  { name: 'Saint Martin', dial: '+590', code: 'MF' },\r\n  { name: 'Saint Pierre and Miquelon', dial: '+508', code: 'PM' },\r\n  { name: 'Saint Vincent and the Grenadines', dial: '+1784', code: 'VC' },\r\n  { name: 'Samoa', dial: '+685', code: 'WS' },\r\n  { name: 'San Marino', dial: '+378', code: 'SM' },\r\n  { name: 'Sao Tome and Principe', dial: '+239', code: 'ST' },\r\n  { name: 'Saudi Arabia', dial: '+966', code: 'SA' },\r\n  { name: 'Senegal', dial: '+221', code: 'SN' },\r\n  { name: 'Serbia', dial: '+381', code: 'RS' },\r\n  { name: 'Seychelles', dial: '+248', code: 'SC' },\r\n  { name: 'Sierra Leone', dial: '+232', code: 'SL' },\r\n  { name: 'Singapore', dial: '+65', code: 'SG' },\r\n  { name: 'Slovakia', dial: '+421', code: 'SK' },\r\n  { name: 'Slovenia', dial: '+386', code: 'SI' },\r\n  { name: 'Solomon Islands', dial: '+677', code: 'SB' },\r\n  { name: 'Somalia', dial: '+252', code: 'SO' },\r\n  { name: 'South Africa', dial: '+27', code: 'ZA' },\r\n  { name: 'South Sudan', dial: '+211', code: 'SS' },\r\n  { name: 'South Georgia and the South Sandwich Islands', dial: '+500', code: 'GS' },\r\n  { name: 'Spain', dial: '+34', code: 'ES' },\r\n  { name: 'Sri Lanka', dial: '+94', code: 'LK' },\r\n  { name: 'Sudan', dial: '+249', code: 'SD' },\r\n  { name: 'Suriname', dial: '+597', code: 'SR' },\r\n  { name: 'Svalbard and Jan Mayen', dial: '+47', code: 'SJ' },\r\n  { name: 'Swaziland', dial: '+268', code: 'SZ' },\r\n  { name: 'Sweden', dial: '+46', code: 'SE' },\r\n  { name: 'Switzerland', dial: '+41', code: 'CH' },\r\n  { name: 'Syrian Arab Republic', dial: '+963', code: 'SY' },\r\n  { name: 'Taiwan', dial: '+886', code: 'TW' },\r\n  { name: 'Tajikistan', dial: '+992', code: 'TJ' },\r\n  { name: 'Tanzania, United Republic of Tanzania', dial: '+255', code: 'TZ' },\r\n  { name: 'Thailand', dial: '+66', code: 'TH' },\r\n  { name: 'Timor-Leste', dial: '+670', code: 'TL' },\r\n  { name: 'Togo', dial: '+228', code: 'TG' },\r\n  { name: 'Tokelau', dial: '+690', code: 'TK' },\r\n  { name: 'Tonga', dial: '+676', code: 'TO' },\r\n  { name: 'Trinidad and Tobago', dial: '+1868', code: 'TT' },\r\n  { name: 'Tunisia', dial: '+216', code: 'TN' },\r\n  { name: 'Turkey', dial: '+90', code: 'TR' },\r\n  { name: 'Turkmenistan', dial: '+993', code: 'TM' },\r\n  { name: 'Turks and Caicos Islands', dial: '+1649', code: 'TC' },\r\n  { name: 'Tuvalu', dial: '+688', code: 'TV' },\r\n  { name: 'Uganda', dial: '+256', code: 'UG' },\r\n  { name: 'Ukraine', dial: '+380', code: 'UA' },\r\n  { name: 'United Arab Emirates', dial: '+971', code: 'AE' },\r\n  { name: 'United Kingdom', dial: '+44', code: 'GB' },\r\n  { name: 'United States', dial: '+1', code: 'US' },\r\n  { name: 'Uruguay', dial: '+598', code: 'UY' },\r\n  { name: 'Uzbekistan', dial: '+998', code: 'UZ' },\r\n  { name: 'Vanuatu', dial: '+678', code: 'VU' },\r\n  { name: 'Venezuela, Bolivarian Republic of Venezuela', dial: '+58', code: 'VE' },\r\n  { name: 'Vietnam', dial: '+84', code: 'VN' },\r\n  { name: 'Virgin Islands, British', dial: '+1284', code: 'VG' },\r\n  { name: 'Virgin Islands, U.S.', dial: '+1340', code: 'VI' },\r\n  { name: 'Wallis and Futuna', dial: '+681', code: 'WF' },\r\n  { name: 'Yemen', dial: '+967', code: 'YE' },\r\n  { name: 'Zambia', dial: '+260', code: 'ZM' },\r\n  { name: 'Zimbabwe', dial: '+263', code: 'ZW' }\r\n]\r\n\r\nexport const countriesSchema = {\r\n  title: 'Countries schema v.1.0',\r\n  type: 'array',\r\n  required: ['key', 'country'],\r\n  properties: {\r\n    key: {\r\n      type: 'string',\r\n      uniqueItems: true,\r\n      maxLength: 2,\r\n      minLength: 2\r\n    },\r\n    country: {\r\n      type: 'string',\r\n      uniqueItems: true\r\n    }\r\n  }\r\n}\r\n\r\nexport const dialCodeSchema = {\r\n  title: 'Dial Code schema v.1.0',\r\n  type: 'array',\r\n  required: ['name', 'dial', 'code'],\r\n  properties: {\r\n    name: {\r\n      type: 'string',\r\n      uniqueItems: true\r\n    },\r\n    dial: {\r\n      type: 'string',\r\n      uniqueItems: true\r\n    },\r\n    code: {\r\n      type: 'string',\r\n      uniqueItems: true,\r\n      maxLength: 2,\r\n      minLength: 2\r\n    }\r\n  }\r\n}\r\n\r\nexport const countries = [\r\n  { key: '', country: '' },\r\n  { key: 'af', country: 'Afghanistan' },\r\n  { key: 'ax', country: 'Åland Islands' },\r\n  { key: 'al', country: 'Albania' },\r\n  { key: 'dz', country: 'Algeria' },\r\n  { key: 'as', country: 'American Samoa' },\r\n  { key: 'ad', country: 'Andorra' },\r\n  { key: 'ao', country: 'Angola' },\r\n  { key: 'ai', country: 'Anguilla' },\r\n  { key: 'aq', country: 'Antarctica' },\r\n  { key: 'ag', country: 'Antigua and Barbuda' },\r\n  { key: 'ar', country: 'Argentina' },\r\n  { key: 'am', country: 'Armenia' },\r\n  { key: 'aw', country: 'Aruba' },\r\n  { key: 'au', country: 'Australia' },\r\n  { key: 'at', country: 'Austria' },\r\n  { key: 'az', country: 'Azerbaijan' },\r\n  { key: 'bs', country: 'Bahamas' },\r\n  { key: 'bh', country: 'Bahrain' },\r\n  { key: 'bd', country: 'Bangladesh' },\r\n  { key: 'bb', country: 'Barbados' },\r\n  { key: 'by', country: 'Belarus' },\r\n  { key: 'be', country: 'Belgium' },\r\n  { key: 'bz', country: 'Belize' },\r\n  { key: 'bj', country: 'Benin' },\r\n  { key: 'bm', country: 'Bermuda' },\r\n  { key: 'bt', country: 'Bhutan' },\r\n  { key: 'bo', country: 'Bolivia (Plurinational State of)' },\r\n  { key: 'bq', country: 'Bonaire, Sint Eustatius and Saba' },\r\n  { key: 'ba', country: 'Bosnia and Herzegovina' },\r\n  { key: 'bw', country: 'Botswana' },\r\n  { key: 'bv', country: 'Bouvet Island' },\r\n  { key: 'br', country: 'Brazil' },\r\n  { key: 'io', country: 'British Indian Ocean Territory' },\r\n  { key: 'bn', country: 'Brunei Darussalam' },\r\n  { key: 'bg', country: 'Bulgaria' },\r\n  { key: 'bf', country: 'Burkina Faso' },\r\n  { key: 'bi', country: 'Burundi' },\r\n  { key: 'kh', country: 'Cambodia' },\r\n  { key: 'cm', country: 'Cameroon' },\r\n  { key: 'ca', country: 'Canada' },\r\n  { key: 'cv', country: 'Cabo Verde' },\r\n  { key: 'ky', country: 'Cayman Islands' },\r\n  { key: 'cf', country: 'Central African Republic' },\r\n  { key: 'td', country: 'Chad' },\r\n  { key: 'cl', country: 'Chile' },\r\n  { key: 'cn', country: 'China' },\r\n  { key: 'cx', country: 'Christmas Island' },\r\n  { key: 'cc', country: 'Cocos (Keeling) Islands' },\r\n  { key: 'co', country: 'Colombia' },\r\n  { key: 'km', country: 'Comoros' },\r\n  { key: 'cg', country: 'Congo' },\r\n  { key: 'cd', country: 'Congo (Democratic Republic of the)' },\r\n  { key: 'ck', country: 'Cook Islands' },\r\n  { key: 'cr', country: 'Costa Rica' },\r\n  { key: 'ci', country: 'Côte d\\'Ivoire' },\r\n  { key: 'hr', country: 'Croatia' },\r\n  { key: 'cu', country: 'Cuba' },\r\n  { key: 'cw', country: 'Curaçao' },\r\n  { key: 'cy', country: 'Cyprus' },\r\n  { key: 'cz', country: 'Czech Republic' },\r\n  { key: 'dk', country: 'Denmark' },\r\n  { key: 'dj', country: 'Djibouti' },\r\n  { key: 'dm', country: 'Dominica' },\r\n  { key: 'do', country: 'Dominican Republic' },\r\n  { key: 'ec', country: 'Ecuador' },\r\n  { key: 'eg', country: 'Egypt' },\r\n  { key: 'sv', country: 'El Salvador' },\r\n  { key: 'gq', country: 'Equatorial Guinea' },\r\n  { key: 'er', country: 'Eritrea' },\r\n  { key: 'ee', country: 'Estonia' },\r\n  { key: 'et', country: 'Ethiopia' },\r\n  { key: 'eu', country: 'European Union' },\r\n  { key: 'fk', country: 'Falkland Islands (Malvinas)' },\r\n  { key: 'fo', country: 'Faroe Islands' },\r\n  { key: 'fj', country: 'Fiji' },\r\n  { key: 'fi', country: 'Finland' },\r\n  { key: 'fr', country: 'France' },\r\n  { key: 'gf', country: 'French Guiana' },\r\n  { key: 'pf', country: 'French Polynesia' },\r\n  { key: 'tf', country: 'French Southern Territories' },\r\n  { key: 'ga', country: 'Gabon' },\r\n  { key: 'gm', country: 'Gambia' },\r\n  { key: 'ge', country: 'Georgia' },\r\n  { key: 'de', country: 'Germany' },\r\n  { key: 'gh', country: 'Ghana' },\r\n  { key: 'gi', country: 'Gibraltar' },\r\n  { key: 'gr', country: 'Greece' },\r\n  { key: 'gl', country: 'Greenland' },\r\n  { key: 'gd', country: 'Grenada' },\r\n  { key: 'gp', country: 'Guadeloupe' },\r\n  { key: 'gu', country: 'Guam' },\r\n  { key: 'gt', country: 'Guatemala' },\r\n  { key: 'gg', country: 'Guernsey' },\r\n  { key: 'gn', country: 'Guinea' },\r\n  { key: 'gw', country: 'Guinea-Bissau' },\r\n  { key: 'gy', country: 'Guyana' },\r\n  { key: 'ht', country: 'Haiti' },\r\n  { key: 'hm', country: 'Heard Island and McDonald Islands' },\r\n  { key: 'va', country: 'Holy See' },\r\n  { key: 'hn', country: 'Honduras' },\r\n  { key: 'hk', country: 'Hong Kong' },\r\n  { key: 'hu', country: 'Hungary' },\r\n  { key: 'is', country: 'Iceland' },\r\n  { key: 'in', country: 'India' },\r\n  { key: 'id', country: 'Indonesia' },\r\n  { key: 'ir', country: 'Iran (Islamic Republic of)' },\r\n  { key: 'iq', country: 'Iraq' },\r\n  { key: 'ie', country: 'Ireland' },\r\n  { key: 'im', country: 'Isle of Man' },\r\n  { key: 'il', country: 'Israel' },\r\n  { key: 'it', country: 'Italy' },\r\n  { key: 'jm', country: 'Jamaica' },\r\n  { key: 'jp', country: 'Japan' },\r\n  { key: 'je', country: 'Jersey' },\r\n  { key: 'jo', country: 'Jordan' },\r\n  { key: 'kz', country: 'Kazakhstan' },\r\n  { key: 'ke', country: 'Kenya' },\r\n  { key: 'ki', country: 'Kiribati' },\r\n  { key: 'kp', country: 'Korea (Democratic People\\'s Republic of)' },\r\n  { key: 'kr', country: 'Korea (Republic of)' },\r\n  { key: 'kw', country: 'Kuwait' },\r\n  { key: 'kg', country: 'Kyrgyzstan' },\r\n  { key: 'la', country: 'Lao People\\'s Democratic Republic' },\r\n  { key: 'lv', country: 'Latvia' },\r\n  { key: 'lb', country: 'Lebanon' },\r\n  { key: 'ls', country: 'Lesotho' },\r\n  { key: 'lr', country: 'Liberia' },\r\n  { key: 'ly', country: 'Libya' },\r\n  { key: 'li', country: 'Liechtenstein' },\r\n  { key: 'lt', country: 'Lithuania' },\r\n  { key: 'lu', country: 'Luxembourg' },\r\n  { key: 'mo', country: 'Macao' },\r\n  { key: 'mk', country: 'Macedonia (the former Yugoslav Republic of)' },\r\n  { key: 'mg', country: 'Madagascar' },\r\n  { key: 'mw', country: 'Malawi' },\r\n  { key: 'my', country: 'Malaysia' },\r\n  { key: 'mv', country: 'Maldives' },\r\n  { key: 'ml', country: 'Mali' },\r\n  { key: 'mt', country: 'Malta' },\r\n  { key: 'mh', country: 'Marshall Islands' },\r\n  { key: 'mq', country: 'Martinique' },\r\n  { key: 'mr', country: 'Mauritania' },\r\n  { key: 'mu', country: 'Mauritius' },\r\n  { key: 'yt', country: 'Mayotte' },\r\n  { key: 'mx', country: 'Mexico' },\r\n  { key: 'fm', country: 'Micronesia (Federated States of)' },\r\n  { key: 'md', country: 'Moldova (Republic of)' },\r\n  { key: 'mc', country: 'Monaco' },\r\n  { key: 'mn', country: 'Mongolia' },\r\n  { key: 'me', country: 'Montenegro' },\r\n  { key: 'ms', country: 'Montserrat' },\r\n  { key: 'ma', country: 'Morocco' },\r\n  { key: 'mz', country: 'Mozambique' },\r\n  { key: 'mm', country: 'Myanmar' },\r\n  { key: 'na', country: 'Namibia' },\r\n  { key: 'nr', country: 'Nauru' },\r\n  { key: 'np', country: 'Nepal' },\r\n  { key: 'nl', country: 'Netherlands' },\r\n  { key: 'nc', country: 'New Caledonia' },\r\n  { key: 'nz', country: 'New Zealand' },\r\n  { key: 'ni', country: 'Nicaragua' },\r\n  { key: 'ne', country: 'Niger' },\r\n  { key: 'ng', country: 'Nigeria' },\r\n  { key: 'nu', country: 'Niue' },\r\n  { key: 'nf', country: 'Norfolk Island' },\r\n  { key: 'mp', country: 'Northern Mariana Islands' },\r\n  { key: 'no', country: 'Norway' },\r\n  { key: 'om', country: 'Oman' },\r\n  { key: 'pk', country: 'Pakistan' },\r\n  { key: 'pw', country: 'Palau' },\r\n  { key: 'ps', country: 'Palestine, State of' },\r\n  { key: 'pa', country: 'Panama' },\r\n  { key: 'pg', country: 'Papua New Guinea' },\r\n  { key: 'py', country: 'Paraguay' },\r\n  { key: 'pe', country: 'Peru' },\r\n  { key: 'ph', country: 'Philippines' },\r\n  { key: 'pn', country: 'Pitcairn' },\r\n  { key: 'pl', country: 'Poland' },\r\n  { key: 'pt', country: 'Portugal' },\r\n  { key: 'pr', country: 'Puerto Rico' },\r\n  { key: 'qa', country: 'Qatar' },\r\n  { key: 're', country: 'Réunion' },\r\n  { key: 'ro', country: 'Romania' },\r\n  { key: 'ru', country: 'Russian Federation' },\r\n  { key: 'rw', country: 'Rwanda' },\r\n  { key: 'bl', country: 'Saint Barthélemy' },\r\n  { key: 'sh', country: 'Saint Helena, Ascension and Tristan da Cunha' },\r\n  { key: 'kn', country: 'Saint Kitts and Nevis' },\r\n  { key: 'lc', country: 'Saint Lucia' },\r\n  { key: 'mf', country: 'Saint Martin (French part)' },\r\n  { key: 'pm', country: 'Saint Pierre and Miquelon' },\r\n  { key: 'vc', country: 'Saint Vincent and the Grenadines' },\r\n  { key: 'ws', country: 'Samoa' },\r\n  { key: 'sm', country: 'San Marino' },\r\n  { key: 'st', country: 'Sao Tome and Principe' },\r\n  { key: 'sa', country: 'Saudi Arabia' },\r\n  { key: 'sn', country: 'Senegal' },\r\n  { key: 'rs', country: 'Serbia' },\r\n  { key: 'sc', country: 'Seychelles' },\r\n  { key: 'sl', country: 'Sierra Leone' },\r\n  { key: 'sg', country: 'Singapore' },\r\n  { key: 'sx', country: 'Sint Maarten (Dutch part)' },\r\n  { key: 'sk', country: 'Slovakia' },\r\n  { key: 'si', country: 'Slovenia' },\r\n  { key: 'sb', country: 'Solomon Islands' },\r\n  { key: 'so', country: 'Somalia' },\r\n  { key: 'za', country: 'South Africa' },\r\n  { key: 'gs', country: 'South Georgia and the South Sandwich Islands' },\r\n  { key: 'ss', country: 'South Sudan' },\r\n  { key: 'es', country: 'Spain' },\r\n  { key: 'lk', country: 'Sri Lanka' },\r\n  { key: 'sd', country: 'Sudan' },\r\n  { key: 'sr', country: 'Suriname' },\r\n  { key: 'sj', country: 'Svalbard and Jan Mayen' },\r\n  { key: 'sz', country: 'Swaziland' },\r\n  { key: 'se', country: 'Sweden' },\r\n  { key: 'ch', country: 'Switzerland' },\r\n  { key: 'sy', country: 'Syrian Arab Republic' },\r\n  { key: 'tw', country: 'Taiwan, Province of China' },\r\n  { key: 'tj', country: 'Tajikistan' },\r\n  { key: 'tz', country: 'Tanzania, United Republic of' },\r\n  { key: 'th', country: 'Thailand' },\r\n  { key: 'tl', country: 'Timor-Leste' },\r\n  { key: 'tg', country: 'Togo' },\r\n  { key: 'tk', country: 'Tokelau' },\r\n  { key: 'to', country: 'Tonga' },\r\n  { key: 'tt', country: 'Trinidad and Tobago' },\r\n  { key: 'tn', country: 'Tunisia' },\r\n  { key: 'tr', country: 'Turkey' },\r\n  { key: 'tm', country: 'Turkmenistan' },\r\n  { key: 'tc', country: 'Turks and Caicos Islands' },\r\n  { key: 'tv', country: 'Tuvalu' },\r\n  { key: 'ug', country: 'Uganda' },\r\n  { key: 'ua', country: 'Ukraine' },\r\n  { key: 'ae', country: 'United Arab Emirates' },\r\n  { key: 'gb', country: 'United Kingdom' },\r\n  { key: 'us', country: 'United States of America' },\r\n  { key: 'um', country: 'United States Minor Outlying Islands' },\r\n  { key: 'uy', country: 'Uruguay' },\r\n  { key: 'uz', country: 'Uzbekistan' },\r\n  { key: 'vu', country: 'Vanuatu' },\r\n  { key: 've', country: 'Venezuela (Bolivarian Republic of)' },\r\n  { key: 'vn', country: 'Viet Nam' },\r\n  { key: 'vg', country: 'Virgin Islands (British)' },\r\n  { key: 'vi', country: 'Virgin Islands (U.S.)' },\r\n  { key: 'wf', country: 'Wallis and Futuna' },\r\n  { key: 'eh', country: 'Western Sahara' },\r\n  { key: 'ye', country: 'Yemen' },\r\n  { key: 'zm', country: 'Zambia' },\r\n  { key: 'zw', country: 'Zimbabwe' }\r\n]\r\n\r\nconst _userFields = (data, email, done) => {\r\n  const { firstName, lastName, dialCode, password, tosAgreement, phone, address, zipCode, city, country, avatarUrl, dob } = data.body\r\n  const _phone = typeof phone === 'string' && phone.length >= 11 ? phone : ''\r\n  const _dialCode = typeof dialCode === 'string' && typeof dialCodes.filter((e) => e.dial === dialCode) !== 'undefined' ? dialCode : ''\r\n  const _firstName = typeof firstName === 'string' && firstName.trim().length > 0 ? firstName.trim() : ''\r\n  const _lastName = typeof lastName === 'string' && lastName.trim().length > 0 ? lastName.trim() : ''\r\n  const _password = typeof password === 'string' && password.trim().length > 11 ? password.trim() : false\r\n  const _tosAgreement = typeof tosAgreement === 'string' && tosAgreement === '1'\r\n  const _address = typeof address === 'string' && address.trim().length > 0 ? address.trim() : ''\r\n  const _zipCode = typeof zipCode === 'string' && zipCode.trim().length >= 5 ? zipCode.trim() : ''\r\n  const _city = typeof city === 'string' && city.trim().length > 0 ? city.trim() : ''\r\n  const _country = typeof country === 'string' && typeof countries.filter((e) => e.country === country) !== 'undefined' ? country.trim() : ''\r\n  const _avatarUrl = typeof avatarUrl === 'string' && avatarUrl.trim().length > 0 ? avatarUrl.trim() : ''\r\n  const _dob = typeof dob === 'string' && dob.trim().length > 0 ? dob.trim() : ''\r\n\r\n  done(null, {\r\n    email,\r\n    password: _password,\r\n    tosAgreement: _tosAgreement,\r\n    dialCode: _dialCode,\r\n    phone: _phone,\r\n    firstName: _firstName,\r\n    lastName: _lastName,\r\n    address: _address,\r\n    zipCode: _zipCode,\r\n    city: _city,\r\n    country: _country,\r\n    avatarUrl: _avatarUrl,\r\n    dob: _dob\r\n  })\r\n}\r\n\r\nconst userFields = promisify(_userFields)\r\n\r\nexport const loose = async (data, email) => {\r\n  return await userFields(data, email)\r\n}\r\n\r\nconst _userObj = async (data, done) => {\r\n  if (typeof data.body === 'object') {\r\n    const email = await validEmail(data.body.email).catch((e) => done(e))\r\n    if (email) {\r\n      const out = await loose(data, email)\r\n      out.email = email\r\n      done(null, out)\r\n    } else {\r\n      done(t('error.invalid_email'))\r\n    }\r\n  } else {\r\n    done(t('error.no_payload'))\r\n  }\r\n}\r\n\r\nexport const user = promisify(_userObj)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a01260b2e427834c02026b00c96d550b52ea93e7","contentHash":"a96e28a35c4495803da1eba5d72d06694dc1cb5b214fdf13adb02b1dc3752687"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\email\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\email\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":46}},"2":{"start":{"line":8,"column":18},"end":{"line":8,"column":63}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":59}},"4":{"start":{"line":12,"column":14},"end":{"line":12,"column":37}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":95}},"6":{"start":{"line":16,"column":14},"end":{"line":20,"column":1}},"7":{"start":{"line":17,"column":17},"end":{"line":17,"column":55}},"8":{"start":{"line":19,"column":2},"end":{"line":19,"column":24}},"9":{"start":{"line":22,"column":0},"end":{"line":22,"column":26}},"10":{"start":{"line":24,"column":15},"end":{"line":24,"column":78}},"11":{"start":{"line":26,"column":0},"end":{"line":26,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":97}},"line":14},"1":{"name":"compile","decl":{"start":{"line":16,"column":23},"end":{"line":16,"column":30}},"loc":{"start":{"line":16,"column":45},"end":{"line":20,"column":1}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":94}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":94}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14},"2":{"loc":{"start":{"line":24,"column":15},"end":{"line":24,"column":78}},"type":"cond-expr","locations":[{"start":{"line":24,"column":54},"end":{"line":24,"column":73}},{"start":{"line":24,"column":76},"end":{"line":24,"column":78}}],"line":24}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":1,"7":0,"8":0,"9":1,"10":1,"11":1},"f":{"0":2,"1":0},"b":{"0":[2,0],"1":[2,2],"2":[1,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["compile","source","data","template","Handlebars","EMAIL_PROVIDER","sendMailgun"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;;;AAEO,IAAMA,OAAO,GAAG,SAAVA,OAAU,CAACC,MAAD,EAASC,IAAT,EAAkB;AACvC,MAAMC,QAAQ,GAAGC,uBAAWJ,OAAX,CAAmBC,MAAnB,CAAjB;;AACA,SAAOE,QAAQ,CAACD,IAAD,CAAf;AACD,CAHM;;;;eAKQG,2BAAmB,SAAnB,GAA+BC,mBAA/B,GAA6C,E","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\email","sourcesContent":["import Handlebars from 'handlebars'\r\n\r\nimport sendMailgun from './mailgun'\r\nimport { EMAIL_PROVIDER } from '../../config'\r\n\r\nexport const compile = (source, data) => {\r\n  const template = Handlebars.compile(source)\r\n  return template(data)\r\n}\r\n\r\nexport default EMAIL_PROVIDER === 'mailgun' ? sendMailgun : {}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0c05c51af1b5bd7fc7831c6fa8d1335864fe579d","contentHash":"3ed35d4951ac26a1239c284fdb70db436061283dbcbffae56ded4d692e924d8b"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\email\\mailgun.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\email\\mailgun.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":47}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":31}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":27}},"4":{"start":{"line":12,"column":14},"end":{"line":12,"column":37}},"5":{"start":{"line":14,"column":13},"end":{"line":14,"column":32}},"6":{"start":{"line":16,"column":20},"end":{"line":16,"column":46}},"7":{"start":{"line":18,"column":77},"end":{"line":18,"column":175}},"8":{"start":{"line":18,"column":94},"end":{"line":18,"column":107}},"9":{"start":{"line":18,"column":121},"end":{"line":18,"column":131}},"10":{"start":{"line":18,"column":151},"end":{"line":18,"column":165}},"11":{"start":{"line":18,"column":166},"end":{"line":18,"column":173}},"12":{"start":{"line":18,"column":176},"end":{"line":18,"column":263}},"13":{"start":{"line":18,"column":193},"end":{"line":18,"column":208}},"14":{"start":{"line":18,"column":218},"end":{"line":18,"column":261}},"15":{"start":{"line":20,"column":33},"end":{"line":20,"column":387}},"16":{"start":{"line":20,"column":65},"end":{"line":20,"column":69}},"17":{"start":{"line":20,"column":78},"end":{"line":20,"column":87}},"18":{"start":{"line":20,"column":89},"end":{"line":20,"column":384}},"19":{"start":{"line":20,"column":147},"end":{"line":20,"column":167}},"20":{"start":{"line":20,"column":193},"end":{"line":20,"column":264}},"21":{"start":{"line":20,"column":290},"end":{"line":20,"column":360}},"22":{"start":{"line":20,"column":363},"end":{"line":20,"column":380}},"23":{"start":{"line":22,"column":24},"end":{"line":22,"column":328}},"24":{"start":{"line":22,"column":99},"end":{"line":22,"column":154}},"25":{"start":{"line":22,"column":133},"end":{"line":22,"column":151}},"26":{"start":{"line":22,"column":164},"end":{"line":22,"column":326}},"27":{"start":{"line":22,"column":198},"end":{"line":22,"column":323}},"28":{"start":{"line":22,"column":329},"end":{"line":22,"column":349}},"29":{"start":{"line":24,"column":0},"end":{"line":24,"column":72}},"30":{"start":{"line":25,"column":0},"end":{"line":25,"column":68}},"31":{"start":{"line":26,"column":0},"end":{"line":26,"column":70}},"32":{"start":{"line":30,"column":0},"end":{"line":96,"column":3}},"33":{"start":{"line":31,"column":13},"end":{"line":91,"column":5}},"34":{"start":{"line":35,"column":4},"end":{"line":90,"column":16}},"35":{"start":{"line":36,"column":6},"end":{"line":89,"column":7}},"36":{"start":{"line":37,"column":8},"end":{"line":88,"column":9}},"37":{"start":{"line":39,"column":12},"end":{"line":39,"column":93}},"38":{"start":{"line":41,"column":12},"end":{"line":44,"column":13}},"39":{"start":{"line":42,"column":14},"end":{"line":42,"column":32}},"40":{"start":{"line":43,"column":14},"end":{"line":43,"column":20}},"41":{"start":{"line":48,"column":12},"end":{"line":65,"column":14}},"42":{"start":{"line":67,"column":12},"end":{"line":70,"column":13}},"43":{"start":{"line":68,"column":14},"end":{"line":68,"column":32}},"44":{"start":{"line":69,"column":14},"end":{"line":69,"column":20}},"45":{"start":{"line":72,"column":12},"end":{"line":72,"column":30}},"46":{"start":{"line":73,"column":12},"end":{"line":75,"column":15}},"47":{"start":{"line":74,"column":14},"end":{"line":74,"column":29}},"48":{"start":{"line":78,"column":12},"end":{"line":78,"column":19}},"49":{"start":{"line":79,"column":12},"end":{"line":79,"column":31}},"50":{"start":{"line":80,"column":12},"end":{"line":80,"column":18}},"51":{"start":{"line":83,"column":12},"end":{"line":83,"column":54}},"52":{"start":{"line":87,"column":12},"end":{"line":87,"column":35}},"53":{"start":{"line":93,"column":2},"end":{"line":95,"column":4}},"54":{"start":{"line":94,"column":4},"end":{"line":94,"column":39}},"55":{"start":{"line":98,"column":0},"end":{"line":98,"column":28}},"56":{"start":{"line":100,"column":15},"end":{"line":100,"column":45}},"57":{"start":{"line":102,"column":0},"end":{"line":102,"column":30}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":27}},"loc":{"start":{"line":18,"column":75},"end":{"line":18,"column":265}},"line":18},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":26}},"loc":{"start":{"line":20,"column":31},"end":{"line":20,"column":389}},"line":20},"2":{"name":"(anonymous_2)","decl":{"start":{"line":20,"column":40},"end":{"line":20,"column":41}},"loc":{"start":{"line":20,"column":52},"end":{"line":20,"column":386}},"line":20},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":108},"end":{"line":20,"column":109}},"loc":{"start":{"line":20,"column":135},"end":{"line":20,"column":382}},"line":20},"4":{"name":"_next","decl":{"start":{"line":20,"column":178},"end":{"line":20,"column":183}},"loc":{"start":{"line":20,"column":191},"end":{"line":20,"column":266}},"line":20},"5":{"name":"_throw","decl":{"start":{"line":20,"column":276},"end":{"line":20,"column":282}},"loc":{"start":{"line":20,"column":288},"end":{"line":20,"column":362}},"line":20},"6":{"name":"_typeof","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":16}},"loc":{"start":{"line":22,"column":22},"end":{"line":22,"column":351}},"line":22},"7":{"name":"_typeof","decl":{"start":{"line":22,"column":118},"end":{"line":22,"column":125}},"loc":{"start":{"line":22,"column":131},"end":{"line":22,"column":153}},"line":22},"8":{"name":"_typeof","decl":{"start":{"line":22,"column":183},"end":{"line":22,"column":190}},"loc":{"start":{"line":22,"column":196},"end":{"line":22,"column":325}},"line":22},"9":{"name":"(anonymous_9)","decl":{"start":{"line":30,"column":0},"end":{"line":30,"column":1}},"loc":{"start":{"line":30,"column":12},"end":{"line":96,"column":1}},"line":30},"10":{"name":"_callee","decl":{"start":{"line":33,"column":35},"end":{"line":33,"column":42}},"loc":{"start":{"line":33,"column":70},"end":{"line":91,"column":3}},"line":33},"11":{"name":"_callee$","decl":{"start":{"line":35,"column":44},"end":{"line":35,"column":52}},"loc":{"start":{"line":35,"column":63},"end":{"line":90,"column":5}},"line":35},"12":{"name":"(anonymous_12)","decl":{"start":{"line":73,"column":62},"end":{"line":73,"column":63}},"loc":{"start":{"line":73,"column":75},"end":{"line":75,"column":13}},"line":73},"13":{"name":"_mailgun","decl":{"start":{"line":93,"column":18},"end":{"line":93,"column":26}},"loc":{"start":{"line":93,"column":46},"end":{"line":95,"column":3}},"line":93}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":176},"end":{"line":18,"column":263}},"type":"if","locations":[{"start":{"line":18,"column":176},"end":{"line":18,"column":263}},{"start":{"line":18,"column":176},"end":{"line":18,"column":263}}],"line":18},"1":{"loc":{"start":{"line":22,"column":24},"end":{"line":22,"column":328}},"type":"if","locations":[{"start":{"line":22,"column":24},"end":{"line":22,"column":328}},{"start":{"line":22,"column":24},"end":{"line":22,"column":328}}],"line":22},"2":{"loc":{"start":{"line":22,"column":28},"end":{"line":22,"column":95}},"type":"binary-expr","locations":[{"start":{"line":22,"column":28},"end":{"line":22,"column":56}},{"start":{"line":22,"column":60},"end":{"line":22,"column":95}}],"line":22},"3":{"loc":{"start":{"line":22,"column":205},"end":{"line":22,"column":322}},"type":"cond-expr","locations":[{"start":{"line":22,"column":301},"end":{"line":22,"column":309}},{"start":{"line":22,"column":312},"end":{"line":22,"column":322}}],"line":22},"4":{"loc":{"start":{"line":22,"column":205},"end":{"line":22,"column":298}},"type":"binary-expr","locations":[{"start":{"line":22,"column":205},"end":{"line":22,"column":208}},{"start":{"line":22,"column":212},"end":{"line":22,"column":240}},{"start":{"line":22,"column":244},"end":{"line":22,"column":270}},{"start":{"line":22,"column":274},"end":{"line":22,"column":298}}],"line":22},"5":{"loc":{"start":{"line":37,"column":8},"end":{"line":88,"column":9}},"type":"switch","locations":[{"start":{"line":38,"column":10},"end":{"line":75,"column":15}},{"start":{"line":77,"column":10},"end":{"line":80,"column":18}},{"start":{"line":82,"column":10},"end":{"line":83,"column":54}},{"start":{"line":85,"column":10},"end":{"line":85,"column":18}},{"start":{"line":86,"column":10},"end":{"line":87,"column":35}}],"line":37},"6":{"loc":{"start":{"line":39,"column":23},"end":{"line":39,"column":92}},"type":"cond-expr","locations":[{"start":{"line":39,"column":74},"end":{"line":39,"column":84}},{"start":{"line":39,"column":87},"end":{"line":39,"column":92}}],"line":39},"7":{"loc":{"start":{"line":39,"column":23},"end":{"line":39,"column":71}},"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":46}},{"start":{"line":39,"column":50},"end":{"line":39,"column":71}}],"line":39},"8":{"loc":{"start":{"line":41,"column":12},"end":{"line":44,"column":13}},"type":"if","locations":[{"start":{"line":41,"column":12},"end":{"line":44,"column":13}},{"start":{"line":41,"column":12},"end":{"line":44,"column":13}}],"line":41},"9":{"loc":{"start":{"line":67,"column":12},"end":{"line":70,"column":13}},"type":"if","locations":[{"start":{"line":67,"column":12},"end":{"line":70,"column":13}},{"start":{"line":67,"column":12},"end":{"line":70,"column":13}}],"line":67}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":3,"8":3,"9":3,"10":0,"11":0,"12":3,"13":3,"14":0,"15":1,"16":3,"17":3,"18":3,"19":3,"20":3,"21":0,"22":3,"23":1,"24":1,"25":3,"26":0,"27":0,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":3,"35":3,"36":9,"37":3,"38":3,"39":0,"40":0,"41":3,"42":3,"43":3,"44":3,"45":0,"46":0,"47":0,"48":3,"49":3,"50":3,"51":0,"52":3,"53":1,"54":3,"55":1,"56":1,"57":1},"f":{"0":3,"1":1,"2":3,"3":3,"4":3,"5":0,"6":1,"7":3,"8":0,"9":1,"10":3,"11":3,"12":0,"13":3},"b":{"0":[3,0],"1":[1,0],"2":[1,1],"3":[0,0],"4":[0,0,0,0],"5":[3,3,0,3,3],"6":[3,0],"7":[3,3],"8":[0,3],"9":[3,0]},"inputSourceMap":{"version":3,"sources":["mailgun.js"],"names":["MAILGUN","domainName","apiKey","nameFrom","_mailgun","email","subject","msg","done","validMsg","trim","length","obj","protocol","hostname","method","path","auth","data","from","to","text","html","headers","process","env","NODE_ENV","e"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AACA;;AACA;;;;;;;;AAEA,iCAAmBA,gBAAQC,UAA3B,GAAuC,QAAvC;AACA,iCAAmBD,gBAAQE,MAA3B,GAAmC,QAAnC;AACA,iCAAmBF,gBAAQG,QAA3B,GAAqC,QAArC;;AAEO,IAAMC,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBAAOC,KAAP,EAAcC,OAAd,EAAuBC,GAAvB,EAA4BC,IAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBC,YAAAA,QADgB,GACL,OAAOF,GAAP,KAAe,QAAf,IAA2BA,GAAG,CAACG,IAAJ,GAAWC,MAAX,GAAoB,CAA/C,GAAmDJ,GAAG,CAACG,IAAJ,EAAnD,GAAgE,KAD3D;;AAAA,iBAGlBD,QAHkB;AAAA;AAAA;AAAA;;AAIpB;AACA;AAEMG,YAAAA,GAPc,GAOR;AACVC,cAAAA,QAAQ,EAAE,QADA;AAEVC,cAAAA,QAAQ,EAAE,iBAFA;AAGVC,cAAAA,MAAM,EAAE,MAHE;AAIVC,cAAAA,IAAI,gBAAShB,gBAAQC,UAAjB,cAJM;AAKVgB,cAAAA,IAAI,gBAASjB,gBAAQE,MAAjB,CALM;AAMVgB,cAAAA,IAAI,EAAE;AACJC,gBAAAA,IAAI,YAAKnB,gBAAQG,QAAb,oBAA+BH,gBAAQC,UAAvC,MADA;AAEJmB,gBAAAA,EAAE,EAAEf,KAFA;AAGJC,gBAAAA,OAAO,EAAEA,OAHL;AAIJe,gBAAAA,IAAI,EAAEd,GAJF;AAKJe,gBAAAA,IAAI,EAAEf,GALF,CAMJ;;AANI,eANI;AAcVgB,cAAAA,OAAO,EAAE;AACP,gCAAgB;AADT;AAdC,aAPQ;;AAAA,gBA0BdC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,SA1BX;AAAA;AAAA;AAAA;;AAAA;AAAA,mBA0B6B,oBAAQ,OAAR,EAAiBd,GAAjB,WAA4B,UAACe,CAAD;AAAA,qBAAOnB,IAAI,CAACmB,CAAD,CAAX;AAAA,aAA5B,CA1B7B;;AAAA;AA2BpBnB,YAAAA,IAAI;AA3BgB;AAAA;;AAAA;AA6BpBA,YAAAA,IAAI,CAAC,qBAAE,aAAF,CAAD,CAAJ;;AA7BoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAARJ,QAAQ;AAAA;AAAA;AAAA,GAAd;;;;eAiCQ,qBAAUA,QAAV,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\email","sourcesContent":["import { strictEqual } from 'assert'\r\nimport { promisify } from 'util'\r\n\r\nimport { MAILGUN } from '../../config'\r\nimport { request } from '../utils'\r\nimport { t } from '../translations'\r\n\r\nstrictEqual(typeof MAILGUN.domainName, 'string')\r\nstrictEqual(typeof MAILGUN.apiKey, 'string')\r\nstrictEqual(typeof MAILGUN.nameFrom, 'string')\r\n\r\nexport const _mailgun = async (email, subject, msg, done) => {\r\n  const validMsg = typeof msg === 'string' && msg.trim().length > 0 ? msg.trim() : false\r\n\r\n  if (validMsg) {\r\n    // const logo = createReadStream(join(__dirname, '../../.data', 'assets', 'logo.png'))\r\n    // const htmlMsg = `<img src=\"cid:logo.png\" width=\"200px\"><br /><h3>${subject}</h3><p>${msg}</p>`\r\n\r\n    const obj = {\r\n      protocol: 'https:',\r\n      hostname: 'api.mailgun.net',\r\n      method: 'POST',\r\n      path: `/v3/${MAILGUN.domainName}/messages`,\r\n      auth: `api:${MAILGUN.apiKey}`,\r\n      data: {\r\n        from: `${MAILGUN.nameFrom} <info@${MAILGUN.domainName}>`,\r\n        to: email,\r\n        subject: subject,\r\n        text: msg,\r\n        html: msg\r\n        // inline: [logo]\r\n      },\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      }\r\n    }\r\n\r\n    if (!(process.env.NODE_ENV === 'testing')) await request('https', obj).catch((e) => done(e))\r\n    done()\r\n  } else {\r\n    done(t('error.email'))\r\n  }\r\n}\r\n\r\nexport default promisify(_mailgun)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"dae7fb50ce3f6a70cf21f424c56358170817feef","contentHash":"fa5ee76de0b389f9e3e5bf6edda7c6aed643173a3e7a23078cfda85078e7ac86"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\phone\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\phone\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":37}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":95}},"5":{"start":{"line":14,"column":15},"end":{"line":14,"column":77}},"6":{"start":{"line":16,"column":0},"end":{"line":16,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":97}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":94}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":94}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":14,"column":15},"end":{"line":14,"column":77}},"type":"cond-expr","locations":[{"start":{"line":14,"column":54},"end":{"line":14,"column":72}},{"start":{"line":14,"column":75},"end":{"line":14,"column":77}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1},"b":{"0":[1,0],"1":[1,1],"2":[1,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["MOBILE_PROVIDER","sendTwilio"],"mappings":";;;;;;;AAAA;;AACA;;;;eAEeA,4BAAoB,QAApB,GAA+BC,kBAA/B,GAA4C,E","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\phone","sourcesContent":["import { MOBILE_PROVIDER } from '../../config'\r\nimport sendTwilio from './twilio'\r\n\r\nexport default MOBILE_PROVIDER === 'twilio' ? sendTwilio : {}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0edf0c39f2418fcbd09919fd68e9a3e12ee98964","contentHash":"ada58d7ad262135401de8d5e201087540b9c794fda2bf0f847d2495b74959700"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\phone\\twilio.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\phone\\twilio.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":46}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":31}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":27}},"4":{"start":{"line":12,"column":14},"end":{"line":12,"column":37}},"5":{"start":{"line":14,"column":13},"end":{"line":14,"column":32}},"6":{"start":{"line":16,"column":20},"end":{"line":16,"column":46}},"7":{"start":{"line":18,"column":77},"end":{"line":18,"column":175}},"8":{"start":{"line":18,"column":94},"end":{"line":18,"column":107}},"9":{"start":{"line":18,"column":121},"end":{"line":18,"column":131}},"10":{"start":{"line":18,"column":151},"end":{"line":18,"column":165}},"11":{"start":{"line":18,"column":166},"end":{"line":18,"column":173}},"12":{"start":{"line":18,"column":176},"end":{"line":18,"column":263}},"13":{"start":{"line":18,"column":193},"end":{"line":18,"column":208}},"14":{"start":{"line":18,"column":218},"end":{"line":18,"column":261}},"15":{"start":{"line":20,"column":33},"end":{"line":20,"column":387}},"16":{"start":{"line":20,"column":65},"end":{"line":20,"column":69}},"17":{"start":{"line":20,"column":78},"end":{"line":20,"column":87}},"18":{"start":{"line":20,"column":89},"end":{"line":20,"column":384}},"19":{"start":{"line":20,"column":147},"end":{"line":20,"column":167}},"20":{"start":{"line":20,"column":193},"end":{"line":20,"column":264}},"21":{"start":{"line":20,"column":290},"end":{"line":20,"column":360}},"22":{"start":{"line":20,"column":363},"end":{"line":20,"column":380}},"23":{"start":{"line":22,"column":24},"end":{"line":22,"column":328}},"24":{"start":{"line":22,"column":99},"end":{"line":22,"column":154}},"25":{"start":{"line":22,"column":133},"end":{"line":22,"column":151}},"26":{"start":{"line":22,"column":164},"end":{"line":22,"column":326}},"27":{"start":{"line":22,"column":198},"end":{"line":22,"column":323}},"28":{"start":{"line":22,"column":329},"end":{"line":22,"column":349}},"29":{"start":{"line":24,"column":0},"end":{"line":24,"column":64}},"30":{"start":{"line":25,"column":0},"end":{"line":25,"column":70}},"31":{"start":{"line":29,"column":0},"end":{"line":91,"column":3}},"32":{"start":{"line":30,"column":13},"end":{"line":86,"column":5}},"33":{"start":{"line":34,"column":4},"end":{"line":85,"column":16}},"34":{"start":{"line":35,"column":6},"end":{"line":84,"column":7}},"35":{"start":{"line":36,"column":8},"end":{"line":83,"column":9}},"36":{"start":{"line":38,"column":12},"end":{"line":38,"column":89}},"37":{"start":{"line":39,"column":12},"end":{"line":39,"column":93}},"38":{"start":{"line":41,"column":12},"end":{"line":44,"column":13}},"39":{"start":{"line":42,"column":14},"end":{"line":42,"column":33}},"40":{"start":{"line":43,"column":14},"end":{"line":43,"column":20}},"41":{"start":{"line":46,"column":12},"end":{"line":60,"column":14}},"42":{"start":{"line":62,"column":12},"end":{"line":65,"column":13}},"43":{"start":{"line":63,"column":14},"end":{"line":63,"column":32}},"44":{"start":{"line":64,"column":14},"end":{"line":64,"column":20}},"45":{"start":{"line":67,"column":12},"end":{"line":67,"column":30}},"46":{"start":{"line":68,"column":12},"end":{"line":70,"column":15}},"47":{"start":{"line":69,"column":14},"end":{"line":69,"column":29}},"48":{"start":{"line":73,"column":12},"end":{"line":73,"column":19}},"49":{"start":{"line":74,"column":12},"end":{"line":74,"column":31}},"50":{"start":{"line":75,"column":12},"end":{"line":75,"column":18}},"51":{"start":{"line":78,"column":12},"end":{"line":78,"column":54}},"52":{"start":{"line":82,"column":12},"end":{"line":82,"column":35}},"53":{"start":{"line":88,"column":2},"end":{"line":90,"column":4}},"54":{"start":{"line":89,"column":4},"end":{"line":89,"column":39}},"55":{"start":{"line":93,"column":0},"end":{"line":93,"column":26}},"56":{"start":{"line":95,"column":15},"end":{"line":95,"column":44}},"57":{"start":{"line":97,"column":0},"end":{"line":97,"column":30}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":27}},"loc":{"start":{"line":18,"column":75},"end":{"line":18,"column":265}},"line":18},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":26}},"loc":{"start":{"line":20,"column":31},"end":{"line":20,"column":389}},"line":20},"2":{"name":"(anonymous_2)","decl":{"start":{"line":20,"column":40},"end":{"line":20,"column":41}},"loc":{"start":{"line":20,"column":52},"end":{"line":20,"column":386}},"line":20},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":108},"end":{"line":20,"column":109}},"loc":{"start":{"line":20,"column":135},"end":{"line":20,"column":382}},"line":20},"4":{"name":"_next","decl":{"start":{"line":20,"column":178},"end":{"line":20,"column":183}},"loc":{"start":{"line":20,"column":191},"end":{"line":20,"column":266}},"line":20},"5":{"name":"_throw","decl":{"start":{"line":20,"column":276},"end":{"line":20,"column":282}},"loc":{"start":{"line":20,"column":288},"end":{"line":20,"column":362}},"line":20},"6":{"name":"_typeof","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":16}},"loc":{"start":{"line":22,"column":22},"end":{"line":22,"column":351}},"line":22},"7":{"name":"_typeof","decl":{"start":{"line":22,"column":118},"end":{"line":22,"column":125}},"loc":{"start":{"line":22,"column":131},"end":{"line":22,"column":153}},"line":22},"8":{"name":"_typeof","decl":{"start":{"line":22,"column":183},"end":{"line":22,"column":190}},"loc":{"start":{"line":22,"column":196},"end":{"line":22,"column":325}},"line":22},"9":{"name":"(anonymous_9)","decl":{"start":{"line":29,"column":0},"end":{"line":29,"column":1}},"loc":{"start":{"line":29,"column":12},"end":{"line":91,"column":1}},"line":29},"10":{"name":"_callee","decl":{"start":{"line":32,"column":35},"end":{"line":32,"column":42}},"loc":{"start":{"line":32,"column":61},"end":{"line":86,"column":3}},"line":32},"11":{"name":"_callee$","decl":{"start":{"line":34,"column":44},"end":{"line":34,"column":52}},"loc":{"start":{"line":34,"column":63},"end":{"line":85,"column":5}},"line":34},"12":{"name":"(anonymous_12)","decl":{"start":{"line":68,"column":62},"end":{"line":68,"column":63}},"loc":{"start":{"line":68,"column":75},"end":{"line":70,"column":13}},"line":68},"13":{"name":"_twilio","decl":{"start":{"line":88,"column":18},"end":{"line":88,"column":25}},"loc":{"start":{"line":88,"column":40},"end":{"line":90,"column":3}},"line":88}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":176},"end":{"line":18,"column":263}},"type":"if","locations":[{"start":{"line":18,"column":176},"end":{"line":18,"column":263}},{"start":{"line":18,"column":176},"end":{"line":18,"column":263}}],"line":18},"1":{"loc":{"start":{"line":22,"column":24},"end":{"line":22,"column":328}},"type":"if","locations":[{"start":{"line":22,"column":24},"end":{"line":22,"column":328}},{"start":{"line":22,"column":24},"end":{"line":22,"column":328}}],"line":22},"2":{"loc":{"start":{"line":22,"column":28},"end":{"line":22,"column":95}},"type":"binary-expr","locations":[{"start":{"line":22,"column":28},"end":{"line":22,"column":56}},{"start":{"line":22,"column":60},"end":{"line":22,"column":95}}],"line":22},"3":{"loc":{"start":{"line":22,"column":205},"end":{"line":22,"column":322}},"type":"cond-expr","locations":[{"start":{"line":22,"column":301},"end":{"line":22,"column":309}},{"start":{"line":22,"column":312},"end":{"line":22,"column":322}}],"line":22},"4":{"loc":{"start":{"line":22,"column":205},"end":{"line":22,"column":298}},"type":"binary-expr","locations":[{"start":{"line":22,"column":205},"end":{"line":22,"column":208}},{"start":{"line":22,"column":212},"end":{"line":22,"column":240}},{"start":{"line":22,"column":244},"end":{"line":22,"column":270}},{"start":{"line":22,"column":274},"end":{"line":22,"column":298}}],"line":22},"5":{"loc":{"start":{"line":36,"column":8},"end":{"line":83,"column":9}},"type":"switch","locations":[{"start":{"line":37,"column":10},"end":{"line":70,"column":15}},{"start":{"line":72,"column":10},"end":{"line":75,"column":18}},{"start":{"line":77,"column":10},"end":{"line":78,"column":54}},{"start":{"line":80,"column":10},"end":{"line":80,"column":18}},{"start":{"line":81,"column":10},"end":{"line":82,"column":35}}],"line":36},"6":{"loc":{"start":{"line":38,"column":25},"end":{"line":38,"column":88}},"type":"cond-expr","locations":[{"start":{"line":38,"column":75},"end":{"line":38,"column":80}},{"start":{"line":38,"column":83},"end":{"line":38,"column":88}}],"line":38},"7":{"loc":{"start":{"line":38,"column":25},"end":{"line":38,"column":72}},"type":"binary-expr","locations":[{"start":{"line":38,"column":25},"end":{"line":38,"column":50}},{"start":{"line":38,"column":54},"end":{"line":38,"column":72}}],"line":38},"8":{"loc":{"start":{"line":39,"column":23},"end":{"line":39,"column":92}},"type":"cond-expr","locations":[{"start":{"line":39,"column":74},"end":{"line":39,"column":84}},{"start":{"line":39,"column":87},"end":{"line":39,"column":92}}],"line":39},"9":{"loc":{"start":{"line":39,"column":23},"end":{"line":39,"column":71}},"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":46}},{"start":{"line":39,"column":50},"end":{"line":39,"column":71}}],"line":39},"10":{"loc":{"start":{"line":41,"column":12},"end":{"line":44,"column":13}},"type":"if","locations":[{"start":{"line":41,"column":12},"end":{"line":44,"column":13}},{"start":{"line":41,"column":12},"end":{"line":44,"column":13}}],"line":41},"11":{"loc":{"start":{"line":41,"column":18},"end":{"line":41,"column":40}},"type":"binary-expr","locations":[{"start":{"line":41,"column":18},"end":{"line":41,"column":28}},{"start":{"line":41,"column":32},"end":{"line":41,"column":40}}],"line":41},"12":{"loc":{"start":{"line":62,"column":12},"end":{"line":65,"column":13}},"type":"if","locations":[{"start":{"line":62,"column":12},"end":{"line":65,"column":13}},{"start":{"line":62,"column":12},"end":{"line":65,"column":13}}],"line":62}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":1,"25":2,"26":0,"27":0,"28":1,"29":1,"30":1,"31":1,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":1,"56":1,"57":1},"f":{"0":0,"1":1,"2":0,"3":0,"4":0,"5":0,"6":1,"7":2,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0},"b":{"0":[0,0],"1":[1,0],"2":[1,1],"3":[0,0],"4":[0,0,0,0],"5":[0,0,0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"inputSourceMap":{"version":3,"sources":["twilio.js"],"names":["TWILIO","sid","authToken","_twilio","phone","msg","done","validPhone","length","validMsg","trim","obj","protocol","hostname","method","path","data","From","from","To","Body","headers","Authorization","Buffer","toString","process","env","NODE_ENV","e"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AACA;;AACA;;;;;;;;AAEA,iCAAmBA,eAAOC,GAA1B,GAA+B,QAA/B;AACA,iCAAmBD,eAAOE,SAA1B,GAAqC,QAArC;;AAEO,IAAMC,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBAAOC,KAAP,EAAcC,GAAd,EAAmBC,IAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AACfC,YAAAA,UADe,GACF,OAAOH,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,CAACI,MAAN,IAAgB,EAA7C,GAAkDJ,KAAlD,GAA0D,KADxD;AAEfK,YAAAA,QAFe,GAEJ,OAAOJ,GAAP,KAAe,QAAf,IAA2BA,GAAG,CAACK,IAAJ,GAAWF,MAAX,GAAoB,CAA/C,GAAmDH,GAAG,CAACK,IAAJ,EAAnD,GAAgE,KAF5D;;AAAA,kBAIjBH,UAAU,IAAIE,QAJG;AAAA;AAAA;AAAA;;AAKbE,YAAAA,GALa,GAKP;AACVC,cAAAA,QAAQ,EAAE,QADA;AAEVC,cAAAA,QAAQ,EAAE,gBAFA;AAGVC,cAAAA,MAAM,EAAE,MAHE;AAIVC,cAAAA,IAAI,iCAA0Bf,eAAOC,GAAjC,mBAJM;AAKVe,cAAAA,IAAI,EAAE;AACJC,gBAAAA,IAAI,EAAEjB,eAAOkB,IADT;AAEJC,gBAAAA,EAAE,aAAMf,KAAN,CAFE;AAGJgB,gBAAAA,IAAI,EAAEf;AAHF,eALI;AAUVgB,cAAAA,OAAO,EAAE;AACPC,gBAAAA,aAAa,kBAAWC,MAAM,CAACL,IAAP,WAAelB,eAAOC,GAAtB,cAA6BD,eAAOE,SAApC,GAAiDsB,QAAjD,CAA0D,QAA1D,CAAX,CADN;AAEP,gCAAgB;AAFT;AAVC,aALO;;AAAA,gBAqBbC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,SArBZ;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAqB8B,oBAAQ,OAAR,EAAiBhB,GAAjB,WAA4B,UAACiB,CAAD;AAAA,qBAAOtB,IAAI,CAACsB,CAAD,CAAX;AAAA,aAA5B,CArB9B;;AAAA;AAsBnBtB,YAAAA,IAAI;AAtBe;AAAA;;AAAA;AAwBnBA,YAAAA,IAAI,CAAC,qBAAE,aAAF,CAAD,CAAJ;;AAxBmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAPH,OAAO;AAAA;AAAA;AAAA,GAAb;;;;eA4BQ,qBAAUA,OAAV,C","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\phone","sourcesContent":["import { strictEqual } from 'assert'\r\nimport { promisify } from 'util'\r\n\r\nimport { TWILIO } from '../../config'\r\nimport { request } from '../utils'\r\nimport { t } from '../translations'\r\n\r\nstrictEqual(typeof TWILIO.sid, 'string')\r\nstrictEqual(typeof TWILIO.authToken, 'string')\r\n\r\nexport const _twilio = async (phone, msg, done) => {\r\n  const validPhone = typeof phone === 'string' && phone.length >= 11 ? phone : false\r\n  const validMsg = typeof msg === 'string' && msg.trim().length > 0 ? msg.trim() : false\r\n\r\n  if (validPhone && validMsg) {\r\n    const obj = {\r\n      protocol: 'https:',\r\n      hostname: 'api.twilio.com',\r\n      method: 'POST',\r\n      path: `/2010-04-01/Accounts/${TWILIO.sid}/Messages.json`,\r\n      data: {\r\n        From: TWILIO.from,\r\n        To: `+${phone}`,\r\n        Body: msg\r\n      },\r\n      headers: {\r\n        Authorization: `Basic ${Buffer.from(`${TWILIO.sid}:${TWILIO.authToken}`).toString('base64')}`,\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      }\r\n    }\r\n\r\n    if (!(process.env.NODE_ENV === 'testing')) await request('https', obj).catch((e) => done(e))\r\n    done()\r\n  } else {\r\n    done(t('error.phone'))\r\n  }\r\n}\r\n\r\nexport default promisify(_twilio)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ba5d820a4a5c3982736c6164476e40c3114bce6e","contentHash":"05f2b69612eb6e2ddb52e79b9390942941720d3d5593704b9149647bf15da281"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\users\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\users\\schema.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":138}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":25}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":37}},"4":{"start":{"line":12,"column":19},"end":{"line":47,"column":2}},"5":{"start":{"line":17,"column":4},"end":{"line":17,"column":38}},"6":{"start":{"line":20,"column":4},"end":{"line":20,"column":38}},"7":{"start":{"line":23,"column":4},"end":{"line":23,"column":38}},"8":{"start":{"line":26,"column":4},"end":{"line":26,"column":38}},"9":{"start":{"line":29,"column":4},"end":{"line":29,"column":38}},"10":{"start":{"line":32,"column":4},"end":{"line":32,"column":38}},"11":{"start":{"line":35,"column":4},"end":{"line":35,"column":38}},"12":{"start":{"line":38,"column":4},"end":{"line":38,"column":38}},"13":{"start":{"line":41,"column":4},"end":{"line":41,"column":38}},"14":{"start":{"line":44,"column":4},"end":{"line":44,"column":38}},"15":{"start":{"line":48,"column":0},"end":{"line":48,"column":36}},"16":{"start":{"line":49,"column":17},"end":{"line":87,"column":2}},"17":{"start":{"line":51,"column":4},"end":{"line":51,"column":38}},"18":{"start":{"line":54,"column":4},"end":{"line":54,"column":38}},"19":{"start":{"line":57,"column":4},"end":{"line":57,"column":38}},"20":{"start":{"line":60,"column":4},"end":{"line":60,"column":38}},"21":{"start":{"line":63,"column":4},"end":{"line":63,"column":38}},"22":{"start":{"line":66,"column":4},"end":{"line":66,"column":38}},"23":{"start":{"line":69,"column":4},"end":{"line":69,"column":38}},"24":{"start":{"line":72,"column":4},"end":{"line":72,"column":38}},"25":{"start":{"line":75,"column":4},"end":{"line":75,"column":38}},"26":{"start":{"line":78,"column":4},"end":{"line":78,"column":38}},"27":{"start":{"line":81,"column":4},"end":{"line":81,"column":38}},"28":{"start":{"line":84,"column":4},"end":{"line":84,"column":38}},"29":{"start":{"line":88,"column":0},"end":{"line":88,"column":32}},"30":{"start":{"line":89,"column":18},"end":{"line":91,"column":2}},"31":{"start":{"line":92,"column":0},"end":{"line":92,"column":34}},"32":{"start":{"line":93,"column":14},"end":{"line":95,"column":2}},"33":{"start":{"line":96,"column":0},"end":{"line":96,"column":26}},"34":{"start":{"line":97,"column":19},"end":{"line":102,"column":2}},"35":{"start":{"line":103,"column":0},"end":{"line":103,"column":36}},"36":{"start":{"line":104,"column":20},"end":{"line":107,"column":2}},"37":{"start":{"line":108,"column":0},"end":{"line":108,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":16,"column":42},"end":{"line":16,"column":43}},"loc":{"start":{"line":16,"column":60},"end":{"line":18,"column":3}},"line":16},"1":{"name":"(anonymous_1)","decl":{"start":{"line":19,"column":41},"end":{"line":19,"column":42}},"loc":{"start":{"line":19,"column":59},"end":{"line":21,"column":3}},"line":19},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":41},"end":{"line":22,"column":42}},"loc":{"start":{"line":22,"column":59},"end":{"line":24,"column":3}},"line":22},"3":{"name":"(anonymous_3)","decl":{"start":{"line":25,"column":38},"end":{"line":25,"column":39}},"loc":{"start":{"line":25,"column":56},"end":{"line":27,"column":3}},"line":25},"4":{"name":"(anonymous_4)","decl":{"start":{"line":28,"column":40},"end":{"line":28,"column":41}},"loc":{"start":{"line":28,"column":58},"end":{"line":30,"column":3}},"line":28},"5":{"name":"(anonymous_5)","decl":{"start":{"line":31,"column":40},"end":{"line":31,"column":41}},"loc":{"start":{"line":31,"column":58},"end":{"line":33,"column":3}},"line":31},"6":{"name":"(anonymous_6)","decl":{"start":{"line":34,"column":37},"end":{"line":34,"column":38}},"loc":{"start":{"line":34,"column":55},"end":{"line":36,"column":3}},"line":34},"7":{"name":"(anonymous_7)","decl":{"start":{"line":37,"column":40},"end":{"line":37,"column":41}},"loc":{"start":{"line":37,"column":58},"end":{"line":39,"column":3}},"line":37},"8":{"name":"(anonymous_8)","decl":{"start":{"line":40,"column":36},"end":{"line":40,"column":37}},"loc":{"start":{"line":40,"column":54},"end":{"line":42,"column":3}},"line":40},"9":{"name":"(anonymous_9)","decl":{"start":{"line":43,"column":42},"end":{"line":43,"column":43}},"loc":{"start":{"line":43,"column":60},"end":{"line":45,"column":3}},"line":43},"10":{"name":"(anonymous_10)","decl":{"start":{"line":50,"column":38},"end":{"line":50,"column":39}},"loc":{"start":{"line":50,"column":56},"end":{"line":52,"column":3}},"line":50},"11":{"name":"(anonymous_11)","decl":{"start":{"line":53,"column":41},"end":{"line":53,"column":42}},"loc":{"start":{"line":53,"column":59},"end":{"line":55,"column":3}},"line":53},"12":{"name":"(anonymous_12)","decl":{"start":{"line":56,"column":42},"end":{"line":56,"column":43}},"loc":{"start":{"line":56,"column":60},"end":{"line":58,"column":3}},"line":56},"13":{"name":"(anonymous_13)","decl":{"start":{"line":59,"column":41},"end":{"line":59,"column":42}},"loc":{"start":{"line":59,"column":59},"end":{"line":61,"column":3}},"line":59},"14":{"name":"(anonymous_14)","decl":{"start":{"line":62,"column":41},"end":{"line":62,"column":42}},"loc":{"start":{"line":62,"column":59},"end":{"line":64,"column":3}},"line":62},"15":{"name":"(anonymous_15)","decl":{"start":{"line":65,"column":38},"end":{"line":65,"column":39}},"loc":{"start":{"line":65,"column":56},"end":{"line":67,"column":3}},"line":65},"16":{"name":"(anonymous_16)","decl":{"start":{"line":68,"column":40},"end":{"line":68,"column":41}},"loc":{"start":{"line":68,"column":58},"end":{"line":70,"column":3}},"line":68},"17":{"name":"(anonymous_17)","decl":{"start":{"line":71,"column":40},"end":{"line":71,"column":41}},"loc":{"start":{"line":71,"column":58},"end":{"line":73,"column":3}},"line":71},"18":{"name":"(anonymous_18)","decl":{"start":{"line":74,"column":37},"end":{"line":74,"column":38}},"loc":{"start":{"line":74,"column":55},"end":{"line":76,"column":3}},"line":74},"19":{"name":"(anonymous_19)","decl":{"start":{"line":77,"column":40},"end":{"line":77,"column":41}},"loc":{"start":{"line":77,"column":58},"end":{"line":79,"column":3}},"line":77},"20":{"name":"(anonymous_20)","decl":{"start":{"line":80,"column":36},"end":{"line":80,"column":37}},"loc":{"start":{"line":80,"column":54},"end":{"line":82,"column":3}},"line":80},"21":{"name":"(anonymous_21)","decl":{"start":{"line":83,"column":42},"end":{"line":83,"column":43}},"loc":{"start":{"line":83,"column":60},"end":{"line":85,"column":3}},"line":83}},"branchMap":{"0":{"loc":{"start":{"line":17,"column":11},"end":{"line":17,"column":37}},"type":"cond-expr","locations":[{"start":{"line":17,"column":23},"end":{"line":17,"column":32}},{"start":{"line":17,"column":35},"end":{"line":17,"column":37}}],"line":17},"1":{"loc":{"start":{"line":20,"column":11},"end":{"line":20,"column":37}},"type":"cond-expr","locations":[{"start":{"line":20,"column":23},"end":{"line":20,"column":32}},{"start":{"line":20,"column":35},"end":{"line":20,"column":37}}],"line":20},"2":{"loc":{"start":{"line":23,"column":11},"end":{"line":23,"column":37}},"type":"cond-expr","locations":[{"start":{"line":23,"column":23},"end":{"line":23,"column":32}},{"start":{"line":23,"column":35},"end":{"line":23,"column":37}}],"line":23},"3":{"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":37}},"type":"cond-expr","locations":[{"start":{"line":26,"column":23},"end":{"line":26,"column":32}},{"start":{"line":26,"column":35},"end":{"line":26,"column":37}}],"line":26},"4":{"loc":{"start":{"line":29,"column":11},"end":{"line":29,"column":37}},"type":"cond-expr","locations":[{"start":{"line":29,"column":23},"end":{"line":29,"column":32}},{"start":{"line":29,"column":35},"end":{"line":29,"column":37}}],"line":29},"5":{"loc":{"start":{"line":32,"column":11},"end":{"line":32,"column":37}},"type":"cond-expr","locations":[{"start":{"line":32,"column":23},"end":{"line":32,"column":32}},{"start":{"line":32,"column":35},"end":{"line":32,"column":37}}],"line":32},"6":{"loc":{"start":{"line":35,"column":11},"end":{"line":35,"column":37}},"type":"cond-expr","locations":[{"start":{"line":35,"column":23},"end":{"line":35,"column":32}},{"start":{"line":35,"column":35},"end":{"line":35,"column":37}}],"line":35},"7":{"loc":{"start":{"line":38,"column":11},"end":{"line":38,"column":37}},"type":"cond-expr","locations":[{"start":{"line":38,"column":23},"end":{"line":38,"column":32}},{"start":{"line":38,"column":35},"end":{"line":38,"column":37}}],"line":38},"8":{"loc":{"start":{"line":41,"column":11},"end":{"line":41,"column":37}},"type":"cond-expr","locations":[{"start":{"line":41,"column":23},"end":{"line":41,"column":32}},{"start":{"line":41,"column":35},"end":{"line":41,"column":37}}],"line":41},"9":{"loc":{"start":{"line":44,"column":11},"end":{"line":44,"column":37}},"type":"cond-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":32}},{"start":{"line":44,"column":35},"end":{"line":44,"column":37}}],"line":44},"10":{"loc":{"start":{"line":51,"column":11},"end":{"line":51,"column":37}},"type":"cond-expr","locations":[{"start":{"line":51,"column":23},"end":{"line":51,"column":32}},{"start":{"line":51,"column":35},"end":{"line":51,"column":37}}],"line":51},"11":{"loc":{"start":{"line":54,"column":11},"end":{"line":54,"column":37}},"type":"cond-expr","locations":[{"start":{"line":54,"column":23},"end":{"line":54,"column":32}},{"start":{"line":54,"column":35},"end":{"line":54,"column":37}}],"line":54},"12":{"loc":{"start":{"line":57,"column":11},"end":{"line":57,"column":37}},"type":"cond-expr","locations":[{"start":{"line":57,"column":23},"end":{"line":57,"column":32}},{"start":{"line":57,"column":35},"end":{"line":57,"column":37}}],"line":57},"13":{"loc":{"start":{"line":60,"column":11},"end":{"line":60,"column":37}},"type":"cond-expr","locations":[{"start":{"line":60,"column":23},"end":{"line":60,"column":32}},{"start":{"line":60,"column":35},"end":{"line":60,"column":37}}],"line":60},"14":{"loc":{"start":{"line":63,"column":11},"end":{"line":63,"column":37}},"type":"cond-expr","locations":[{"start":{"line":63,"column":23},"end":{"line":63,"column":32}},{"start":{"line":63,"column":35},"end":{"line":63,"column":37}}],"line":63},"15":{"loc":{"start":{"line":66,"column":11},"end":{"line":66,"column":37}},"type":"cond-expr","locations":[{"start":{"line":66,"column":23},"end":{"line":66,"column":32}},{"start":{"line":66,"column":35},"end":{"line":66,"column":37}}],"line":66},"16":{"loc":{"start":{"line":69,"column":11},"end":{"line":69,"column":37}},"type":"cond-expr","locations":[{"start":{"line":69,"column":23},"end":{"line":69,"column":32}},{"start":{"line":69,"column":35},"end":{"line":69,"column":37}}],"line":69},"17":{"loc":{"start":{"line":72,"column":11},"end":{"line":72,"column":37}},"type":"cond-expr","locations":[{"start":{"line":72,"column":23},"end":{"line":72,"column":32}},{"start":{"line":72,"column":35},"end":{"line":72,"column":37}}],"line":72},"18":{"loc":{"start":{"line":75,"column":11},"end":{"line":75,"column":37}},"type":"cond-expr","locations":[{"start":{"line":75,"column":23},"end":{"line":75,"column":32}},{"start":{"line":75,"column":35},"end":{"line":75,"column":37}}],"line":75},"19":{"loc":{"start":{"line":78,"column":11},"end":{"line":78,"column":37}},"type":"cond-expr","locations":[{"start":{"line":78,"column":23},"end":{"line":78,"column":32}},{"start":{"line":78,"column":35},"end":{"line":78,"column":37}}],"line":78},"20":{"loc":{"start":{"line":81,"column":11},"end":{"line":81,"column":37}},"type":"cond-expr","locations":[{"start":{"line":81,"column":23},"end":{"line":81,"column":32}},{"start":{"line":81,"column":35},"end":{"line":81,"column":37}}],"line":81},"21":{"loc":{"start":{"line":84,"column":11},"end":{"line":84,"column":37}},"type":"cond-expr","locations":[{"start":{"line":84,"column":23},"end":{"line":84,"column":32}},{"start":{"line":84,"column":35},"end":{"line":84,"column":37}}],"line":84}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":1,"17":1,"18":0,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[1,0],"11":[0,0],"12":[0,1],"13":[0,1],"14":[1,0],"15":[1,0],"16":[1,0],"17":[1,0],"18":[1,0],"19":[1,0],"20":[1,0],"21":[1,0]},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["createSchema","shape","email","required","password","min","tosAgreement","firstName","transform","cv","ov","undefined","lastName","dialCode","phone","address","zipCode","city","country","length","dob","avatarUrl","url","locale","oneOf","LANGUAGES","userUpdate","userDestroy","userGet","socialSchema","provider","SOCIAL_PROVIDERS","idToken","accessToken","setRoleSchema","role","ROLES"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\users","sourcesContent":["import { object, string, bool } from 'yup'\r\n\r\nimport { LANGUAGES, ROLES, SOCIAL_PROVIDERS } from '../../config'\r\n\r\nexport const createSchema = object().shape({\r\n  email: string().required().email(),\r\n  password: string().required().min(12),\r\n  tosAgreement: bool().required(),\r\n  firstName: string().transform((cv, ov) => ov === '' ? undefined : cv).min(3),\r\n  lastName: string().transform((cv, ov) => ov === '' ? undefined : cv).min(3),\r\n  dialCode: string().transform((cv, ov) => ov === '' ? undefined : cv).min(2),\r\n  phone: string().transform((cv, ov) => ov === '' ? undefined : cv).min(8),\r\n  address: string().transform((cv, ov) => ov === '' ? undefined : cv).min(5),\r\n  zipCode: string().transform((cv, ov) => ov === '' ? undefined : cv).min(5),\r\n  city: string().transform((cv, ov) => ov === '' ? undefined : cv).min(3),\r\n  country: string().transform((cv, ov) => ov === '' ? undefined : cv).length(2),\r\n  dob: string().transform((cv, ov) => ov === '' ? undefined : cv),\r\n  avatarUrl: string().transform((cv, ov) => ov === '' ? undefined : cv).url(),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const userUpdate = object().shape({\r\n  email: string().transform((cv, ov) => ov === '' ? undefined : cv).email(),\r\n  password: string().transform((cv, ov) => ov === '' ? undefined : cv).min(12),\r\n  firstName: string().transform((cv, ov) => ov === '' ? undefined : cv).min(3),\r\n  lastName: string().transform((cv, ov) => ov === '' ? undefined : cv).min(3),\r\n  dialCode: string().transform((cv, ov) => ov === '' ? undefined : cv).min(2),\r\n  phone: string().transform((cv, ov) => ov === '' ? undefined : cv).min(8),\r\n  address: string().transform((cv, ov) => ov === '' ? undefined : cv).min(5),\r\n  zipCode: string().transform((cv, ov) => ov === '' ? undefined : cv).min(5),\r\n  city: string().transform((cv, ov) => ov === '' ? undefined : cv).min(3),\r\n  country: string().transform((cv, ov) => ov === '' ? undefined : cv).length(2),\r\n  dob: string().transform((cv, ov) => ov === '' ? undefined : cv),\r\n  avatarUrl: string().transform((cv, ov) => ov === '' ? undefined : cv).url(),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const userDestroy = object().shape({\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const userGet = object().shape({\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const socialSchema = object().shape({\r\n  provider: string().required().oneOf(SOCIAL_PROVIDERS),\r\n  idToken: string().required().min(5),\r\n  accessToken: string().required().min(5),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const setRoleSchema = object().shape({\r\n  role: string().required().oneOf(ROLES),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1e05acd1d96cca56e46ca6eddccbb9184d85d1b1","contentHash":"80df1d1fe58d0517f7b3012e55039b0c4e35bd36aacf65a5006ee84cb4306ef1"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\token\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\token\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":70}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":45}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":37}},"4":{"start":{"line":12,"column":10},"end":{"line":12,"column":57}},"5":{"start":{"line":14,"column":15},"end":{"line":14,"column":43}},"6":{"start":{"line":16,"column":14},"end":{"line":16,"column":33}},"7":{"start":{"line":18,"column":20},"end":{"line":18,"column":53}},"8":{"start":{"line":20,"column":13},"end":{"line":20,"column":39}},"9":{"start":{"line":22,"column":39},"end":{"line":22,"column":95}},"10":{"start":{"line":24,"column":77},"end":{"line":24,"column":175}},"11":{"start":{"line":24,"column":94},"end":{"line":24,"column":107}},"12":{"start":{"line":24,"column":121},"end":{"line":24,"column":131}},"13":{"start":{"line":24,"column":151},"end":{"line":24,"column":165}},"14":{"start":{"line":24,"column":166},"end":{"line":24,"column":173}},"15":{"start":{"line":24,"column":176},"end":{"line":24,"column":263}},"16":{"start":{"line":24,"column":193},"end":{"line":24,"column":208}},"17":{"start":{"line":24,"column":218},"end":{"line":24,"column":261}},"18":{"start":{"line":26,"column":33},"end":{"line":26,"column":387}},"19":{"start":{"line":26,"column":65},"end":{"line":26,"column":69}},"20":{"start":{"line":26,"column":78},"end":{"line":26,"column":87}},"21":{"start":{"line":26,"column":89},"end":{"line":26,"column":384}},"22":{"start":{"line":26,"column":147},"end":{"line":26,"column":167}},"23":{"start":{"line":26,"column":193},"end":{"line":26,"column":264}},"24":{"start":{"line":26,"column":290},"end":{"line":26,"column":360}},"25":{"start":{"line":26,"column":363},"end":{"line":26,"column":380}},"26":{"start":{"line":30,"column":0},"end":{"line":96,"column":3}},"27":{"start":{"line":31,"column":13},"end":{"line":91,"column":5}},"28":{"start":{"line":36,"column":4},"end":{"line":90,"column":16}},"29":{"start":{"line":37,"column":6},"end":{"line":89,"column":7}},"30":{"start":{"line":38,"column":8},"end":{"line":88,"column":9}},"31":{"start":{"line":40,"column":12},"end":{"line":40,"column":30}},"32":{"start":{"line":41,"column":12},"end":{"line":41,"column":55}},"33":{"start":{"line":44,"column":12},"end":{"line":44,"column":34}},"34":{"start":{"line":46,"column":12},"end":{"line":49,"column":13}},"35":{"start":{"line":47,"column":14},"end":{"line":47,"column":33}},"36":{"start":{"line":48,"column":14},"end":{"line":48,"column":20}},"37":{"start":{"line":51,"column":12},"end":{"line":51,"column":30}},"38":{"start":{"line":52,"column":12},"end":{"line":52,"column":54}},"39":{"start":{"line":55,"column":12},"end":{"line":55,"column":30}},"40":{"start":{"line":56,"column":12},"end":{"line":61,"column":15}},"41":{"start":{"line":57,"column":14},"end":{"line":60,"column":17}},"42":{"start":{"line":64,"column":12},"end":{"line":64,"column":31}},"43":{"start":{"line":66,"column":12},"end":{"line":74,"column":15}},"44":{"start":{"line":76,"column":12},"end":{"line":76,"column":31}},"45":{"start":{"line":77,"column":12},"end":{"line":77,"column":18}},"46":{"start":{"line":80,"column":12},"end":{"line":83,"column":15}},"47":{"start":{"line":87,"column":12},"end":{"line":87,"column":35}},"48":{"start":{"line":93,"column":2},"end":{"line":95,"column":4}},"49":{"start":{"line":94,"column":4},"end":{"line":94,"column":39}},"50":{"start":{"line":98,"column":0},"end":{"line":98,"column":18}},"51":{"start":{"line":102,"column":0},"end":{"line":162,"column":3}},"52":{"start":{"line":103,"column":14},"end":{"line":157,"column":5}},"53":{"start":{"line":107,"column":4},"end":{"line":156,"column":17}},"54":{"start":{"line":108,"column":6},"end":{"line":155,"column":7}},"55":{"start":{"line":109,"column":8},"end":{"line":154,"column":9}},"56":{"start":{"line":111,"column":12},"end":{"line":111,"column":31}},"57":{"start":{"line":112,"column":12},"end":{"line":114,"column":15}},"58":{"start":{"line":113,"column":14},"end":{"line":113,"column":66}},"59":{"start":{"line":117,"column":12},"end":{"line":117,"column":36}},"60":{"start":{"line":119,"column":12},"end":{"line":122,"column":13}},"61":{"start":{"line":120,"column":14},"end":{"line":120,"column":34}},"62":{"start":{"line":121,"column":14},"end":{"line":121,"column":20}},"63":{"start":{"line":124,"column":12},"end":{"line":124,"column":31}},"64":{"start":{"line":125,"column":12},"end":{"line":127,"column":15}},"65":{"start":{"line":126,"column":14},"end":{"line":126,"column":60}},"66":{"start":{"line":130,"column":12},"end":{"line":130,"column":37}},"67":{"start":{"line":131,"column":12},"end":{"line":131,"column":67}},"68":{"start":{"line":132,"column":12},"end":{"line":137,"column":14}},"69":{"start":{"line":138,"column":12},"end":{"line":138,"column":32}},"70":{"start":{"line":139,"column":12},"end":{"line":141,"column":15}},"71":{"start":{"line":140,"column":14},"end":{"line":140,"column":63}},"72":{"start":{"line":144,"column":12},"end":{"line":144,"column":32}},"73":{"start":{"line":145,"column":12},"end":{"line":145,"column":32}},"74":{"start":{"line":146,"column":12},"end":{"line":146,"column":18}},"75":{"start":{"line":149,"column":12},"end":{"line":149,"column":65}},"76":{"start":{"line":153,"column":12},"end":{"line":153,"column":36}},"77":{"start":{"line":159,"column":2},"end":{"line":161,"column":4}},"78":{"start":{"line":160,"column":4},"end":{"line":160,"column":40}},"79":{"start":{"line":166,"column":0},"end":{"line":295,"column":3}},"80":{"start":{"line":167,"column":14},"end":{"line":290,"column":5}},"81":{"start":{"line":171,"column":4},"end":{"line":289,"column":17}},"82":{"start":{"line":172,"column":6},"end":{"line":288,"column":7}},"83":{"start":{"line":173,"column":8},"end":{"line":287,"column":9}},"84":{"start":{"line":175,"column":12},"end":{"line":175,"column":31}},"85":{"start":{"line":176,"column":12},"end":{"line":176,"column":59}},"86":{"start":{"line":179,"column":12},"end":{"line":179,"column":35}},"87":{"start":{"line":181,"column":12},"end":{"line":184,"column":13}},"88":{"start":{"line":182,"column":14},"end":{"line":182,"column":34}},"89":{"start":{"line":183,"column":14},"end":{"line":183,"column":20}},"90":{"start":{"line":186,"column":12},"end":{"line":186,"column":31}},"91":{"start":{"line":187,"column":12},"end":{"line":187,"column":54}},"92":{"start":{"line":190,"column":12},"end":{"line":190,"column":31}},"93":{"start":{"line":191,"column":12},"end":{"line":196,"column":15}},"94":{"start":{"line":192,"column":14},"end":{"line":195,"column":17}},"95":{"start":{"line":199,"column":12},"end":{"line":199,"column":31}},"96":{"start":{"line":201,"column":12},"end":{"line":204,"column":13}},"97":{"start":{"line":202,"column":14},"end":{"line":202,"column":34}},"98":{"start":{"line":203,"column":14},"end":{"line":203,"column":20}},"99":{"start":{"line":206,"column":12},"end":{"line":206,"column":32}},"100":{"start":{"line":207,"column":12},"end":{"line":212,"column":15}},"101":{"start":{"line":208,"column":14},"end":{"line":211,"column":17}},"102":{"start":{"line":215,"column":12},"end":{"line":215,"column":38}},"103":{"start":{"line":217,"column":12},"end":{"line":220,"column":13}},"104":{"start":{"line":218,"column":14},"end":{"line":218,"column":34}},"105":{"start":{"line":219,"column":14},"end":{"line":219,"column":20}},"106":{"start":{"line":222,"column":12},"end":{"line":225,"column":13}},"107":{"start":{"line":223,"column":14},"end":{"line":223,"column":34}},"108":{"start":{"line":224,"column":14},"end":{"line":224,"column":20}},"109":{"start":{"line":227,"column":12},"end":{"line":227,"column":32}},"110":{"start":{"line":228,"column":12},"end":{"line":242,"column":15}},"111":{"start":{"line":229,"column":14},"end":{"line":241,"column":15}},"112":{"start":{"line":230,"column":16},"end":{"line":235,"column":19}},"113":{"start":{"line":237,"column":16},"end":{"line":240,"column":19}},"114":{"start":{"line":245,"column":12},"end":{"line":245,"column":32}},"115":{"start":{"line":246,"column":12},"end":{"line":246,"column":18}},"116":{"start":{"line":249,"column":12},"end":{"line":252,"column":15}},"117":{"start":{"line":255,"column":12},"end":{"line":255,"column":32}},"118":{"start":{"line":256,"column":12},"end":{"line":256,"column":18}},"119":{"start":{"line":259,"column":12},"end":{"line":262,"column":15}},"120":{"start":{"line":265,"column":12},"end":{"line":265,"column":32}},"121":{"start":{"line":266,"column":12},"end":{"line":266,"column":18}},"122":{"start":{"line":269,"column":12},"end":{"line":272,"column":15}},"123":{"start":{"line":275,"column":12},"end":{"line":275,"column":32}},"124":{"start":{"line":276,"column":12},"end":{"line":276,"column":18}},"125":{"start":{"line":279,"column":12},"end":{"line":282,"column":15}},"126":{"start":{"line":286,"column":12},"end":{"line":286,"column":36}},"127":{"start":{"line":292,"column":2},"end":{"line":294,"column":4}},"128":{"start":{"line":293,"column":4},"end":{"line":293,"column":40}},"129":{"start":{"line":297,"column":0},"end":{"line":297,"column":18}},"130":{"start":{"line":301,"column":0},"end":{"line":383,"column":3}},"131":{"start":{"line":302,"column":14},"end":{"line":378,"column":5}},"132":{"start":{"line":306,"column":4},"end":{"line":377,"column":17}},"133":{"start":{"line":307,"column":6},"end":{"line":376,"column":7}},"134":{"start":{"line":308,"column":8},"end":{"line":375,"column":9}},"135":{"start":{"line":310,"column":12},"end":{"line":310,"column":31}},"136":{"start":{"line":311,"column":12},"end":{"line":311,"column":58}},"137":{"start":{"line":314,"column":12},"end":{"line":314,"column":35}},"138":{"start":{"line":316,"column":12},"end":{"line":319,"column":13}},"139":{"start":{"line":317,"column":14},"end":{"line":317,"column":34}},"140":{"start":{"line":318,"column":14},"end":{"line":318,"column":20}},"141":{"start":{"line":321,"column":12},"end":{"line":321,"column":31}},"142":{"start":{"line":322,"column":12},"end":{"line":322,"column":54}},"143":{"start":{"line":325,"column":12},"end":{"line":325,"column":35}},"144":{"start":{"line":327,"column":12},"end":{"line":330,"column":13}},"145":{"start":{"line":328,"column":14},"end":{"line":328,"column":34}},"146":{"start":{"line":329,"column":14},"end":{"line":329,"column":20}},"147":{"start":{"line":332,"column":12},"end":{"line":332,"column":32}},"148":{"start":{"line":333,"column":12},"end":{"line":338,"column":15}},"149":{"start":{"line":334,"column":14},"end":{"line":337,"column":17}},"150":{"start":{"line":341,"column":12},"end":{"line":341,"column":39}},"151":{"start":{"line":343,"column":12},"end":{"line":351,"column":13}},"152":{"start":{"line":344,"column":14},"end":{"line":344,"column":79}},"153":{"start":{"line":345,"column":14},"end":{"line":345,"column":86}},"154":{"start":{"line":347,"column":14},"end":{"line":350,"column":17}},"155":{"start":{"line":353,"column":12},"end":{"line":353,"column":32}},"156":{"start":{"line":354,"column":12},"end":{"line":354,"column":18}},"157":{"start":{"line":357,"column":12},"end":{"line":360,"column":15}},"158":{"start":{"line":363,"column":12},"end":{"line":363,"column":32}},"159":{"start":{"line":364,"column":12},"end":{"line":364,"column":18}},"160":{"start":{"line":367,"column":12},"end":{"line":370,"column":15}},"161":{"start":{"line":374,"column":12},"end":{"line":374,"column":36}},"162":{"start":{"line":380,"column":2},"end":{"line":382,"column":4}},"163":{"start":{"line":381,"column":4},"end":{"line":381,"column":40}},"164":{"start":{"line":385,"column":0},"end":{"line":385,"column":24}},"165":{"start":{"line":389,"column":0},"end":{"line":448,"column":3}},"166":{"start":{"line":390,"column":14},"end":{"line":443,"column":5}},"167":{"start":{"line":394,"column":4},"end":{"line":442,"column":17}},"168":{"start":{"line":395,"column":6},"end":{"line":441,"column":7}},"169":{"start":{"line":396,"column":8},"end":{"line":440,"column":9}},"170":{"start":{"line":398,"column":12},"end":{"line":398,"column":31}},"171":{"start":{"line":399,"column":12},"end":{"line":399,"column":59}},"172":{"start":{"line":402,"column":12},"end":{"line":402,"column":35}},"173":{"start":{"line":404,"column":12},"end":{"line":407,"column":13}},"174":{"start":{"line":405,"column":14},"end":{"line":405,"column":34}},"175":{"start":{"line":406,"column":14},"end":{"line":406,"column":20}},"176":{"start":{"line":409,"column":12},"end":{"line":409,"column":31}},"177":{"start":{"line":410,"column":12},"end":{"line":410,"column":54}},"178":{"start":{"line":413,"column":12},"end":{"line":413,"column":31}},"179":{"start":{"line":414,"column":12},"end":{"line":414,"column":45}},"180":{"start":{"line":417,"column":12},"end":{"line":417,"column":39}},"181":{"start":{"line":419,"column":12},"end":{"line":426,"column":13}},"182":{"start":{"line":420,"column":14},"end":{"line":420,"column":95}},"183":{"start":{"line":422,"column":14},"end":{"line":425,"column":17}},"184":{"start":{"line":428,"column":12},"end":{"line":428,"column":32}},"185":{"start":{"line":429,"column":12},"end":{"line":429,"column":18}},"186":{"start":{"line":432,"column":12},"end":{"line":435,"column":15}},"187":{"start":{"line":439,"column":12},"end":{"line":439,"column":36}},"188":{"start":{"line":445,"column":2},"end":{"line":447,"column":4}},"189":{"start":{"line":446,"column":4},"end":{"line":446,"column":40}},"190":{"start":{"line":450,"column":0},"end":{"line":450,"column":26}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":31}},"loc":{"start":{"line":22,"column":37},"end":{"line":22,"column":97}},"line":22},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":24,"column":9},"end":{"line":24,"column":27}},"loc":{"start":{"line":24,"column":75},"end":{"line":24,"column":265}},"line":24},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":26,"column":9},"end":{"line":26,"column":26}},"loc":{"start":{"line":26,"column":31},"end":{"line":26,"column":389}},"line":26},"3":{"name":"(anonymous_3)","decl":{"start":{"line":26,"column":40},"end":{"line":26,"column":41}},"loc":{"start":{"line":26,"column":52},"end":{"line":26,"column":386}},"line":26},"4":{"name":"(anonymous_4)","decl":{"start":{"line":26,"column":108},"end":{"line":26,"column":109}},"loc":{"start":{"line":26,"column":135},"end":{"line":26,"column":382}},"line":26},"5":{"name":"_next","decl":{"start":{"line":26,"column":178},"end":{"line":26,"column":183}},"loc":{"start":{"line":26,"column":191},"end":{"line":26,"column":266}},"line":26},"6":{"name":"_throw","decl":{"start":{"line":26,"column":276},"end":{"line":26,"column":282}},"loc":{"start":{"line":26,"column":288},"end":{"line":26,"column":362}},"line":26},"7":{"name":"(anonymous_7)","decl":{"start":{"line":30,"column":0},"end":{"line":30,"column":1}},"loc":{"start":{"line":30,"column":12},"end":{"line":96,"column":1}},"line":30},"8":{"name":"_callee","decl":{"start":{"line":33,"column":35},"end":{"line":33,"column":42}},"loc":{"start":{"line":33,"column":57},"end":{"line":91,"column":3}},"line":33},"9":{"name":"_callee$","decl":{"start":{"line":36,"column":44},"end":{"line":36,"column":52}},"loc":{"start":{"line":36,"column":63},"end":{"line":90,"column":5}},"line":36},"10":{"name":"(anonymous_10)","decl":{"start":{"line":56,"column":77},"end":{"line":56,"column":78}},"loc":{"start":{"line":56,"column":89},"end":{"line":61,"column":13}},"line":56},"11":{"name":"get","decl":{"start":{"line":93,"column":18},"end":{"line":93,"column":21}},"loc":{"start":{"line":93,"column":31},"end":{"line":95,"column":3}},"line":93},"12":{"name":"(anonymous_12)","decl":{"start":{"line":102,"column":0},"end":{"line":102,"column":1}},"loc":{"start":{"line":102,"column":12},"end":{"line":162,"column":1}},"line":102},"13":{"name":"_callee2","decl":{"start":{"line":105,"column":35},"end":{"line":105,"column":43}},"loc":{"start":{"line":105,"column":63},"end":{"line":157,"column":3}},"line":105},"14":{"name":"_callee2$","decl":{"start":{"line":107,"column":44},"end":{"line":107,"column":53}},"loc":{"start":{"line":107,"column":65},"end":{"line":156,"column":5}},"line":107},"15":{"name":"(anonymous_15)","decl":{"start":{"line":112,"column":60},"end":{"line":112,"column":61}},"loc":{"start":{"line":112,"column":72},"end":{"line":114,"column":13}},"line":112},"16":{"name":"(anonymous_16)","decl":{"start":{"line":125,"column":56},"end":{"line":125,"column":57}},"loc":{"start":{"line":125,"column":68},"end":{"line":127,"column":13}},"line":125},"17":{"name":"(anonymous_17)","decl":{"start":{"line":139,"column":79},"end":{"line":139,"column":80}},"loc":{"start":{"line":139,"column":91},"end":{"line":141,"column":13}},"line":139},"18":{"name":"_hash","decl":{"start":{"line":159,"column":18},"end":{"line":159,"column":23}},"loc":{"start":{"line":159,"column":39},"end":{"line":161,"column":3}},"line":159},"19":{"name":"(anonymous_19)","decl":{"start":{"line":166,"column":0},"end":{"line":166,"column":1}},"loc":{"start":{"line":166,"column":12},"end":{"line":295,"column":1}},"line":166},"20":{"name":"_callee3","decl":{"start":{"line":169,"column":35},"end":{"line":169,"column":43}},"loc":{"start":{"line":169,"column":59},"end":{"line":290,"column":3}},"line":169},"21":{"name":"_callee3$","decl":{"start":{"line":171,"column":44},"end":{"line":171,"column":53}},"loc":{"start":{"line":171,"column":65},"end":{"line":289,"column":5}},"line":171},"22":{"name":"(anonymous_22)","decl":{"start":{"line":191,"column":53},"end":{"line":191,"column":54}},"loc":{"start":{"line":191,"column":65},"end":{"line":196,"column":13}},"line":191},"23":{"name":"(anonymous_23)","decl":{"start":{"line":207,"column":66},"end":{"line":207,"column":67}},"loc":{"start":{"line":207,"column":78},"end":{"line":212,"column":13}},"line":207},"24":{"name":"(anonymous_24)","decl":{"start":{"line":228,"column":38},"end":{"line":228,"column":39}},"loc":{"start":{"line":228,"column":60},"end":{"line":242,"column":13}},"line":228},"25":{"name":"gen","decl":{"start":{"line":292,"column":18},"end":{"line":292,"column":21}},"loc":{"start":{"line":292,"column":32},"end":{"line":294,"column":3}},"line":292},"26":{"name":"(anonymous_26)","decl":{"start":{"line":301,"column":0},"end":{"line":301,"column":1}},"loc":{"start":{"line":301,"column":12},"end":{"line":383,"column":1}},"line":301},"27":{"name":"_callee4","decl":{"start":{"line":304,"column":35},"end":{"line":304,"column":43}},"loc":{"start":{"line":304,"column":59},"end":{"line":378,"column":3}},"line":304},"28":{"name":"_callee4$","decl":{"start":{"line":306,"column":44},"end":{"line":306,"column":53}},"loc":{"start":{"line":306,"column":65},"end":{"line":377,"column":5}},"line":306},"29":{"name":"(anonymous_29)","decl":{"start":{"line":333,"column":62},"end":{"line":333,"column":63}},"loc":{"start":{"line":333,"column":74},"end":{"line":338,"column":13}},"line":333},"30":{"name":"extend","decl":{"start":{"line":380,"column":18},"end":{"line":380,"column":24}},"loc":{"start":{"line":380,"column":35},"end":{"line":382,"column":3}},"line":380},"31":{"name":"(anonymous_31)","decl":{"start":{"line":389,"column":0},"end":{"line":389,"column":1}},"loc":{"start":{"line":389,"column":12},"end":{"line":448,"column":1}},"line":389},"32":{"name":"_callee5","decl":{"start":{"line":392,"column":35},"end":{"line":392,"column":43}},"loc":{"start":{"line":392,"column":59},"end":{"line":443,"column":3}},"line":392},"33":{"name":"_callee5$","decl":{"start":{"line":394,"column":44},"end":{"line":394,"column":53}},"loc":{"start":{"line":394,"column":65},"end":{"line":442,"column":5}},"line":394},"34":{"name":"destroy","decl":{"start":{"line":445,"column":18},"end":{"line":445,"column":25}},"loc":{"start":{"line":445,"column":38},"end":{"line":447,"column":3}},"line":445}},"branchMap":{"0":{"loc":{"start":{"line":22,"column":46},"end":{"line":22,"column":94}},"type":"cond-expr","locations":[{"start":{"line":22,"column":70},"end":{"line":22,"column":73}},{"start":{"line":22,"column":76},"end":{"line":22,"column":94}}],"line":22},"1":{"loc":{"start":{"line":22,"column":46},"end":{"line":22,"column":67}},"type":"binary-expr","locations":[{"start":{"line":22,"column":46},"end":{"line":22,"column":49}},{"start":{"line":22,"column":53},"end":{"line":22,"column":67}}],"line":22},"2":{"loc":{"start":{"line":24,"column":176},"end":{"line":24,"column":263}},"type":"if","locations":[{"start":{"line":24,"column":176},"end":{"line":24,"column":263}},{"start":{"line":24,"column":176},"end":{"line":24,"column":263}}],"line":24},"3":{"loc":{"start":{"line":38,"column":8},"end":{"line":88,"column":9}},"type":"switch","locations":[{"start":{"line":39,"column":10},"end":{"line":41,"column":55}},{"start":{"line":43,"column":10},"end":{"line":52,"column":54}},{"start":{"line":54,"column":10},"end":{"line":61,"column":15}},{"start":{"line":63,"column":10},"end":{"line":77,"column":18}},{"start":{"line":79,"column":10},"end":{"line":83,"column":15}},{"start":{"line":85,"column":10},"end":{"line":85,"column":18}},{"start":{"line":86,"column":10},"end":{"line":87,"column":35}}],"line":38},"4":{"loc":{"start":{"line":46,"column":12},"end":{"line":49,"column":13}},"type":"if","locations":[{"start":{"line":46,"column":12},"end":{"line":49,"column":13}},{"start":{"line":46,"column":12},"end":{"line":49,"column":13}}],"line":46},"5":{"loc":{"start":{"line":109,"column":8},"end":{"line":154,"column":9}},"type":"switch","locations":[{"start":{"line":110,"column":10},"end":{"line":114,"column":15}},{"start":{"line":116,"column":10},"end":{"line":127,"column":15}},{"start":{"line":129,"column":10},"end":{"line":141,"column":15}},{"start":{"line":143,"column":10},"end":{"line":146,"column":18}},{"start":{"line":148,"column":10},"end":{"line":149,"column":65}},{"start":{"line":151,"column":10},"end":{"line":151,"column":18}},{"start":{"line":152,"column":10},"end":{"line":153,"column":36}}],"line":109},"6":{"loc":{"start":{"line":119,"column":12},"end":{"line":122,"column":13}},"type":"if","locations":[{"start":{"line":119,"column":12},"end":{"line":122,"column":13}},{"start":{"line":119,"column":12},"end":{"line":122,"column":13}}],"line":119},"7":{"loc":{"start":{"line":173,"column":8},"end":{"line":287,"column":9}},"type":"switch","locations":[{"start":{"line":174,"column":10},"end":{"line":176,"column":59}},{"start":{"line":178,"column":10},"end":{"line":187,"column":54}},{"start":{"line":189,"column":10},"end":{"line":196,"column":15}},{"start":{"line":198,"column":10},"end":{"line":212,"column":15}},{"start":{"line":214,"column":10},"end":{"line":242,"column":15}},{"start":{"line":244,"column":10},"end":{"line":246,"column":18}},{"start":{"line":248,"column":10},"end":{"line":252,"column":15}},{"start":{"line":254,"column":10},"end":{"line":256,"column":18}},{"start":{"line":258,"column":10},"end":{"line":262,"column":15}},{"start":{"line":264,"column":10},"end":{"line":266,"column":18}},{"start":{"line":268,"column":10},"end":{"line":272,"column":15}},{"start":{"line":274,"column":10},"end":{"line":276,"column":18}},{"start":{"line":278,"column":10},"end":{"line":282,"column":15}},{"start":{"line":284,"column":10},"end":{"line":284,"column":18}},{"start":{"line":285,"column":10},"end":{"line":286,"column":36}}],"line":173},"8":{"loc":{"start":{"line":181,"column":12},"end":{"line":184,"column":13}},"type":"if","locations":[{"start":{"line":181,"column":12},"end":{"line":184,"column":13}},{"start":{"line":181,"column":12},"end":{"line":184,"column":13}}],"line":181},"9":{"loc":{"start":{"line":201,"column":12},"end":{"line":204,"column":13}},"type":"if","locations":[{"start":{"line":201,"column":12},"end":{"line":204,"column":13}},{"start":{"line":201,"column":12},"end":{"line":204,"column":13}}],"line":201},"10":{"loc":{"start":{"line":201,"column":18},"end":{"line":201,"column":64}},"type":"binary-expr","locations":[{"start":{"line":201,"column":18},"end":{"line":201,"column":25}},{"start":{"line":201,"column":29},"end":{"line":201,"column":39}},{"start":{"line":201,"column":43},"end":{"line":201,"column":50}},{"start":{"line":201,"column":54},"end":{"line":201,"column":64}}],"line":201},"11":{"loc":{"start":{"line":217,"column":12},"end":{"line":220,"column":13}},"type":"if","locations":[{"start":{"line":217,"column":12},"end":{"line":220,"column":13}},{"start":{"line":217,"column":12},"end":{"line":220,"column":13}}],"line":217},"12":{"loc":{"start":{"line":222,"column":12},"end":{"line":225,"column":13}},"type":"if","locations":[{"start":{"line":222,"column":12},"end":{"line":225,"column":13}},{"start":{"line":222,"column":12},"end":{"line":225,"column":13}}],"line":222},"13":{"loc":{"start":{"line":222,"column":18},"end":{"line":222,"column":70}},"type":"binary-expr","locations":[{"start":{"line":222,"column":18},"end":{"line":222,"column":42}},{"start":{"line":222,"column":46},"end":{"line":222,"column":70}}],"line":222},"14":{"loc":{"start":{"line":229,"column":14},"end":{"line":241,"column":15}},"type":"if","locations":[{"start":{"line":229,"column":14},"end":{"line":241,"column":15}},{"start":{"line":229,"column":14},"end":{"line":241,"column":15}}],"line":229},"15":{"loc":{"start":{"line":229,"column":18},"end":{"line":229,"column":31}},"type":"binary-expr","locations":[{"start":{"line":229,"column":18},"end":{"line":229,"column":20}},{"start":{"line":229,"column":24},"end":{"line":229,"column":31}}],"line":229},"16":{"loc":{"start":{"line":308,"column":8},"end":{"line":375,"column":9}},"type":"switch","locations":[{"start":{"line":309,"column":10},"end":{"line":311,"column":58}},{"start":{"line":313,"column":10},"end":{"line":322,"column":54}},{"start":{"line":324,"column":10},"end":{"line":338,"column":15}},{"start":{"line":340,"column":10},"end":{"line":354,"column":18}},{"start":{"line":356,"column":10},"end":{"line":360,"column":15}},{"start":{"line":362,"column":10},"end":{"line":364,"column":18}},{"start":{"line":366,"column":10},"end":{"line":370,"column":15}},{"start":{"line":372,"column":10},"end":{"line":372,"column":18}},{"start":{"line":373,"column":10},"end":{"line":374,"column":36}}],"line":308},"17":{"loc":{"start":{"line":316,"column":12},"end":{"line":319,"column":13}},"type":"if","locations":[{"start":{"line":316,"column":12},"end":{"line":319,"column":13}},{"start":{"line":316,"column":12},"end":{"line":319,"column":13}}],"line":316},"18":{"loc":{"start":{"line":327,"column":12},"end":{"line":330,"column":13}},"type":"if","locations":[{"start":{"line":327,"column":12},"end":{"line":330,"column":13}},{"start":{"line":327,"column":12},"end":{"line":330,"column":13}}],"line":327},"19":{"loc":{"start":{"line":343,"column":12},"end":{"line":351,"column":13}},"type":"if","locations":[{"start":{"line":343,"column":12},"end":{"line":351,"column":13}},{"start":{"line":343,"column":12},"end":{"line":351,"column":13}}],"line":343},"20":{"loc":{"start":{"line":396,"column":8},"end":{"line":440,"column":9}},"type":"switch","locations":[{"start":{"line":397,"column":10},"end":{"line":399,"column":59}},{"start":{"line":401,"column":10},"end":{"line":410,"column":54}},{"start":{"line":412,"column":10},"end":{"line":414,"column":45}},{"start":{"line":416,"column":10},"end":{"line":429,"column":18}},{"start":{"line":431,"column":10},"end":{"line":435,"column":15}},{"start":{"line":437,"column":10},"end":{"line":437,"column":18}},{"start":{"line":438,"column":10},"end":{"line":439,"column":36}}],"line":396},"21":{"loc":{"start":{"line":404,"column":12},"end":{"line":407,"column":13}},"type":"if","locations":[{"start":{"line":404,"column":12},"end":{"line":407,"column":13}},{"start":{"line":404,"column":12},"end":{"line":407,"column":13}}],"line":404},"22":{"loc":{"start":{"line":419,"column":12},"end":{"line":426,"column":13}},"type":"if","locations":[{"start":{"line":419,"column":12},"end":{"line":426,"column":13}},{"start":{"line":419,"column":12},"end":{"line":426,"column":13}}],"line":419}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":22,"11":22,"12":22,"13":0,"14":0,"15":22,"16":5,"17":17,"18":5,"19":5,"20":5,"21":5,"22":5,"23":22,"24":0,"25":5,"26":1,"27":1,"28":1,"29":4,"30":5,"31":1,"32":1,"33":1,"34":1,"35":0,"36":0,"37":1,"38":1,"39":1,"40":1,"41":0,"42":1,"43":1,"44":1,"45":1,"46":0,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":4,"55":5,"56":1,"57":1,"58":0,"59":1,"60":1,"61":0,"62":0,"63":1,"64":1,"65":0,"66":1,"67":1,"68":1,"69":1,"70":1,"71":0,"72":1,"73":1,"74":1,"75":0,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":6,"83":10,"84":1,"85":1,"86":1,"87":1,"88":0,"89":0,"90":1,"91":1,"92":1,"93":1,"94":0,"95":1,"96":1,"97":0,"98":0,"99":1,"100":1,"101":0,"102":1,"103":1,"104":0,"105":0,"106":1,"107":0,"108":0,"109":1,"110":1,"111":1,"112":1,"113":0,"114":1,"115":1,"116":0,"117":1,"118":1,"119":0,"120":1,"121":1,"122":0,"123":1,"124":1,"125":0,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":4,"134":6,"135":1,"136":1,"137":1,"138":1,"139":0,"140":0,"141":1,"142":1,"143":1,"144":1,"145":0,"146":0,"147":1,"148":1,"149":0,"150":1,"151":1,"152":1,"153":1,"154":0,"155":1,"156":1,"157":0,"158":1,"159":1,"160":0,"161":1,"162":1,"163":1,"164":1,"165":1,"166":1,"167":1,"168":4,"169":5,"170":1,"171":1,"172":1,"173":1,"174":0,"175":0,"176":1,"177":1,"178":1,"179":1,"180":1,"181":1,"182":1,"183":0,"184":1,"185":1,"186":0,"187":1,"188":1,"189":1,"190":1},"f":{"0":1,"1":22,"2":5,"3":5,"4":5,"5":22,"6":0,"7":1,"8":1,"9":4,"10":0,"11":1,"12":1,"13":1,"14":4,"15":0,"16":0,"17":0,"18":1,"19":1,"20":1,"21":6,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":4,"29":0,"30":1,"31":1,"32":1,"33":4,"34":1},"b":{"0":[1,0],"1":[1,1],"2":[5,17],"3":[1,1,1,1,0,1,1],"4":[0,1],"5":[1,1,1,1,0,1,1],"6":[0,1],"7":[1,1,1,1,1,1,0,1,0,1,0,1,0,1,1],"8":[0,1],"9":[0,1],"10":[1,1,0,0],"11":[0,1],"12":[0,1],"13":[1,0],"14":[1,0],"15":[1,1],"16":[1,1,1,1,0,1,0,1,1],"17":[0,1],"18":[0,1],"19":[1,0],"20":[1,1,1,1,0,1,1],"21":[0,1],"22":[1,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["get","data","final","tokenGet","isValid","body","valid","db","read","tokenId","s","e","t","o","expiry","role","email","_hash","u","userData","done","password","hashed","Date","now","USER_TOKEN_EXPIRY","tokenObj","create","gen","createSchema","phone","confirmed","extend","tokenExtend","id","tokenData","destroy","tokenDestroy"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\token","sourcesContent":["import { randomID, hash, auth } from '../../lib/security'\r\nimport { USER_TOKEN_EXPIRY } from '../../config'\r\nimport db from '../../lib/db'\r\nimport { user } from '../../lib/schemas'\r\nimport { createSchema, tokenGet, tokenExtend, tokenDestroy } from './schema'\r\nimport { t, setLocale } from '../../lib/translations'\r\nimport { finalizeRequest } from '../../lib/utils'\r\n\r\nexport const get = async (data, final) => {\r\n  const valid = await tokenGet.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const t = await db.read('tokens', data.body.tokenId).catch(() => final(null, { s: 403, e: t('error.token_notfound') }))\r\n    final(null, { s: 200, o: { expiry: t.expiry, tokenId: t.tokenId, role: t.role, email: t.email } })\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nconst _hash = async (u, userData, done) => {\r\n  const hashed = await hash(u.password).catch(() => done(t('error.internal')))\r\n  if (userData.password === hashed) {\r\n    const tokenId = await randomID(32).catch(() => done(t('error.id')))\r\n    const expiry = Date.now() + 1000 * USER_TOKEN_EXPIRY\r\n    const tokenObj = {\r\n      expiry,\r\n      tokenId,\r\n      role: userData.role,\r\n      email: u.email\r\n    }\r\n\r\n    await db.create('tokens', tokenId, tokenObj).catch(() => done(t('error.token')))\r\n    done(null, tokenId)\r\n  } else {\r\n    done(t('error.invalid_password'))\r\n  }\r\n}\r\n\r\nexport const gen = async (data, final) => {\r\n  const valid = await createSchema.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const u = await user(data).catch(() => final(null, { s: 400, e: t('error.required') }))\r\n    if ((u.email && u.password) || (u.phone && u.password)) {\r\n      const userData = await db.read('users', u.email).catch(() => final(null, { s: 400, e: t('error.cannot_read') }))\r\n      if (userData) {\r\n        if (userData.confirmed.email || userData.confirmed.phone) {\r\n          await _hash(u, userData, (e, tokenId) => {\r\n            if (!e && tokenId) {\r\n              final(null, { s: 200, o: { tokenId } })\r\n            } else {\r\n              final(null, { s: 400, e })\r\n            }\r\n          })\r\n        } else {\r\n          final(null, { s: 400, e: t('error.confirmed') })\r\n        }\r\n      } else {\r\n        final(null, { s: 400, e: t('error.no_user') })\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.required') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nexport const extend = async (data, final) => {\r\n  const valid = await tokenExtend.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const id = data.body.tokenId\r\n    if (id) {\r\n      const tokenData = await db.read('tokens', id).catch(() => final(null, { s: 400, e: t('error.token_notfound') }))\r\n      if (tokenData.expiry > Date.now()) {\r\n        tokenData.expiry = Date.now() + 1000 * USER_TOKEN_EXPIRY\r\n        finalizeRequest('tokens', id, 'update', tokenData, final)\r\n      } else {\r\n        final(null, { s: 400, e: t('error.token_expired') })\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.required') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nexport const destroy = async (data, final) => {\r\n  const valid = await tokenDestroy.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const tokenData = await auth(data)\r\n    if (tokenData) {\r\n      finalizeRequest('tokens', tokenData.tokenId, 'destroy', '', final)\r\n    } else {\r\n      final(null, { s: 400, e: t('error.required') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"565b74598ad8628a50a20214cea803ad7e301240","contentHash":"ee2fd9874f6acb4b02e6dd5cd1830edd873109147cc04ca4abb2d26c4817c80a"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\token\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\token\\schema.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":94}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":25}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":37}},"4":{"start":{"line":12,"column":19},"end":{"line":16,"column":2}},"5":{"start":{"line":17,"column":0},"end":{"line":17,"column":36}},"6":{"start":{"line":18,"column":18},"end":{"line":21,"column":2}},"7":{"start":{"line":22,"column":0},"end":{"line":22,"column":34}},"8":{"start":{"line":23,"column":19},"end":{"line":25,"column":2}},"9":{"start":{"line":26,"column":0},"end":{"line":26,"column":36}},"10":{"start":{"line":27,"column":15},"end":{"line":30,"column":2}},"11":{"start":{"line":31,"column":0},"end":{"line":31,"column":28}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["createSchema","shape","email","required","password","min","locale","oneOf","LANGUAGES","tokenExtend","tokenId","length","tokenDestroy","tokenGet"],"mappings":";;;;;;;AAAA;;AAEA;;AAEO,IAAMA,YAAY,GAAG,mBAASC,KAAT,CAAe;AACzCC,EAAAA,KAAK,EAAE,mBAASC,QAAT,GAAoBD,KAApB,EADkC;AAEzCE,EAAAA,QAAQ,EAAE,mBAASD,QAAT,GAAoBE,GAApB,CAAwB,EAAxB,CAF+B;AAGzCC,EAAAA,MAAM,EAAE,mBAASH,QAAT,GAAoBI,KAApB,CAA0BC,iBAA1B;AAHiC,CAAf,CAArB;;AAMA,IAAMC,WAAW,GAAG,mBAASR,KAAT,CAAe;AACxCS,EAAAA,OAAO,EAAE,mBAASP,QAAT,GAAoBQ,MAApB,CAA2B,EAA3B,CAD+B;AAExCL,EAAAA,MAAM,EAAE,mBAASH,QAAT,GAAoBI,KAApB,CAA0BC,iBAA1B;AAFgC,CAAf,CAApB;;AAKA,IAAMI,YAAY,GAAG,mBAASX,KAAT,CAAe;AACzCK,EAAAA,MAAM,EAAE,mBAASH,QAAT,GAAoBI,KAApB,CAA0BC,iBAA1B;AADiC,CAAf,CAArB;;AAIA,IAAMK,QAAQ,GAAG,mBAASZ,KAAT,CAAe;AACrCS,EAAAA,OAAO,EAAE,mBAASP,QAAT,GAAoBQ,MAApB,CAA2B,EAA3B,CAD4B;AAErCL,EAAAA,MAAM,EAAE,mBAASH,QAAT,GAAoBI,KAApB,CAA0BC,iBAA1B;AAF6B,CAAf,CAAjB","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\token","sourcesContent":["import { object, string } from 'yup'\r\n\r\nimport { LANGUAGES } from '../../config'\r\n\r\nexport const createSchema = object().shape({\r\n  email: string().required().email(),\r\n  password: string().required().min(12),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const tokenExtend = object().shape({\r\n  tokenId: string().required().length(64),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const tokenDestroy = object().shape({\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const tokenGet = object().shape({\r\n  tokenId: string().required().length(64),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"404ab7670c3c811df404946255b41d3525967a9e","contentHash":"aae074f6d56d181595a3850e78bba1f35f2f228c43427415195140a44f127a83"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\confirm\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\confirm\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":37}},"3":{"start":{"line":10,"column":10},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":16},"end":{"line":12,"column":45}},"5":{"start":{"line":14,"column":13},"end":{"line":14,"column":63}},"6":{"start":{"line":16,"column":20},"end":{"line":16,"column":53}},"7":{"start":{"line":18,"column":14},"end":{"line":18,"column":33}},"8":{"start":{"line":20,"column":13},"end":{"line":20,"column":39}},"9":{"start":{"line":22,"column":39},"end":{"line":22,"column":95}},"10":{"start":{"line":24,"column":77},"end":{"line":24,"column":175}},"11":{"start":{"line":24,"column":94},"end":{"line":24,"column":107}},"12":{"start":{"line":24,"column":121},"end":{"line":24,"column":131}},"13":{"start":{"line":24,"column":151},"end":{"line":24,"column":165}},"14":{"start":{"line":24,"column":166},"end":{"line":24,"column":173}},"15":{"start":{"line":24,"column":176},"end":{"line":24,"column":263}},"16":{"start":{"line":24,"column":193},"end":{"line":24,"column":208}},"17":{"start":{"line":24,"column":218},"end":{"line":24,"column":261}},"18":{"start":{"line":26,"column":33},"end":{"line":26,"column":387}},"19":{"start":{"line":26,"column":65},"end":{"line":26,"column":69}},"20":{"start":{"line":26,"column":78},"end":{"line":26,"column":87}},"21":{"start":{"line":26,"column":89},"end":{"line":26,"column":384}},"22":{"start":{"line":26,"column":147},"end":{"line":26,"column":167}},"23":{"start":{"line":26,"column":193},"end":{"line":26,"column":264}},"24":{"start":{"line":26,"column":290},"end":{"line":26,"column":360}},"25":{"start":{"line":26,"column":363},"end":{"line":26,"column":380}},"26":{"start":{"line":30,"column":0},"end":{"line":64,"column":3}},"27":{"start":{"line":31,"column":13},"end":{"line":59,"column":5}},"28":{"start":{"line":35,"column":4},"end":{"line":58,"column":16}},"29":{"start":{"line":36,"column":6},"end":{"line":57,"column":7}},"30":{"start":{"line":37,"column":8},"end":{"line":56,"column":9}},"31":{"start":{"line":39,"column":12},"end":{"line":39,"column":107}},"32":{"start":{"line":40,"column":12},"end":{"line":40,"column":188}},"33":{"start":{"line":41,"column":12},"end":{"line":41,"column":30}},"34":{"start":{"line":42,"column":12},"end":{"line":44,"column":15}},"35":{"start":{"line":43,"column":14},"end":{"line":43,"column":29}},"36":{"start":{"line":47,"column":12},"end":{"line":47,"column":30}},"37":{"start":{"line":49,"column":12},"end":{"line":51,"column":13}},"38":{"start":{"line":50,"column":14},"end":{"line":50,"column":21}},"39":{"start":{"line":55,"column":12},"end":{"line":55,"column":35}},"40":{"start":{"line":61,"column":2},"end":{"line":63,"column":4}},"41":{"start":{"line":62,"column":4},"end":{"line":62,"column":39}},"42":{"start":{"line":68,"column":0},"end":{"line":128,"column":3}},"43":{"start":{"line":69,"column":14},"end":{"line":123,"column":5}},"44":{"start":{"line":73,"column":4},"end":{"line":122,"column":17}},"45":{"start":{"line":74,"column":6},"end":{"line":121,"column":7}},"46":{"start":{"line":75,"column":8},"end":{"line":120,"column":9}},"47":{"start":{"line":77,"column":12},"end":{"line":80,"column":13}},"48":{"start":{"line":78,"column":14},"end":{"line":78,"column":34}},"49":{"start":{"line":79,"column":14},"end":{"line":79,"column":20}},"50":{"start":{"line":82,"column":12},"end":{"line":82,"column":31}},"51":{"start":{"line":83,"column":12},"end":{"line":85,"column":15}},"52":{"start":{"line":84,"column":14},"end":{"line":84,"column":66}},"53":{"start":{"line":88,"column":12},"end":{"line":88,"column":38}},"54":{"start":{"line":89,"column":12},"end":{"line":89,"column":31}},"55":{"start":{"line":90,"column":12},"end":{"line":92,"column":15}},"56":{"start":{"line":91,"column":14},"end":{"line":91,"column":62}},"57":{"start":{"line":95,"column":12},"end":{"line":95,"column":36}},"58":{"start":{"line":96,"column":12},"end":{"line":96,"column":39}},"59":{"start":{"line":97,"column":12},"end":{"line":97,"column":44}},"60":{"start":{"line":98,"column":12},"end":{"line":98,"column":32}},"61":{"start":{"line":99,"column":12},"end":{"line":105,"column":15}},"62":{"start":{"line":100,"column":14},"end":{"line":104,"column":15}},"63":{"start":{"line":101,"column":16},"end":{"line":101,"column":96}},"64":{"start":{"line":103,"column":16},"end":{"line":103,"column":26}},"65":{"start":{"line":108,"column":12},"end":{"line":108,"column":32}},"66":{"start":{"line":109,"column":12},"end":{"line":109,"column":18}},"67":{"start":{"line":112,"column":12},"end":{"line":115,"column":13}},"68":{"start":{"line":113,"column":14},"end":{"line":113,"column":56}},"69":{"start":{"line":114,"column":14},"end":{"line":114,"column":94}},"70":{"start":{"line":119,"column":12},"end":{"line":119,"column":36}},"71":{"start":{"line":125,"column":2},"end":{"line":127,"column":4}},"72":{"start":{"line":126,"column":4},"end":{"line":126,"column":40}},"73":{"start":{"line":132,"column":0},"end":{"line":278,"column":3}},"74":{"start":{"line":133,"column":14},"end":{"line":273,"column":5}},"75":{"start":{"line":137,"column":4},"end":{"line":272,"column":17}},"76":{"start":{"line":138,"column":6},"end":{"line":271,"column":7}},"77":{"start":{"line":139,"column":8},"end":{"line":270,"column":9}},"78":{"start":{"line":141,"column":12},"end":{"line":141,"column":31}},"79":{"start":{"line":142,"column":12},"end":{"line":142,"column":60}},"80":{"start":{"line":145,"column":12},"end":{"line":145,"column":35}},"81":{"start":{"line":147,"column":12},"end":{"line":150,"column":13}},"82":{"start":{"line":148,"column":14},"end":{"line":148,"column":34}},"83":{"start":{"line":149,"column":14},"end":{"line":149,"column":20}},"84":{"start":{"line":152,"column":12},"end":{"line":152,"column":31}},"85":{"start":{"line":153,"column":12},"end":{"line":153,"column":54}},"86":{"start":{"line":156,"column":12},"end":{"line":156,"column":33}},"87":{"start":{"line":157,"column":12},"end":{"line":157,"column":31}},"88":{"start":{"line":158,"column":12},"end":{"line":163,"column":15}},"89":{"start":{"line":159,"column":14},"end":{"line":162,"column":17}},"90":{"start":{"line":166,"column":12},"end":{"line":166,"column":39}},"91":{"start":{"line":168,"column":12},"end":{"line":171,"column":13}},"92":{"start":{"line":169,"column":14},"end":{"line":169,"column":34}},"93":{"start":{"line":170,"column":14},"end":{"line":170,"column":20}},"94":{"start":{"line":173,"column":12},"end":{"line":176,"column":13}},"95":{"start":{"line":174,"column":14},"end":{"line":174,"column":34}},"96":{"start":{"line":175,"column":14},"end":{"line":175,"column":20}},"97":{"start":{"line":178,"column":12},"end":{"line":178,"column":32}},"98":{"start":{"line":179,"column":12},"end":{"line":184,"column":15}},"99":{"start":{"line":180,"column":14},"end":{"line":183,"column":17}},"100":{"start":{"line":187,"column":12},"end":{"line":187,"column":38}},"101":{"start":{"line":188,"column":12},"end":{"line":188,"column":32}},"102":{"start":{"line":189,"column":12},"end":{"line":235,"column":17}},"103":{"start":{"line":192,"column":26},"end":{"line":230,"column":17}},"104":{"start":{"line":195,"column":16},"end":{"line":229,"column":29}},"105":{"start":{"line":196,"column":18},"end":{"line":228,"column":19}},"106":{"start":{"line":197,"column":20},"end":{"line":227,"column":21}},"107":{"start":{"line":199,"column":24},"end":{"line":202,"column":25}},"108":{"start":{"line":200,"column":26},"end":{"line":200,"column":45}},"109":{"start":{"line":201,"column":26},"end":{"line":201,"column":32}},"110":{"start":{"line":204,"column":24},"end":{"line":204,"column":43}},"111":{"start":{"line":205,"column":24},"end":{"line":210,"column":27}},"112":{"start":{"line":206,"column":26},"end":{"line":209,"column":29}},"113":{"start":{"line":213,"column":24},"end":{"line":213,"column":43}},"114":{"start":{"line":215,"column":24},"end":{"line":215,"column":43}},"115":{"start":{"line":216,"column":24},"end":{"line":216,"column":30}},"116":{"start":{"line":219,"column":24},"end":{"line":222,"column":27}},"117":{"start":{"line":226,"column":24},"end":{"line":226,"column":48}},"118":{"start":{"line":232,"column":14},"end":{"line":234,"column":16}},"119":{"start":{"line":233,"column":16},"end":{"line":233,"column":52}},"120":{"start":{"line":238,"column":12},"end":{"line":238,"column":32}},"121":{"start":{"line":239,"column":12},"end":{"line":239,"column":18}},"122":{"start":{"line":242,"column":12},"end":{"line":245,"column":15}},"123":{"start":{"line":248,"column":12},"end":{"line":248,"column":32}},"124":{"start":{"line":249,"column":12},"end":{"line":249,"column":18}},"125":{"start":{"line":252,"column":12},"end":{"line":255,"column":15}},"126":{"start":{"line":258,"column":12},"end":{"line":258,"column":32}},"127":{"start":{"line":259,"column":12},"end":{"line":259,"column":18}},"128":{"start":{"line":262,"column":12},"end":{"line":265,"column":15}},"129":{"start":{"line":269,"column":12},"end":{"line":269,"column":36}},"130":{"start":{"line":275,"column":2},"end":{"line":277,"column":4}},"131":{"start":{"line":276,"column":4},"end":{"line":276,"column":40}},"132":{"start":{"line":280,"column":0},"end":{"line":280,"column":26}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":31}},"loc":{"start":{"line":22,"column":37},"end":{"line":22,"column":97}},"line":22},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":24,"column":9},"end":{"line":24,"column":27}},"loc":{"start":{"line":24,"column":75},"end":{"line":24,"column":265}},"line":24},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":26,"column":9},"end":{"line":26,"column":26}},"loc":{"start":{"line":26,"column":31},"end":{"line":26,"column":389}},"line":26},"3":{"name":"(anonymous_3)","decl":{"start":{"line":26,"column":40},"end":{"line":26,"column":41}},"loc":{"start":{"line":26,"column":52},"end":{"line":26,"column":386}},"line":26},"4":{"name":"(anonymous_4)","decl":{"start":{"line":26,"column":108},"end":{"line":26,"column":109}},"loc":{"start":{"line":26,"column":135},"end":{"line":26,"column":382}},"line":26},"5":{"name":"_next","decl":{"start":{"line":26,"column":178},"end":{"line":26,"column":183}},"loc":{"start":{"line":26,"column":191},"end":{"line":26,"column":266}},"line":26},"6":{"name":"_throw","decl":{"start":{"line":26,"column":276},"end":{"line":26,"column":282}},"loc":{"start":{"line":26,"column":288},"end":{"line":26,"column":362}},"line":26},"7":{"name":"(anonymous_7)","decl":{"start":{"line":30,"column":0},"end":{"line":30,"column":1}},"loc":{"start":{"line":30,"column":12},"end":{"line":64,"column":1}},"line":30},"8":{"name":"_callee","decl":{"start":{"line":33,"column":35},"end":{"line":33,"column":42}},"loc":{"start":{"line":33,"column":66},"end":{"line":59,"column":3}},"line":33},"9":{"name":"_callee$","decl":{"start":{"line":35,"column":44},"end":{"line":35,"column":52}},"loc":{"start":{"line":35,"column":63},"end":{"line":58,"column":5}},"line":35},"10":{"name":"(anonymous_10)","decl":{"start":{"line":42,"column":72},"end":{"line":42,"column":73}},"loc":{"start":{"line":42,"column":85},"end":{"line":44,"column":13}},"line":42},"11":{"name":"sendNewPassword","decl":{"start":{"line":61,"column":18},"end":{"line":61,"column":33}},"loc":{"start":{"line":61,"column":48},"end":{"line":63,"column":3}},"line":61},"12":{"name":"(anonymous_12)","decl":{"start":{"line":68,"column":0},"end":{"line":68,"column":1}},"loc":{"start":{"line":68,"column":12},"end":{"line":128,"column":1}},"line":68},"13":{"name":"_callee2","decl":{"start":{"line":71,"column":35},"end":{"line":71,"column":43}},"loc":{"start":{"line":71,"column":71},"end":{"line":123,"column":3}},"line":71},"14":{"name":"_callee2$","decl":{"start":{"line":73,"column":44},"end":{"line":73,"column":53}},"loc":{"start":{"line":73,"column":65},"end":{"line":122,"column":5}},"line":73},"15":{"name":"(anonymous_15)","decl":{"start":{"line":83,"column":56},"end":{"line":83,"column":57}},"loc":{"start":{"line":83,"column":68},"end":{"line":85,"column":13}},"line":83},"16":{"name":"(anonymous_16)","decl":{"start":{"line":90,"column":58},"end":{"line":90,"column":59}},"loc":{"start":{"line":90,"column":70},"end":{"line":92,"column":13}},"line":90},"17":{"name":"(anonymous_17)","decl":{"start":{"line":99,"column":61},"end":{"line":99,"column":62}},"loc":{"start":{"line":99,"column":76},"end":{"line":105,"column":13}},"line":99},"18":{"name":"selectType","decl":{"start":{"line":125,"column":18},"end":{"line":125,"column":28}},"loc":{"start":{"line":125,"column":44},"end":{"line":127,"column":3}},"line":125},"19":{"name":"(anonymous_19)","decl":{"start":{"line":132,"column":0},"end":{"line":132,"column":1}},"loc":{"start":{"line":132,"column":12},"end":{"line":278,"column":1}},"line":132},"20":{"name":"_callee4","decl":{"start":{"line":135,"column":35},"end":{"line":135,"column":43}},"loc":{"start":{"line":135,"column":58},"end":{"line":273,"column":3}},"line":135},"21":{"name":"_callee4$","decl":{"start":{"line":137,"column":44},"end":{"line":137,"column":53}},"loc":{"start":{"line":137,"column":65},"end":{"line":272,"column":5}},"line":137},"22":{"name":"(anonymous_22)","decl":{"start":{"line":158,"column":64},"end":{"line":158,"column":65}},"loc":{"start":{"line":158,"column":76},"end":{"line":163,"column":13}},"line":158},"23":{"name":"(anonymous_23)","decl":{"start":{"line":179,"column":74},"end":{"line":179,"column":75}},"loc":{"start":{"line":179,"column":86},"end":{"line":184,"column":13}},"line":179},"24":{"name":"(anonymous_24)","decl":{"start":{"line":191,"column":12},"end":{"line":191,"column":13}},"loc":{"start":{"line":191,"column":24},"end":{"line":235,"column":13}},"line":191},"25":{"name":"_callee3","decl":{"start":{"line":194,"column":47},"end":{"line":194,"column":55}},"loc":{"start":{"line":194,"column":65},"end":{"line":230,"column":15}},"line":194},"26":{"name":"_callee3$","decl":{"start":{"line":195,"column":56},"end":{"line":195,"column":65}},"loc":{"start":{"line":195,"column":77},"end":{"line":229,"column":17}},"line":195},"27":{"name":"(anonymous_27)","decl":{"start":{"line":205,"column":79},"end":{"line":205,"column":80}},"loc":{"start":{"line":205,"column":91},"end":{"line":210,"column":25}},"line":205},"28":{"name":"(anonymous_28)","decl":{"start":{"line":232,"column":21},"end":{"line":232,"column":22}},"loc":{"start":{"line":232,"column":42},"end":{"line":234,"column":15}},"line":232},"29":{"name":"confirm","decl":{"start":{"line":275,"column":18},"end":{"line":275,"column":25}},"loc":{"start":{"line":275,"column":36},"end":{"line":277,"column":3}},"line":275}},"branchMap":{"0":{"loc":{"start":{"line":22,"column":46},"end":{"line":22,"column":94}},"type":"cond-expr","locations":[{"start":{"line":22,"column":70},"end":{"line":22,"column":73}},{"start":{"line":22,"column":76},"end":{"line":22,"column":94}}],"line":22},"1":{"loc":{"start":{"line":22,"column":46},"end":{"line":22,"column":67}},"type":"binary-expr","locations":[{"start":{"line":22,"column":46},"end":{"line":22,"column":49}},{"start":{"line":22,"column":53},"end":{"line":22,"column":67}}],"line":22},"2":{"loc":{"start":{"line":24,"column":176},"end":{"line":24,"column":263}},"type":"if","locations":[{"start":{"line":24,"column":176},"end":{"line":24,"column":263}},{"start":{"line":24,"column":176},"end":{"line":24,"column":263}}],"line":24},"3":{"loc":{"start":{"line":37,"column":8},"end":{"line":56,"column":9}},"type":"switch","locations":[{"start":{"line":38,"column":10},"end":{"line":44,"column":15}},{"start":{"line":46,"column":10},"end":{"line":51,"column":13}},{"start":{"line":53,"column":10},"end":{"line":53,"column":17}},{"start":{"line":54,"column":10},"end":{"line":55,"column":35}}],"line":37},"4":{"loc":{"start":{"line":49,"column":12},"end":{"line":51,"column":13}},"type":"if","locations":[{"start":{"line":49,"column":12},"end":{"line":51,"column":13}},{"start":{"line":49,"column":12},"end":{"line":51,"column":13}}],"line":49},"5":{"loc":{"start":{"line":75,"column":8},"end":{"line":120,"column":9}},"type":"switch","locations":[{"start":{"line":76,"column":10},"end":{"line":85,"column":15}},{"start":{"line":87,"column":10},"end":{"line":92,"column":15}},{"start":{"line":94,"column":10},"end":{"line":105,"column":15}},{"start":{"line":107,"column":10},"end":{"line":109,"column":18}},{"start":{"line":111,"column":10},"end":{"line":115,"column":13}},{"start":{"line":117,"column":10},"end":{"line":117,"column":18}},{"start":{"line":118,"column":10},"end":{"line":119,"column":36}}],"line":75},"6":{"loc":{"start":{"line":77,"column":12},"end":{"line":80,"column":13}},"type":"if","locations":[{"start":{"line":77,"column":12},"end":{"line":80,"column":13}},{"start":{"line":77,"column":12},"end":{"line":80,"column":13}}],"line":77},"7":{"loc":{"start":{"line":100,"column":14},"end":{"line":104,"column":15}},"type":"if","locations":[{"start":{"line":100,"column":14},"end":{"line":104,"column":15}},{"start":{"line":100,"column":14},"end":{"line":104,"column":15}}],"line":100},"8":{"loc":{"start":{"line":112,"column":12},"end":{"line":115,"column":13}},"type":"if","locations":[{"start":{"line":112,"column":12},"end":{"line":115,"column":13}},{"start":{"line":112,"column":12},"end":{"line":115,"column":13}}],"line":112},"9":{"loc":{"start":{"line":112,"column":16},"end":{"line":112,"column":72}},"type":"binary-expr","locations":[{"start":{"line":112,"column":16},"end":{"line":112,"column":42}},{"start":{"line":112,"column":46},"end":{"line":112,"column":72}}],"line":112},"10":{"loc":{"start":{"line":139,"column":8},"end":{"line":270,"column":9}},"type":"switch","locations":[{"start":{"line":140,"column":10},"end":{"line":142,"column":60}},{"start":{"line":144,"column":10},"end":{"line":153,"column":54}},{"start":{"line":155,"column":10},"end":{"line":163,"column":15}},{"start":{"line":165,"column":10},"end":{"line":184,"column":15}},{"start":{"line":186,"column":10},"end":{"line":235,"column":17}},{"start":{"line":237,"column":10},"end":{"line":239,"column":18}},{"start":{"line":241,"column":10},"end":{"line":245,"column":15}},{"start":{"line":247,"column":10},"end":{"line":249,"column":18}},{"start":{"line":251,"column":10},"end":{"line":255,"column":15}},{"start":{"line":257,"column":10},"end":{"line":259,"column":18}},{"start":{"line":261,"column":10},"end":{"line":265,"column":15}},{"start":{"line":267,"column":10},"end":{"line":267,"column":18}},{"start":{"line":268,"column":10},"end":{"line":269,"column":36}}],"line":139},"11":{"loc":{"start":{"line":147,"column":12},"end":{"line":150,"column":13}},"type":"if","locations":[{"start":{"line":147,"column":12},"end":{"line":150,"column":13}},{"start":{"line":147,"column":12},"end":{"line":150,"column":13}}],"line":147},"12":{"loc":{"start":{"line":168,"column":12},"end":{"line":171,"column":13}},"type":"if","locations":[{"start":{"line":168,"column":12},"end":{"line":171,"column":13}},{"start":{"line":168,"column":12},"end":{"line":171,"column":13}}],"line":168},"13":{"loc":{"start":{"line":173,"column":12},"end":{"line":176,"column":13}},"type":"if","locations":[{"start":{"line":173,"column":12},"end":{"line":176,"column":13}},{"start":{"line":173,"column":12},"end":{"line":176,"column":13}}],"line":173},"14":{"loc":{"start":{"line":197,"column":20},"end":{"line":227,"column":21}},"type":"switch","locations":[{"start":{"line":198,"column":22},"end":{"line":210,"column":27}},{"start":{"line":212,"column":22},"end":{"line":216,"column":30}},{"start":{"line":218,"column":22},"end":{"line":222,"column":27}},{"start":{"line":224,"column":22},"end":{"line":224,"column":29}},{"start":{"line":225,"column":22},"end":{"line":226,"column":48}}],"line":197},"15":{"loc":{"start":{"line":199,"column":24},"end":{"line":202,"column":25}},"type":"if","locations":[{"start":{"line":199,"column":24},"end":{"line":202,"column":25}},{"start":{"line":199,"column":24},"end":{"line":202,"column":25}}],"line":199},"16":{"loc":{"start":{"line":199,"column":30},"end":{"line":199,"column":40}},"type":"binary-expr","locations":[{"start":{"line":199,"column":30},"end":{"line":199,"column":32}},{"start":{"line":199,"column":36},"end":{"line":199,"column":40}}],"line":199}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":2,"10":23,"11":23,"12":23,"13":0,"14":0,"15":23,"16":7,"17":16,"18":5,"19":7,"20":7,"21":7,"22":7,"23":23,"24":0,"25":7,"26":1,"27":1,"28":1,"29":2,"30":2,"31":1,"32":1,"33":1,"34":1,"35":0,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":2,"45":5,"46":7,"47":2,"48":1,"49":1,"50":1,"51":1,"52":0,"53":1,"54":1,"55":1,"56":0,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":0,"65":1,"66":1,"67":1,"68":1,"69":1,"70":2,"71":1,"72":2,"73":1,"74":1,"75":2,"76":12,"77":18,"78":2,"79":2,"80":2,"81":2,"82":0,"83":0,"84":2,"85":2,"86":2,"87":2,"88":2,"89":0,"90":2,"91":2,"92":0,"93":0,"94":2,"95":0,"96":0,"97":2,"98":2,"99":0,"100":2,"101":2,"102":2,"103":2,"104":2,"105":4,"106":6,"107":2,"108":0,"109":0,"110":2,"111":2,"112":0,"113":2,"114":2,"115":2,"116":0,"117":2,"118":2,"119":2,"120":2,"121":2,"122":0,"123":2,"124":2,"125":0,"126":2,"127":2,"128":0,"129":2,"130":1,"131":2,"132":1},"f":{"0":2,"1":23,"2":5,"3":7,"4":7,"5":23,"6":0,"7":1,"8":1,"9":2,"10":0,"11":1,"12":1,"13":2,"14":5,"15":0,"16":0,"17":1,"18":2,"19":1,"20":2,"21":12,"22":0,"23":0,"24":2,"25":2,"26":4,"27":0,"28":2,"29":2},"b":{"0":[2,0],"1":[2,2],"2":[7,16],"3":[1,1,1,1],"4":[1,0],"5":[2,1,1,1,1,2,2],"6":[1,1],"7":[1,0],"8":[1,0],"9":[1,0],"10":[2,2,2,2,2,2,0,2,0,2,0,2,2],"11":[0,2],"12":[0,2],"13":[0,2],"14":[2,2,0,2,2],"15":[0,2],"16":[2,2]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["sendNewPassword","email","password","done","subject","COMPANY","msg","BASE_URL","e","selectType","tokenData","userData","type","hashed","updatedAt","Date","now","err","confirmed","confirm","data","final","confirmSchema","isValid","body","valid","id","token","db","read","s","expiry","destroy"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\confirm","sourcesContent":["import { BASE_URL, COMPANY } from '../../config'\r\nimport db from '../../lib/db'\r\nimport { hash, randomID } from '../../lib/security'\r\nimport sendEmail from '../../lib/email'\r\nimport { t, setLocale } from '../../lib/translations'\r\nimport { confirmSchema } from './schema'\r\nimport { finalizeRequest } from '../../lib/utils'\r\n\r\nconst sendNewPassword = async (email, password, done) => {\r\n  const subject = `${t('reset.email_password')} ${COMPANY}`\r\n  const msg = `${t('reset.email_password')} <a href='${BASE_URL}'>${COMPANY}</a>:\r\n    <h4>${password}</h4>`\r\n  const e = await sendEmail(email, subject, msg).catch((e) => done(e))\r\n  if (!e) {\r\n    done()\r\n  }\r\n}\r\n\r\nconst selectType = async (tokenData, userData, done) => {\r\n  if (tokenData.type === 'reset') {\r\n    const password = await randomID(16).catch(() => done(t('error.generate')))\r\n    const hashed = await hash(password).catch(() => done(t('error.hash')))\r\n    userData.password = hashed\r\n    userData.updatedAt = Date.now()\r\n    await sendNewPassword(userData.email, password, (err) => {\r\n      if (!err) {\r\n        finalizeRequest('users', tokenData.email, 'update', userData, done)\r\n      } else {\r\n        done(err)\r\n      }\r\n    })\r\n  } else if (tokenData.type === 'email' || tokenData.type === 'phone') {\r\n    userData.confirmed[tokenData.type] = true\r\n    finalizeRequest('users', tokenData.email, 'update', userData, done)\r\n  }\r\n}\r\n\r\nexport const confirm = async (data, final) => {\r\n  const valid = await confirmSchema.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const id = data.body.token\r\n    const tokenData = await db.read('confirms', id).catch(() => final(null, { s: 403, e: t('error.token_notfound') }))\r\n    if (tokenData.expiry > Date.now()) {\r\n      if (tokenData.token === id) {\r\n        const userData = await db.read('users', tokenData.email).catch(() => final(null, { s: 400, e: t('error.no_user') }))\r\n        await selectType(tokenData, userData, async (e, data) => {\r\n          if (!e && data) {\r\n            await db.destroy('confirms', id).catch(() => final(null, { s: 400, e: t('error.token_delete') }))\r\n            final(null, data)\r\n          } else {\r\n            final(null, { s: 400, e })\r\n          }\r\n        })\r\n      } else {\r\n        final(null, { s: 403, e: t('error.token_invalid') })\r\n      }\r\n    } else {\r\n      final(null, { s: 403, e: t('error.token_expired') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c601a5ea29886c16944de90008de564a09067333","contentHash":"880cc0e0aa077bab6dfe54e03d0cf9dca656444cdbb5501925dcee21c6c0a53f"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\confirm\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\confirm\\schema.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":25}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":37}},"4":{"start":{"line":12,"column":20},"end":{"line":15,"column":2}},"5":{"start":{"line":16,"column":0},"end":{"line":16,"column":38}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["confirmSchema","shape","token","required","length","locale","oneOf","LANGUAGES"],"mappings":";;;;;;;AAAA;;AAEA;;AAEO,IAAMA,aAAa,GAAG,mBAASC,KAAT,CAAe;AAC1CC,EAAAA,KAAK,EAAE,mBAASC,QAAT,GAAoBC,MAApB,CAA2B,EAA3B,CADmC;AAE1CC,EAAAA,MAAM,EAAE,mBAASF,QAAT,GAAoBG,KAApB,CAA0BC,iBAA1B;AAFkC,CAAf,CAAtB","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\confirm","sourcesContent":["import { object, string } from 'yup'\r\n\r\nimport { LANGUAGES } from '../../config'\r\n\r\nexport const confirmSchema = object().shape({\r\n  token: string().required().length(64),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c106f3311e98a7843e176df7f847025904982cc0","contentHash":"8bec8a1c68090f505146cabfbe5cbb00075cec8fe8d8d9ea91d515d7566b60ee"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\refer\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\refer\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":56}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":27}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":37}},"4":{"start":{"line":12,"column":10},"end":{"line":12,"column":57}},"5":{"start":{"line":14,"column":13},"end":{"line":14,"column":63}},"6":{"start":{"line":16,"column":16},"end":{"line":16,"column":45}},"7":{"start":{"line":18,"column":20},"end":{"line":18,"column":53}},"8":{"start":{"line":20,"column":14},"end":{"line":20,"column":33}},"9":{"start":{"line":22,"column":13},"end":{"line":22,"column":39}},"10":{"start":{"line":24,"column":39},"end":{"line":24,"column":95}},"11":{"start":{"line":26,"column":77},"end":{"line":26,"column":175}},"12":{"start":{"line":26,"column":94},"end":{"line":26,"column":107}},"13":{"start":{"line":26,"column":121},"end":{"line":26,"column":131}},"14":{"start":{"line":26,"column":151},"end":{"line":26,"column":165}},"15":{"start":{"line":26,"column":166},"end":{"line":26,"column":173}},"16":{"start":{"line":26,"column":176},"end":{"line":26,"column":263}},"17":{"start":{"line":26,"column":193},"end":{"line":26,"column":208}},"18":{"start":{"line":26,"column":218},"end":{"line":26,"column":261}},"19":{"start":{"line":28,"column":33},"end":{"line":28,"column":387}},"20":{"start":{"line":28,"column":65},"end":{"line":28,"column":69}},"21":{"start":{"line":28,"column":78},"end":{"line":28,"column":87}},"22":{"start":{"line":28,"column":89},"end":{"line":28,"column":384}},"23":{"start":{"line":28,"column":147},"end":{"line":28,"column":167}},"24":{"start":{"line":28,"column":193},"end":{"line":28,"column":264}},"25":{"start":{"line":28,"column":290},"end":{"line":28,"column":360}},"26":{"start":{"line":28,"column":363},"end":{"line":28,"column":380}},"27":{"start":{"line":32,"column":0},"end":{"line":67,"column":3}},"28":{"start":{"line":33,"column":13},"end":{"line":62,"column":5}},"29":{"start":{"line":37,"column":4},"end":{"line":61,"column":16}},"30":{"start":{"line":38,"column":6},"end":{"line":60,"column":7}},"31":{"start":{"line":39,"column":8},"end":{"line":59,"column":9}},"32":{"start":{"line":41,"column":12},"end":{"line":41,"column":44}},"33":{"start":{"line":42,"column":12},"end":{"line":47,"column":14}},"34":{"start":{"line":48,"column":12},"end":{"line":48,"column":30}},"35":{"start":{"line":49,"column":12},"end":{"line":51,"column":15}},"36":{"start":{"line":50,"column":14},"end":{"line":50,"column":62}},"37":{"start":{"line":54,"column":12},"end":{"line":54,"column":30}},"38":{"start":{"line":58,"column":12},"end":{"line":58,"column":35}},"39":{"start":{"line":64,"column":2},"end":{"line":66,"column":4}},"40":{"start":{"line":65,"column":4},"end":{"line":65,"column":39}},"41":{"start":{"line":69,"column":20},"end":{"line":69,"column":56}},"42":{"start":{"line":73,"column":0},"end":{"line":113,"column":3}},"43":{"start":{"line":74,"column":14},"end":{"line":108,"column":5}},"44":{"start":{"line":78,"column":4},"end":{"line":107,"column":17}},"45":{"start":{"line":79,"column":6},"end":{"line":106,"column":7}},"46":{"start":{"line":80,"column":8},"end":{"line":105,"column":9}},"47":{"start":{"line":82,"column":12},"end":{"line":82,"column":100}},"48":{"start":{"line":83,"column":12},"end":{"line":86,"column":15}},"49":{"start":{"line":87,"column":12},"end":{"line":87,"column":31}},"50":{"start":{"line":88,"column":12},"end":{"line":90,"column":15}},"51":{"start":{"line":89,"column":14},"end":{"line":89,"column":23}},"52":{"start":{"line":93,"column":12},"end":{"line":93,"column":31}},"53":{"start":{"line":95,"column":12},"end":{"line":98,"column":13}},"54":{"start":{"line":96,"column":14},"end":{"line":96,"column":33}},"55":{"start":{"line":97,"column":14},"end":{"line":97,"column":20}},"56":{"start":{"line":100,"column":12},"end":{"line":100,"column":53}},"57":{"start":{"line":104,"column":12},"end":{"line":104,"column":36}},"58":{"start":{"line":110,"column":2},"end":{"line":112,"column":4}},"59":{"start":{"line":111,"column":4},"end":{"line":111,"column":40}},"60":{"start":{"line":117,"column":0},"end":{"line":185,"column":3}},"61":{"start":{"line":118,"column":14},"end":{"line":180,"column":5}},"62":{"start":{"line":122,"column":4},"end":{"line":179,"column":17}},"63":{"start":{"line":123,"column":6},"end":{"line":178,"column":7}},"64":{"start":{"line":124,"column":8},"end":{"line":177,"column":9}},"65":{"start":{"line":126,"column":12},"end":{"line":126,"column":31}},"66":{"start":{"line":127,"column":12},"end":{"line":132,"column":15}},"67":{"start":{"line":128,"column":14},"end":{"line":131,"column":17}},"68":{"start":{"line":135,"column":12},"end":{"line":135,"column":38}},"69":{"start":{"line":137,"column":12},"end":{"line":140,"column":13}},"70":{"start":{"line":138,"column":14},"end":{"line":138,"column":34}},"71":{"start":{"line":139,"column":14},"end":{"line":139,"column":20}},"72":{"start":{"line":142,"column":12},"end":{"line":142,"column":45}},"73":{"start":{"line":143,"column":12},"end":{"line":143,"column":44}},"74":{"start":{"line":144,"column":12},"end":{"line":144,"column":124}},"75":{"start":{"line":145,"column":12},"end":{"line":145,"column":31}},"76":{"start":{"line":146,"column":12},"end":{"line":151,"column":15}},"77":{"start":{"line":147,"column":14},"end":{"line":150,"column":17}},"78":{"start":{"line":154,"column":12},"end":{"line":154,"column":34}},"79":{"start":{"line":156,"column":12},"end":{"line":163,"column":13}},"80":{"start":{"line":157,"column":14},"end":{"line":157,"column":96}},"81":{"start":{"line":159,"column":14},"end":{"line":162,"column":17}},"82":{"start":{"line":165,"column":12},"end":{"line":165,"column":32}},"83":{"start":{"line":166,"column":12},"end":{"line":166,"column":18}},"84":{"start":{"line":169,"column":12},"end":{"line":172,"column":15}},"85":{"start":{"line":176,"column":12},"end":{"line":176,"column":36}},"86":{"start":{"line":182,"column":2},"end":{"line":184,"column":4}},"87":{"start":{"line":183,"column":4},"end":{"line":183,"column":40}},"88":{"start":{"line":195,"column":0},"end":{"line":302,"column":3}},"89":{"start":{"line":196,"column":14},"end":{"line":297,"column":5}},"90":{"start":{"line":200,"column":4},"end":{"line":296,"column":17}},"91":{"start":{"line":201,"column":6},"end":{"line":295,"column":7}},"92":{"start":{"line":202,"column":8},"end":{"line":294,"column":9}},"93":{"start":{"line":204,"column":12},"end":{"line":204,"column":31}},"94":{"start":{"line":205,"column":12},"end":{"line":205,"column":58}},"95":{"start":{"line":208,"column":12},"end":{"line":208,"column":35}},"96":{"start":{"line":210,"column":12},"end":{"line":213,"column":13}},"97":{"start":{"line":211,"column":14},"end":{"line":211,"column":34}},"98":{"start":{"line":212,"column":14},"end":{"line":212,"column":20}},"99":{"start":{"line":215,"column":12},"end":{"line":215,"column":31}},"100":{"start":{"line":216,"column":12},"end":{"line":216,"column":54}},"101":{"start":{"line":219,"column":12},"end":{"line":219,"column":31}},"102":{"start":{"line":220,"column":12},"end":{"line":225,"column":15}},"103":{"start":{"line":221,"column":14},"end":{"line":224,"column":17}},"104":{"start":{"line":228,"column":12},"end":{"line":228,"column":35}},"105":{"start":{"line":229,"column":12},"end":{"line":229,"column":32}},"106":{"start":{"line":230,"column":12},"end":{"line":235,"column":15}},"107":{"start":{"line":231,"column":14},"end":{"line":234,"column":17}},"108":{"start":{"line":238,"column":12},"end":{"line":238,"column":39}},"109":{"start":{"line":239,"column":12},"end":{"line":239,"column":32}},"110":{"start":{"line":240,"column":12},"end":{"line":242,"column":15}},"111":{"start":{"line":241,"column":14},"end":{"line":241,"column":23}},"112":{"start":{"line":245,"column":12},"end":{"line":245,"column":38}},"113":{"start":{"line":247,"column":12},"end":{"line":250,"column":13}},"114":{"start":{"line":248,"column":14},"end":{"line":248,"column":34}},"115":{"start":{"line":249,"column":14},"end":{"line":249,"column":20}},"116":{"start":{"line":252,"column":12},"end":{"line":252,"column":32}},"117":{"start":{"line":253,"column":12},"end":{"line":258,"column":15}},"118":{"start":{"line":254,"column":14},"end":{"line":257,"column":17}},"119":{"start":{"line":261,"column":12},"end":{"line":261,"column":38}},"120":{"start":{"line":263,"column":12},"end":{"line":266,"column":13}},"121":{"start":{"line":264,"column":14},"end":{"line":264,"column":34}},"122":{"start":{"line":265,"column":14},"end":{"line":265,"column":20}},"123":{"start":{"line":268,"column":12},"end":{"line":268,"column":32}},"124":{"start":{"line":269,"column":12},"end":{"line":269,"column":68}},"125":{"start":{"line":272,"column":12},"end":{"line":272,"column":32}},"126":{"start":{"line":273,"column":12},"end":{"line":273,"column":18}},"127":{"start":{"line":276,"column":12},"end":{"line":279,"column":15}},"128":{"start":{"line":282,"column":12},"end":{"line":282,"column":32}},"129":{"start":{"line":283,"column":12},"end":{"line":283,"column":18}},"130":{"start":{"line":286,"column":12},"end":{"line":289,"column":15}},"131":{"start":{"line":293,"column":12},"end":{"line":293,"column":36}},"132":{"start":{"line":299,"column":2},"end":{"line":301,"column":4}},"133":{"start":{"line":300,"column":4},"end":{"line":300,"column":40}},"134":{"start":{"line":310,"column":0},"end":{"line":310,"column":22}},"135":{"start":{"line":314,"column":0},"end":{"line":387,"column":3}},"136":{"start":{"line":315,"column":14},"end":{"line":382,"column":5}},"137":{"start":{"line":319,"column":4},"end":{"line":381,"column":17}},"138":{"start":{"line":320,"column":6},"end":{"line":380,"column":7}},"139":{"start":{"line":321,"column":8},"end":{"line":379,"column":9}},"140":{"start":{"line":323,"column":12},"end":{"line":323,"column":31}},"141":{"start":{"line":324,"column":12},"end":{"line":324,"column":56}},"142":{"start":{"line":327,"column":12},"end":{"line":327,"column":35}},"143":{"start":{"line":329,"column":12},"end":{"line":332,"column":13}},"144":{"start":{"line":330,"column":14},"end":{"line":330,"column":34}},"145":{"start":{"line":331,"column":14},"end":{"line":331,"column":20}},"146":{"start":{"line":334,"column":12},"end":{"line":334,"column":31}},"147":{"start":{"line":335,"column":12},"end":{"line":335,"column":54}},"148":{"start":{"line":338,"column":12},"end":{"line":338,"column":115}},"149":{"start":{"line":340,"column":12},"end":{"line":343,"column":13}},"150":{"start":{"line":341,"column":14},"end":{"line":341,"column":34}},"151":{"start":{"line":342,"column":14},"end":{"line":342,"column":20}},"152":{"start":{"line":345,"column":12},"end":{"line":345,"column":32}},"153":{"start":{"line":346,"column":12},"end":{"line":351,"column":15}},"154":{"start":{"line":347,"column":14},"end":{"line":350,"column":17}},"155":{"start":{"line":354,"column":12},"end":{"line":354,"column":37}},"156":{"start":{"line":355,"column":12},"end":{"line":355,"column":32}},"157":{"start":{"line":356,"column":12},"end":{"line":356,"column":85}},"158":{"start":{"line":357,"column":12},"end":{"line":357,"column":32}},"159":{"start":{"line":358,"column":12},"end":{"line":358,"column":18}},"160":{"start":{"line":361,"column":12},"end":{"line":364,"column":15}},"161":{"start":{"line":367,"column":12},"end":{"line":367,"column":32}},"162":{"start":{"line":368,"column":12},"end":{"line":368,"column":18}},"163":{"start":{"line":371,"column":12},"end":{"line":374,"column":15}},"164":{"start":{"line":378,"column":12},"end":{"line":378,"column":36}},"165":{"start":{"line":384,"column":2},"end":{"line":386,"column":4}},"166":{"start":{"line":385,"column":4},"end":{"line":385,"column":40}},"167":{"start":{"line":395,"column":0},"end":{"line":395,"column":18}},"168":{"start":{"line":399,"column":0},"end":{"line":492,"column":3}},"169":{"start":{"line":400,"column":14},"end":{"line":487,"column":5}},"170":{"start":{"line":404,"column":4},"end":{"line":486,"column":17}},"171":{"start":{"line":405,"column":6},"end":{"line":485,"column":7}},"172":{"start":{"line":406,"column":8},"end":{"line":484,"column":9}},"173":{"start":{"line":408,"column":12},"end":{"line":408,"column":31}},"174":{"start":{"line":409,"column":12},"end":{"line":409,"column":61}},"175":{"start":{"line":412,"column":12},"end":{"line":412,"column":35}},"176":{"start":{"line":414,"column":12},"end":{"line":417,"column":13}},"177":{"start":{"line":415,"column":14},"end":{"line":415,"column":34}},"178":{"start":{"line":416,"column":14},"end":{"line":416,"column":20}},"179":{"start":{"line":419,"column":12},"end":{"line":419,"column":31}},"180":{"start":{"line":420,"column":12},"end":{"line":420,"column":54}},"181":{"start":{"line":423,"column":12},"end":{"line":423,"column":115}},"182":{"start":{"line":424,"column":12},"end":{"line":424,"column":35}},"183":{"start":{"line":426,"column":12},"end":{"line":429,"column":13}},"184":{"start":{"line":427,"column":14},"end":{"line":427,"column":34}},"185":{"start":{"line":428,"column":14},"end":{"line":428,"column":20}},"186":{"start":{"line":431,"column":12},"end":{"line":431,"column":32}},"187":{"start":{"line":432,"column":12},"end":{"line":437,"column":15}},"188":{"start":{"line":433,"column":14},"end":{"line":436,"column":17}},"189":{"start":{"line":440,"column":12},"end":{"line":440,"column":38}},"190":{"start":{"line":441,"column":12},"end":{"line":441,"column":32}},"191":{"start":{"line":442,"column":12},"end":{"line":447,"column":15}},"192":{"start":{"line":443,"column":14},"end":{"line":446,"column":17}},"193":{"start":{"line":450,"column":12},"end":{"line":450,"column":39}},"194":{"start":{"line":452,"column":12},"end":{"line":455,"column":13}},"195":{"start":{"line":453,"column":14},"end":{"line":453,"column":34}},"196":{"start":{"line":454,"column":14},"end":{"line":454,"column":20}},"197":{"start":{"line":457,"column":12},"end":{"line":457,"column":42}},"198":{"start":{"line":458,"column":12},"end":{"line":458,"column":44}},"199":{"start":{"line":459,"column":12},"end":{"line":459,"column":32}},"200":{"start":{"line":460,"column":12},"end":{"line":465,"column":15}},"201":{"start":{"line":461,"column":14},"end":{"line":464,"column":17}},"202":{"start":{"line":468,"column":12},"end":{"line":468,"column":39}},"203":{"start":{"line":469,"column":12},"end":{"line":469,"column":87}},"204":{"start":{"line":472,"column":12},"end":{"line":472,"column":32}},"205":{"start":{"line":473,"column":12},"end":{"line":473,"column":18}},"206":{"start":{"line":476,"column":12},"end":{"line":479,"column":15}},"207":{"start":{"line":483,"column":12},"end":{"line":483,"column":36}},"208":{"start":{"line":489,"column":2},"end":{"line":491,"column":4}},"209":{"start":{"line":490,"column":4},"end":{"line":490,"column":40}},"210":{"start":{"line":494,"column":0},"end":{"line":494,"column":28}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":24,"column":9},"end":{"line":24,"column":31}},"loc":{"start":{"line":24,"column":37},"end":{"line":24,"column":97}},"line":24},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":26,"column":9},"end":{"line":26,"column":27}},"loc":{"start":{"line":26,"column":75},"end":{"line":26,"column":265}},"line":26},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":28,"column":9},"end":{"line":28,"column":26}},"loc":{"start":{"line":28,"column":31},"end":{"line":28,"column":389}},"line":28},"3":{"name":"(anonymous_3)","decl":{"start":{"line":28,"column":40},"end":{"line":28,"column":41}},"loc":{"start":{"line":28,"column":52},"end":{"line":28,"column":386}},"line":28},"4":{"name":"(anonymous_4)","decl":{"start":{"line":28,"column":108},"end":{"line":28,"column":109}},"loc":{"start":{"line":28,"column":135},"end":{"line":28,"column":382}},"line":28},"5":{"name":"_next","decl":{"start":{"line":28,"column":178},"end":{"line":28,"column":183}},"loc":{"start":{"line":28,"column":191},"end":{"line":28,"column":266}},"line":28},"6":{"name":"_throw","decl":{"start":{"line":28,"column":276},"end":{"line":28,"column":282}},"loc":{"start":{"line":28,"column":288},"end":{"line":28,"column":362}},"line":28},"7":{"name":"(anonymous_7)","decl":{"start":{"line":32,"column":0},"end":{"line":32,"column":1}},"loc":{"start":{"line":32,"column":12},"end":{"line":67,"column":1}},"line":32},"8":{"name":"_callee","decl":{"start":{"line":35,"column":35},"end":{"line":35,"column":42}},"loc":{"start":{"line":35,"column":56},"end":{"line":62,"column":3}},"line":35},"9":{"name":"_callee$","decl":{"start":{"line":37,"column":44},"end":{"line":37,"column":52}},"loc":{"start":{"line":37,"column":63},"end":{"line":61,"column":5}},"line":37},"10":{"name":"(anonymous_10)","decl":{"start":{"line":49,"column":72},"end":{"line":49,"column":73}},"loc":{"start":{"line":49,"column":84},"end":{"line":51,"column":13}},"line":49},"11":{"name":"_generateToken","decl":{"start":{"line":64,"column":18},"end":{"line":64,"column":32}},"loc":{"start":{"line":64,"column":42},"end":{"line":66,"column":3}},"line":64},"12":{"name":"(anonymous_12)","decl":{"start":{"line":73,"column":0},"end":{"line":73,"column":1}},"loc":{"start":{"line":73,"column":12},"end":{"line":113,"column":1}},"line":73},"13":{"name":"_callee2","decl":{"start":{"line":76,"column":35},"end":{"line":76,"column":43}},"loc":{"start":{"line":76,"column":73},"end":{"line":108,"column":3}},"line":76},"14":{"name":"_callee2$","decl":{"start":{"line":78,"column":44},"end":{"line":78,"column":53}},"loc":{"start":{"line":78,"column":65},"end":{"line":107,"column":5}},"line":78},"15":{"name":"(anonymous_15)","decl":{"start":{"line":88,"column":72},"end":{"line":88,"column":73}},"loc":{"start":{"line":88,"column":85},"end":{"line":90,"column":13}},"line":88},"16":{"name":"sendReferEmail","decl":{"start":{"line":110,"column":18},"end":{"line":110,"column":32}},"loc":{"start":{"line":110,"column":48},"end":{"line":112,"column":3}},"line":110},"17":{"name":"(anonymous_17)","decl":{"start":{"line":117,"column":0},"end":{"line":117,"column":1}},"loc":{"start":{"line":117,"column":12},"end":{"line":185,"column":1}},"line":117},"18":{"name":"_callee3","decl":{"start":{"line":120,"column":35},"end":{"line":120,"column":43}},"loc":{"start":{"line":120,"column":83},"end":{"line":180,"column":3}},"line":120},"19":{"name":"_callee3$","decl":{"start":{"line":122,"column":44},"end":{"line":122,"column":53}},"loc":{"start":{"line":122,"column":65},"end":{"line":179,"column":5}},"line":122},"20":{"name":"(anonymous_20)","decl":{"start":{"line":127,"column":59},"end":{"line":127,"column":60}},"loc":{"start":{"line":127,"column":72},"end":{"line":132,"column":13}},"line":127},"21":{"name":"(anonymous_21)","decl":{"start":{"line":146,"column":78},"end":{"line":146,"column":79}},"loc":{"start":{"line":146,"column":91},"end":{"line":151,"column":13}},"line":146},"22":{"name":"tokenResponse","decl":{"start":{"line":182,"column":18},"end":{"line":182,"column":31}},"loc":{"start":{"line":182,"column":52},"end":{"line":184,"column":3}},"line":182},"23":{"name":"(anonymous_23)","decl":{"start":{"line":195,"column":0},"end":{"line":195,"column":1}},"loc":{"start":{"line":195,"column":12},"end":{"line":302,"column":1}},"line":195},"24":{"name":"_callee4","decl":{"start":{"line":198,"column":35},"end":{"line":198,"column":43}},"loc":{"start":{"line":198,"column":59},"end":{"line":297,"column":3}},"line":198},"25":{"name":"_callee4$","decl":{"start":{"line":200,"column":44},"end":{"line":200,"column":53}},"loc":{"start":{"line":200,"column":65},"end":{"line":296,"column":5}},"line":200},"26":{"name":"(anonymous_26)","decl":{"start":{"line":220,"column":61},"end":{"line":220,"column":62}},"loc":{"start":{"line":220,"column":73},"end":{"line":225,"column":13}},"line":220},"27":{"name":"(anonymous_27)","decl":{"start":{"line":230,"column":65},"end":{"line":230,"column":66}},"loc":{"start":{"line":230,"column":77},"end":{"line":235,"column":13}},"line":230},"28":{"name":"(anonymous_28)","decl":{"start":{"line":240,"column":65},"end":{"line":240,"column":66}},"loc":{"start":{"line":240,"column":78},"end":{"line":242,"column":13}},"line":240},"29":{"name":"(anonymous_29)","decl":{"start":{"line":253,"column":74},"end":{"line":253,"column":75}},"loc":{"start":{"line":253,"column":86},"end":{"line":258,"column":13}},"line":253},"30":{"name":"refer","decl":{"start":{"line":299,"column":18},"end":{"line":299,"column":23}},"loc":{"start":{"line":299,"column":36},"end":{"line":301,"column":3}},"line":299},"31":{"name":"(anonymous_31)","decl":{"start":{"line":314,"column":0},"end":{"line":314,"column":1}},"loc":{"start":{"line":314,"column":12},"end":{"line":387,"column":1}},"line":314},"32":{"name":"_callee5","decl":{"start":{"line":317,"column":35},"end":{"line":317,"column":43}},"loc":{"start":{"line":317,"column":59},"end":{"line":382,"column":3}},"line":317},"33":{"name":"_callee5$","decl":{"start":{"line":319,"column":44},"end":{"line":319,"column":53}},"loc":{"start":{"line":319,"column":65},"end":{"line":381,"column":5}},"line":319},"34":{"name":"(anonymous_34)","decl":{"start":{"line":346,"column":65},"end":{"line":346,"column":66}},"loc":{"start":{"line":346,"column":77},"end":{"line":351,"column":13}},"line":346},"35":{"name":"use","decl":{"start":{"line":384,"column":18},"end":{"line":384,"column":21}},"loc":{"start":{"line":384,"column":34},"end":{"line":386,"column":3}},"line":384},"36":{"name":"(anonymous_36)","decl":{"start":{"line":399,"column":0},"end":{"line":399,"column":1}},"loc":{"start":{"line":399,"column":12},"end":{"line":492,"column":1}},"line":399},"37":{"name":"_callee6","decl":{"start":{"line":402,"column":35},"end":{"line":402,"column":43}},"loc":{"start":{"line":402,"column":59},"end":{"line":487,"column":3}},"line":402},"38":{"name":"_callee6$","decl":{"start":{"line":404,"column":44},"end":{"line":404,"column":53}},"loc":{"start":{"line":404,"column":65},"end":{"line":486,"column":5}},"line":404},"39":{"name":"(anonymous_39)","decl":{"start":{"line":432,"column":64},"end":{"line":432,"column":65}},"loc":{"start":{"line":432,"column":76},"end":{"line":437,"column":13}},"line":432},"40":{"name":"(anonymous_40)","decl":{"start":{"line":442,"column":65},"end":{"line":442,"column":66}},"loc":{"start":{"line":442,"column":77},"end":{"line":447,"column":13}},"line":442},"41":{"name":"(anonymous_41)","decl":{"start":{"line":460,"column":76},"end":{"line":460,"column":77}},"loc":{"start":{"line":460,"column":88},"end":{"line":465,"column":13}},"line":460},"42":{"name":"register","decl":{"start":{"line":489,"column":18},"end":{"line":489,"column":26}},"loc":{"start":{"line":489,"column":39},"end":{"line":491,"column":3}},"line":489}},"branchMap":{"0":{"loc":{"start":{"line":24,"column":46},"end":{"line":24,"column":94}},"type":"cond-expr","locations":[{"start":{"line":24,"column":70},"end":{"line":24,"column":73}},{"start":{"line":24,"column":76},"end":{"line":24,"column":94}}],"line":24},"1":{"loc":{"start":{"line":24,"column":46},"end":{"line":24,"column":67}},"type":"binary-expr","locations":[{"start":{"line":24,"column":46},"end":{"line":24,"column":49}},{"start":{"line":24,"column":53},"end":{"line":24,"column":67}}],"line":24},"2":{"loc":{"start":{"line":26,"column":176},"end":{"line":26,"column":263}},"type":"if","locations":[{"start":{"line":26,"column":176},"end":{"line":26,"column":263}},{"start":{"line":26,"column":176},"end":{"line":26,"column":263}}],"line":26},"3":{"loc":{"start":{"line":39,"column":8},"end":{"line":59,"column":9}},"type":"switch","locations":[{"start":{"line":40,"column":10},"end":{"line":51,"column":15}},{"start":{"line":53,"column":10},"end":{"line":54,"column":30}},{"start":{"line":56,"column":10},"end":{"line":56,"column":17}},{"start":{"line":57,"column":10},"end":{"line":58,"column":35}}],"line":39},"4":{"loc":{"start":{"line":80,"column":8},"end":{"line":105,"column":9}},"type":"switch","locations":[{"start":{"line":81,"column":10},"end":{"line":90,"column":15}},{"start":{"line":92,"column":10},"end":{"line":100,"column":53}},{"start":{"line":102,"column":10},"end":{"line":102,"column":17}},{"start":{"line":103,"column":10},"end":{"line":104,"column":36}}],"line":80},"5":{"loc":{"start":{"line":95,"column":12},"end":{"line":98,"column":13}},"type":"if","locations":[{"start":{"line":95,"column":12},"end":{"line":98,"column":13}},{"start":{"line":95,"column":12},"end":{"line":98,"column":13}}],"line":95},"6":{"loc":{"start":{"line":124,"column":8},"end":{"line":177,"column":9}},"type":"switch","locations":[{"start":{"line":125,"column":10},"end":{"line":132,"column":15}},{"start":{"line":134,"column":10},"end":{"line":151,"column":15}},{"start":{"line":153,"column":10},"end":{"line":166,"column":18}},{"start":{"line":168,"column":10},"end":{"line":172,"column":15}},{"start":{"line":174,"column":10},"end":{"line":174,"column":18}},{"start":{"line":175,"column":10},"end":{"line":176,"column":36}}],"line":124},"7":{"loc":{"start":{"line":137,"column":12},"end":{"line":140,"column":13}},"type":"if","locations":[{"start":{"line":137,"column":12},"end":{"line":140,"column":13}},{"start":{"line":137,"column":12},"end":{"line":140,"column":13}}],"line":137},"8":{"loc":{"start":{"line":156,"column":12},"end":{"line":163,"column":13}},"type":"if","locations":[{"start":{"line":156,"column":12},"end":{"line":163,"column":13}},{"start":{"line":156,"column":12},"end":{"line":163,"column":13}}],"line":156},"9":{"loc":{"start":{"line":202,"column":8},"end":{"line":294,"column":9}},"type":"switch","locations":[{"start":{"line":203,"column":10},"end":{"line":205,"column":58}},{"start":{"line":207,"column":10},"end":{"line":216,"column":54}},{"start":{"line":218,"column":10},"end":{"line":225,"column":15}},{"start":{"line":227,"column":10},"end":{"line":235,"column":15}},{"start":{"line":237,"column":10},"end":{"line":242,"column":15}},{"start":{"line":244,"column":10},"end":{"line":258,"column":15}},{"start":{"line":260,"column":10},"end":{"line":269,"column":68}},{"start":{"line":271,"column":10},"end":{"line":273,"column":18}},{"start":{"line":275,"column":10},"end":{"line":279,"column":15}},{"start":{"line":281,"column":10},"end":{"line":283,"column":18}},{"start":{"line":285,"column":10},"end":{"line":289,"column":15}},{"start":{"line":291,"column":10},"end":{"line":291,"column":18}},{"start":{"line":292,"column":10},"end":{"line":293,"column":36}}],"line":202},"10":{"loc":{"start":{"line":210,"column":12},"end":{"line":213,"column":13}},"type":"if","locations":[{"start":{"line":210,"column":12},"end":{"line":213,"column":13}},{"start":{"line":210,"column":12},"end":{"line":213,"column":13}}],"line":210},"11":{"loc":{"start":{"line":247,"column":12},"end":{"line":250,"column":13}},"type":"if","locations":[{"start":{"line":247,"column":12},"end":{"line":250,"column":13}},{"start":{"line":247,"column":12},"end":{"line":250,"column":13}}],"line":247},"12":{"loc":{"start":{"line":247,"column":18},"end":{"line":247,"column":81}},"type":"binary-expr","locations":[{"start":{"line":247,"column":18},"end":{"line":247,"column":33}},{"start":{"line":247,"column":37},"end":{"line":247,"column":45}},{"start":{"line":247,"column":49},"end":{"line":247,"column":81}}],"line":247},"13":{"loc":{"start":{"line":263,"column":12},"end":{"line":266,"column":13}},"type":"if","locations":[{"start":{"line":263,"column":12},"end":{"line":266,"column":13}},{"start":{"line":263,"column":12},"end":{"line":266,"column":13}}],"line":263},"14":{"loc":{"start":{"line":321,"column":8},"end":{"line":379,"column":9}},"type":"switch","locations":[{"start":{"line":322,"column":10},"end":{"line":324,"column":56}},{"start":{"line":326,"column":10},"end":{"line":335,"column":54}},{"start":{"line":337,"column":10},"end":{"line":351,"column":15}},{"start":{"line":353,"column":10},"end":{"line":358,"column":18}},{"start":{"line":360,"column":10},"end":{"line":364,"column":15}},{"start":{"line":366,"column":10},"end":{"line":368,"column":18}},{"start":{"line":370,"column":10},"end":{"line":374,"column":15}},{"start":{"line":376,"column":10},"end":{"line":376,"column":18}},{"start":{"line":377,"column":10},"end":{"line":378,"column":36}}],"line":321},"15":{"loc":{"start":{"line":329,"column":12},"end":{"line":332,"column":13}},"type":"if","locations":[{"start":{"line":329,"column":12},"end":{"line":332,"column":13}},{"start":{"line":329,"column":12},"end":{"line":332,"column":13}}],"line":329},"16":{"loc":{"start":{"line":338,"column":20},"end":{"line":338,"column":114}},"type":"cond-expr","locations":[{"start":{"line":338,"column":91},"end":{"line":338,"column":106}},{"start":{"line":338,"column":109},"end":{"line":338,"column":114}}],"line":338},"17":{"loc":{"start":{"line":338,"column":20},"end":{"line":338,"column":88}},"type":"binary-expr","locations":[{"start":{"line":338,"column":20},"end":{"line":338,"column":55}},{"start":{"line":338,"column":59},"end":{"line":338,"column":88}}],"line":338},"18":{"loc":{"start":{"line":340,"column":12},"end":{"line":343,"column":13}},"type":"if","locations":[{"start":{"line":340,"column":12},"end":{"line":343,"column":13}},{"start":{"line":340,"column":12},"end":{"line":343,"column":13}}],"line":340},"19":{"loc":{"start":{"line":406,"column":8},"end":{"line":484,"column":9}},"type":"switch","locations":[{"start":{"line":407,"column":10},"end":{"line":409,"column":61}},{"start":{"line":411,"column":10},"end":{"line":420,"column":54}},{"start":{"line":422,"column":10},"end":{"line":437,"column":15}},{"start":{"line":439,"column":10},"end":{"line":447,"column":15}},{"start":{"line":449,"column":10},"end":{"line":465,"column":15}},{"start":{"line":467,"column":10},"end":{"line":469,"column":87}},{"start":{"line":471,"column":10},"end":{"line":473,"column":18}},{"start":{"line":475,"column":10},"end":{"line":479,"column":15}},{"start":{"line":481,"column":10},"end":{"line":481,"column":18}},{"start":{"line":482,"column":10},"end":{"line":483,"column":36}}],"line":406},"20":{"loc":{"start":{"line":414,"column":12},"end":{"line":417,"column":13}},"type":"if","locations":[{"start":{"line":414,"column":12},"end":{"line":417,"column":13}},{"start":{"line":414,"column":12},"end":{"line":417,"column":13}}],"line":414},"21":{"loc":{"start":{"line":423,"column":20},"end":{"line":423,"column":114}},"type":"cond-expr","locations":[{"start":{"line":423,"column":91},"end":{"line":423,"column":106}},{"start":{"line":423,"column":109},"end":{"line":423,"column":114}}],"line":423},"22":{"loc":{"start":{"line":423,"column":20},"end":{"line":423,"column":88}},"type":"binary-expr","locations":[{"start":{"line":423,"column":20},"end":{"line":423,"column":55}},{"start":{"line":423,"column":59},"end":{"line":423,"column":88}}],"line":423},"23":{"loc":{"start":{"line":426,"column":12},"end":{"line":429,"column":13}},"type":"if","locations":[{"start":{"line":426,"column":12},"end":{"line":429,"column":13}},{"start":{"line":426,"column":12},"end":{"line":429,"column":13}}],"line":426},"24":{"loc":{"start":{"line":426,"column":18},"end":{"line":426,"column":32}},"type":"binary-expr","locations":[{"start":{"line":426,"column":18},"end":{"line":426,"column":23}},{"start":{"line":426,"column":27},"end":{"line":426,"column":32}}],"line":426},"25":{"loc":{"start":{"line":452,"column":12},"end":{"line":455,"column":13}},"type":"if","locations":[{"start":{"line":452,"column":12},"end":{"line":455,"column":13}},{"start":{"line":452,"column":12},"end":{"line":455,"column":13}}],"line":452}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":2,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":6,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":1,"42":1,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":1,"59":0,"60":1,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":1,"87":0,"88":1,"89":1,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":1,"133":0,"134":1,"135":1,"136":1,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":1,"166":0,"167":1,"168":1,"169":1,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":1,"209":0,"210":1},"f":{"0":2,"1":0,"2":6,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0},"b":{"0":[2,0],"1":[2,2],"2":[0,0],"3":[0,0,0,0],"4":[0,0,0,0],"5":[0,0],"6":[0,0,0,0,0,0],"7":[0,0],"8":[0,0],"9":[0,0,0,0,0,0,0,0,0,0,0,0,0],"10":[0,0],"11":[0,0],"12":[0,0,0],"13":[0,0],"14":[0,0,0,0,0,0,0,0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0,0,0,0,0,0,0,0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["_generateToken","email","done","token","obj","id","referral","used","finalized","db","create","generateToken","sendReferEmail","referringUser","subject","COMPANY","msg","baseUrl","BASE_URL","e","tokenResponse","tokenData","userData","refEmail","final","s","refToken","referred","push","updatedAt","Date","now","firstName","lastName","sent","refer","data","referSchema","isValid","body","valid","read","to","validRef","use","useSchema","length","refData","register","registerSchema","from","includes","update"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\refer","sourcesContent":["import { promisify } from 'util'\r\n\r\nimport { BASE_URL, COMPANY } from '../../config'\r\nimport db from '../../lib/db'\r\nimport sendEmail from '../../lib/email'\r\nimport { uuidv4, tokenHeader } from '../../lib/security'\r\nimport { t, setLocale } from '../../lib/translations'\r\nimport { referSchema, useSchema, registerSchema } from './schema'\r\nimport { finalizeRequest, validEmail } from '../../lib/utils'\r\n\r\nconst _generateToken = async (email, done) => {\r\n  const token = uuidv4()\r\n  const obj = {\r\n    id: token,\r\n    referral: email,\r\n    used: false,\r\n    finalized: false\r\n  }\r\n\r\n  await db.create('refers', token, obj).catch(() => done(t('error.save')))\r\n  done(null, token)\r\n}\r\n\r\nconst generateToken = promisify(_generateToken)\r\n\r\nconst sendReferEmail = async (email, token, referringUser) => {\r\n  const subject = `${referringUser} is inviting you to join ${COMPANY}`\r\n  const msg = t('refer.email', { baseUrl: BASE_URL, token: token })\r\n  const e = await sendEmail(email, subject, msg).catch((e) => e)\r\n  if (!e) {\r\n    return false\r\n  }\r\n}\r\n\r\nconst tokenResponse = async (tokenData, userData, refEmail, final) => {\r\n  const refToken = await generateToken(tokenData.email).catch((e) => final(null, { s: 400, e }))\r\n  if (refToken) {\r\n    userData.referred.push(refToken)\r\n    userData.updatedAt = Date.now()\r\n    const referringUser = `${userData.firstName} ${userData.lastName} <${tokenData.email}>`\r\n    const sent = await sendReferEmail(refEmail, refToken, referringUser).catch((e) => final(null, { s: 400, e }))\r\n    if (sent) {\r\n      finalizeRequest('users', tokenData.email, 'update', userData, final)\r\n    } else {\r\n      final(null, { s: 400, e: t('error.refer_email') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.id') })\r\n  }\r\n}\r\n\r\n/**\r\n  * @desc Referring user sends email to friend\r\n  * @param object data - { headers: ( token: 'Bearer ...' ), phone: ..., to: ... }\r\n  * @return bool - success or failure with optional error object\r\n*/\r\nexport const refer = async (data, final) => {\r\n  const valid = await referSchema.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const token = await tokenHeader(data).catch(() => final(null, { s: 403, e: t('error.wrong_token') }))\r\n    const tokenData = await db.read('tokens', token).catch(() => final(null, { s: 403, e: t('error.cannot_read') }))\r\n    const validRef = await validEmail(data.body.to)\r\n      .catch((e) => e)\r\n    if (tokenData.email && validRef && data.body.to !== tokenData.email) {\r\n      const userData = await db.read('users', tokenData.email).catch(() => final(null, { s: 400, e: t('error.cannot_read') }))\r\n      if (userData) {\r\n        await tokenResponse(tokenData, userData, data.body.to)\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.required') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\n/**\r\n  * @desc Referred user clicks his link\r\n  * @param object data - { token: .... }\r\n  * @return bool - success or failure with optional error object\r\n*/\r\nexport const use = async (data, final) => {\r\n  const valid = await useSchema.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const token = typeof data.body.token === 'string' && data.body.token.length === 36 ? data.body.token : false\r\n    if (token) {\r\n      const refData = await db.read('refers', token).catch(() => final(null, { s: 403, e: t('error.token_notfound') }))\r\n      refData.used = true\r\n      finalizeRequest('refers', token, 'update', refData, final)\r\n    } else {\r\n      final(null, { s: 400, e: t('error.required') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\n/**\r\n  * @desc After referred user registration we update refer object\r\n  * @param object data - { token: ...., phone: ... }\r\n  * @return bool - success or failure with optional error object\r\n*/\r\nexport const register = async (data, final) => {\r\n  const valid = await registerSchema.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const token = typeof data.body.token === 'string' && data.body.token.length === 36 ? data.body.token : false\r\n    const email = data.body.from\r\n    if (token && email) {\r\n      const userData = await db.read('users', email).catch(() => final(null, { s: 400, e: t('error.no_user') }))\r\n      const tokenData = await db.read('refers', token).catch(() => final(null, { s: 400, e: t('error.token_notfound') }))\r\n      if (!userData.referred.includes(token)) {\r\n        userData.referred.push(token)\r\n        userData.updatedAt = Date.now()\r\n        await db.update('users', email, userData).catch(() => final(null, { s: 500, e: t('error.cannot_update') }))\r\n        tokenData.finalized = true\r\n        finalizeRequest('refers', token, 'update', tokenData, final)\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.required') })\r\n    }\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c9b33552a9e05aac8387ecd6afa8f3a283d9831d","contentHash":"9f1d5f033bc042c491c9da8f326973d15000dfa2ac71f8a1528d3e040a98c508"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\refer\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\refer\\schema.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":74}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":25}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":37}},"4":{"start":{"line":12,"column":18},"end":{"line":16,"column":2}},"5":{"start":{"line":17,"column":0},"end":{"line":17,"column":34}},"6":{"start":{"line":18,"column":16},"end":{"line":21,"column":2}},"7":{"start":{"line":22,"column":0},"end":{"line":22,"column":30}},"8":{"start":{"line":23,"column":21},"end":{"line":27,"column":2}},"9":{"start":{"line":28,"column":0},"end":{"line":28,"column":40}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["referSchema","shape","to","required","email","key","locale","oneOf","LANGUAGES","useSchema","token","length","registerSchema","from"],"mappings":";;;;;;;AAAA;;AAEA;;AAEO,IAAMA,WAAW,GAAG,mBAASC,KAAT,CAAe;AACxCC,EAAAA,EAAE,EAAE,mBAASC,QAAT,GAAoBC,KAApB,EADoC;AAExCC,EAAAA,GAAG,EAAE,mBAASF,QAAT,EAFmC;AAGxCG,EAAAA,MAAM,EAAE,mBAASH,QAAT,GAAoBI,KAApB,CAA0BC,iBAA1B;AAHgC,CAAf,CAApB;;AAMA,IAAMC,SAAS,GAAG,mBAASR,KAAT,CAAe;AACtCS,EAAAA,KAAK,EAAE,mBAASP,QAAT,GAAoBQ,MAApB,CAA2B,EAA3B,CAD+B;AAEtCL,EAAAA,MAAM,EAAE,mBAASH,QAAT,GAAoBI,KAApB,CAA0BC,iBAA1B;AAF8B,CAAf,CAAlB;;AAKA,IAAMI,cAAc,GAAG,mBAASX,KAAT,CAAe;AAC3CY,EAAAA,IAAI,EAAE,mBAASV,QAAT,GAAoBC,KAApB,EADqC;AAE3CM,EAAAA,KAAK,EAAE,mBAASP,QAAT,GAAoBQ,MAApB,CAA2B,EAA3B,CAFoC;AAG3CL,EAAAA,MAAM,EAAE,mBAASH,QAAT,GAAoBI,KAApB,CAA0BC,iBAA1B;AAHmC,CAAf,CAAvB","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\refer","sourcesContent":["import { object, string } from 'yup'\r\n\r\nimport { LANGUAGES } from '../../config'\r\n\r\nexport const referSchema = object().shape({\r\n  to: string().required().email(),\r\n  key: string().required(),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const useSchema = object().shape({\r\n  token: string().required().length(36),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const registerSchema = object().shape({\r\n  from: string().required().email(),\r\n  token: string().required().length(36),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"61fdf6e1893c6113cad6ed51f97e1c67ca1825d7","contentHash":"6ac79ab5180477c413e2cd3a99eb86265bb62c09703578cbe869ff1d2f39ee56"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\reset\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\reset\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":27}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":37}},"4":{"start":{"line":12,"column":10},"end":{"line":12,"column":57}},"5":{"start":{"line":14,"column":15},"end":{"line":14,"column":43}},"6":{"start":{"line":16,"column":16},"end":{"line":16,"column":45}},"7":{"start":{"line":18,"column":13},"end":{"line":18,"column":63}},"8":{"start":{"line":20,"column":13},"end":{"line":20,"column":63}},"9":{"start":{"line":22,"column":20},"end":{"line":22,"column":53}},"10":{"start":{"line":24,"column":14},"end":{"line":24,"column":33}},"11":{"start":{"line":26,"column":13},"end":{"line":26,"column":39}},"12":{"start":{"line":28,"column":39},"end":{"line":28,"column":95}},"13":{"start":{"line":30,"column":77},"end":{"line":30,"column":175}},"14":{"start":{"line":30,"column":94},"end":{"line":30,"column":107}},"15":{"start":{"line":30,"column":121},"end":{"line":30,"column":131}},"16":{"start":{"line":30,"column":151},"end":{"line":30,"column":165}},"17":{"start":{"line":30,"column":166},"end":{"line":30,"column":173}},"18":{"start":{"line":30,"column":176},"end":{"line":30,"column":263}},"19":{"start":{"line":30,"column":193},"end":{"line":30,"column":208}},"20":{"start":{"line":30,"column":218},"end":{"line":30,"column":261}},"21":{"start":{"line":32,"column":33},"end":{"line":32,"column":387}},"22":{"start":{"line":32,"column":65},"end":{"line":32,"column":69}},"23":{"start":{"line":32,"column":78},"end":{"line":32,"column":87}},"24":{"start":{"line":32,"column":89},"end":{"line":32,"column":384}},"25":{"start":{"line":32,"column":147},"end":{"line":32,"column":167}},"26":{"start":{"line":32,"column":193},"end":{"line":32,"column":264}},"27":{"start":{"line":32,"column":290},"end":{"line":32,"column":360}},"28":{"start":{"line":32,"column":363},"end":{"line":32,"column":380}},"29":{"start":{"line":36,"column":0},"end":{"line":94,"column":3}},"30":{"start":{"line":37,"column":13},"end":{"line":89,"column":5}},"31":{"start":{"line":41,"column":4},"end":{"line":88,"column":16}},"32":{"start":{"line":42,"column":6},"end":{"line":87,"column":7}},"33":{"start":{"line":43,"column":8},"end":{"line":86,"column":9}},"34":{"start":{"line":45,"column":12},"end":{"line":45,"column":30}},"35":{"start":{"line":46,"column":12},"end":{"line":48,"column":15}},"36":{"start":{"line":47,"column":14},"end":{"line":47,"column":79}},"37":{"start":{"line":51,"column":12},"end":{"line":51,"column":34}},"38":{"start":{"line":52,"column":12},"end":{"line":54,"column":15}},"39":{"start":{"line":55,"column":12},"end":{"line":58,"column":15}},"40":{"start":{"line":59,"column":12},"end":{"line":64,"column":14}},"41":{"start":{"line":65,"column":12},"end":{"line":65,"column":30}},"42":{"start":{"line":66,"column":12},"end":{"line":68,"column":15}},"43":{"start":{"line":67,"column":14},"end":{"line":67,"column":75}},"44":{"start":{"line":71,"column":12},"end":{"line":71,"column":31}},"45":{"start":{"line":72,"column":12},"end":{"line":74,"column":15}},"46":{"start":{"line":73,"column":14},"end":{"line":73,"column":29}},"47":{"start":{"line":77,"column":12},"end":{"line":77,"column":30}},"48":{"start":{"line":79,"column":12},"end":{"line":81,"column":13}},"49":{"start":{"line":80,"column":14},"end":{"line":80,"column":21}},"50":{"start":{"line":85,"column":12},"end":{"line":85,"column":35}},"51":{"start":{"line":91,"column":2},"end":{"line":93,"column":4}},"52":{"start":{"line":92,"column":4},"end":{"line":92,"column":39}},"53":{"start":{"line":96,"column":21},"end":{"line":96,"column":58}},"54":{"start":{"line":100,"column":0},"end":{"line":155,"column":3}},"55":{"start":{"line":101,"column":14},"end":{"line":150,"column":5}},"56":{"start":{"line":105,"column":4},"end":{"line":149,"column":17}},"57":{"start":{"line":106,"column":6},"end":{"line":148,"column":7}},"58":{"start":{"line":107,"column":8},"end":{"line":147,"column":9}},"59":{"start":{"line":109,"column":12},"end":{"line":109,"column":31}},"60":{"start":{"line":110,"column":12},"end":{"line":112,"column":15}},"61":{"start":{"line":111,"column":14},"end":{"line":111,"column":79}},"62":{"start":{"line":115,"column":12},"end":{"line":115,"column":35}},"63":{"start":{"line":116,"column":12},"end":{"line":119,"column":15}},"64":{"start":{"line":120,"column":12},"end":{"line":125,"column":14}},"65":{"start":{"line":126,"column":12},"end":{"line":126,"column":31}},"66":{"start":{"line":127,"column":12},"end":{"line":129,"column":15}},"67":{"start":{"line":128,"column":14},"end":{"line":128,"column":75}},"68":{"start":{"line":132,"column":12},"end":{"line":132,"column":31}},"69":{"start":{"line":133,"column":12},"end":{"line":135,"column":15}},"70":{"start":{"line":134,"column":14},"end":{"line":134,"column":29}},"71":{"start":{"line":138,"column":12},"end":{"line":138,"column":31}},"72":{"start":{"line":140,"column":12},"end":{"line":142,"column":13}},"73":{"start":{"line":141,"column":14},"end":{"line":141,"column":21}},"74":{"start":{"line":146,"column":12},"end":{"line":146,"column":36}},"75":{"start":{"line":152,"column":2},"end":{"line":154,"column":4}},"76":{"start":{"line":153,"column":4},"end":{"line":153,"column":40}},"77":{"start":{"line":157,"column":28},"end":{"line":157,"column":72}},"78":{"start":{"line":161,"column":0},"end":{"line":209,"column":3}},"79":{"start":{"line":162,"column":14},"end":{"line":204,"column":5}},"80":{"start":{"line":165,"column":4},"end":{"line":203,"column":17}},"81":{"start":{"line":166,"column":6},"end":{"line":202,"column":7}},"82":{"start":{"line":167,"column":8},"end":{"line":201,"column":9}},"83":{"start":{"line":169,"column":12},"end":{"line":172,"column":13}},"84":{"start":{"line":170,"column":14},"end":{"line":170,"column":33}},"85":{"start":{"line":171,"column":14},"end":{"line":171,"column":20}},"86":{"start":{"line":174,"column":12},"end":{"line":174,"column":31}},"87":{"start":{"line":175,"column":12},"end":{"line":177,"column":15}},"88":{"start":{"line":176,"column":14},"end":{"line":176,"column":29}},"89":{"start":{"line":180,"column":12},"end":{"line":180,"column":19}},"90":{"start":{"line":181,"column":12},"end":{"line":181,"column":32}},"91":{"start":{"line":182,"column":12},"end":{"line":182,"column":18}},"92":{"start":{"line":185,"column":12},"end":{"line":188,"column":13}},"93":{"start":{"line":186,"column":14},"end":{"line":186,"column":34}},"94":{"start":{"line":187,"column":14},"end":{"line":187,"column":20}},"95":{"start":{"line":190,"column":12},"end":{"line":190,"column":31}},"96":{"start":{"line":191,"column":12},"end":{"line":193,"column":15}},"97":{"start":{"line":192,"column":14},"end":{"line":192,"column":29}},"98":{"start":{"line":196,"column":12},"end":{"line":196,"column":19}},"99":{"start":{"line":200,"column":12},"end":{"line":200,"column":36}},"100":{"start":{"line":206,"column":2},"end":{"line":208,"column":4}},"101":{"start":{"line":207,"column":4},"end":{"line":207,"column":40}},"102":{"start":{"line":211,"column":16},"end":{"line":211,"column":48}},"103":{"start":{"line":215,"column":0},"end":{"line":327,"column":3}},"104":{"start":{"line":216,"column":14},"end":{"line":322,"column":5}},"105":{"start":{"line":220,"column":4},"end":{"line":321,"column":17}},"106":{"start":{"line":221,"column":6},"end":{"line":320,"column":7}},"107":{"start":{"line":222,"column":8},"end":{"line":319,"column":9}},"108":{"start":{"line":224,"column":12},"end":{"line":224,"column":31}},"109":{"start":{"line":225,"column":12},"end":{"line":225,"column":58}},"110":{"start":{"line":228,"column":12},"end":{"line":228,"column":35}},"111":{"start":{"line":230,"column":12},"end":{"line":233,"column":13}},"112":{"start":{"line":231,"column":14},"end":{"line":231,"column":34}},"113":{"start":{"line":232,"column":14},"end":{"line":232,"column":20}},"114":{"start":{"line":235,"column":12},"end":{"line":235,"column":31}},"115":{"start":{"line":236,"column":12},"end":{"line":236,"column":54}},"116":{"start":{"line":239,"column":12},"end":{"line":239,"column":31}},"117":{"start":{"line":240,"column":12},"end":{"line":245,"column":15}},"118":{"start":{"line":241,"column":14},"end":{"line":244,"column":17}},"119":{"start":{"line":248,"column":12},"end":{"line":248,"column":31}},"120":{"start":{"line":250,"column":12},"end":{"line":253,"column":13}},"121":{"start":{"line":251,"column":14},"end":{"line":251,"column":34}},"122":{"start":{"line":252,"column":14},"end":{"line":252,"column":20}},"123":{"start":{"line":255,"column":12},"end":{"line":255,"column":32}},"124":{"start":{"line":256,"column":12},"end":{"line":261,"column":15}},"125":{"start":{"line":257,"column":14},"end":{"line":260,"column":17}},"126":{"start":{"line":264,"column":12},"end":{"line":264,"column":38}},"127":{"start":{"line":266,"column":12},"end":{"line":269,"column":13}},"128":{"start":{"line":267,"column":14},"end":{"line":267,"column":34}},"129":{"start":{"line":268,"column":14},"end":{"line":268,"column":20}},"130":{"start":{"line":271,"column":12},"end":{"line":271,"column":32}},"131":{"start":{"line":272,"column":12},"end":{"line":277,"column":15}},"132":{"start":{"line":273,"column":14},"end":{"line":276,"column":17}},"133":{"start":{"line":280,"column":12},"end":{"line":285,"column":15}},"134":{"start":{"line":287,"column":12},"end":{"line":287,"column":32}},"135":{"start":{"line":288,"column":12},"end":{"line":288,"column":18}},"136":{"start":{"line":291,"column":12},"end":{"line":294,"column":15}},"137":{"start":{"line":297,"column":12},"end":{"line":297,"column":32}},"138":{"start":{"line":298,"column":12},"end":{"line":298,"column":18}},"139":{"start":{"line":301,"column":12},"end":{"line":304,"column":15}},"140":{"start":{"line":307,"column":12},"end":{"line":307,"column":32}},"141":{"start":{"line":308,"column":12},"end":{"line":308,"column":18}},"142":{"start":{"line":311,"column":12},"end":{"line":314,"column":15}},"143":{"start":{"line":318,"column":12},"end":{"line":318,"column":36}},"144":{"start":{"line":324,"column":2},"end":{"line":326,"column":4}},"145":{"start":{"line":325,"column":4},"end":{"line":325,"column":40}},"146":{"start":{"line":329,"column":0},"end":{"line":329,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":28,"column":9},"end":{"line":28,"column":31}},"loc":{"start":{"line":28,"column":37},"end":{"line":28,"column":97}},"line":28},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":30,"column":9},"end":{"line":30,"column":27}},"loc":{"start":{"line":30,"column":75},"end":{"line":30,"column":265}},"line":30},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":32,"column":9},"end":{"line":32,"column":26}},"loc":{"start":{"line":32,"column":31},"end":{"line":32,"column":389}},"line":32},"3":{"name":"(anonymous_3)","decl":{"start":{"line":32,"column":40},"end":{"line":32,"column":41}},"loc":{"start":{"line":32,"column":52},"end":{"line":32,"column":386}},"line":32},"4":{"name":"(anonymous_4)","decl":{"start":{"line":32,"column":108},"end":{"line":32,"column":109}},"loc":{"start":{"line":32,"column":135},"end":{"line":32,"column":382}},"line":32},"5":{"name":"_next","decl":{"start":{"line":32,"column":178},"end":{"line":32,"column":183}},"loc":{"start":{"line":32,"column":191},"end":{"line":32,"column":266}},"line":32},"6":{"name":"_throw","decl":{"start":{"line":32,"column":276},"end":{"line":32,"column":282}},"loc":{"start":{"line":32,"column":288},"end":{"line":32,"column":362}},"line":32},"7":{"name":"(anonymous_7)","decl":{"start":{"line":36,"column":0},"end":{"line":36,"column":1}},"loc":{"start":{"line":36,"column":12},"end":{"line":94,"column":1}},"line":36},"8":{"name":"_callee","decl":{"start":{"line":39,"column":35},"end":{"line":39,"column":42}},"loc":{"start":{"line":39,"column":56},"end":{"line":89,"column":3}},"line":39},"9":{"name":"_callee$","decl":{"start":{"line":41,"column":44},"end":{"line":41,"column":52}},"loc":{"start":{"line":41,"column":63},"end":{"line":88,"column":5}},"line":41},"10":{"name":"(anonymous_10)","decl":{"start":{"line":46,"column":56},"end":{"line":46,"column":57}},"loc":{"start":{"line":46,"column":68},"end":{"line":48,"column":13}},"line":46},"11":{"name":"(anonymous_11)","decl":{"start":{"line":66,"column":74},"end":{"line":66,"column":75}},"loc":{"start":{"line":66,"column":86},"end":{"line":68,"column":13}},"line":66},"12":{"name":"(anonymous_12)","decl":{"start":{"line":72,"column":72},"end":{"line":72,"column":73}},"loc":{"start":{"line":72,"column":85},"end":{"line":74,"column":13}},"line":72},"13":{"name":"_sendEmailReset","decl":{"start":{"line":91,"column":18},"end":{"line":91,"column":33}},"loc":{"start":{"line":91,"column":43},"end":{"line":93,"column":3}},"line":91},"14":{"name":"(anonymous_14)","decl":{"start":{"line":100,"column":0},"end":{"line":100,"column":1}},"loc":{"start":{"line":100,"column":12},"end":{"line":155,"column":1}},"line":100},"15":{"name":"_callee2","decl":{"start":{"line":103,"column":35},"end":{"line":103,"column":43}},"loc":{"start":{"line":103,"column":64},"end":{"line":150,"column":3}},"line":103},"16":{"name":"_callee2$","decl":{"start":{"line":105,"column":44},"end":{"line":105,"column":53}},"loc":{"start":{"line":105,"column":65},"end":{"line":149,"column":5}},"line":105},"17":{"name":"(anonymous_17)","decl":{"start":{"line":110,"column":55},"end":{"line":110,"column":56}},"loc":{"start":{"line":110,"column":67},"end":{"line":112,"column":13}},"line":110},"18":{"name":"(anonymous_18)","decl":{"start":{"line":127,"column":74},"end":{"line":127,"column":75}},"loc":{"start":{"line":127,"column":86},"end":{"line":129,"column":13}},"line":127},"19":{"name":"(anonymous_19)","decl":{"start":{"line":133,"column":63},"end":{"line":133,"column":64}},"loc":{"start":{"line":133,"column":76},"end":{"line":135,"column":13}},"line":133},"20":{"name":"_sendPhoneConfirmation","decl":{"start":{"line":152,"column":18},"end":{"line":152,"column":40}},"loc":{"start":{"line":152,"column":56},"end":{"line":154,"column":3}},"line":152},"21":{"name":"(anonymous_21)","decl":{"start":{"line":161,"column":0},"end":{"line":161,"column":1}},"loc":{"start":{"line":161,"column":12},"end":{"line":209,"column":1}},"line":161},"22":{"name":"_callee3","decl":{"start":{"line":164,"column":35},"end":{"line":164,"column":43}},"loc":{"start":{"line":164,"column":64},"end":{"line":204,"column":3}},"line":164},"23":{"name":"_callee3$","decl":{"start":{"line":165,"column":44},"end":{"line":165,"column":53}},"loc":{"start":{"line":165,"column":65},"end":{"line":203,"column":5}},"line":165},"24":{"name":"(anonymous_24)","decl":{"start":{"line":175,"column":50},"end":{"line":175,"column":51}},"loc":{"start":{"line":175,"column":63},"end":{"line":177,"column":13}},"line":175},"25":{"name":"(anonymous_25)","decl":{"start":{"line":191,"column":64},"end":{"line":191,"column":65}},"loc":{"start":{"line":191,"column":77},"end":{"line":193,"column":13}},"line":191},"26":{"name":"_sendReset","decl":{"start":{"line":206,"column":18},"end":{"line":206,"column":28}},"loc":{"start":{"line":206,"column":44},"end":{"line":208,"column":3}},"line":206},"27":{"name":"(anonymous_27)","decl":{"start":{"line":215,"column":0},"end":{"line":215,"column":1}},"loc":{"start":{"line":215,"column":12},"end":{"line":327,"column":1}},"line":215},"28":{"name":"_callee4","decl":{"start":{"line":218,"column":35},"end":{"line":218,"column":43}},"loc":{"start":{"line":218,"column":58},"end":{"line":322,"column":3}},"line":218},"29":{"name":"_callee4$","decl":{"start":{"line":220,"column":44},"end":{"line":220,"column":53}},"loc":{"start":{"line":220,"column":65},"end":{"line":321,"column":5}},"line":220},"30":{"name":"(anonymous_30)","decl":{"start":{"line":240,"column":53},"end":{"line":240,"column":54}},"loc":{"start":{"line":240,"column":65},"end":{"line":245,"column":13}},"line":240},"31":{"name":"(anonymous_31)","decl":{"start":{"line":256,"column":66},"end":{"line":256,"column":67}},"loc":{"start":{"line":256,"column":78},"end":{"line":261,"column":13}},"line":256},"32":{"name":"(anonymous_32)","decl":{"start":{"line":272,"column":63},"end":{"line":272,"column":64}},"loc":{"start":{"line":272,"column":75},"end":{"line":277,"column":13}},"line":272},"33":{"name":"(anonymous_33)","decl":{"start":{"line":324,"column":9},"end":{"line":324,"column":10}},"loc":{"start":{"line":324,"column":30},"end":{"line":326,"column":3}},"line":324}},"branchMap":{"0":{"loc":{"start":{"line":28,"column":46},"end":{"line":28,"column":94}},"type":"cond-expr","locations":[{"start":{"line":28,"column":70},"end":{"line":28,"column":73}},{"start":{"line":28,"column":76},"end":{"line":28,"column":94}}],"line":28},"1":{"loc":{"start":{"line":28,"column":46},"end":{"line":28,"column":67}},"type":"binary-expr","locations":[{"start":{"line":28,"column":46},"end":{"line":28,"column":49}},{"start":{"line":28,"column":53},"end":{"line":28,"column":67}}],"line":28},"2":{"loc":{"start":{"line":30,"column":176},"end":{"line":30,"column":263}},"type":"if","locations":[{"start":{"line":30,"column":176},"end":{"line":30,"column":263}},{"start":{"line":30,"column":176},"end":{"line":30,"column":263}}],"line":30},"3":{"loc":{"start":{"line":43,"column":8},"end":{"line":86,"column":9}},"type":"switch","locations":[{"start":{"line":44,"column":10},"end":{"line":48,"column":15}},{"start":{"line":50,"column":10},"end":{"line":68,"column":15}},{"start":{"line":70,"column":10},"end":{"line":74,"column":15}},{"start":{"line":76,"column":10},"end":{"line":81,"column":13}},{"start":{"line":83,"column":10},"end":{"line":83,"column":18}},{"start":{"line":84,"column":10},"end":{"line":85,"column":35}}],"line":43},"4":{"loc":{"start":{"line":79,"column":12},"end":{"line":81,"column":13}},"type":"if","locations":[{"start":{"line":79,"column":12},"end":{"line":81,"column":13}},{"start":{"line":79,"column":12},"end":{"line":81,"column":13}}],"line":79},"5":{"loc":{"start":{"line":107,"column":8},"end":{"line":147,"column":9}},"type":"switch","locations":[{"start":{"line":108,"column":10},"end":{"line":112,"column":15}},{"start":{"line":114,"column":10},"end":{"line":129,"column":15}},{"start":{"line":131,"column":10},"end":{"line":135,"column":15}},{"start":{"line":137,"column":10},"end":{"line":142,"column":13}},{"start":{"line":144,"column":10},"end":{"line":144,"column":18}},{"start":{"line":145,"column":10},"end":{"line":146,"column":36}}],"line":107},"6":{"loc":{"start":{"line":140,"column":12},"end":{"line":142,"column":13}},"type":"if","locations":[{"start":{"line":140,"column":12},"end":{"line":142,"column":13}},{"start":{"line":140,"column":12},"end":{"line":142,"column":13}}],"line":140},"7":{"loc":{"start":{"line":167,"column":8},"end":{"line":201,"column":9}},"type":"switch","locations":[{"start":{"line":168,"column":10},"end":{"line":177,"column":15}},{"start":{"line":179,"column":10},"end":{"line":182,"column":18}},{"start":{"line":184,"column":10},"end":{"line":193,"column":15}},{"start":{"line":195,"column":10},"end":{"line":196,"column":19}},{"start":{"line":198,"column":10},"end":{"line":198,"column":18}},{"start":{"line":199,"column":10},"end":{"line":200,"column":36}}],"line":167},"8":{"loc":{"start":{"line":169,"column":12},"end":{"line":172,"column":13}},"type":"if","locations":[{"start":{"line":169,"column":12},"end":{"line":172,"column":13}},{"start":{"line":169,"column":12},"end":{"line":172,"column":13}}],"line":169},"9":{"loc":{"start":{"line":185,"column":12},"end":{"line":188,"column":13}},"type":"if","locations":[{"start":{"line":185,"column":12},"end":{"line":188,"column":13}},{"start":{"line":185,"column":12},"end":{"line":188,"column":13}}],"line":185},"10":{"loc":{"start":{"line":222,"column":8},"end":{"line":319,"column":9}},"type":"switch","locations":[{"start":{"line":223,"column":10},"end":{"line":225,"column":58}},{"start":{"line":227,"column":10},"end":{"line":236,"column":54}},{"start":{"line":238,"column":10},"end":{"line":245,"column":15}},{"start":{"line":247,"column":10},"end":{"line":261,"column":15}},{"start":{"line":263,"column":10},"end":{"line":277,"column":15}},{"start":{"line":279,"column":10},"end":{"line":288,"column":18}},{"start":{"line":290,"column":10},"end":{"line":294,"column":15}},{"start":{"line":296,"column":10},"end":{"line":298,"column":18}},{"start":{"line":300,"column":10},"end":{"line":304,"column":15}},{"start":{"line":306,"column":10},"end":{"line":308,"column":18}},{"start":{"line":310,"column":10},"end":{"line":314,"column":15}},{"start":{"line":316,"column":10},"end":{"line":316,"column":18}},{"start":{"line":317,"column":10},"end":{"line":318,"column":36}}],"line":222},"11":{"loc":{"start":{"line":230,"column":12},"end":{"line":233,"column":13}},"type":"if","locations":[{"start":{"line":230,"column":12},"end":{"line":233,"column":13}},{"start":{"line":230,"column":12},"end":{"line":233,"column":13}}],"line":230},"12":{"loc":{"start":{"line":250,"column":12},"end":{"line":253,"column":13}},"type":"if","locations":[{"start":{"line":250,"column":12},"end":{"line":253,"column":13}},{"start":{"line":250,"column":12},"end":{"line":253,"column":13}}],"line":250},"13":{"loc":{"start":{"line":266,"column":12},"end":{"line":269,"column":13}},"type":"if","locations":[{"start":{"line":266,"column":12},"end":{"line":269,"column":13}},{"start":{"line":266,"column":12},"end":{"line":269,"column":13}}],"line":266}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":3,"13":12,"14":12,"15":12,"16":0,"17":0,"18":12,"19":3,"20":9,"21":4,"22":3,"23":3,"24":3,"25":3,"26":12,"27":0,"28":3,"29":1,"30":1,"31":1,"32":4,"33":4,"34":1,"35":1,"36":0,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":0,"44":1,"45":1,"46":0,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":1,"76":0,"77":1,"78":1,"79":1,"80":1,"81":2,"82":3,"83":1,"84":0,"85":0,"86":1,"87":1,"88":0,"89":1,"90":1,"91":1,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":6,"107":9,"108":1,"109":1,"110":1,"111":1,"112":0,"113":0,"114":1,"115":1,"116":1,"117":1,"118":0,"119":1,"120":1,"121":0,"122":0,"123":1,"124":1,"125":0,"126":1,"127":1,"128":0,"129":0,"130":1,"131":1,"132":0,"133":1,"134":1,"135":1,"136":0,"137":1,"138":1,"139":0,"140":1,"141":1,"142":0,"143":1,"144":1,"145":1,"146":1},"f":{"0":3,"1":12,"2":4,"3":3,"4":3,"5":12,"6":0,"7":1,"8":1,"9":4,"10":0,"11":0,"12":0,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":1,"23":2,"24":0,"25":0,"26":1,"27":1,"28":1,"29":6,"30":0,"31":0,"32":0,"33":1},"b":{"0":[3,0],"1":[3,3],"2":[3,9],"3":[1,1,1,1,1,1],"4":[1,0],"5":[0,0,0,0,0,0],"6":[0,0],"7":[1,1,0,0,1,1],"8":[0,1],"9":[0,0],"10":[1,1,1,1,1,1,0,1,0,1,0,1,1],"11":[0,1],"12":[0,1],"13":[0,1]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["_sendEmailReset","email","done","token","subject","company","COMPANY","msg","baseUrl","BASE_URL","code","obj","type","expiry","Date","now","db","create","e","sendEmailReset","_sendPhoneConfirmation","phone","sendPhoneConfirmation","_sendReset","FIRST_CONFIRM","sendReset","data","final","resetSchema","isValid","body","valid","s","u","read","userData","o","status"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\reset","sourcesContent":["import { promisify } from 'util'\r\n\r\nimport { COMPANY, BASE_URL, FIRST_CONFIRM } from '../../config'\r\nimport db from '../../lib/db'\r\nimport { user } from '../../lib/schemas'\r\nimport { randomID } from '../../lib/security'\r\nimport sendEmail from '../../lib/email'\r\nimport sendSMS from '../../lib/phone'\r\nimport { t, setLocale } from '../../lib/translations'\r\nimport { resetSchema } from './schema'\r\nimport { sendOk } from '../../lib/utils'\r\n\r\nconst _sendEmailReset = async (email, done) => {\r\n  const token = await randomID(32).catch(() => done(t('error.confirmation_generate')))\r\n  const subject = t('reset.email', { company: COMPANY })\r\n  const msg = t('reset.email_text', { baseUrl: BASE_URL, code: token })\r\n  const obj = {\r\n    email,\r\n    type: 'reset',\r\n    token: token,\r\n    expiry: Date.now() + 1000 * 60 * 60\r\n  }\r\n\r\n  await db.create('confirms', token, obj).catch(() => done(t('error.confirmation_save')))\r\n  const e = await sendEmail(email, subject, msg).catch((e) => done(e))\r\n  if (!e) {\r\n    done()\r\n  }\r\n}\r\n\r\nconst sendEmailReset = promisify(_sendEmailReset)\r\n\r\nconst _sendPhoneConfirmation = async (phone, email, done) => {\r\n  const token = await randomID(6).catch(() => done(t('error.confirmation_generate')))\r\n  const msg = t('account.reset_phone', { company: COMPANY, code: token })\r\n  const obj = {\r\n    email,\r\n    type: 'reset',\r\n    token: token,\r\n    expiry: Date.now() + 1000 * 60 * 60\r\n  }\r\n\r\n  await db.create('confirms', token, obj).catch(() => done(t('error.confirmation_save')))\r\n  const e = await sendSMS(phone, msg).catch((e) => done(e))\r\n  if (!e) {\r\n    done()\r\n  }\r\n}\r\n\r\nconst sendPhoneConfirmation = promisify(_sendPhoneConfirmation)\r\n\r\nconst _sendReset = async (email, phone, done) => {\r\n  if (FIRST_CONFIRM === 'email') {\r\n    await sendEmailReset(email).catch((e) => done(e))\r\n    done()\r\n  } else if (FIRST_CONFIRM === 'phone') {\r\n    await sendPhoneConfirmation(phone, email).catch((e) => done(e))\r\n    done()\r\n  }\r\n}\r\n\r\nconst sendReset = promisify(_sendReset)\r\n\r\nexport default async (data, final) => {\r\n  const valid = await resetSchema.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const u = await user(data).catch(() => final(null, { s: 400, e: t('error.required') }))\r\n    if (u.email) {\r\n      const userData = await db.read('users', u.email).catch(() => final(null, { s: 400, e: t('error.no_user') }))\r\n      if (userData) {\r\n        await sendReset(u.email, userData.phone).catch(() => final(null, { s: 500, e: t('error.email') }))\r\n        final(null, { s: 200, o: { status: 'ok' } })\r\n      } else {\r\n        final(null, { s: 400, e: t('error.no_user') })\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.required') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"498a56a641fe0831df02740e8db18b4ed50165cd","contentHash":"cf20b0c0f8c65300514968e955df974737052a2c7d3b8afe53dc99d44f4a8112"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\reset\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\reset\\schema.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":25}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":37}},"4":{"start":{"line":12,"column":18},"end":{"line":15,"column":2}},"5":{"start":{"line":16,"column":0},"end":{"line":16,"column":34}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["resetSchema","shape","email","required","locale","oneOf","LANGUAGES"],"mappings":";;;;;;;AAAA;;AAEA;;AAEO,IAAMA,WAAW,GAAG,mBAASC,KAAT,CAAe;AACxCC,EAAAA,KAAK,EAAE,mBAASC,QAAT,GAAoBD,KAApB,EADiC;AAExCE,EAAAA,MAAM,EAAE,mBAASD,QAAT,GAAoBE,KAApB,CAA0BC,iBAA1B;AAFgC,CAAf,CAApB","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\reset","sourcesContent":["import { object, string } from 'yup'\r\n\r\nimport { LANGUAGES } from '../../config'\r\n\r\nexport const resetSchema = object().shape({\r\n  email: string().required().email(),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bc0f7c54fdb587267c8a2ce27cc80f04519111a1","contentHash":"b722cde2ab2df1f28a210942d91d2bab9c1e102a2b71f41d81a41d324020f15d"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\shop\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\shop\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":211}},"2":{"start":{"line":8,"column":10},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":13},"end":{"line":10,"column":39}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":95}},"5":{"start":{"line":14,"column":77},"end":{"line":14,"column":175}},"6":{"start":{"line":14,"column":94},"end":{"line":14,"column":107}},"7":{"start":{"line":14,"column":121},"end":{"line":14,"column":131}},"8":{"start":{"line":14,"column":151},"end":{"line":14,"column":165}},"9":{"start":{"line":14,"column":166},"end":{"line":14,"column":173}},"10":{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},"11":{"start":{"line":14,"column":193},"end":{"line":14,"column":208}},"12":{"start":{"line":14,"column":218},"end":{"line":14,"column":261}},"13":{"start":{"line":16,"column":33},"end":{"line":16,"column":387}},"14":{"start":{"line":16,"column":65},"end":{"line":16,"column":69}},"15":{"start":{"line":16,"column":78},"end":{"line":16,"column":87}},"16":{"start":{"line":16,"column":89},"end":{"line":16,"column":384}},"17":{"start":{"line":16,"column":147},"end":{"line":16,"column":167}},"18":{"start":{"line":16,"column":193},"end":{"line":16,"column":264}},"19":{"start":{"line":16,"column":290},"end":{"line":16,"column":360}},"20":{"start":{"line":16,"column":363},"end":{"line":16,"column":380}},"21":{"start":{"line":18,"column":12},"end":{"line":18,"column":19}},"22":{"start":{"line":22,"column":0},"end":{"line":53,"column":3}},"23":{"start":{"line":23,"column":13},"end":{"line":48,"column":5}},"24":{"start":{"line":27,"column":4},"end":{"line":47,"column":16}},"25":{"start":{"line":28,"column":6},"end":{"line":46,"column":7}},"26":{"start":{"line":29,"column":8},"end":{"line":45,"column":9}},"27":{"start":{"line":31,"column":12},"end":{"line":31,"column":30}},"28":{"start":{"line":32,"column":12},"end":{"line":32,"column":68}},"29":{"start":{"line":35,"column":12},"end":{"line":35,"column":37}},"30":{"start":{"line":36,"column":12},"end":{"line":36,"column":30}},"31":{"start":{"line":37,"column":12},"end":{"line":37,"column":47}},"32":{"start":{"line":40,"column":12},"end":{"line":40,"column":32}},"33":{"start":{"line":44,"column":12},"end":{"line":44,"column":35}},"34":{"start":{"line":50,"column":2},"end":{"line":52,"column":4}},"35":{"start":{"line":51,"column":4},"end":{"line":51,"column":39}},"36":{"start":{"line":55,"column":0},"end":{"line":55,"column":34}},"37":{"start":{"line":57,"column":21},"end":{"line":57,"column":62}},"38":{"start":{"line":59,"column":0},"end":{"line":59,"column":40}},"39":{"start":{"line":61,"column":16},"end":{"line":61,"column":52}},"40":{"start":{"line":63,"column":0},"end":{"line":63,"column":30}},"41":{"start":{"line":65,"column":21},"end":{"line":65,"column":62}},"42":{"start":{"line":67,"column":0},"end":{"line":67,"column":40}},"43":{"start":{"line":69,"column":14},"end":{"line":69,"column":48}},"44":{"start":{"line":71,"column":0},"end":{"line":71,"column":26}},"45":{"start":{"line":73,"column":15},"end":{"line":73,"column":50}},"46":{"start":{"line":75,"column":0},"end":{"line":75,"column":28}},"47":{"start":{"line":77,"column":20},"end":{"line":77,"column":60}},"48":{"start":{"line":79,"column":0},"end":{"line":79,"column":38}},"49":{"start":{"line":81,"column":25},"end":{"line":81,"column":70}},"50":{"start":{"line":83,"column":0},"end":{"line":83,"column":48}},"51":{"start":{"line":85,"column":18},"end":{"line":85,"column":56}},"52":{"start":{"line":87,"column":0},"end":{"line":87,"column":34}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":97}},"line":12},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":27}},"loc":{"start":{"line":14,"column":75},"end":{"line":14,"column":265}},"line":14},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":26}},"loc":{"start":{"line":16,"column":31},"end":{"line":16,"column":389}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":40},"end":{"line":16,"column":41}},"loc":{"start":{"line":16,"column":52},"end":{"line":16,"column":386}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":16,"column":108},"end":{"line":16,"column":109}},"loc":{"start":{"line":16,"column":135},"end":{"line":16,"column":382}},"line":16},"5":{"name":"_next","decl":{"start":{"line":16,"column":178},"end":{"line":16,"column":183}},"loc":{"start":{"line":16,"column":191},"end":{"line":16,"column":266}},"line":16},"6":{"name":"_throw","decl":{"start":{"line":16,"column":276},"end":{"line":16,"column":282}},"loc":{"start":{"line":16,"column":288},"end":{"line":16,"column":362}},"line":16},"7":{"name":"(anonymous_7)","decl":{"start":{"line":22,"column":0},"end":{"line":22,"column":1}},"loc":{"start":{"line":22,"column":12},"end":{"line":53,"column":1}},"line":22},"8":{"name":"_callee","decl":{"start":{"line":25,"column":35},"end":{"line":25,"column":42}},"loc":{"start":{"line":25,"column":57},"end":{"line":48,"column":3}},"line":25},"9":{"name":"_callee$","decl":{"start":{"line":27,"column":44},"end":{"line":27,"column":52}},"loc":{"start":{"line":27,"column":63},"end":{"line":47,"column":5}},"line":27},"10":{"name":"getProducts","decl":{"start":{"line":50,"column":18},"end":{"line":50,"column":29}},"loc":{"start":{"line":50,"column":39},"end":{"line":52,"column":3}},"line":50},"11":{"name":"getProductById","decl":{"start":{"line":57,"column":30},"end":{"line":57,"column":44}},"loc":{"start":{"line":57,"column":60},"end":{"line":57,"column":62}},"line":57},"12":{"name":"addToCart","decl":{"start":{"line":61,"column":25},"end":{"line":61,"column":34}},"loc":{"start":{"line":61,"column":50},"end":{"line":61,"column":52}},"line":61},"13":{"name":"removeFromCart","decl":{"start":{"line":65,"column":30},"end":{"line":65,"column":44}},"loc":{"start":{"line":65,"column":60},"end":{"line":65,"column":62}},"line":65},"14":{"name":"getCart","decl":{"start":{"line":69,"column":23},"end":{"line":69,"column":30}},"loc":{"start":{"line":69,"column":46},"end":{"line":69,"column":48}},"line":69},"15":{"name":"checkout","decl":{"start":{"line":73,"column":24},"end":{"line":73,"column":32}},"loc":{"start":{"line":73,"column":48},"end":{"line":73,"column":50}},"line":73},"16":{"name":"addToWishlist","decl":{"start":{"line":77,"column":29},"end":{"line":77,"column":42}},"loc":{"start":{"line":77,"column":58},"end":{"line":77,"column":60}},"line":77},"17":{"name":"removeFromWishlist","decl":{"start":{"line":81,"column":34},"end":{"line":81,"column":52}},"loc":{"start":{"line":81,"column":68},"end":{"line":81,"column":70}},"line":81},"18":{"name":"getWishlist","decl":{"start":{"line":85,"column":27},"end":{"line":85,"column":38}},"loc":{"start":{"line":85,"column":54},"end":{"line":85,"column":56}},"line":85}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":94}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":94}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},"type":"if","locations":[{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},{"start":{"line":14,"column":176},"end":{"line":14,"column":263}}],"line":14},"3":{"loc":{"start":{"line":29,"column":8},"end":{"line":45,"column":9}},"type":"switch","locations":[{"start":{"line":30,"column":10},"end":{"line":32,"column":68}},{"start":{"line":34,"column":10},"end":{"line":37,"column":47}},{"start":{"line":39,"column":10},"end":{"line":40,"column":32}},{"start":{"line":42,"column":10},"end":{"line":42,"column":17}},{"start":{"line":43,"column":10},"end":{"line":44,"column":35}}],"line":29}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":1,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1},"f":{"0":1,"1":0,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0,0,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["table","getProducts","data","final","db","get","products","res","getProductById","addToCart","removeFromCart","getCart","checkout","addToWishlist","removeFromWishlist","getWishlist"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;AACA,IAAMA,KAAK,GAAG,OAAd;;AAEO,IAAMC,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBAAOC,IAAP,EAAaC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACFC,eAAGC,GAAH,WAAUL,KAAV,cADE;;AAAA;AACnBM,YAAAA,QADmB;AAAA;AAAA,mBAEP,2BAFO;;AAAA;AAEnBC,YAAAA,GAFmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAXN,WAAW;AAAA;AAAA;AAAA,GAAjB;;;;AAKA,IAAMO,cAAc,GAAG,SAAjBA,cAAiB,CAACN,IAAD,EAAOC,OAAP,EAAiB,CAE9C,CAFM;;;;AAIA,IAAMM,SAAS,GAAG,SAAZA,SAAY,CAACP,IAAD,EAAOC,OAAP,EAAiB,CAEzC,CAFM;;;;AAIA,IAAMO,cAAc,GAAG,SAAjBA,cAAiB,CAACR,IAAD,EAAOC,OAAP,EAAiB,CAE9C,CAFM;;;;AAIA,IAAMQ,OAAO,GAAG,SAAVA,OAAU,CAACT,IAAD,EAAOC,OAAP,EAAiB,CAEvC,CAFM;;;;AAIA,IAAMS,QAAQ,GAAG,SAAXA,QAAW,CAACV,IAAD,EAAOC,OAAP,EAAiB,CAExC,CAFM;;;;AAIA,IAAMU,aAAa,GAAG,SAAhBA,aAAgB,CAACX,IAAD,EAAOC,OAAP,EAAiB,CAE7C,CAFM;;;;AAIA,IAAMW,kBAAkB,GAAG,SAArBA,kBAAqB,CAACZ,IAAD,EAAOC,OAAP,EAAiB,CAElD,CAFM;;;;AAIA,IAAMY,WAAW,GAAG,SAAdA,WAAc,CAACb,IAAD,EAAOC,OAAP,EAAiB,CAE3C,CAFM","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\shop","sourcesContent":["import db from '../../lib/db'\r\nimport { protoResponse } from '../../lib/proto'\r\nconst table = 'shop_'\r\n\r\nexport const getProducts = async (data, final) => {\r\n  const products = await db.get(`${table}products`)\r\n  const res = await protoResponse()\r\n}\r\n\r\nexport const getProductById = (data, final) => {\r\n\r\n}\r\n\r\nexport const addToCart = (data, final) => {\r\n    \r\n}\r\n\r\nexport const removeFromCart = (data, final) => {\r\n    \r\n}\r\n\r\nexport const getCart = (data, final) => {\r\n    \r\n}\r\n\r\nexport const checkout = (data, final) => {\r\n\r\n}\r\n\r\nexport const addToWishlist = (data, final) => {\r\n\r\n}\r\n\r\nexport const removeFromWishlist = (data, final) => {\r\n\r\n}\r\n\r\nexport const getWishlist = (data, final) => {\r\n\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"dbb00174df9f8f1ccfb39e6c420d9152be0439e2","contentHash":"526e129552cb2a69151729d67741eb9d49be34dd4b9dd4698ea2e28264e7b9fb"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\blog\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\blog\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":250}},"2":{"start":{"line":8,"column":10},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":13},"end":{"line":10,"column":39}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":95}},"5":{"start":{"line":14,"column":12},"end":{"line":14,"column":19}},"6":{"start":{"line":16,"column":25},"end":{"line":16,"column":69}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":48}},"8":{"start":{"line":20,"column":28},"end":{"line":20,"column":76}},"9":{"start":{"line":22,"column":0},"end":{"line":22,"column":54}},"10":{"start":{"line":24,"column":17},"end":{"line":24,"column":54}},"11":{"start":{"line":26,"column":0},"end":{"line":26,"column":32}},"12":{"start":{"line":28,"column":17},"end":{"line":29,"column":1}},"13":{"start":{"line":31,"column":0},"end":{"line":31,"column":32}},"14":{"start":{"line":33,"column":18},"end":{"line":34,"column":1}},"15":{"start":{"line":36,"column":0},"end":{"line":36,"column":34}},"16":{"start":{"line":38,"column":20},"end":{"line":39,"column":1}},"17":{"start":{"line":41,"column":0},"end":{"line":41,"column":38}},"18":{"start":{"line":43,"column":18},"end":{"line":44,"column":1}},"19":{"start":{"line":46,"column":0},"end":{"line":46,"column":34}},"20":{"start":{"line":48,"column":19},"end":{"line":48,"column":58}},"21":{"start":{"line":50,"column":0},"end":{"line":50,"column":36}},"22":{"start":{"line":52,"column":21},"end":{"line":53,"column":1}},"23":{"start":{"line":55,"column":0},"end":{"line":55,"column":40}},"24":{"start":{"line":57,"column":20},"end":{"line":57,"column":61}},"25":{"start":{"line":59,"column":0},"end":{"line":59,"column":38}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":97}},"line":12},"1":{"name":"getArticlesByTitle","decl":{"start":{"line":16,"column":34},"end":{"line":16,"column":52}},"loc":{"start":{"line":16,"column":67},"end":{"line":16,"column":69}},"line":16},"2":{"name":"getArticlesByCategory","decl":{"start":{"line":20,"column":37},"end":{"line":20,"column":58}},"loc":{"start":{"line":20,"column":74},"end":{"line":20,"column":76}},"line":20},"3":{"name":"getArticle","decl":{"start":{"line":24,"column":26},"end":{"line":24,"column":36}},"loc":{"start":{"line":24,"column":52},"end":{"line":24,"column":54}},"line":24},"4":{"name":"addArticle","decl":{"start":{"line":28,"column":26},"end":{"line":28,"column":36}},"loc":{"start":{"line":28,"column":52},"end":{"line":29,"column":1}},"line":28},"5":{"name":"editArticle","decl":{"start":{"line":33,"column":27},"end":{"line":33,"column":38}},"loc":{"start":{"line":33,"column":54},"end":{"line":34,"column":1}},"line":33},"6":{"name":"deleteArticle","decl":{"start":{"line":38,"column":29},"end":{"line":38,"column":42}},"loc":{"start":{"line":38,"column":58},"end":{"line":39,"column":1}},"line":38},"7":{"name":"addCategory","decl":{"start":{"line":43,"column":27},"end":{"line":43,"column":38}},"loc":{"start":{"line":43,"column":54},"end":{"line":44,"column":1}},"line":43},"8":{"name":"editCategory","decl":{"start":{"line":48,"column":28},"end":{"line":48,"column":40}},"loc":{"start":{"line":48,"column":56},"end":{"line":48,"column":58}},"line":48},"9":{"name":"removeCategory","decl":{"start":{"line":52,"column":30},"end":{"line":52,"column":44}},"loc":{"start":{"line":52,"column":60},"end":{"line":53,"column":1}},"line":52},"10":{"name":"getCategories","decl":{"start":{"line":57,"column":29},"end":{"line":57,"column":42}},"loc":{"start":{"line":57,"column":59},"end":{"line":57,"column":61}},"line":57}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":94}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":94}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{"0":[1,0],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["table","getArticlesByTitle","data","final","getArticlesByCategory","getArticle","addArticle","editArticle","deleteArticle","addCategory","editCategory","removeCategory","getCategories"],"mappings":";;;;;;;AAAA;;AACA;;;;AACA,IAAMA,KAAK,GAAG,OAAd;;AAEO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,IAAD,EAAOC,MAAP,EAAiB,CAElD,CAFM;;;;AAIA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACF,IAAD,EAAOC,OAAP,EAAiB,CAErD,CAFM;;;;AAIA,IAAME,UAAU,GAAG,SAAbA,UAAa,CAACH,IAAD,EAAOC,OAAP,EAAiB,CAE1C,CAFM;;;;AAIA,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAACJ,IAAD,EAAOC,OAAP,EAAiB,CACzC;AACD,CAFM;;;;AAIA,IAAMI,WAAW,GAAG,SAAdA,WAAc,CAACL,IAAD,EAAOC,OAAP,EAAiB,CAC1C;AACD,CAFM;;;;AAIA,IAAMK,aAAa,GAAG,SAAhBA,aAAgB,CAACN,IAAD,EAAOC,OAAP,EAAiB,CAC5C;AACD,CAFM;;;;AAIA,IAAMM,WAAW,GAAG,SAAdA,WAAc,CAACP,IAAD,EAAOC,OAAP,EAAiB,CAC1C;AACD,CAFM;;;;AAIA,IAAMO,YAAY,GAAG,SAAfA,YAAe,CAACR,IAAD,EAAOC,OAAP,EAAiB,CAE5C,CAFM;;;;AAIA,IAAMQ,cAAc,GAAG,SAAjBA,cAAiB,CAACT,IAAD,EAAOC,OAAP,EAAiB,CAC7C;AACD,CAFM;;;;AAIA,IAAMS,aAAa,GAAG,SAAhBA,aAAgB,CAACV,IAAD,EAAOC,QAAP,EAAiB,CAE7C,CAFM","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\blog","sourcesContent":["import db from '../../lib/db'\r\nimport { protoResponse } from '../../lib/proto'\r\nconst table = 'blog_'\r\n\r\nexport const getArticlesByTitle = (data, final) => {\r\n    \r\n}\r\n\r\nexport const getArticlesByCategory = (data, final) => {\r\n    \r\n}\r\n\r\nexport const getArticle = (data, final) => {\r\n    \r\n}\r\n\r\nexport const addArticle = (data, final) => {\r\n  // only users\r\n}\r\n\r\nexport const editArticle = (data, final) => {\r\n  // only user's own\r\n}\r\n\r\nexport const deleteArticle = (data, final) => {\r\n  // only user's own or admins/ editors\r\n}\r\n\r\nexport const addCategory = (data, final) => {\r\n  // only admins/ editors\r\n}\r\n\r\nexport const editCategory = (data, final) => {\r\n    \r\n}\r\n\r\nexport const removeCategory = (data, final) => {\r\n  // only admins/ editors\r\n}\r\n\r\nexport const getCategories = (data, final) => {\r\n    \r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"67aa7773b2a26ff63cf580460beef29888650f18","contentHash":"1dfa7000aa238e903e5983abb513ee83d8e5fea0c2ee86f0b4dc07a4bccdf73e"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\upload\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\upload\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":10},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":16},"end":{"line":10,"column":45}},"4":{"start":{"line":12,"column":14},"end":{"line":12,"column":37}},"5":{"start":{"line":14,"column":20},"end":{"line":14,"column":53}},"6":{"start":{"line":16,"column":14},"end":{"line":16,"column":33}},"7":{"start":{"line":18,"column":39},"end":{"line":18,"column":95}},"8":{"start":{"line":20,"column":77},"end":{"line":20,"column":175}},"9":{"start":{"line":20,"column":94},"end":{"line":20,"column":107}},"10":{"start":{"line":20,"column":121},"end":{"line":20,"column":131}},"11":{"start":{"line":20,"column":151},"end":{"line":20,"column":165}},"12":{"start":{"line":20,"column":166},"end":{"line":20,"column":173}},"13":{"start":{"line":20,"column":176},"end":{"line":20,"column":263}},"14":{"start":{"line":20,"column":193},"end":{"line":20,"column":208}},"15":{"start":{"line":20,"column":218},"end":{"line":20,"column":261}},"16":{"start":{"line":22,"column":33},"end":{"line":22,"column":387}},"17":{"start":{"line":22,"column":65},"end":{"line":22,"column":69}},"18":{"start":{"line":22,"column":78},"end":{"line":22,"column":87}},"19":{"start":{"line":22,"column":89},"end":{"line":22,"column":384}},"20":{"start":{"line":22,"column":147},"end":{"line":22,"column":167}},"21":{"start":{"line":22,"column":193},"end":{"line":22,"column":264}},"22":{"start":{"line":22,"column":290},"end":{"line":22,"column":360}},"23":{"start":{"line":22,"column":363},"end":{"line":22,"column":380}},"24":{"start":{"line":24,"column":21},"end":{"line":24,"column":62}},"25":{"start":{"line":28,"column":0},"end":{"line":113,"column":3}},"26":{"start":{"line":29,"column":13},"end":{"line":108,"column":5}},"27":{"start":{"line":33,"column":4},"end":{"line":107,"column":16}},"28":{"start":{"line":34,"column":6},"end":{"line":106,"column":7}},"29":{"start":{"line":35,"column":8},"end":{"line":105,"column":9}},"30":{"start":{"line":37,"column":12},"end":{"line":37,"column":60}},"31":{"start":{"line":38,"column":12},"end":{"line":38,"column":30}},"32":{"start":{"line":39,"column":12},"end":{"line":39,"column":54}},"33":{"start":{"line":42,"column":12},"end":{"line":45,"column":13}},"34":{"start":{"line":43,"column":14},"end":{"line":43,"column":33}},"35":{"start":{"line":44,"column":14},"end":{"line":44,"column":20}},"36":{"start":{"line":47,"column":12},"end":{"line":47,"column":29}},"37":{"start":{"line":49,"column":12},"end":{"line":52,"column":13}},"38":{"start":{"line":50,"column":14},"end":{"line":50,"column":33}},"39":{"start":{"line":51,"column":14},"end":{"line":51,"column":20}},"40":{"start":{"line":54,"column":12},"end":{"line":54,"column":42}},"41":{"start":{"line":55,"column":12},"end":{"line":55,"column":30}},"42":{"start":{"line":56,"column":12},"end":{"line":61,"column":15}},"43":{"start":{"line":57,"column":14},"end":{"line":60,"column":17}},"44":{"start":{"line":64,"column":12},"end":{"line":64,"column":31}},"45":{"start":{"line":65,"column":12},"end":{"line":65,"column":54}},"46":{"start":{"line":66,"column":12},"end":{"line":66,"column":31}},"47":{"start":{"line":67,"column":12},"end":{"line":72,"column":15}},"48":{"start":{"line":68,"column":14},"end":{"line":71,"column":17}},"49":{"start":{"line":75,"column":12},"end":{"line":81,"column":15}},"50":{"start":{"line":83,"column":12},"end":{"line":83,"column":31}},"51":{"start":{"line":84,"column":12},"end":{"line":84,"column":18}},"52":{"start":{"line":87,"column":12},"end":{"line":90,"column":15}},"53":{"start":{"line":93,"column":12},"end":{"line":93,"column":31}},"54":{"start":{"line":94,"column":12},"end":{"line":94,"column":18}},"55":{"start":{"line":97,"column":12},"end":{"line":100,"column":15}},"56":{"start":{"line":104,"column":12},"end":{"line":104,"column":35}},"57":{"start":{"line":110,"column":2},"end":{"line":112,"column":4}},"58":{"start":{"line":111,"column":4},"end":{"line":111,"column":39}},"59":{"start":{"line":115,"column":0},"end":{"line":115,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":31}},"loc":{"start":{"line":18,"column":37},"end":{"line":18,"column":97}},"line":18},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":27}},"loc":{"start":{"line":20,"column":75},"end":{"line":20,"column":265}},"line":20},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":26}},"loc":{"start":{"line":22,"column":31},"end":{"line":22,"column":389}},"line":22},"3":{"name":"(anonymous_3)","decl":{"start":{"line":22,"column":40},"end":{"line":22,"column":41}},"loc":{"start":{"line":22,"column":52},"end":{"line":22,"column":386}},"line":22},"4":{"name":"(anonymous_4)","decl":{"start":{"line":22,"column":108},"end":{"line":22,"column":109}},"loc":{"start":{"line":22,"column":135},"end":{"line":22,"column":382}},"line":22},"5":{"name":"_next","decl":{"start":{"line":22,"column":178},"end":{"line":22,"column":183}},"loc":{"start":{"line":22,"column":191},"end":{"line":22,"column":266}},"line":22},"6":{"name":"_throw","decl":{"start":{"line":22,"column":276},"end":{"line":22,"column":282}},"loc":{"start":{"line":22,"column":288},"end":{"line":22,"column":362}},"line":22},"7":{"name":"(anonymous_7)","decl":{"start":{"line":28,"column":0},"end":{"line":28,"column":1}},"loc":{"start":{"line":28,"column":12},"end":{"line":113,"column":1}},"line":28},"8":{"name":"_callee","decl":{"start":{"line":31,"column":35},"end":{"line":31,"column":42}},"loc":{"start":{"line":31,"column":57},"end":{"line":108,"column":3}},"line":31},"9":{"name":"_callee$","decl":{"start":{"line":33,"column":44},"end":{"line":33,"column":52}},"loc":{"start":{"line":33,"column":63},"end":{"line":107,"column":5}},"line":33},"10":{"name":"(anonymous_10)","decl":{"start":{"line":56,"column":54},"end":{"line":56,"column":55}},"loc":{"start":{"line":56,"column":66},"end":{"line":61,"column":13}},"line":56},"11":{"name":"(anonymous_11)","decl":{"start":{"line":67,"column":93},"end":{"line":67,"column":94}},"loc":{"start":{"line":67,"column":106},"end":{"line":72,"column":13}},"line":67},"12":{"name":"(anonymous_12)","decl":{"start":{"line":110,"column":9},"end":{"line":110,"column":10}},"loc":{"start":{"line":110,"column":28},"end":{"line":112,"column":3}},"line":110}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":94}},"type":"cond-expr","locations":[{"start":{"line":18,"column":70},"end":{"line":18,"column":73}},{"start":{"line":18,"column":76},"end":{"line":18,"column":94}}],"line":18},"1":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":67}},"type":"binary-expr","locations":[{"start":{"line":18,"column":46},"end":{"line":18,"column":49}},{"start":{"line":18,"column":53},"end":{"line":18,"column":67}}],"line":18},"2":{"loc":{"start":{"line":20,"column":176},"end":{"line":20,"column":263}},"type":"if","locations":[{"start":{"line":20,"column":176},"end":{"line":20,"column":263}},{"start":{"line":20,"column":176},"end":{"line":20,"column":263}}],"line":20},"3":{"loc":{"start":{"line":35,"column":8},"end":{"line":105,"column":9}},"type":"switch","locations":[{"start":{"line":36,"column":10},"end":{"line":39,"column":54}},{"start":{"line":41,"column":10},"end":{"line":61,"column":15}},{"start":{"line":63,"column":10},"end":{"line":72,"column":15}},{"start":{"line":74,"column":10},"end":{"line":84,"column":18}},{"start":{"line":86,"column":10},"end":{"line":90,"column":15}},{"start":{"line":92,"column":10},"end":{"line":94,"column":18}},{"start":{"line":96,"column":10},"end":{"line":100,"column":15}},{"start":{"line":102,"column":10},"end":{"line":102,"column":18}},{"start":{"line":103,"column":10},"end":{"line":104,"column":35}}],"line":35},"4":{"loc":{"start":{"line":42,"column":12},"end":{"line":45,"column":13}},"type":"if","locations":[{"start":{"line":42,"column":12},"end":{"line":45,"column":13}},{"start":{"line":42,"column":12},"end":{"line":45,"column":13}}],"line":42},"5":{"loc":{"start":{"line":49,"column":12},"end":{"line":52,"column":13}},"type":"if","locations":[{"start":{"line":49,"column":12},"end":{"line":52,"column":13}},{"start":{"line":49,"column":12},"end":{"line":52,"column":13}}],"line":49}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":1},"f":{"0":1,"1":0,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0,0,0,0,0,0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["accceptedTypes","data","final","valid","uploadSchema","isValid","body","file","includes","mimetype","ext","name","split","s","e","id","fileName","db","create","UPLOAD_TABLE","o","status"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AACA,IAAMA,cAAc,GAAG,CAAC,WAAD,EAAc,YAAd,EAA4B,YAA5B,CAAvB;;;;;;;0BAEe,iBAAOC,IAAP,EAAaC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AACPC,YAAAA,KADO,GACCC,qBAAaC,OAAb,CAAqBJ,IAAI,CAACK,IAA1B,CADD;AAAA;AAAA,mBAEP,6BAAUL,IAAV,CAFO;;AAAA;AAAA,iBAGTE,KAHS;AAAA;AAAA;AAAA;;AAILI,YAAAA,IAJK,GAIEN,IAAI,CAACK,IAJP;;AAAA,iBAKPN,cAAc,CAACQ,QAAf,CAAwBD,IAAI,CAACE,QAA7B,CALO;AAAA;AAAA;AAAA;;AAMHC,YAAAA,GANG,GAMGH,IAAI,CAACI,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CANH;AAAA;AAAA,mBAOQ,mCAAiB;AAAA,qBAAMV,MAAK,CAAC,IAAD,EAAO;AAAEW,gBAAAA,CAAC,EAAE,GAAL;AAAUC,gBAAAA,CAAC,EAAE,qBAAE,aAAF;AAAb,eAAP,CAAX;AAAA,aAAjB,CAPR;;AAAA;AAOHC,YAAAA,EAPG;AAQHC,YAAAA,QARG,aAQWD,EARX,cAQiBL,GARjB;AAAA;AAAA,mBASHO,eAAGC,MAAH,CAAUC,oBAAV,EAAwBH,QAAxB,EAAkCT,IAAI,CAACN,IAAvC,WAAmD,UAACa,CAAD;AAAA,qBAAOZ,MAAK,CAAC,IAAD,EAAO;AAAEW,gBAAAA,CAAC,EAAE,GAAL;AAAUC,gBAAAA,CAAC,EAADA;AAAV,eAAP,CAAZ;AAAA,aAAnD,CATG;;AAAA;AAUTZ,YAAAA,MAAK,CAAC,IAAD,EAAO;AAAEW,cAAAA,CAAC,EAAE,GAAL;AAAUO,cAAAA,CAAC,EAAE;AAAEC,gBAAAA,MAAM,EAAE,IAAV;AAAgBL,gBAAAA,QAAQ,EAARA;AAAhB;AAAb,aAAP,CAAL;;AAVS;AAAA;;AAAA;AAYTd,YAAAA,MAAK,CAAC,IAAD,EAAO;AAAEW,cAAAA,CAAC,EAAE,GAAL;AAAUC,cAAAA,CAAC,EAAE,qBAAE,gBAAF;AAAb,aAAP,CAAL;;AAZS;AAAA;AAAA;;AAAA;AAeXZ,YAAAA,MAAK,CAAC,IAAD,EAAO;AAAEW,cAAAA,CAAC,EAAE,GAAL;AAAUC,cAAAA,CAAC,EAAE,qBAAE,gBAAF;AAAb,aAAP,CAAL;;AAfW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\upload","sourcesContent":["import db from '../../lib/db'\r\nimport { randomID } from '../../lib/security'\r\nimport { UPLOAD_TABLE } from '../../config'\r\nimport { t, setLocale } from '../../lib/translations'\r\nimport { uploadSchema } from './schema'\r\nconst accceptedTypes = ['image/png', 'image/jpeg', 'image/webp']\r\n\r\nexport default async (data, final) => {\r\n  const valid = uploadSchema.isValid(data.body)\r\n  await setLocale(data)\r\n  if (valid) {\r\n    const file = data.body\r\n    if (accceptedTypes.includes(file.mimetype)) {\r\n      const ext = file.name.split('.')[1]\r\n      const id = await randomID().catch(() => final(null, { s: 500, e: t('error.bytes') }))\r\n      const fileName = `${id}.${ext}`\r\n      await db.create(UPLOAD_TABLE, fileName, file.data).catch((e) => final(null, { s: 500, e }))\r\n      final(null, { s: 200, o: { status: 'ok', fileName } })\r\n    } else {\r\n      final(null, { s: 400, e: t('error.fileType') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d5e2effc5ee17721989778e88f2e45d03edd43f3","contentHash":"d4bc6502ffb67e86338e6e7fc74281adf152bdaee4430a01800ceb8d39f91ac1"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\upload\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\upload\\schema.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":30}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":25}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":37}},"4":{"start":{"line":12,"column":19},"end":{"line":17,"column":2}},"5":{"start":{"line":18,"column":0},"end":{"line":18,"column":36}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["uploadSchema","shape","name","required","min","mimetype","data","locale","oneOf","LANGUAGES"],"mappings":";;;;;;;AAAA;;AAEA;;AAEO,IAAMA,YAAY,GAAG,mBAASC,KAAT,CAAe;AACzCC,EAAAA,IAAI,EAAE,mBAASC,QAAT,GAAoBC,GAApB,CAAwB,CAAxB,CADmC;AAEzCC,EAAAA,QAAQ,EAAE,mBAASF,QAAT,GAAoBC,GAApB,CAAwB,CAAxB,CAF+B;AAGzCE,EAAAA,IAAI,EAAE,mBAASH,QAAT,GAAoBC,GAApB,CAAwB,EAAxB,CAHmC;AAIzCG,EAAAA,MAAM,EAAE,mBAASJ,QAAT,GAAoBK,KAApB,CAA0BC,iBAA1B;AAJiC,CAAf,CAArB","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\upload","sourcesContent":["import { object, string } from 'yup'\r\n\r\nimport { LANGUAGES } from '../../config'\r\n\r\nexport const uploadSchema = object().shape({\r\n  name: string().required().min(5),\r\n  mimetype: string().required().min(5),\r\n  data: string().required().min(10),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"59de7711d8f0c0c4162b98c0db29c42215db205f","contentHash":"afd97b8100481890f71f43f7460556fc46753d924abae0708dadac51e217f044"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\contact-us\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\contact-us\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":13},"end":{"line":8,"column":39}},"3":{"start":{"line":10,"column":20},"end":{"line":10,"column":53}},"4":{"start":{"line":12,"column":13},"end":{"line":12,"column":39}},"5":{"start":{"line":14,"column":14},"end":{"line":14,"column":33}},"6":{"start":{"line":16,"column":77},"end":{"line":16,"column":175}},"7":{"start":{"line":16,"column":94},"end":{"line":16,"column":107}},"8":{"start":{"line":16,"column":121},"end":{"line":16,"column":131}},"9":{"start":{"line":16,"column":151},"end":{"line":16,"column":165}},"10":{"start":{"line":16,"column":166},"end":{"line":16,"column":173}},"11":{"start":{"line":16,"column":176},"end":{"line":16,"column":263}},"12":{"start":{"line":16,"column":193},"end":{"line":16,"column":208}},"13":{"start":{"line":16,"column":218},"end":{"line":16,"column":261}},"14":{"start":{"line":18,"column":33},"end":{"line":18,"column":387}},"15":{"start":{"line":18,"column":65},"end":{"line":18,"column":69}},"16":{"start":{"line":18,"column":78},"end":{"line":18,"column":87}},"17":{"start":{"line":18,"column":89},"end":{"line":18,"column":384}},"18":{"start":{"line":18,"column":147},"end":{"line":18,"column":167}},"19":{"start":{"line":18,"column":193},"end":{"line":18,"column":264}},"20":{"start":{"line":18,"column":290},"end":{"line":18,"column":360}},"21":{"start":{"line":18,"column":363},"end":{"line":18,"column":380}},"22":{"start":{"line":22,"column":0},"end":{"line":116,"column":3}},"23":{"start":{"line":23,"column":13},"end":{"line":111,"column":5}},"24":{"start":{"line":28,"column":4},"end":{"line":110,"column":16}},"25":{"start":{"line":29,"column":6},"end":{"line":109,"column":7}},"26":{"start":{"line":30,"column":8},"end":{"line":108,"column":9}},"27":{"start":{"line":32,"column":12},"end":{"line":32,"column":30}},"28":{"start":{"line":33,"column":12},"end":{"line":33,"column":62}},"29":{"start":{"line":36,"column":12},"end":{"line":36,"column":34}},"30":{"start":{"line":38,"column":12},"end":{"line":41,"column":13}},"31":{"start":{"line":39,"column":14},"end":{"line":39,"column":33}},"32":{"start":{"line":40,"column":14},"end":{"line":40,"column":20}},"33":{"start":{"line":43,"column":12},"end":{"line":43,"column":38}},"34":{"start":{"line":45,"column":12},"end":{"line":48,"column":13}},"35":{"start":{"line":46,"column":14},"end":{"line":46,"column":32}},"36":{"start":{"line":47,"column":14},"end":{"line":47,"column":20}},"37":{"start":{"line":50,"column":12},"end":{"line":50,"column":30}},"38":{"start":{"line":51,"column":12},"end":{"line":51,"column":56}},"39":{"start":{"line":54,"column":12},"end":{"line":54,"column":31}},"40":{"start":{"line":55,"column":12},"end":{"line":60,"column":15}},"41":{"start":{"line":56,"column":14},"end":{"line":59,"column":17}},"42":{"start":{"line":63,"column":12},"end":{"line":63,"column":35}},"43":{"start":{"line":65,"column":12},"end":{"line":68,"column":13}},"44":{"start":{"line":66,"column":14},"end":{"line":66,"column":33}},"45":{"start":{"line":67,"column":14},"end":{"line":67,"column":20}},"46":{"start":{"line":70,"column":12},"end":{"line":70,"column":62}},"47":{"start":{"line":71,"column":12},"end":{"line":71,"column":31}},"48":{"start":{"line":72,"column":12},"end":{"line":72,"column":82}},"49":{"start":{"line":75,"column":12},"end":{"line":75,"column":30}},"50":{"start":{"line":77,"column":12},"end":{"line":84,"column":13}},"51":{"start":{"line":78,"column":14},"end":{"line":83,"column":17}},"52":{"start":{"line":86,"column":12},"end":{"line":86,"column":31}},"53":{"start":{"line":87,"column":12},"end":{"line":87,"column":18}},"54":{"start":{"line":90,"column":12},"end":{"line":93,"column":15}},"55":{"start":{"line":96,"column":12},"end":{"line":96,"column":31}},"56":{"start":{"line":97,"column":12},"end":{"line":97,"column":18}},"57":{"start":{"line":100,"column":12},"end":{"line":103,"column":15}},"58":{"start":{"line":107,"column":12},"end":{"line":107,"column":35}},"59":{"start":{"line":113,"column":2},"end":{"line":115,"column":4}},"60":{"start":{"line":114,"column":4},"end":{"line":114,"column":39}},"61":{"start":{"line":118,"column":0},"end":{"line":118,"column":30}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":27}},"loc":{"start":{"line":16,"column":75},"end":{"line":16,"column":265}},"line":16},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":26}},"loc":{"start":{"line":18,"column":31},"end":{"line":18,"column":389}},"line":18},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":40},"end":{"line":18,"column":41}},"loc":{"start":{"line":18,"column":52},"end":{"line":18,"column":386}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":18,"column":108},"end":{"line":18,"column":109}},"loc":{"start":{"line":18,"column":135},"end":{"line":18,"column":382}},"line":18},"4":{"name":"_next","decl":{"start":{"line":18,"column":178},"end":{"line":18,"column":183}},"loc":{"start":{"line":18,"column":191},"end":{"line":18,"column":266}},"line":18},"5":{"name":"_throw","decl":{"start":{"line":18,"column":276},"end":{"line":18,"column":282}},"loc":{"start":{"line":18,"column":288},"end":{"line":18,"column":362}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":22,"column":0},"end":{"line":22,"column":1}},"loc":{"start":{"line":22,"column":12},"end":{"line":116,"column":1}},"line":22},"7":{"name":"_callee","decl":{"start":{"line":25,"column":35},"end":{"line":25,"column":42}},"loc":{"start":{"line":25,"column":57},"end":{"line":111,"column":3}},"line":25},"8":{"name":"_callee$","decl":{"start":{"line":28,"column":44},"end":{"line":28,"column":52}},"loc":{"start":{"line":28,"column":63},"end":{"line":110,"column":5}},"line":28},"9":{"name":"(anonymous_9)","decl":{"start":{"line":55,"column":68},"end":{"line":55,"column":69}},"loc":{"start":{"line":55,"column":80},"end":{"line":60,"column":13}},"line":55},"10":{"name":"(anonymous_10)","decl":{"start":{"line":113,"column":9},"end":{"line":113,"column":10}},"loc":{"start":{"line":113,"column":28},"end":{"line":115,"column":3}},"line":113}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":176},"end":{"line":16,"column":263}},"type":"if","locations":[{"start":{"line":16,"column":176},"end":{"line":16,"column":263}},{"start":{"line":16,"column":176},"end":{"line":16,"column":263}}],"line":16},"1":{"loc":{"start":{"line":30,"column":8},"end":{"line":108,"column":9}},"type":"switch","locations":[{"start":{"line":31,"column":10},"end":{"line":33,"column":62}},{"start":{"line":35,"column":10},"end":{"line":51,"column":56}},{"start":{"line":53,"column":10},"end":{"line":60,"column":15}},{"start":{"line":62,"column":10},"end":{"line":72,"column":82}},{"start":{"line":74,"column":10},"end":{"line":87,"column":18}},{"start":{"line":89,"column":10},"end":{"line":93,"column":15}},{"start":{"line":95,"column":10},"end":{"line":97,"column":18}},{"start":{"line":99,"column":10},"end":{"line":103,"column":15}},{"start":{"line":105,"column":10},"end":{"line":105,"column":18}},{"start":{"line":106,"column":10},"end":{"line":107,"column":35}}],"line":30},"2":{"loc":{"start":{"line":38,"column":12},"end":{"line":41,"column":13}},"type":"if","locations":[{"start":{"line":38,"column":12},"end":{"line":41,"column":13}},{"start":{"line":38,"column":12},"end":{"line":41,"column":13}}],"line":38},"3":{"loc":{"start":{"line":45,"column":12},"end":{"line":48,"column":13}},"type":"if","locations":[{"start":{"line":45,"column":12},"end":{"line":48,"column":13}},{"start":{"line":45,"column":12},"end":{"line":48,"column":13}}],"line":45},"4":{"loc":{"start":{"line":65,"column":12},"end":{"line":68,"column":13}},"type":"if","locations":[{"start":{"line":65,"column":12},"end":{"line":68,"column":13}},{"start":{"line":65,"column":12},"end":{"line":68,"column":13}}],"line":65},"5":{"loc":{"start":{"line":77,"column":12},"end":{"line":84,"column":13}},"type":"if","locations":[{"start":{"line":77,"column":12},"end":{"line":84,"column":13}},{"start":{"line":77,"column":12},"end":{"line":84,"column":13}}],"line":77}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":0,"61":1},"f":{"0":0,"1":1,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0},"b":{"0":[0,0],"1":[0,0,0,0,0,0,0,0,0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["data","final","contactUsSchema","isValid","body","valid","locale","email","s","e","subject","name","msg","o","status"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;;0BAEe,iBAAOA,IAAP,EAAaC,MAAb;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACOC,wBAAgBC,OAAhB,CAAwBH,IAAI,CAACI,IAA7B,CADP;;AAAA;AACPC,YAAAA,KADO;;AAAA,iBAGTA,KAHS;AAAA;AAAA;AAAA;;AAILC,YAAAA,MAJK,GAIIN,IAAI,CAACI,IAAL,CAAUE,MAJd;;AAAA,kBAKPA,MAAM,KAAK,IALJ;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAMH,6BAAUA,MAAV,CANG;;AAAA;AAAA;AAAA,mBASS,uBAAWN,IAAI,CAACI,IAAL,CAAUG,KAArB,WAAkC;AAAA,qBAAMN,MAAK,CAAC,IAAD,EAAO;AAAEO,gBAAAA,CAAC,EAAE,GAAL;AAAUC,gBAAAA,CAAC,EAAE,qBAAE,qBAAF;AAAb,eAAP,CAAX;AAAA,aAAlC,CATT;;AAAA;AASLJ,YAAAA,MATK;;AAAA,iBAUPA,MAVO;AAAA;AAAA;AAAA;;AAWHK,YAAAA,OAXG,2BAWwBV,IAAI,CAACI,IAAL,CAAUO,IAXlC;AAAA;AAAA,mBAYO,sBAAUX,IAAI,CAACI,IAAL,CAAUG,KAApB,EAA2BG,OAA3B,EAAoCV,IAAI,CAACI,IAAL,CAAUQ,GAA9C,CAZP;;AAAA;AAYHH,YAAAA,CAZG;;AAaT,gBAAI,CAACA,CAAL,EAAQ;AACNR,cAAAA,MAAK,CAAC,IAAD,EAAO;AAAEO,gBAAAA,CAAC,EAAE,GAAL;AAAUK,gBAAAA,CAAC,EAAE;AAAEC,kBAAAA,MAAM,EAAE;AAAV;AAAb,eAAP,CAAL;AACD;;AAfQ;AAAA;;AAAA;AAiBTb,YAAAA,MAAK,CAAC,IAAD,EAAO;AAAEO,cAAAA,CAAC,EAAE,GAAL;AAAUC,cAAAA,CAAC,EAAE,qBAAE,qBAAF;AAAb,aAAP,CAAL;;AAjBS;AAAA;AAAA;;AAAA;AAoBXR,YAAAA,MAAK,CAAC,IAAD,EAAO;AAAEO,cAAAA,CAAC,EAAE,GAAL;AAAUC,cAAAA,CAAC,EAAE,qBAAE,gBAAF;AAAb,aAAP,CAAL;;AApBW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\contact-us","sourcesContent":["import { sendEmail } from '../../lib/email'\r\nimport { t, setLocale } from '../../lib/translations'\r\nimport { validEmail } from '../../lib/utils'\r\nimport { contactUsSchema } from './schema'\r\n\r\nexport default async (data, final) => {\r\n  const valid = await contactUsSchema.isValid(data.body)\r\n\r\n  if (valid) {\r\n    const locale = data.body.locale\r\n    if (locale !== 'en') {\r\n      await setLocale(locale)\r\n    }\r\n\r\n    const valid = await validEmail(data.body.email).catch(() => final(null, { s: 400, e: t('error.invalid_email') }))\r\n    if (valid) {\r\n      const subject = `Message from: ${data.body.name}`\r\n      const e = await sendEmail(data.body.email, subject, data.body.msg)\r\n      if (!e) {\r\n        final(null, { s: 200, o: { status: 'ok' } })\r\n      }\r\n    } else {\r\n      final(null, { s: 400, e: t('error.invalid_email') })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e2b6d420d4947352898e19594a8ae097b06629bd","contentHash":"99562df09873f97bb6ff9fdbea931d6178644a01959680ef0090b7ee5c094821"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\contact-us\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\contact-us\\schema.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":33}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":25}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":37}},"4":{"start":{"line":12,"column":22},"end":{"line":17,"column":2}},"5":{"start":{"line":18,"column":0},"end":{"line":18,"column":42}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["contactUsSchema","shape","email","required","name","min","msg","locale","oneOf","LANGUAGES"],"mappings":";;;;;;;AAAA;;AAEA;;AAEO,IAAMA,eAAe,GAAG,mBAASC,KAAT,CAAe;AAC5CC,EAAAA,KAAK,EAAE,mBAASC,QAAT,GAAoBD,KAApB,EADqC;AAE5CE,EAAAA,IAAI,EAAE,mBAASD,QAAT,GAAoBE,GAApB,CAAwB,CAAxB,CAFsC;AAG5CC,EAAAA,GAAG,EAAE,mBAASH,QAAT,GAAoBE,GAApB,CAAwB,EAAxB,CAHuC;AAI5CE,EAAAA,MAAM,EAAE,mBAASJ,QAAT,GAAoBK,KAApB,CAA0BC,iBAA1B;AAJoC,CAAf,CAAxB","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\contact-us","sourcesContent":["import { object, string } from 'yup'\r\n\r\nimport { LANGUAGES } from '../../config'\r\n\r\nexport const contactUsSchema = object().shape({\r\n  email: string().required().email(),\r\n  name: string().required().min(5),\r\n  msg: string().required().min(10),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"96126fd23a5222c319f2eda6bafe9834d0047103","contentHash":"59b5d393e051041fa7a8afb6b3daaec9cfe970fd439f312697a5aa860b856bcc"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\generics\\notFound.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\generics\\notFound.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":13},"end":{"line":8,"column":39}},"3":{"start":{"line":10,"column":20},"end":{"line":10,"column":53}},"4":{"start":{"line":12,"column":77},"end":{"line":12,"column":175}},"5":{"start":{"line":12,"column":94},"end":{"line":12,"column":107}},"6":{"start":{"line":12,"column":121},"end":{"line":12,"column":131}},"7":{"start":{"line":12,"column":151},"end":{"line":12,"column":165}},"8":{"start":{"line":12,"column":166},"end":{"line":12,"column":173}},"9":{"start":{"line":12,"column":176},"end":{"line":12,"column":263}},"10":{"start":{"line":12,"column":193},"end":{"line":12,"column":208}},"11":{"start":{"line":12,"column":218},"end":{"line":12,"column":261}},"12":{"start":{"line":14,"column":33},"end":{"line":14,"column":387}},"13":{"start":{"line":14,"column":65},"end":{"line":14,"column":69}},"14":{"start":{"line":14,"column":78},"end":{"line":14,"column":87}},"15":{"start":{"line":14,"column":89},"end":{"line":14,"column":384}},"16":{"start":{"line":14,"column":147},"end":{"line":14,"column":167}},"17":{"start":{"line":14,"column":193},"end":{"line":14,"column":264}},"18":{"start":{"line":14,"column":290},"end":{"line":14,"column":360}},"19":{"start":{"line":14,"column":363},"end":{"line":14,"column":380}},"20":{"start":{"line":18,"column":0},"end":{"line":42,"column":3}},"21":{"start":{"line":19,"column":13},"end":{"line":37,"column":5}},"22":{"start":{"line":22,"column":4},"end":{"line":36,"column":16}},"23":{"start":{"line":23,"column":6},"end":{"line":35,"column":7}},"24":{"start":{"line":24,"column":8},"end":{"line":34,"column":9}},"25":{"start":{"line":26,"column":12},"end":{"line":29,"column":15}},"26":{"start":{"line":33,"column":12},"end":{"line":33,"column":35}},"27":{"start":{"line":39,"column":2},"end":{"line":41,"column":4}},"28":{"start":{"line":40,"column":4},"end":{"line":40,"column":39}},"29":{"start":{"line":44,"column":0},"end":{"line":44,"column":30}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":27}},"loc":{"start":{"line":12,"column":75},"end":{"line":12,"column":265}},"line":12},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":26}},"loc":{"start":{"line":14,"column":31},"end":{"line":14,"column":389}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":40},"end":{"line":14,"column":41}},"loc":{"start":{"line":14,"column":52},"end":{"line":14,"column":386}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":14,"column":108},"end":{"line":14,"column":109}},"loc":{"start":{"line":14,"column":135},"end":{"line":14,"column":382}},"line":14},"4":{"name":"_next","decl":{"start":{"line":14,"column":178},"end":{"line":14,"column":183}},"loc":{"start":{"line":14,"column":191},"end":{"line":14,"column":266}},"line":14},"5":{"name":"_throw","decl":{"start":{"line":14,"column":276},"end":{"line":14,"column":282}},"loc":{"start":{"line":14,"column":288},"end":{"line":14,"column":362}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":18,"column":0},"end":{"line":18,"column":1}},"loc":{"start":{"line":18,"column":12},"end":{"line":42,"column":1}},"line":18},"7":{"name":"_callee","decl":{"start":{"line":21,"column":35},"end":{"line":21,"column":42}},"loc":{"start":{"line":21,"column":57},"end":{"line":37,"column":3}},"line":21},"8":{"name":"_callee$","decl":{"start":{"line":22,"column":44},"end":{"line":22,"column":52}},"loc":{"start":{"line":22,"column":63},"end":{"line":36,"column":5}},"line":22},"9":{"name":"(anonymous_9)","decl":{"start":{"line":39,"column":9},"end":{"line":39,"column":10}},"loc":{"start":{"line":39,"column":28},"end":{"line":41,"column":3}},"line":39}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":176},"end":{"line":12,"column":263}},"type":"if","locations":[{"start":{"line":12,"column":176},"end":{"line":12,"column":263}},{"start":{"line":12,"column":176},"end":{"line":12,"column":263}}],"line":12},"1":{"loc":{"start":{"line":24,"column":8},"end":{"line":34,"column":9}},"type":"switch","locations":[{"start":{"line":25,"column":10},"end":{"line":29,"column":15}},{"start":{"line":31,"column":10},"end":{"line":31,"column":17}},{"start":{"line":32,"column":10},"end":{"line":33,"column":35}}],"line":24}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":1},"f":{"0":0,"1":1,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0},"b":{"0":[0,0],"1":[0,0,0]},"inputSourceMap":{"version":3,"sources":["notFound.js"],"names":["data","final","s","e"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;;0BAEe,iBAAOA,IAAP,EAAaC,MAAb;AAAA;AAAA;AAAA;AAAA;AACbA,YAAAA,MAAK,CAAC,IAAD,EAAO;AAAEC,cAAAA,CAAC,EAAE,GAAL;AAAUC,cAAAA,CAAC,EAAE,qBAAE,iBAAF;AAAb,aAAP,CAAL;;AADa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\generics","sourcesContent":["import { sendErr } from '../../lib/utils'\r\nimport { t } from '../../lib/translations'\r\n\r\nexport default async (data, final) => {\r\n  final(null, { s: 400, e: t('error.not_found') })\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8510c3e5980c2f1461c7e58e0994f76647bb8dca","contentHash":"48d935e4b263764c463b0c1f96451b74c7e9ab12849e4dfbb5959df07e3b8f05"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\module\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\module\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":42}},"2":{"start":{"line":8,"column":10},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":33}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":53}},"5":{"start":{"line":14,"column":16},"end":{"line":14,"column":45}},"6":{"start":{"line":16,"column":14},"end":{"line":16,"column":37}},"7":{"start":{"line":18,"column":39},"end":{"line":18,"column":95}},"8":{"start":{"line":20,"column":77},"end":{"line":20,"column":175}},"9":{"start":{"line":20,"column":94},"end":{"line":20,"column":107}},"10":{"start":{"line":20,"column":121},"end":{"line":20,"column":131}},"11":{"start":{"line":20,"column":151},"end":{"line":20,"column":165}},"12":{"start":{"line":20,"column":166},"end":{"line":20,"column":173}},"13":{"start":{"line":20,"column":176},"end":{"line":20,"column":263}},"14":{"start":{"line":20,"column":193},"end":{"line":20,"column":208}},"15":{"start":{"line":20,"column":218},"end":{"line":20,"column":261}},"16":{"start":{"line":22,"column":33},"end":{"line":22,"column":387}},"17":{"start":{"line":22,"column":65},"end":{"line":22,"column":69}},"18":{"start":{"line":22,"column":78},"end":{"line":22,"column":87}},"19":{"start":{"line":22,"column":89},"end":{"line":22,"column":384}},"20":{"start":{"line":22,"column":147},"end":{"line":22,"column":167}},"21":{"start":{"line":22,"column":193},"end":{"line":22,"column":264}},"22":{"start":{"line":22,"column":290},"end":{"line":22,"column":360}},"23":{"start":{"line":22,"column":363},"end":{"line":22,"column":380}},"24":{"start":{"line":26,"column":0},"end":{"line":123,"column":3}},"25":{"start":{"line":27,"column":13},"end":{"line":118,"column":5}},"26":{"start":{"line":31,"column":4},"end":{"line":117,"column":16}},"27":{"start":{"line":32,"column":6},"end":{"line":116,"column":7}},"28":{"start":{"line":33,"column":8},"end":{"line":115,"column":9}},"29":{"start":{"line":35,"column":12},"end":{"line":35,"column":30}},"30":{"start":{"line":36,"column":12},"end":{"line":36,"column":58}},"31":{"start":{"line":39,"column":12},"end":{"line":39,"column":34}},"32":{"start":{"line":41,"column":12},"end":{"line":44,"column":13}},"33":{"start":{"line":42,"column":14},"end":{"line":42,"column":33}},"34":{"start":{"line":43,"column":14},"end":{"line":43,"column":20}},"35":{"start":{"line":46,"column":12},"end":{"line":46,"column":30}},"36":{"start":{"line":47,"column":12},"end":{"line":47,"column":54}},"37":{"start":{"line":50,"column":12},"end":{"line":50,"column":30}},"38":{"start":{"line":51,"column":12},"end":{"line":56,"column":15}},"39":{"start":{"line":52,"column":14},"end":{"line":55,"column":17}},"40":{"start":{"line":59,"column":12},"end":{"line":59,"column":38}},"41":{"start":{"line":61,"column":12},"end":{"line":64,"column":13}},"42":{"start":{"line":62,"column":14},"end":{"line":62,"column":33}},"43":{"start":{"line":63,"column":14},"end":{"line":63,"column":20}},"44":{"start":{"line":66,"column":12},"end":{"line":69,"column":15}},"45":{"start":{"line":71,"column":12},"end":{"line":71,"column":31}},"46":{"start":{"line":72,"column":12},"end":{"line":72,"column":18}},"47":{"start":{"line":75,"column":12},"end":{"line":75,"column":31}},"48":{"start":{"line":76,"column":12},"end":{"line":81,"column":15}},"49":{"start":{"line":77,"column":14},"end":{"line":80,"column":17}},"50":{"start":{"line":84,"column":12},"end":{"line":84,"column":35}},"51":{"start":{"line":85,"column":12},"end":{"line":85,"column":49}},"52":{"start":{"line":86,"column":12},"end":{"line":86,"column":31}},"53":{"start":{"line":87,"column":12},"end":{"line":92,"column":15}},"54":{"start":{"line":88,"column":14},"end":{"line":91,"column":17}},"55":{"start":{"line":95,"column":12},"end":{"line":100,"column":15}},"56":{"start":{"line":103,"column":12},"end":{"line":103,"column":31}},"57":{"start":{"line":104,"column":12},"end":{"line":104,"column":18}},"58":{"start":{"line":107,"column":12},"end":{"line":110,"column":15}},"59":{"start":{"line":114,"column":12},"end":{"line":114,"column":35}},"60":{"start":{"line":120,"column":2},"end":{"line":122,"column":4}},"61":{"start":{"line":121,"column":4},"end":{"line":121,"column":39}},"62":{"start":{"line":125,"column":0},"end":{"line":125,"column":24}},"63":{"start":{"line":129,"column":0},"end":{"line":163,"column":3}},"64":{"start":{"line":130,"column":14},"end":{"line":158,"column":5}},"65":{"start":{"line":134,"column":4},"end":{"line":157,"column":17}},"66":{"start":{"line":135,"column":6},"end":{"line":156,"column":7}},"67":{"start":{"line":136,"column":8},"end":{"line":155,"column":9}},"68":{"start":{"line":138,"column":12},"end":{"line":138,"column":31}},"69":{"start":{"line":139,"column":12},"end":{"line":139,"column":60}},"70":{"start":{"line":142,"column":12},"end":{"line":142,"column":35}},"71":{"start":{"line":145,"column":12},"end":{"line":150,"column":13}},"72":{"start":{"line":146,"column":14},"end":{"line":149,"column":17}},"73":{"start":{"line":154,"column":12},"end":{"line":154,"column":36}},"74":{"start":{"line":160,"column":2},"end":{"line":162,"column":4}},"75":{"start":{"line":161,"column":4},"end":{"line":161,"column":40}},"76":{"start":{"line":165,"column":0},"end":{"line":165,"column":26}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":31}},"loc":{"start":{"line":18,"column":37},"end":{"line":18,"column":97}},"line":18},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":27}},"loc":{"start":{"line":20,"column":75},"end":{"line":20,"column":265}},"line":20},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":26}},"loc":{"start":{"line":22,"column":31},"end":{"line":22,"column":389}},"line":22},"3":{"name":"(anonymous_3)","decl":{"start":{"line":22,"column":40},"end":{"line":22,"column":41}},"loc":{"start":{"line":22,"column":52},"end":{"line":22,"column":386}},"line":22},"4":{"name":"(anonymous_4)","decl":{"start":{"line":22,"column":108},"end":{"line":22,"column":109}},"loc":{"start":{"line":22,"column":135},"end":{"line":22,"column":382}},"line":22},"5":{"name":"_next","decl":{"start":{"line":22,"column":178},"end":{"line":22,"column":183}},"loc":{"start":{"line":22,"column":191},"end":{"line":22,"column":266}},"line":22},"6":{"name":"_throw","decl":{"start":{"line":22,"column":276},"end":{"line":22,"column":282}},"loc":{"start":{"line":22,"column":288},"end":{"line":22,"column":362}},"line":22},"7":{"name":"(anonymous_7)","decl":{"start":{"line":26,"column":0},"end":{"line":26,"column":1}},"loc":{"start":{"line":26,"column":12},"end":{"line":123,"column":1}},"line":26},"8":{"name":"_callee","decl":{"start":{"line":29,"column":35},"end":{"line":29,"column":42}},"loc":{"start":{"line":29,"column":57},"end":{"line":118,"column":3}},"line":29},"9":{"name":"_callee$","decl":{"start":{"line":31,"column":44},"end":{"line":31,"column":52}},"loc":{"start":{"line":31,"column":63},"end":{"line":117,"column":5}},"line":31},"10":{"name":"(anonymous_10)","decl":{"start":{"line":51,"column":54},"end":{"line":51,"column":55}},"loc":{"start":{"line":51,"column":66},"end":{"line":56,"column":13}},"line":51},"11":{"name":"(anonymous_11)","decl":{"start":{"line":76,"column":67},"end":{"line":76,"column":68}},"loc":{"start":{"line":76,"column":79},"end":{"line":81,"column":13}},"line":76},"12":{"name":"(anonymous_12)","decl":{"start":{"line":87,"column":77},"end":{"line":87,"column":78}},"loc":{"start":{"line":87,"column":89},"end":{"line":92,"column":13}},"line":87},"13":{"name":"create","decl":{"start":{"line":120,"column":18},"end":{"line":120,"column":24}},"loc":{"start":{"line":120,"column":34},"end":{"line":122,"column":3}},"line":120},"14":{"name":"(anonymous_14)","decl":{"start":{"line":129,"column":0},"end":{"line":129,"column":1}},"loc":{"start":{"line":129,"column":12},"end":{"line":163,"column":1}},"line":129},"15":{"name":"_callee2","decl":{"start":{"line":132,"column":35},"end":{"line":132,"column":43}},"loc":{"start":{"line":132,"column":59},"end":{"line":158,"column":3}},"line":132},"16":{"name":"_callee2$","decl":{"start":{"line":134,"column":44},"end":{"line":134,"column":53}},"loc":{"start":{"line":134,"column":65},"end":{"line":157,"column":5}},"line":134},"17":{"name":"migrate","decl":{"start":{"line":160,"column":18},"end":{"line":160,"column":25}},"loc":{"start":{"line":160,"column":36},"end":{"line":162,"column":3}},"line":160}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":94}},"type":"cond-expr","locations":[{"start":{"line":18,"column":70},"end":{"line":18,"column":73}},{"start":{"line":18,"column":76},"end":{"line":18,"column":94}}],"line":18},"1":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":67}},"type":"binary-expr","locations":[{"start":{"line":18,"column":46},"end":{"line":18,"column":49}},{"start":{"line":18,"column":53},"end":{"line":18,"column":67}}],"line":18},"2":{"loc":{"start":{"line":20,"column":176},"end":{"line":20,"column":263}},"type":"if","locations":[{"start":{"line":20,"column":176},"end":{"line":20,"column":263}},{"start":{"line":20,"column":176},"end":{"line":20,"column":263}}],"line":20},"3":{"loc":{"start":{"line":33,"column":8},"end":{"line":115,"column":9}},"type":"switch","locations":[{"start":{"line":34,"column":10},"end":{"line":36,"column":58}},{"start":{"line":38,"column":10},"end":{"line":47,"column":54}},{"start":{"line":49,"column":10},"end":{"line":56,"column":15}},{"start":{"line":58,"column":10},"end":{"line":72,"column":18}},{"start":{"line":74,"column":10},"end":{"line":81,"column":15}},{"start":{"line":83,"column":10},"end":{"line":92,"column":15}},{"start":{"line":94,"column":10},"end":{"line":100,"column":15}},{"start":{"line":102,"column":10},"end":{"line":104,"column":18}},{"start":{"line":106,"column":10},"end":{"line":110,"column":15}},{"start":{"line":112,"column":10},"end":{"line":112,"column":18}},{"start":{"line":113,"column":10},"end":{"line":114,"column":35}}],"line":33},"4":{"loc":{"start":{"line":41,"column":12},"end":{"line":44,"column":13}},"type":"if","locations":[{"start":{"line":41,"column":12},"end":{"line":44,"column":13}},{"start":{"line":41,"column":12},"end":{"line":44,"column":13}}],"line":41},"5":{"loc":{"start":{"line":61,"column":12},"end":{"line":64,"column":13}},"type":"if","locations":[{"start":{"line":61,"column":12},"end":{"line":64,"column":13}},{"start":{"line":61,"column":12},"end":{"line":64,"column":13}}],"line":61},"6":{"loc":{"start":{"line":136,"column":8},"end":{"line":155,"column":9}},"type":"switch","locations":[{"start":{"line":137,"column":10},"end":{"line":139,"column":60}},{"start":{"line":141,"column":10},"end":{"line":150,"column":13}},{"start":{"line":152,"column":10},"end":{"line":152,"column":17}},{"start":{"line":153,"column":10},"end":{"line":154,"column":36}}],"line":136},"7":{"loc":{"start":{"line":145,"column":12},"end":{"line":150,"column":13}},"type":"if","locations":[{"start":{"line":145,"column":12},"end":{"line":150,"column":13}},{"start":{"line":145,"column":12},"end":{"line":150,"column":13}}],"line":145}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":2,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":1,"61":0,"62":1,"63":1,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":1,"75":0,"76":1},"f":{"0":1,"1":0,"2":2,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0,0,0,0,0,0,0,0,0],"4":[0,0],"5":[0,0],"6":[0,0,0,0],"7":[0,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["create","data","final","moduleCrete","isValid","body","valid","s","e","tokenData","role","ROLES","db","read","schema","modules","field","update","o","status","migrate","moduleMigrate"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAEO,IAAMA,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBAAOC,IAAP,EAAaC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACAC,oBAAYC,OAAZ,CAAoBH,IAAI,CAACI,IAAzB,CADA;;AAAA;AACdC,YAAAA,KADc;;AAAA,iBAEhBA,KAFgB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAGZ,6BAAUL,IAAV,CAHY;;AAAA;AAAA;AAAA,mBAIM,oBAAKA,IAAL,WAAiB;AAAA,qBAAMC,MAAK,CAAC,IAAD,EAAO;AAAEK,gBAAAA,CAAC,EAAE,GAAL;AAAUC,gBAAAA,CAAC,EAAE,qBAAE,oBAAF;AAAb,eAAP,CAAX;AAAA,aAAjB,CAJN;;AAAA;AAIZC,YAAAA,SAJY;;AAAA,kBAKdA,SAAS,CAACC,IAAV,KAAmBC,cAAM,CAAN,CALL;AAAA;AAAA;AAAA;;AAMhBT,YAAAA,MAAK,CAAC,IAAD,EAAO;AAAEK,cAAAA,CAAC,EAAE,GAAL;AAAUC,cAAAA,CAAC,EAAE,qBAAE,oBAAF;AAAb,aAAP,CAAL;;AANgB;AAAA;;AAAA;AAAA;AAAA,mBAQKI,eAAGC,IAAH,CAAQ,SAAR,EAAmB,MAAnB,WAAiC;AAAA,qBAAMX,MAAK,CAAC,IAAD,EAAO;AAAEK,gBAAAA,CAAC,EAAE,GAAL;AAAUC,gBAAAA,CAAC,EAAE,qBAAE,mBAAF;AAAb,eAAP,CAAX;AAAA,aAAjC,CARL;;AAAA;AAQVM,YAAAA,MARU;AAShBA,YAAAA,MAAM,CAACC,OAAP,CAAed,IAAI,CAACI,IAAL,CAAUW,KAAzB,IAAkC,EAAlC;AATgB;AAAA,mBAUVJ,eAAGK,MAAH,CAAU,SAAV,EAAqB,MAArB,EAA6BH,MAA7B,WAA2C;AAAA,qBAAMZ,MAAK,CAAC,IAAD,EAAO;AAAEK,gBAAAA,CAAC,EAAE,GAAL;AAAUC,gBAAAA,CAAC,EAAE,qBAAE,qBAAF;AAAb,eAAP,CAAX;AAAA,aAA3C,CAVU;;AAAA;AAWhBN,YAAAA,MAAK,CAAC,IAAD,EAAO;AAAEK,cAAAA,CAAC,EAAE,GAAL;AAAUW,cAAAA,CAAC,EAAE;AAAEC,gBAAAA,MAAM,EAAE;AAAV;AAAb,aAAP,CAAL;;AAXgB;AAAA;AAAA;;AAAA;AAclBjB,YAAAA,MAAK,CAAC,IAAD,EAAO;AAAEK,cAAAA,CAAC,EAAE,GAAL;AAAUC,cAAAA,CAAC,EAAE,qBAAE,gBAAF;AAAb,aAAP,CAAL;;AAdkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAANR,MAAM;AAAA;AAAA;AAAA,GAAZ;;;;AAkBA,IAAMoB,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,kBAAOnB,IAAP,EAAaC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACDmB,sBAAcjB,OAAd,CAAsBH,IAAI,CAACI,IAA3B,CADC;;AAAA;AACfC,YAAAA,KADe;;AAErB;AACA,gBAAIA,KAAJ,EAAW,CACV,CADD,MACO;AACLJ,cAAAA,OAAK,CAAC,IAAD,EAAO;AAAEK,gBAAAA,CAAC,EAAE,GAAL;AAAUC,gBAAAA,CAAC,EAAE,qBAAE,gBAAF;AAAb,eAAP,CAAL;AACD;;AANoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAPY,OAAO;AAAA;AAAA;AAAA,GAAb","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\module","sourcesContent":["import db from '../../lib/db'\r\nimport { moduleCrete, moduleMigrate } from './schema'\r\nimport { t, setLocale } from '../../lib/translations'\r\nimport { auth } from '../../lib/security'\r\nimport { ROLES } from '../../config'\r\n\r\nexport const create = async (data, final) => {\r\n  const valid = await moduleCrete.isValid(data.body)\r\n  if (valid) {\r\n    await setLocale(data)\r\n    const tokenData = await auth(data).catch(() => final(null, { s: 403, e: t('error.unauthorized') }))\r\n    if (tokenData.role !== ROLES[1]) {\r\n      final(null, { s: 403, e: t('error.unauthorized') })\r\n    } else {\r\n      const schema = await db.read('schemas', 'user').catch(() => final(null, { s: 400, e: t('error.cannot_read') }))\r\n      schema.modules[data.body.field] = []\r\n      await db.update('schemas', 'user', schema).catch(() => final(null, { s: 500, e: t('error.cannot_update') }))\r\n      final(null, { s: 200, o: { status: 'ok' } })\r\n    }\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nexport const migrate = async (data, final) => {\r\n  const valid = await moduleMigrate.isValid(data.body)\r\n  // for each existing user - update its schema\r\n  if (valid) {\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a081ab15cb2cf6032e1bb92d5dc3190412d7e28a","contentHash":"487f3edcd210fb7c7d807489fc29c9ad74cf53bfc3c1347dde729c083acfff1b"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\module\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\module\\schema.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":53}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":25}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":37}},"4":{"start":{"line":12,"column":18},"end":{"line":15,"column":2}},"5":{"start":{"line":16,"column":0},"end":{"line":16,"column":34}},"6":{"start":{"line":17,"column":20},"end":{"line":20,"column":2}},"7":{"start":{"line":21,"column":0},"end":{"line":21,"column":38}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["moduleCrete","shape","field","required","min","locale","oneOf","LANGUAGES","moduleMigrate"],"mappings":";;;;;;;AAAA;;AAEA;;AAEO,IAAMA,WAAW,GAAG,mBAASC,KAAT,CAAe;AACxCC,EAAAA,KAAK,EAAE,mBAASC,QAAT,GAAoBC,GAApB,CAAwB,CAAxB,CADiC;AAExCC,EAAAA,MAAM,EAAE,mBAASF,QAAT,GAAoBG,KAApB,CAA0BC,iBAA1B;AAFgC,CAAf,CAApB;;AAKA,IAAMC,aAAa,GAAG,mBAASP,KAAT,CAAe;AAC1CC,EAAAA,KAAK,EAAE,mBAASC,QAAT,GAAoBC,GAApB,CAAwB,CAAxB,CADmC;AAE1CC,EAAAA,MAAM,EAAE,mBAASF,QAAT,GAAoBG,KAApB,CAA0BC,iBAA1B;AAFkC,CAAf,CAAtB","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\module","sourcesContent":["import { object, string } from 'yup'\r\n\r\nimport { LANGUAGES } from '../../config'\r\n\r\nexport const moduleCrete = object().shape({\r\n  field: string().required().min(5),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n\r\nexport const moduleMigrate = object().shape({\r\n  field: string().required().min(5),\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1b88447cb3ddd1455c475f908ec0d70e93924141","contentHash":"80bc94375a05be191e5890c3f486ea864914fcd38b2bc53d31530a965c195531"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\notifications\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\notifications\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":46}},"2":{"start":{"line":8,"column":21},"end":{"line":8,"column":55}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":33}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":53}},"5":{"start":{"line":14,"column":77},"end":{"line":14,"column":175}},"6":{"start":{"line":14,"column":94},"end":{"line":14,"column":107}},"7":{"start":{"line":14,"column":121},"end":{"line":14,"column":131}},"8":{"start":{"line":14,"column":151},"end":{"line":14,"column":165}},"9":{"start":{"line":14,"column":166},"end":{"line":14,"column":173}},"10":{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},"11":{"start":{"line":14,"column":193},"end":{"line":14,"column":208}},"12":{"start":{"line":14,"column":218},"end":{"line":14,"column":261}},"13":{"start":{"line":16,"column":33},"end":{"line":16,"column":387}},"14":{"start":{"line":16,"column":65},"end":{"line":16,"column":69}},"15":{"start":{"line":16,"column":78},"end":{"line":16,"column":87}},"16":{"start":{"line":16,"column":89},"end":{"line":16,"column":384}},"17":{"start":{"line":16,"column":147},"end":{"line":16,"column":167}},"18":{"start":{"line":16,"column":193},"end":{"line":16,"column":264}},"19":{"start":{"line":16,"column":290},"end":{"line":16,"column":360}},"20":{"start":{"line":16,"column":363},"end":{"line":16,"column":380}},"21":{"start":{"line":20,"column":0},"end":{"line":83,"column":3}},"22":{"start":{"line":21,"column":13},"end":{"line":78,"column":5}},"23":{"start":{"line":25,"column":4},"end":{"line":77,"column":16}},"24":{"start":{"line":26,"column":6},"end":{"line":76,"column":7}},"25":{"start":{"line":27,"column":8},"end":{"line":75,"column":9}},"26":{"start":{"line":29,"column":12},"end":{"line":29,"column":30}},"27":{"start":{"line":30,"column":12},"end":{"line":30,"column":59}},"28":{"start":{"line":33,"column":12},"end":{"line":33,"column":34}},"29":{"start":{"line":35,"column":12},"end":{"line":38,"column":13}},"30":{"start":{"line":36,"column":14},"end":{"line":36,"column":33}},"31":{"start":{"line":37,"column":14},"end":{"line":37,"column":20}},"32":{"start":{"line":40,"column":12},"end":{"line":40,"column":30}},"33":{"start":{"line":41,"column":12},"end":{"line":46,"column":15}},"34":{"start":{"line":42,"column":14},"end":{"line":45,"column":17}},"35":{"start":{"line":49,"column":12},"end":{"line":49,"column":38}},"36":{"start":{"line":50,"column":12},"end":{"line":50,"column":30}},"37":{"start":{"line":51,"column":12},"end":{"line":51,"column":54}},"38":{"start":{"line":54,"column":12},"end":{"line":54,"column":31}},"39":{"start":{"line":55,"column":12},"end":{"line":60,"column":15}},"40":{"start":{"line":56,"column":14},"end":{"line":59,"column":17}},"41":{"start":{"line":63,"column":12},"end":{"line":63,"column":31}},"42":{"start":{"line":64,"column":12},"end":{"line":64,"column":18}},"43":{"start":{"line":67,"column":12},"end":{"line":70,"column":15}},"44":{"start":{"line":74,"column":12},"end":{"line":74,"column":35}},"45":{"start":{"line":80,"column":2},"end":{"line":82,"column":4}},"46":{"start":{"line":81,"column":4},"end":{"line":81,"column":39}},"47":{"start":{"line":85,"column":0},"end":{"line":85,"column":20}},"48":{"start":{"line":89,"column":0},"end":{"line":143,"column":3}},"49":{"start":{"line":90,"column":14},"end":{"line":138,"column":5}},"50":{"start":{"line":94,"column":4},"end":{"line":137,"column":17}},"51":{"start":{"line":95,"column":6},"end":{"line":136,"column":7}},"52":{"start":{"line":96,"column":8},"end":{"line":135,"column":9}},"53":{"start":{"line":98,"column":12},"end":{"line":98,"column":31}},"54":{"start":{"line":99,"column":12},"end":{"line":99,"column":59}},"55":{"start":{"line":102,"column":12},"end":{"line":102,"column":35}},"56":{"start":{"line":104,"column":12},"end":{"line":107,"column":13}},"57":{"start":{"line":105,"column":14},"end":{"line":105,"column":34}},"58":{"start":{"line":106,"column":14},"end":{"line":106,"column":20}},"59":{"start":{"line":109,"column":12},"end":{"line":109,"column":31}},"60":{"start":{"line":110,"column":12},"end":{"line":115,"column":15}},"61":{"start":{"line":111,"column":14},"end":{"line":114,"column":17}},"62":{"start":{"line":118,"column":12},"end":{"line":118,"column":39}},"63":{"start":{"line":119,"column":12},"end":{"line":119,"column":31}},"64":{"start":{"line":120,"column":12},"end":{"line":120,"column":54}},"65":{"start":{"line":123,"column":12},"end":{"line":123,"column":32}},"66":{"start":{"line":124,"column":12},"end":{"line":124,"column":18}},"67":{"start":{"line":127,"column":12},"end":{"line":130,"column":15}},"68":{"start":{"line":134,"column":12},"end":{"line":134,"column":36}},"69":{"start":{"line":140,"column":2},"end":{"line":142,"column":4}},"70":{"start":{"line":141,"column":4},"end":{"line":141,"column":40}},"71":{"start":{"line":145,"column":0},"end":{"line":145,"column":38}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":27}},"loc":{"start":{"line":14,"column":75},"end":{"line":14,"column":265}},"line":14},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":26}},"loc":{"start":{"line":16,"column":31},"end":{"line":16,"column":389}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":40},"end":{"line":16,"column":41}},"loc":{"start":{"line":16,"column":52},"end":{"line":16,"column":386}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":108},"end":{"line":16,"column":109}},"loc":{"start":{"line":16,"column":135},"end":{"line":16,"column":382}},"line":16},"4":{"name":"_next","decl":{"start":{"line":16,"column":178},"end":{"line":16,"column":183}},"loc":{"start":{"line":16,"column":191},"end":{"line":16,"column":266}},"line":16},"5":{"name":"_throw","decl":{"start":{"line":16,"column":276},"end":{"line":16,"column":282}},"loc":{"start":{"line":16,"column":288},"end":{"line":16,"column":362}},"line":16},"6":{"name":"(anonymous_6)","decl":{"start":{"line":20,"column":0},"end":{"line":20,"column":1}},"loc":{"start":{"line":20,"column":12},"end":{"line":83,"column":1}},"line":20},"7":{"name":"_callee","decl":{"start":{"line":23,"column":35},"end":{"line":23,"column":42}},"loc":{"start":{"line":23,"column":57},"end":{"line":78,"column":3}},"line":23},"8":{"name":"_callee$","decl":{"start":{"line":25,"column":44},"end":{"line":25,"column":52}},"loc":{"start":{"line":25,"column":63},"end":{"line":77,"column":5}},"line":25},"9":{"name":"(anonymous_9)","decl":{"start":{"line":41,"column":39},"end":{"line":41,"column":40}},"loc":{"start":{"line":41,"column":51},"end":{"line":46,"column":13}},"line":41},"10":{"name":"(anonymous_10)","decl":{"start":{"line":55,"column":64},"end":{"line":55,"column":65}},"loc":{"start":{"line":55,"column":76},"end":{"line":60,"column":13}},"line":55},"11":{"name":"push","decl":{"start":{"line":80,"column":18},"end":{"line":80,"column":22}},"loc":{"start":{"line":80,"column":32},"end":{"line":82,"column":3}},"line":80},"12":{"name":"(anonymous_12)","decl":{"start":{"line":89,"column":0},"end":{"line":89,"column":1}},"loc":{"start":{"line":89,"column":12},"end":{"line":143,"column":1}},"line":89},"13":{"name":"_callee2","decl":{"start":{"line":92,"column":35},"end":{"line":92,"column":43}},"loc":{"start":{"line":92,"column":59},"end":{"line":138,"column":3}},"line":92},"14":{"name":"_callee2$","decl":{"start":{"line":94,"column":44},"end":{"line":94,"column":53}},"loc":{"start":{"line":94,"column":65},"end":{"line":137,"column":5}},"line":94},"15":{"name":"(anonymous_15)","decl":{"start":{"line":110,"column":39},"end":{"line":110,"column":40}},"loc":{"start":{"line":110,"column":51},"end":{"line":115,"column":13}},"line":110},"16":{"name":"pushSubscribe","decl":{"start":{"line":140,"column":18},"end":{"line":140,"column":31}},"loc":{"start":{"line":140,"column":42},"end":{"line":142,"column":3}},"line":140}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},"type":"if","locations":[{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},{"start":{"line":14,"column":176},"end":{"line":14,"column":263}}],"line":14},"1":{"loc":{"start":{"line":27,"column":8},"end":{"line":75,"column":9}},"type":"switch","locations":[{"start":{"line":28,"column":10},"end":{"line":30,"column":59}},{"start":{"line":32,"column":10},"end":{"line":46,"column":15}},{"start":{"line":48,"column":10},"end":{"line":51,"column":54}},{"start":{"line":53,"column":10},"end":{"line":60,"column":15}},{"start":{"line":62,"column":10},"end":{"line":64,"column":18}},{"start":{"line":66,"column":10},"end":{"line":70,"column":15}},{"start":{"line":72,"column":10},"end":{"line":72,"column":18}},{"start":{"line":73,"column":10},"end":{"line":74,"column":35}}],"line":27},"2":{"loc":{"start":{"line":35,"column":12},"end":{"line":38,"column":13}},"type":"if","locations":[{"start":{"line":35,"column":12},"end":{"line":38,"column":13}},{"start":{"line":35,"column":12},"end":{"line":38,"column":13}}],"line":35},"3":{"loc":{"start":{"line":96,"column":8},"end":{"line":135,"column":9}},"type":"switch","locations":[{"start":{"line":97,"column":10},"end":{"line":99,"column":59}},{"start":{"line":101,"column":10},"end":{"line":115,"column":15}},{"start":{"line":117,"column":10},"end":{"line":120,"column":54}},{"start":{"line":122,"column":10},"end":{"line":124,"column":18}},{"start":{"line":126,"column":10},"end":{"line":130,"column":15}},{"start":{"line":132,"column":10},"end":{"line":132,"column":18}},{"start":{"line":133,"column":10},"end":{"line":134,"column":36}}],"line":96},"4":{"loc":{"start":{"line":104,"column":12},"end":{"line":107,"column":13}},"type":"if","locations":[{"start":{"line":104,"column":12},"end":{"line":107,"column":13}},{"start":{"line":104,"column":12},"end":{"line":107,"column":13}}],"line":104}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":2,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":1,"48":1,"49":1,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":1,"70":0,"71":1},"f":{"0":0,"1":2,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0},"b":{"0":[0,0],"1":[0,0,0,0,0,0,0,0],"2":[0,0],"3":[0,0,0,0,0,0,0],"4":[0,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["push","data","final","notifySchema","isValid","body","valid","auth","s","e","tokenData","pushSubscribe"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;AAGO,IAAMA,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBAAOC,IAAP,EAAaC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEEC,qBAAaC,OAAb,CAAqBH,IAAI,CAACI,IAA1B,CAFF;;AAAA;AAEZC,YAAAA,KAFY;;AAAA,iBAGdA,KAHc;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAIQC,IAAI,CAACN,IAAD,CAAJ,UAAiB;AAAA,qBAAMC,MAAK,CAAC,IAAD,EAAO;AAAEM,gBAAAA,CAAC,EAAE,GAAL;AAAUC,gBAAAA,CAAC,EAAE,qBAAE,oBAAF;AAAb,eAAP,CAAX;AAAA,aAAjB,CAJR;;AAAA;AAIVC,YAAAA,SAJU;AAAA;AAAA,mBAKV,6BAAUT,IAAV,CALU;;AAAA;AAAA;AAAA,mBAMV,8BAAUA,IAAV,WAAsB;AAAA,qBAAMC,MAAK,CAAC,IAAD,EAAO;AAAEM,gBAAAA,CAAC,EAAE,GAAL;AAAUC,gBAAAA,CAAC,EAAE,qBAAE,cAAF;AAAb,eAAP,CAAX;AAAA,aAAtB,CANU;;AAAA;AAAA;AAAA;;AAAA;AAQhBP,YAAAA,MAAK,CAAC,IAAD,EAAO;AAAEM,cAAAA,CAAC,EAAE,GAAL;AAAUC,cAAAA,CAAC,EAAE,qBAAE,gBAAF;AAAb,aAAP,CAAL;;AARgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAJT,IAAI;AAAA;AAAA;AAAA,GAAV;;;;AAYA,IAAMW,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,kBAAOV,IAAP,EAAaC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACPC,qBAAaC,OAAb,CAAqBH,IAAI,CAACI,IAA1B,CADO;;AAAA;AACrBC,YAAAA,KADqB;;AAAA,iBAEvBA,KAFuB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAIDC,IAAI,CAACN,IAAD,CAAJ,UAAiB;AAAA,qBAAMC,OAAK,CAAC,IAAD,EAAO;AAAEM,gBAAAA,CAAC,EAAE,GAAL;AAAUC,gBAAAA,CAAC,EAAE,qBAAE,oBAAF;AAAb,eAAP,CAAX;AAAA,aAAjB,CAJC;;AAAA;AAInBC,YAAAA,SAJmB;AAAA;AAAA,mBAKnB,6BAAUT,IAAV,CALmB;;AAAA;AAAA;AAAA;;AAAA;AAQzBC,YAAAA,OAAK,CAAC,IAAD,EAAO;AAAEM,cAAAA,CAAC,EAAE,GAAL;AAAUC,cAAAA,CAAC,EAAE,qBAAE,gBAAF;AAAb,aAAP,CAAL;;AARyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAbE,aAAa;AAAA;AAAA;AAAA,GAAnB","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\notifications","sourcesContent":["import { subscribe } from '../../lib/notifications'\r\nimport { notifySchema } from './schema'\r\nimport { t, setLocale } from '../../lib/translations'\r\n\r\n// @TODO!!!\r\nexport const push = async (data, final) => {\r\n  // for admins\r\n  const valid = await notifySchema.isValid(data.body)\r\n  if (valid) {\r\n    const tokenData = await auth(data).catch(() => final(null, { s: 403, e: t('error.unauthorized') }))\r\n    await setLocale(data)\r\n    await subscribe(data).catch(() => final(null, { s: 400, e: t('error.notify') }))\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n\r\nexport const pushSubscribe = async (data, final) => {\r\n  const valid = await notifySchema.isValid(data.body)\r\n  if (valid) {\r\n    // if no user exists - create only notif id user\r\n    const tokenData = await auth(data).catch(() => final(null, { s: 403, e: t('error.unauthorized') }))\r\n    await setLocale(data)\r\n    // update user with subsription id\r\n  } else {\r\n    final(null, { s: 400, e: t('error.required') })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bf71e5183204dae9ad896ebd7d28b60520d6b476","contentHash":"278b16c3b5d6d2e34113ec7af8b00ec4520b35b52f764971448a282ba854ea98"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\notifications\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\notifications\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":47}},"2":{"start":{"line":8,"column":29},"end":{"line":8,"column":86}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":27}},"4":{"start":{"line":12,"column":15},"end":{"line":12,"column":58}},"5":{"start":{"line":14,"column":14},"end":{"line":14,"column":37}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":95}},"7":{"start":{"line":18,"column":17},"end":{"line":69,"column":1}},"8":{"start":{"line":19,"column":17},"end":{"line":53,"column":3}},"9":{"start":{"line":54,"column":13},"end":{"line":54,"column":60}},"10":{"start":{"line":55,"column":13},"end":{"line":63,"column":3}},"11":{"start":{"line":64,"column":2},"end":{"line":68,"column":5}},"12":{"start":{"line":65,"column":4},"end":{"line":65,"column":31}},"13":{"start":{"line":67,"column":4},"end":{"line":67,"column":21}},"14":{"start":{"line":71,"column":16},"end":{"line":71,"column":48}},"15":{"start":{"line":72,"column":0},"end":{"line":72,"column":30}},"16":{"start":{"line":74,"column":17},"end":{"line":87,"column":1}},"17":{"start":{"line":75,"column":2},"end":{"line":75,"column":122}},"18":{"start":{"line":77,"column":21},"end":{"line":77,"column":31}},"19":{"start":{"line":78,"column":10},"end":{"line":80,"column":3}},"20":{"start":{"line":82,"column":2},"end":{"line":84,"column":5}},"21":{"start":{"line":83,"column":4},"end":{"line":83,"column":19}},"22":{"start":{"line":86,"column":2},"end":{"line":86,"column":9}},"23":{"start":{"line":89,"column":16},"end":{"line":89,"column":48}},"24":{"start":{"line":90,"column":0},"end":{"line":90,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":97}},"line":16},"1":{"name":"_multiPush","decl":{"start":{"line":18,"column":26},"end":{"line":18,"column":36}},"loc":{"start":{"line":18,"column":67},"end":{"line":69,"column":1}},"line":18},"2":{"name":"(anonymous_2)","decl":{"start":{"line":64,"column":40},"end":{"line":64,"column":41}},"loc":{"start":{"line":64,"column":59},"end":{"line":66,"column":3}},"line":64},"3":{"name":"(anonymous_3)","decl":{"start":{"line":66,"column":14},"end":{"line":66,"column":15}},"loc":{"start":{"line":66,"column":29},"end":{"line":68,"column":3}},"line":66},"4":{"name":"_subscribe","decl":{"start":{"line":74,"column":26},"end":{"line":74,"column":36}},"loc":{"start":{"line":74,"column":50},"end":{"line":87,"column":1}},"line":74},"5":{"name":"(anonymous_5)","decl":{"start":{"line":82,"column":81},"end":{"line":82,"column":82}},"loc":{"start":{"line":82,"column":94},"end":{"line":84,"column":3}},"line":82}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":94}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":94}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":1},"f":{"0":2,"1":0,"2":0,"3":0,"4":0,"5":0},"b":{"0":[0,2],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["_multiPush","title","registrationIds","done","settings","gcm","id","phonegap","apn","token","key","keyId","teamId","production","adm","client_id","client_secret","wns","notificationMethod","web","vapidDetails","subject","publicKey","privateKey","gcmAPIKey","TTL","contentEncoding","headers","isAlwaysUseFCM","push","PushNotifications","data","body","COMPANY","custom","sender","expiry","Math","floor","Date","now","timeToLive","send","then","results","err","multiPush","_subscribe","event","webPush","setVapidDetails","WAPID_EMAIL","WAPID_PUBLIC","WAPID_PRIVATE","subscription","o","sendNotification","JSON","stringify","e","subscribe"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;;;AAEA,IAAMA,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAQC,eAAR,EAAyBC,IAAzB,EAAkC;AACnD,MAAMC,QAAQ,GAAG;AACfC,IAAAA,GAAG,EAAE;AACHC,MAAAA,EAAE,EAAE,IADD;AAEHC,MAAAA,QAAQ,EAAE;AAFP,KADU;AAKfC,IAAAA,GAAG,EAAE;AACHC,MAAAA,KAAK,EAAE;AACLC,QAAAA,GAAG,EAAE,gBADA;AAELC,QAAAA,KAAK,EAAE,MAFF;AAGLC,QAAAA,MAAM,EAAE;AAHH,OADJ;AAMHC,MAAAA,UAAU,EAAE;AANT,KALU;AAafC,IAAAA,GAAG,EAAE;AACHC,MAAAA,SAAS,EAAE,IADR;AAEHC,MAAAA,aAAa,EAAE;AAFZ,KAbU;AAiBfC,IAAAA,GAAG,EAAE;AACHF,MAAAA,SAAS,EAAE,IADR;AAEHC,MAAAA,aAAa,EAAE,IAFZ;AAGHE,MAAAA,kBAAkB,EAAE;AAHjB,KAjBU;AAsBfC,IAAAA,GAAG,EAAE;AACHC,MAAAA,YAAY,EAAE;AACZC,QAAAA,OAAO,EAAE,+BADG;AAEZC,QAAAA,SAAS,EAAE,wCAFC;AAGZC,QAAAA,UAAU,EAAE;AAHA,OADX;AAMHC,MAAAA,SAAS,EAAE,QANR;AAOHC,MAAAA,GAAG,EAAE,OAPF;AAQHC,MAAAA,eAAe,EAAE,WARd;AASHC,MAAAA,OAAO,EAAE;AATN,KAtBU;AAiCfC,IAAAA,cAAc,EAAE;AAjCD,GAAjB;AAoCA,MAAMC,IAAI,GAAG,IAAIC,iCAAJ,CAAsB1B,QAAtB,CAAb;AAEA,MAAM2B,IAAI,GAAG;AACX9B,IAAAA,KAAK,EAALA,KADW;AAEX+B,IAAAA,IAAI,uBAAgBC,eAAhB,CAFO;AAGXC,IAAAA,MAAM,EAAE;AACNC,MAAAA,MAAM,EAAEF;AADF,KAHG;AAMXG,IAAAA,MAAM,EAAEC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACC,GAAL,KAAa,IAAxB,IAAgC,KAAK,KANlC;AAOXC,IAAAA,UAAU,EAAE,KAAK;AAPN,GAAb;AAUAZ,EAAAA,IAAI,CAACa,IAAL,CAAUxC,eAAV,EAA2B6B,IAA3B,EACGY,IADH,CACQ,UAACC,OAAD;AAAA,WAAazC,IAAI,CAAC,IAAD,EAAOyC,OAAP,CAAjB;AAAA,GADR,WAES,UAACC,GAAD;AAAA,WAAS1C,IAAI,CAAC0C,GAAD,CAAb;AAAA,GAFT;AAGD,CApDD;;AAsDO,IAAMC,SAAS,GAAG,qBAAU9C,UAAV,CAAlB;;;AAEP,IAAM+C,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAQ7C,IAAR,EAAiB;AAClC8C,sBAAQC,eAAR,kBAAkCC,mBAAlC,GAAiDC,oBAAjD,EAA+DC,qBAA/D;;AACA,MAAMC,YAAY,GAAGN,KAAK,CAAChB,IAA3B;AACA,MAAMuB,CAAC,GAAG;AACRtD,IAAAA,KAAK,EAAE+C,KAAK,CAAChB,IAAN,CAAW/B;AADV,GAAV;;AAIAgD,sBAAQO,gBAAR,CAAyBF,YAAzB,EAAuCG,IAAI,CAACC,SAAL,CAAeH,CAAf,CAAvC,WAAgE,UAACI,CAAD;AAAA,WAAOxD,IAAI,CAACwD,CAAD,CAAX;AAAA,GAAhE;;AACAxD,EAAAA,IAAI;AACL,CATD;;AAWO,IAAMyD,SAAS,GAAG,qBAAUb,UAAV,CAAlB","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\notifications","sourcesContent":["import PushNotifications from 'node-pushnotifications';\r\nimport { promisify } from 'util'\r\nimport webPush from 'web-push'\r\n\r\nimport { COMPANY, WAPID_PUBLIC, WAPID_PRIVATE, WAPID_EMAIL } from '../../config'\r\n\r\nconst _multiPush = (title, registrationIds, done) => {\r\n  const settings = {\r\n    gcm: {\r\n      id: null,\r\n      phonegap: false\r\n    },\r\n    apn: { \r\n      token: {\r\n        key: './certs/key.p8',\r\n        keyId: 'ABCD',\r\n        teamId: 'EFGH'\r\n      },\r\n      production: false\r\n    },\r\n    adm: {\r\n      client_id: null,\r\n      client_secret: null\r\n    },\r\n    wns: {\r\n      client_id: null,\r\n      client_secret: null,\r\n      notificationMethod: 'sendTileSquareBlock'\r\n    },\r\n    web: {\r\n      vapidDetails: {\r\n        subject: '< \\'mailto\\' Address or URL >',\r\n        publicKey: '< URL Safe Base64 Encoded Public Key >',\r\n        privateKey: '< URL Safe Base64 Encoded Private Key >',\r\n      },\r\n      gcmAPIKey: 'gcmkey',\r\n      TTL: 2419200,\r\n      contentEncoding: 'aes128gcm',\r\n      headers: {}\r\n    },\r\n    isAlwaysUseFCM: false\r\n  }\r\n\r\n  const push = new PushNotifications(settings)\r\n\r\n  const data = {\r\n    title,\r\n    body: `Powered by ${COMPANY}`,\r\n    custom: {\r\n      sender: COMPANY\r\n    },\r\n    expiry: Math.floor(Date.now() / 1000) + 28 * 86400,\r\n    timeToLive: 28 * 86400,\r\n  }\r\n\r\n  push.send(registrationIds, data)\r\n    .then((results) => done(null, results))\r\n    .catch((err) => done(err))\r\n}\r\n\r\nexport const multiPush = promisify(_multiPush)\r\n\r\nconst _subscribe = (event, done) => {\r\n  webPush.setVapidDetails(`mailto:${WAPID_EMAIL}`, WAPID_PUBLIC, WAPID_PRIVATE)\r\n  const subscription = event.body\r\n  const o = {\r\n    title: event.body.title\r\n  }\r\n\r\n  webPush.sendNotification(subscription, JSON.stringify(o)).catch((e) => done(e))\r\n  done()\r\n}\r\n\r\nexport const subscribe = promisify(_subscribe)\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d4abe0c4a9c3f87518946f607abb9ba44d30675d","contentHash":"0a4ecdb311ab0e9c392affab4d25e4db25fc05ee1d76c207afb71d8a1f211d4a"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\notifications\\schema.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\notifications\\schema.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":25}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":37}},"4":{"start":{"line":12,"column":20},"end":{"line":14,"column":2}},"5":{"start":{"line":15,"column":0},"end":{"line":15,"column":38}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["schema.js"],"names":["setRoleSchema","shape","locale","required","oneOf","LANGUAGES"],"mappings":";;;;;;;AAAA;;AAEA;;AAEO,IAAMA,aAAa,GAAG,mBAASC,KAAT,CAAe;AAC1CC,EAAAA,MAAM,EAAE,mBAASC,QAAT,GAAoBC,KAApB,CAA0BC,iBAA1B;AADkC,CAAf,CAAtB","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\handlers\\notifications","sourcesContent":["import { object, string } from 'yup'\r\n\r\nimport { LANGUAGES } from '../../config'\r\n\r\nexport const setRoleSchema = object().shape({\r\n  locale: string().required().oneOf(LANGUAGES)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2a5e63e13d0b35408c6dbbeb02b34bde4cb94f48","contentHash":"9d6596a955d33dae44b141fb2dd2334f6c623f4339e14a609c33566571236445"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\api.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\api.js","statementMap":{"0":{"start":{"line":3,"column":13},"end":{"line":3,"column":35}},"1":{"start":{"line":5,"column":77},"end":{"line":5,"column":175}},"2":{"start":{"line":5,"column":94},"end":{"line":5,"column":107}},"3":{"start":{"line":5,"column":121},"end":{"line":5,"column":131}},"4":{"start":{"line":5,"column":151},"end":{"line":5,"column":165}},"5":{"start":{"line":5,"column":166},"end":{"line":5,"column":173}},"6":{"start":{"line":5,"column":176},"end":{"line":5,"column":263}},"7":{"start":{"line":5,"column":193},"end":{"line":5,"column":208}},"8":{"start":{"line":5,"column":218},"end":{"line":5,"column":261}},"9":{"start":{"line":7,"column":33},"end":{"line":7,"column":387}},"10":{"start":{"line":7,"column":65},"end":{"line":7,"column":69}},"11":{"start":{"line":7,"column":78},"end":{"line":7,"column":87}},"12":{"start":{"line":7,"column":89},"end":{"line":7,"column":384}},"13":{"start":{"line":7,"column":147},"end":{"line":7,"column":167}},"14":{"start":{"line":7,"column":193},"end":{"line":7,"column":264}},"15":{"start":{"line":7,"column":290},"end":{"line":7,"column":360}},"16":{"start":{"line":7,"column":363},"end":{"line":7,"column":380}},"17":{"start":{"line":9,"column":0},"end":{"line":36,"column":4}},"18":{"start":{"line":12,"column":13},"end":{"line":31,"column":5}},"19":{"start":{"line":15,"column":4},"end":{"line":30,"column":16}},"20":{"start":{"line":16,"column":6},"end":{"line":29,"column":7}},"21":{"start":{"line":17,"column":8},"end":{"line":28,"column":9}},"22":{"start":{"line":19,"column":12},"end":{"line":19,"column":30}},"23":{"start":{"line":20,"column":12},"end":{"line":20,"column":47}},"24":{"start":{"line":23,"column":12},"end":{"line":23,"column":60}},"25":{"start":{"line":27,"column":12},"end":{"line":27,"column":35}},"26":{"start":{"line":33,"column":2},"end":{"line":35,"column":4}},"27":{"start":{"line":34,"column":4},"end":{"line":34,"column":39}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":27}},"loc":{"start":{"line":5,"column":75},"end":{"line":5,"column":265}},"line":5},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":7,"column":9},"end":{"line":7,"column":26}},"loc":{"start":{"line":7,"column":31},"end":{"line":7,"column":389}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":7,"column":40},"end":{"line":7,"column":41}},"loc":{"start":{"line":7,"column":52},"end":{"line":7,"column":386}},"line":7},"3":{"name":"(anonymous_3)","decl":{"start":{"line":7,"column":108},"end":{"line":7,"column":109}},"loc":{"start":{"line":7,"column":135},"end":{"line":7,"column":382}},"line":7},"4":{"name":"_next","decl":{"start":{"line":7,"column":178},"end":{"line":7,"column":183}},"loc":{"start":{"line":7,"column":191},"end":{"line":7,"column":266}},"line":7},"5":{"name":"_throw","decl":{"start":{"line":7,"column":276},"end":{"line":7,"column":282}},"loc":{"start":{"line":7,"column":288},"end":{"line":7,"column":362}},"line":7},"6":{"name":"(anonymous_6)","decl":{"start":{"line":11,"column":0},"end":{"line":11,"column":1}},"loc":{"start":{"line":11,"column":12},"end":{"line":36,"column":1}},"line":11},"7":{"name":"_callee","decl":{"start":{"line":14,"column":35},"end":{"line":14,"column":42}},"loc":{"start":{"line":14,"column":59},"end":{"line":31,"column":3}},"line":14},"8":{"name":"_callee$","decl":{"start":{"line":15,"column":44},"end":{"line":15,"column":52}},"loc":{"start":{"line":15,"column":63},"end":{"line":30,"column":5}},"line":15},"9":{"name":"(anonymous_9)","decl":{"start":{"line":33,"column":9},"end":{"line":33,"column":10}},"loc":{"start":{"line":33,"column":28},"end":{"line":35,"column":3}},"line":33}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":176},"end":{"line":5,"column":263}},"type":"if","locations":[{"start":{"line":5,"column":176},"end":{"line":5,"column":263}},{"start":{"line":5,"column":176},"end":{"line":5,"column":263}}],"line":5},"1":{"loc":{"start":{"line":17,"column":8},"end":{"line":28,"column":9}},"type":"switch","locations":[{"start":{"line":18,"column":10},"end":{"line":20,"column":47}},{"start":{"line":22,"column":10},"end":{"line":23,"column":60}},{"start":{"line":25,"column":10},"end":{"line":25,"column":17}},{"start":{"line":26,"column":10},"end":{"line":27,"column":35}}],"line":17}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0},"f":{"0":0,"1":1,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0},"b":{"0":[0,0],"1":[0,0,0,0]},"inputSourceMap":{"version":3,"sources":["api.js"],"names":["module","exports","handler","event","context"],"mappings":";;AAAA;;;;;;AAEAA,MAAM,CAACC,OAAP,CAAeC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAyB,iBAAOC,KAAP,EAAcC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACV,qBAASD,KAAT,CADU;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAzB;;AAAA;AAAA;AAAA;AAAA","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app","sourcesContent":["import { response } from './lib/utils'\r\n\r\nmodule.exports.handler = async (event, context) => {\r\n  return await response(event)\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f789b7c31e4cfd9d6516a9e226c1805871a63bf1","contentHash":"97130496a34137771ee2649b61ec983f452c638329f5b9decfff22e2e57179d3"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":9,"column":0},"end":{"line":11,"column":3}},"3":{"start":{"line":13,"column":0},"end":{"line":13,"column":37}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["require","presets","config","path","module","exports"],"mappings":";;AAAAA,OAAO,CAAC,iBAAD,CAAP;;AACAA,OAAO,CAAC,iBAAD,CAAP,CAA2B;AACzBC,EAAAA,OAAO,EAAE,CAAC,mBAAD;AADgB,CAA3B;;AAGAD,OAAO,CAAC,QAAD,CAAP,CAAkBE,MAAlB,CAAyB;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAAzB;;AAEAC,MAAM,CAACC,OAAP,GAAiBL,OAAO,CAAC,UAAD,CAAxB","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app","sourcesContent":["require('@babel/polyfill')\r\nrequire('@babel/register')({\r\n  presets: ['@babel/preset-env']\r\n})\r\nrequire('dotenv').config({ path: './.env.production' })\r\n\r\nmodule.exports = require('./api.js')\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fd8dacb60fc6cdcabc4e53d26d6d7ccdb9688392","contentHash":"281ee5dee7f4d2447358c3fa3fc1cdd634a7bb66656052a706994ffe35de1a55"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\orm\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\orm\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":322}},"2":{"start":{"line":8,"column":44},"end":{"line":8,"column":195}},"3":{"start":{"line":8,"column":62},"end":{"line":8,"column":166}},"4":{"start":{"line":8,"column":176},"end":{"line":8,"column":193}},"5":{"start":{"line":8,"column":196},"end":{"line":8,"column":207}},"6":{"start":{"line":10,"column":12},"end":{"line":12,"column":1}},"7":{"start":{"line":11,"column":2},"end":{"line":11,"column":17}},"8":{"start":{"line":14,"column":0},"end":{"line":14,"column":22}},"9":{"start":{"line":16,"column":15},"end":{"line":18,"column":1}},"10":{"start":{"line":17,"column":2},"end":{"line":17,"column":17}},"11":{"start":{"line":20,"column":0},"end":{"line":20,"column":28}},"12":{"start":{"line":22,"column":15},"end":{"line":24,"column":1}},"13":{"start":{"line":23,"column":2},"end":{"line":23,"column":15}},"14":{"start":{"line":26,"column":0},"end":{"line":26,"column":28}},"15":{"start":{"line":28,"column":15},"end":{"line":30,"column":1}},"16":{"start":{"line":29,"column":2},"end":{"line":29,"column":15}},"17":{"start":{"line":32,"column":0},"end":{"line":32,"column":28}},"18":{"start":{"line":34,"column":22},"end":{"line":36,"column":1}},"19":{"start":{"line":35,"column":2},"end":{"line":35,"column":16}},"20":{"start":{"line":38,"column":0},"end":{"line":38,"column":42}},"21":{"start":{"line":40,"column":22},"end":{"line":42,"column":1}},"22":{"start":{"line":41,"column":2},"end":{"line":41,"column":16}},"23":{"start":{"line":44,"column":0},"end":{"line":44,"column":42}},"24":{"start":{"line":46,"column":11},"end":{"line":48,"column":1}},"25":{"start":{"line":47,"column":2},"end":{"line":47,"column":23}},"26":{"start":{"line":50,"column":0},"end":{"line":50,"column":20}},"27":{"start":{"line":52,"column":14},"end":{"line":59,"column":1}},"28":{"start":{"line":53,"column":2},"end":{"line":55,"column":5}},"29":{"start":{"line":54,"column":4},"end":{"line":54,"column":17}},"30":{"start":{"line":56,"column":10},"end":{"line":56,"column":22}},"31":{"start":{"line":57,"column":10},"end":{"line":57,"column":26}},"32":{"start":{"line":58,"column":2},"end":{"line":58,"column":23}},"33":{"start":{"line":61,"column":0},"end":{"line":61,"column":26}},"34":{"start":{"line":63,"column":14},"end":{"line":69,"column":1}},"35":{"start":{"line":64,"column":2},"end":{"line":68,"column":5}},"36":{"start":{"line":65,"column":4},"end":{"line":65,"column":17}},"37":{"start":{"line":67,"column":4},"end":{"line":67,"column":17}},"38":{"start":{"line":71,"column":0},"end":{"line":71,"column":26}},"39":{"start":{"line":73,"column":15},"end":{"line":81,"column":1}},"40":{"start":{"line":74,"column":2},"end":{"line":80,"column":6}},"41":{"start":{"line":75,"column":4},"end":{"line":75,"column":28}},"42":{"start":{"line":79,"column":4},"end":{"line":79,"column":40}},"43":{"start":{"line":83,"column":0},"end":{"line":83,"column":28}},"44":{"start":{"line":85,"column":17},"end":{"line":87,"column":1}},"45":{"start":{"line":86,"column":2},"end":{"line":86,"column":32}},"46":{"start":{"line":89,"column":0},"end":{"line":89,"column":32}},"47":{"start":{"line":91,"column":14},"end":{"line":91,"column":35}},"48":{"start":{"line":93,"column":0},"end":{"line":93,"column":26}},"49":{"start":{"line":95,"column":12},"end":{"line":95,"column":31}},"50":{"start":{"line":97,"column":0},"end":{"line":97,"column":22}},"51":{"start":{"line":99,"column":13},"end":{"line":105,"column":1}},"52":{"start":{"line":100,"column":2},"end":{"line":102,"column":3}},"53":{"start":{"line":101,"column":4},"end":{"line":101,"column":39}},"54":{"start":{"line":104,"column":2},"end":{"line":104,"column":21}},"55":{"start":{"line":107,"column":0},"end":{"line":107,"column":24}},"56":{"start":{"line":109,"column":13},"end":{"line":115,"column":1}},"57":{"start":{"line":110,"column":2},"end":{"line":112,"column":3}},"58":{"start":{"line":111,"column":4},"end":{"line":111,"column":39}},"59":{"start":{"line":114,"column":2},"end":{"line":114,"column":21}},"60":{"start":{"line":117,"column":0},"end":{"line":117,"column":24}},"61":{"start":{"line":119,"column":10},"end":{"line":125,"column":1}},"62":{"start":{"line":120,"column":2},"end":{"line":122,"column":3}},"63":{"start":{"line":121,"column":4},"end":{"line":121,"column":39}},"64":{"start":{"line":124,"column":2},"end":{"line":124,"column":21}},"65":{"start":{"line":127,"column":0},"end":{"line":127,"column":18}},"66":{"start":{"line":129,"column":13},"end":{"line":135,"column":1}},"67":{"start":{"line":130,"column":2},"end":{"line":132,"column":3}},"68":{"start":{"line":131,"column":4},"end":{"line":131,"column":39}},"69":{"start":{"line":134,"column":2},"end":{"line":134,"column":21}},"70":{"start":{"line":137,"column":0},"end":{"line":137,"column":24}}},"fnMap":{"0":{"name":"_defineProperty","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":24}},"loc":{"start":{"line":8,"column":42},"end":{"line":8,"column":209}},"line":8},"1":{"name":"equal","decl":{"start":{"line":10,"column":21},"end":{"line":10,"column":26}},"loc":{"start":{"line":10,"column":33},"end":{"line":12,"column":1}},"line":10},"2":{"name":"notEqual","decl":{"start":{"line":16,"column":24},"end":{"line":16,"column":32}},"loc":{"start":{"line":16,"column":39},"end":{"line":18,"column":1}},"line":16},"3":{"name":"lessThan","decl":{"start":{"line":22,"column":24},"end":{"line":22,"column":32}},"loc":{"start":{"line":22,"column":39},"end":{"line":24,"column":1}},"line":22},"4":{"name":"moreThan","decl":{"start":{"line":28,"column":24},"end":{"line":28,"column":32}},"loc":{"start":{"line":28,"column":39},"end":{"line":30,"column":1}},"line":28},"5":{"name":"lessThanOrEqual","decl":{"start":{"line":34,"column":31},"end":{"line":34,"column":46}},"loc":{"start":{"line":34,"column":53},"end":{"line":36,"column":1}},"line":34},"6":{"name":"moreThanOrEqual","decl":{"start":{"line":40,"column":31},"end":{"line":40,"column":46}},"loc":{"start":{"line":40,"column":53},"end":{"line":42,"column":1}},"line":40},"7":{"name":"like","decl":{"start":{"line":46,"column":20},"end":{"line":46,"column":24}},"loc":{"start":{"line":46,"column":31},"end":{"line":48,"column":1}},"line":46},"8":{"name":"between","decl":{"start":{"line":52,"column":23},"end":{"line":52,"column":30}},"loc":{"start":{"line":52,"column":40},"end":{"line":59,"column":1}},"line":52},"9":{"name":"(anonymous_9)","decl":{"start":{"line":53,"column":9},"end":{"line":53,"column":10}},"loc":{"start":{"line":53,"column":25},"end":{"line":55,"column":3}},"line":53},"10":{"name":"orderBy","decl":{"start":{"line":63,"column":23},"end":{"line":63,"column":30}},"loc":{"start":{"line":63,"column":37},"end":{"line":69,"column":1}},"line":63},"11":{"name":"(anonymous_11)","decl":{"start":{"line":64,"column":30},"end":{"line":64,"column":31}},"loc":{"start":{"line":64,"column":46},"end":{"line":66,"column":3}},"line":64},"12":{"name":"(anonymous_12)","decl":{"start":{"line":66,"column":14},"end":{"line":66,"column":15}},"loc":{"start":{"line":66,"column":30},"end":{"line":68,"column":3}},"line":66},"13":{"name":"distinct","decl":{"start":{"line":73,"column":24},"end":{"line":73,"column":32}},"loc":{"start":{"line":73,"column":47},"end":{"line":81,"column":1}},"line":73},"14":{"name":"(anonymous_14)","decl":{"start":{"line":74,"column":34},"end":{"line":74,"column":35}},"loc":{"start":{"line":74,"column":48},"end":{"line":76,"column":3}},"line":74},"15":{"name":"(anonymous_15)","decl":{"start":{"line":76,"column":10},"end":{"line":76,"column":11}},"loc":{"start":{"line":76,"column":24},"end":{"line":80,"column":3}},"line":76},"16":{"name":"distinctBy","decl":{"start":{"line":85,"column":26},"end":{"line":85,"column":36}},"loc":{"start":{"line":85,"column":40},"end":{"line":87,"column":1}},"line":85},"17":{"name":"groupBy","decl":{"start":{"line":91,"column":23},"end":{"line":91,"column":30}},"loc":{"start":{"line":91,"column":33},"end":{"line":91,"column":35}},"line":91},"18":{"name":"notIn","decl":{"start":{"line":95,"column":21},"end":{"line":95,"column":26}},"loc":{"start":{"line":95,"column":29},"end":{"line":95,"column":31}},"line":95},"19":{"name":"select","decl":{"start":{"line":99,"column":22},"end":{"line":99,"column":28}},"loc":{"start":{"line":99,"column":58},"end":{"line":105,"column":1}},"line":99},"20":{"name":"insert","decl":{"start":{"line":109,"column":22},"end":{"line":109,"column":28}},"loc":{"start":{"line":109,"column":58},"end":{"line":115,"column":1}},"line":109},"21":{"name":"del","decl":{"start":{"line":119,"column":19},"end":{"line":119,"column":22}},"loc":{"start":{"line":119,"column":52},"end":{"line":125,"column":1}},"line":119},"22":{"name":"update","decl":{"start":{"line":129,"column":22},"end":{"line":129,"column":28}},"loc":{"start":{"line":129,"column":58},"end":{"line":135,"column":1}},"line":129}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":44},"end":{"line":8,"column":195}},"type":"if","locations":[{"start":{"line":8,"column":44},"end":{"line":8,"column":195}},{"start":{"line":8,"column":44},"end":{"line":8,"column":195}}],"line":8},"1":{"loc":{"start":{"line":64,"column":9},"end":{"line":68,"column":4}},"type":"cond-expr","locations":[{"start":{"line":64,"column":23},"end":{"line":66,"column":4}},{"start":{"line":66,"column":7},"end":{"line":68,"column":4}}],"line":64},"2":{"loc":{"start":{"line":100,"column":2},"end":{"line":102,"column":3}},"type":"if","locations":[{"start":{"line":100,"column":2},"end":{"line":102,"column":3}},{"start":{"line":100,"column":2},"end":{"line":102,"column":3}}],"line":100},"3":{"loc":{"start":{"line":100,"column":6},"end":{"line":100,"column":22}},"type":"binary-expr","locations":[{"start":{"line":100,"column":6},"end":{"line":100,"column":14}},{"start":{"line":100,"column":18},"end":{"line":100,"column":22}}],"line":100},"4":{"loc":{"start":{"line":110,"column":2},"end":{"line":112,"column":3}},"type":"if","locations":[{"start":{"line":110,"column":2},"end":{"line":112,"column":3}},{"start":{"line":110,"column":2},"end":{"line":112,"column":3}}],"line":110},"5":{"loc":{"start":{"line":110,"column":6},"end":{"line":110,"column":22}},"type":"binary-expr","locations":[{"start":{"line":110,"column":6},"end":{"line":110,"column":14}},{"start":{"line":110,"column":18},"end":{"line":110,"column":22}}],"line":110},"6":{"loc":{"start":{"line":120,"column":2},"end":{"line":122,"column":3}},"type":"if","locations":[{"start":{"line":120,"column":2},"end":{"line":122,"column":3}},{"start":{"line":120,"column":2},"end":{"line":122,"column":3}}],"line":120},"7":{"loc":{"start":{"line":120,"column":6},"end":{"line":120,"column":22}},"type":"binary-expr","locations":[{"start":{"line":120,"column":6},"end":{"line":120,"column":14}},{"start":{"line":120,"column":18},"end":{"line":120,"column":22}}],"line":120},"8":{"loc":{"start":{"line":130,"column":2},"end":{"line":132,"column":3}},"type":"if","locations":[{"start":{"line":130,"column":2},"end":{"line":132,"column":3}},{"start":{"line":130,"column":2},"end":{"line":132,"column":3}}],"line":130},"9":{"loc":{"start":{"line":130,"column":6},"end":{"line":130,"column":22}},"type":"binary-expr","locations":[{"start":{"line":130,"column":6},"end":{"line":130,"column":14}},{"start":{"line":130,"column":18},"end":{"line":130,"column":22}}],"line":130}},"s":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":1,"9":1,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":0,"20":1,"21":1,"22":0,"23":1,"24":1,"25":0,"26":1,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":1,"35":0,"36":0,"37":0,"38":1,"39":1,"40":0,"41":0,"42":0,"43":1,"44":1,"45":0,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":0,"53":0,"54":0,"55":1,"56":1,"57":0,"58":0,"59":0,"60":1,"61":1,"62":0,"63":0,"64":0,"65":1,"66":1,"67":0,"68":0,"69":0,"70":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["equal","a","b","notEqual","lessThan","moreThan","lessThanOrEqual","moreThanOrEqual","like","includes","between","c","sort","s","indexOf","e","slice","orderBy","distinct","col","what","Array","from","Set","map","el","distinctBy","groupBy","notIn","select","obj","column","operator","insert","del","update"],"mappings":";;;;;;;;;AAAO,IAAMA,KAAK,GAAG,SAARA,KAAQ,CAACC,CAAD,EAAIC,CAAJ,EAAU;AAC7B,SAAOD,CAAC,KAAKC,CAAb;AACD,CAFM;;;;AAIA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACF,CAAD,EAAIC,CAAJ,EAAU;AAChC,SAAOD,CAAC,KAAKC,CAAb;AACD,CAFM;;;;AAIA,IAAME,QAAQ,GAAG,SAAXA,QAAW,CAACH,CAAD,EAAIC,CAAJ,EAAU;AAChC,SAAOD,CAAC,GAAGC,CAAX;AACD,CAFM;;;;AAIA,IAAMG,QAAQ,GAAG,SAAXA,QAAW,CAACJ,CAAD,EAAIC,CAAJ,EAAU;AAChC,SAAOD,CAAC,GAAGC,CAAX;AACD,CAFM;;;;AAIA,IAAMI,eAAe,GAAG,SAAlBA,eAAkB,CAACL,CAAD,EAAIC,CAAJ,EAAU;AACvC,SAAOD,CAAC,IAAIC,CAAZ;AACD,CAFM;;;;AAIA,IAAMK,eAAe,GAAG,SAAlBA,eAAkB,CAACN,CAAD,EAAIC,CAAJ,EAAU;AACvC,SAAOD,CAAC,IAAIC,CAAZ;AACD,CAFM;;;;AAIA,IAAMM,IAAI,GAAG,SAAPA,IAAO,CAACP,CAAD,EAAIC,CAAJ,EAAU;AAC5B,SAAOD,CAAC,CAACQ,QAAF,CAAWP,CAAX,CAAP;AACD,CAFM;;;;AAIA,IAAMQ,OAAO,GAAG,SAAVA,OAAU,CAACT,CAAD,EAAIC,CAAJ,EAAOS,CAAP,EAAa;AAClCV,EAAAA,CAAC,CAACW,IAAF,CAAO,UAACX,CAAD,EAAIC,CAAJ;AAAA,WAAUD,CAAC,GAAGC,CAAd;AAAA,GAAP;AACA,MAAMW,CAAC,GAAGZ,CAAC,CAACa,OAAF,CAAUZ,CAAV,CAAV;AACA,MAAMa,CAAC,GAAGd,CAAC,CAACa,OAAF,CAAUH,CAAV,IAAe,CAAzB;AACA,SAAOV,CAAC,CAACe,KAAF,CAAQH,CAAR,EAAWE,CAAX,CAAP;AACD,CALM;;;;AAOA,IAAME,OAAO,GAAG,SAAVA,OAAU,CAAChB,CAAD,EAAIC,CAAJ,EAAU;AAC/B,SAAOA,CAAC,KAAK,KAAN,GAAcD,CAAC,CAACW,IAAF,CAAO,UAACX,CAAD,EAAIC,CAAJ;AAAA,WAAUD,CAAC,GAAGC,CAAd;AAAA,GAAP,CAAd,GAAwCD,CAAC,CAACW,IAAF,CAAO,UAACX,CAAD,EAAIC,CAAJ;AAAA,WAAUA,CAAC,GAAGD,CAAd;AAAA,GAAP,CAA/C;AACD,CAFM;;;;AAIA,IAAMiB,QAAQ,GAAG,SAAXA,QAAW,CAACjB,CAAD,EAAIkB,GAAJ,EAASC,IAAT,EAAkB;AACxC,SAAOC,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQtB,CAAC,CAACuB,GAAF,CAAM,UAACC,EAAD;AAAA,WAAQA,EAAE,CAACN,GAAD,CAAF,KAAYC,IAApB;AAAA,GAAN,CAAR,EACfI,GADe,CACX,UAACC,EAAD,EAAQ;AACX;AACA;AACA,+BAAUN,GAAV,EAAgBM,EAAhB;AACD,GALe,CAAX,CAAP;AAOD,CARM;;;;AAUA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACzB,CAAD,EAAO;AAC/B,SAAOoB,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQtB,CAAR,CAAX,CAAP;AACD,CAFM;;;;AAIA,IAAM0B,OAAO,GAAG,SAAVA,OAAU,GAAM,CAE5B,CAFM;;;;AAIA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM,CAE1B,CAFM;;;;AAIA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,GAAD,EAAMC,MAAN,EAAcC,QAAd,EAAwBZ,IAAxB,EAAiC;AACrD,MAAIY,QAAQ,IAAIZ,IAAhB,EAAsB;AACpB,WAAOY,QAAQ,CAACF,GAAG,CAACC,MAAD,CAAJ,EAAcX,IAAd,CAAf;AACD;;AACD,SAAOU,GAAG,CAACC,MAAD,CAAV;AACD,CALM;;;;AAOA,IAAME,MAAM,GAAG,SAATA,MAAS,CAACH,GAAD,EAAMC,MAAN,EAAcC,QAAd,EAAwBZ,IAAxB,EAAiC;AACrD,MAAIY,QAAQ,IAAIZ,IAAhB,EAAsB;AACpB,WAAOY,QAAQ,CAACF,GAAG,CAACC,MAAD,CAAJ,EAAcX,IAAd,CAAf;AACD;;AACD,SAAOU,GAAG,CAACC,MAAD,CAAV;AACD,CALM;;;;AAOA,IAAMG,GAAG,GAAG,SAANA,GAAM,CAACJ,GAAD,EAAMC,MAAN,EAAcC,QAAd,EAAwBZ,IAAxB,EAAiC;AAClD,MAAIY,QAAQ,IAAIZ,IAAhB,EAAsB;AACpB,WAAOY,QAAQ,CAACF,GAAG,CAACC,MAAD,CAAJ,EAAcX,IAAd,CAAf;AACD;;AACD,SAAOU,GAAG,CAACC,MAAD,CAAV;AACD,CALM;;;;AAOA,IAAMI,MAAM,GAAG,SAATA,MAAS,CAACL,GAAD,EAAMC,MAAN,EAAcC,QAAd,EAAwBZ,IAAxB,EAAiC;AACrD,MAAIY,QAAQ,IAAIZ,IAAhB,EAAsB;AACpB,WAAOY,QAAQ,CAACF,GAAG,CAACC,MAAD,CAAJ,EAAcX,IAAd,CAAf;AACD;;AACD,SAAOU,GAAG,CAACC,MAAD,CAAV;AACD,CALM","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\orm","sourcesContent":["export const equal = (a, b) => {\r\n  return a === b\r\n}\r\n\r\nexport const notEqual = (a, b) => {\r\n  return a !== b\r\n}\r\n\r\nexport const lessThan = (a, b) => {\r\n  return a < b\r\n}\r\n\r\nexport const moreThan = (a, b) => {\r\n  return a > b\r\n}\r\n\r\nexport const lessThanOrEqual = (a, b) => {\r\n  return a <= b\r\n}\r\n\r\nexport const moreThanOrEqual = (a, b) => {\r\n  return a >= b\r\n}\r\n\r\nexport const like = (a, b) => {\r\n  return a.includes(b)\r\n}\r\n\r\nexport const between = (a, b, c) => {\r\n  a.sort((a, b) => a - b)\r\n  const s = a.indexOf(b)\r\n  const e = a.indexOf(c) + 1\r\n  return a.slice(s, e)\r\n}\r\n\r\nexport const orderBy = (a, b) => {\r\n  return b === 'ASC' ? a.sort((a, b) => a - b) : a.sort((a, b) => b - a)\r\n}\r\n\r\nexport const distinct = (a, col, what) => {\r\n  return Array.from(new Set(a.map((el) => el[col] === what))\r\n    .map((el) => {\r\n      // iterate here over keys to construct new obj\r\n      // name: a.find((el) => el[col] === what)[key]\r\n      return { [col]: el }\r\n    })\r\n  )\r\n}\r\n\r\nexport const distinctBy = (a) => {\r\n  return Array.from(new Set(a))\r\n}\r\n\r\nexport const groupBy = () => {\r\n\r\n}\r\n\r\nexport const notIn = () => {\r\n\r\n}\r\n\r\nexport const select = (obj, column, operator, what) => {\r\n  if (operator && what) {\r\n    return operator(obj[column], what)\r\n  }\r\n  return obj[column]\r\n}\r\n\r\nexport const insert = (obj, column, operator, what) => {\r\n  if (operator && what) {\r\n    return operator(obj[column], what)\r\n  }\r\n  return obj[column]\r\n}\r\n\r\nexport const del = (obj, column, operator, what) => {\r\n  if (operator && what) {\r\n    return operator(obj[column], what)\r\n  }\r\n  return obj[column]\r\n}\r\n\r\nexport const update = (obj, column, operator, what) => {\r\n  if (operator && what) {\r\n    return operator(obj[column], what)\r\n  }\r\n  return obj[column]\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7608415879d89fff4a353e3001e91ca22a5e0d43","contentHash":"14c81e30ee8d4bd883e05b6517dbc205e8c120a348854e427fbadf5018d6a5ab"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\payments\\index.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\payments\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":37}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":95}},"5":{"start":{"line":14,"column":15},"end":{"line":14,"column":78}},"6":{"start":{"line":16,"column":0},"end":{"line":16,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":97}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":94}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":94}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":14,"column":15},"end":{"line":14,"column":78}},"type":"cond-expr","locations":[{"start":{"line":14,"column":55},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":78}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1},"b":{"0":[1,0],"1":[1,1],"2":[1,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["PAYMENT_PROVIDER","stripe"],"mappings":";;;;;;;AAAA;;AACA;;;;eAEeA,6BAAqB,QAArB,GAAgCC,kBAAhC,GAAyC,E","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\payments","sourcesContent":["import stripe from './stripe'\r\nimport { PAYMENT_PROVIDER } from '../../config'\r\n\r\nexport default PAYMENT_PROVIDER === 'stripe' ? stripe : {}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8131b6f93208d5a16ddba3ebf7837aea5264e647","contentHash":"6afcafe478f2f83f629bac4358a8ed3877a62c821d01bcf37c2868c59038d0b0"},"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\payments\\stripe.js":{"path":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\payments\\stripe.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":159}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":37}},"3":{"start":{"line":10,"column":77},"end":{"line":10,"column":175}},"4":{"start":{"line":10,"column":94},"end":{"line":10,"column":107}},"5":{"start":{"line":10,"column":121},"end":{"line":10,"column":131}},"6":{"start":{"line":10,"column":151},"end":{"line":10,"column":165}},"7":{"start":{"line":10,"column":166},"end":{"line":10,"column":173}},"8":{"start":{"line":10,"column":176},"end":{"line":10,"column":263}},"9":{"start":{"line":10,"column":193},"end":{"line":10,"column":208}},"10":{"start":{"line":10,"column":218},"end":{"line":10,"column":261}},"11":{"start":{"line":12,"column":33},"end":{"line":12,"column":387}},"12":{"start":{"line":12,"column":65},"end":{"line":12,"column":69}},"13":{"start":{"line":12,"column":78},"end":{"line":12,"column":87}},"14":{"start":{"line":12,"column":89},"end":{"line":12,"column":384}},"15":{"start":{"line":12,"column":147},"end":{"line":12,"column":167}},"16":{"start":{"line":12,"column":193},"end":{"line":12,"column":264}},"17":{"start":{"line":12,"column":290},"end":{"line":12,"column":360}},"18":{"start":{"line":12,"column":363},"end":{"line":12,"column":380}},"19":{"start":{"line":14,"column":13},"end":{"line":14,"column":110}},"20":{"start":{"line":16,"column":13},"end":{"line":18,"column":2}},"21":{"start":{"line":22,"column":0},"end":{"line":49,"column":3}},"22":{"start":{"line":23,"column":13},"end":{"line":44,"column":5}},"23":{"start":{"line":26,"column":4},"end":{"line":43,"column":16}},"24":{"start":{"line":27,"column":6},"end":{"line":42,"column":7}},"25":{"start":{"line":28,"column":8},"end":{"line":41,"column":9}},"26":{"start":{"line":30,"column":12},"end":{"line":30,"column":30}},"27":{"start":{"line":31,"column":12},"end":{"line":33,"column":15}},"28":{"start":{"line":36,"column":12},"end":{"line":36,"column":60}},"29":{"start":{"line":40,"column":12},"end":{"line":40,"column":35}},"30":{"start":{"line":46,"column":2},"end":{"line":48,"column":4}},"31":{"start":{"line":47,"column":4},"end":{"line":47,"column":39}},"32":{"start":{"line":51,"column":0},"end":{"line":51,"column":40}},"33":{"start":{"line":55,"column":0},"end":{"line":82,"column":3}},"34":{"start":{"line":56,"column":14},"end":{"line":77,"column":5}},"35":{"start":{"line":59,"column":4},"end":{"line":76,"column":17}},"36":{"start":{"line":60,"column":6},"end":{"line":75,"column":7}},"37":{"start":{"line":61,"column":8},"end":{"line":74,"column":9}},"38":{"start":{"line":63,"column":12},"end":{"line":63,"column":31}},"39":{"start":{"line":64,"column":12},"end":{"line":66,"column":15}},"40":{"start":{"line":69,"column":12},"end":{"line":69,"column":62}},"41":{"start":{"line":73,"column":12},"end":{"line":73,"column":36}},"42":{"start":{"line":79,"column":2},"end":{"line":81,"column":4}},"43":{"start":{"line":80,"column":4},"end":{"line":80,"column":40}},"44":{"start":{"line":84,"column":0},"end":{"line":84,"column":36}},"45":{"start":{"line":88,"column":0},"end":{"line":128,"column":3}},"46":{"start":{"line":89,"column":14},"end":{"line":123,"column":5}},"47":{"start":{"line":93,"column":4},"end":{"line":122,"column":17}},"48":{"start":{"line":94,"column":6},"end":{"line":121,"column":7}},"49":{"start":{"line":95,"column":8},"end":{"line":120,"column":9}},"50":{"start":{"line":97,"column":12},"end":{"line":97,"column":31}},"51":{"start":{"line":98,"column":12},"end":{"line":98,"column":41}},"52":{"start":{"line":101,"column":12},"end":{"line":101,"column":38}},"53":{"start":{"line":102,"column":12},"end":{"line":102,"column":31}},"54":{"start":{"line":103,"column":12},"end":{"line":103,"column":42}},"55":{"start":{"line":106,"column":12},"end":{"line":106,"column":36}},"56":{"start":{"line":107,"column":12},"end":{"line":107,"column":31}},"57":{"start":{"line":108,"column":12},"end":{"line":112,"column":15}},"58":{"start":{"line":115,"column":12},"end":{"line":115,"column":62}},"59":{"start":{"line":119,"column":12},"end":{"line":119,"column":36}},"60":{"start":{"line":125,"column":2},"end":{"line":127,"column":4}},"61":{"start":{"line":126,"column":4},"end":{"line":126,"column":40}},"62":{"start":{"line":130,"column":0},"end":{"line":130,"column":36}},"63":{"start":{"line":134,"column":0},"end":{"line":161,"column":3}},"64":{"start":{"line":135,"column":14},"end":{"line":156,"column":5}},"65":{"start":{"line":138,"column":4},"end":{"line":155,"column":17}},"66":{"start":{"line":139,"column":6},"end":{"line":154,"column":7}},"67":{"start":{"line":140,"column":8},"end":{"line":153,"column":9}},"68":{"start":{"line":142,"column":12},"end":{"line":142,"column":31}},"69":{"start":{"line":143,"column":12},"end":{"line":145,"column":15}},"70":{"start":{"line":148,"column":12},"end":{"line":148,"column":62}},"71":{"start":{"line":152,"column":12},"end":{"line":152,"column":36}},"72":{"start":{"line":158,"column":2},"end":{"line":160,"column":4}},"73":{"start":{"line":159,"column":4},"end":{"line":159,"column":40}},"74":{"start":{"line":163,"column":0},"end":{"line":163,"column":32}},"75":{"start":{"line":167,"column":0},"end":{"line":192,"column":3}},"76":{"start":{"line":168,"column":14},"end":{"line":187,"column":5}},"77":{"start":{"line":171,"column":4},"end":{"line":186,"column":17}},"78":{"start":{"line":172,"column":6},"end":{"line":185,"column":7}},"79":{"start":{"line":173,"column":8},"end":{"line":184,"column":9}},"80":{"start":{"line":175,"column":12},"end":{"line":175,"column":31}},"81":{"start":{"line":176,"column":12},"end":{"line":176,"column":43}},"82":{"start":{"line":179,"column":12},"end":{"line":179,"column":62}},"83":{"start":{"line":183,"column":12},"end":{"line":183,"column":36}},"84":{"start":{"line":189,"column":2},"end":{"line":191,"column":4}},"85":{"start":{"line":190,"column":4},"end":{"line":190,"column":40}},"86":{"start":{"line":194,"column":0},"end":{"line":194,"column":36}},"87":{"start":{"line":198,"column":0},"end":{"line":234,"column":3}},"88":{"start":{"line":199,"column":14},"end":{"line":229,"column":5}},"89":{"start":{"line":203,"column":4},"end":{"line":228,"column":33}},"90":{"start":{"line":204,"column":6},"end":{"line":227,"column":7}},"91":{"start":{"line":205,"column":8},"end":{"line":226,"column":9}},"92":{"start":{"line":207,"column":12},"end":{"line":207,"column":50}},"93":{"start":{"line":208,"column":12},"end":{"line":208,"column":31}},"94":{"start":{"line":209,"column":12},"end":{"line":209,"column":31}},"95":{"start":{"line":210,"column":12},"end":{"line":210,"column":96}},"96":{"start":{"line":213,"column":12},"end":{"line":213,"column":35}},"97":{"start":{"line":214,"column":12},"end":{"line":214,"column":24}},"98":{"start":{"line":215,"column":12},"end":{"line":215,"column":32}},"99":{"start":{"line":216,"column":12},"end":{"line":216,"column":18}},"100":{"start":{"line":219,"column":12},"end":{"line":219,"column":31}},"101":{"start":{"line":220,"column":12},"end":{"line":220,"column":49}},"102":{"start":{"line":221,"column":12},"end":{"line":221,"column":31}},"103":{"start":{"line":225,"column":12},"end":{"line":225,"column":36}},"104":{"start":{"line":231,"column":2},"end":{"line":233,"column":4}},"105":{"start":{"line":232,"column":4},"end":{"line":232,"column":40}},"106":{"start":{"line":236,"column":0},"end":{"line":236,"column":26}},"107":{"start":{"line":238,"column":15},"end":{"line":250,"column":1}},"108":{"start":{"line":239,"column":2},"end":{"line":249,"column":3}},"109":{"start":{"line":240,"column":4},"end":{"line":246,"column":7}},"110":{"start":{"line":241,"column":6},"end":{"line":245,"column":7}},"111":{"start":{"line":242,"column":8},"end":{"line":242,"column":49}},"112":{"start":{"line":244,"column":8},"end":{"line":244,"column":26}},"113":{"start":{"line":248,"column":4},"end":{"line":248,"column":22}},"114":{"start":{"line":252,"column":0},"end":{"line":252,"column":28}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":27}},"loc":{"start":{"line":10,"column":75},"end":{"line":10,"column":265}},"line":10},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":26}},"loc":{"start":{"line":12,"column":31},"end":{"line":12,"column":389}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":40},"end":{"line":12,"column":41}},"loc":{"start":{"line":12,"column":52},"end":{"line":12,"column":386}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":108},"end":{"line":12,"column":109}},"loc":{"start":{"line":12,"column":135},"end":{"line":12,"column":382}},"line":12},"4":{"name":"_next","decl":{"start":{"line":12,"column":178},"end":{"line":12,"column":183}},"loc":{"start":{"line":12,"column":191},"end":{"line":12,"column":266}},"line":12},"5":{"name":"_throw","decl":{"start":{"line":12,"column":276},"end":{"line":12,"column":282}},"loc":{"start":{"line":12,"column":288},"end":{"line":12,"column":362}},"line":12},"6":{"name":"(anonymous_6)","decl":{"start":{"line":22,"column":0},"end":{"line":22,"column":1}},"loc":{"start":{"line":22,"column":12},"end":{"line":49,"column":1}},"line":22},"7":{"name":"_callee","decl":{"start":{"line":25,"column":35},"end":{"line":25,"column":42}},"loc":{"start":{"line":25,"column":50},"end":{"line":44,"column":3}},"line":25},"8":{"name":"_callee$","decl":{"start":{"line":26,"column":44},"end":{"line":26,"column":52}},"loc":{"start":{"line":26,"column":63},"end":{"line":43,"column":5}},"line":26},"9":{"name":"createCustomer","decl":{"start":{"line":46,"column":18},"end":{"line":46,"column":32}},"loc":{"start":{"line":46,"column":37},"end":{"line":48,"column":3}},"line":46},"10":{"name":"(anonymous_10)","decl":{"start":{"line":55,"column":0},"end":{"line":55,"column":1}},"loc":{"start":{"line":55,"column":12},"end":{"line":82,"column":1}},"line":55},"11":{"name":"_callee2","decl":{"start":{"line":58,"column":35},"end":{"line":58,"column":43}},"loc":{"start":{"line":58,"column":54},"end":{"line":77,"column":3}},"line":58},"12":{"name":"_callee2$","decl":{"start":{"line":59,"column":44},"end":{"line":59,"column":53}},"loc":{"start":{"line":59,"column":65},"end":{"line":76,"column":5}},"line":59},"13":{"name":"createSource","decl":{"start":{"line":79,"column":18},"end":{"line":79,"column":30}},"loc":{"start":{"line":79,"column":36},"end":{"line":81,"column":3}},"line":79},"14":{"name":"(anonymous_14)","decl":{"start":{"line":88,"column":0},"end":{"line":88,"column":1}},"loc":{"start":{"line":88,"column":12},"end":{"line":128,"column":1}},"line":88},"15":{"name":"_callee3","decl":{"start":{"line":91,"column":35},"end":{"line":91,"column":43}},"loc":{"start":{"line":91,"column":69},"end":{"line":123,"column":3}},"line":91},"16":{"name":"_callee3$","decl":{"start":{"line":93,"column":44},"end":{"line":93,"column":53}},"loc":{"start":{"line":93,"column":65},"end":{"line":122,"column":5}},"line":93},"17":{"name":"createCharge","decl":{"start":{"line":125,"column":18},"end":{"line":125,"column":30}},"loc":{"start":{"line":125,"column":46},"end":{"line":127,"column":3}},"line":125},"18":{"name":"(anonymous_18)","decl":{"start":{"line":134,"column":0},"end":{"line":134,"column":1}},"loc":{"start":{"line":134,"column":12},"end":{"line":161,"column":1}},"line":134},"19":{"name":"_callee4","decl":{"start":{"line":137,"column":35},"end":{"line":137,"column":43}},"loc":{"start":{"line":137,"column":46},"end":{"line":156,"column":3}},"line":137},"20":{"name":"_callee4$","decl":{"start":{"line":138,"column":44},"end":{"line":138,"column":53}},"loc":{"start":{"line":138,"column":65},"end":{"line":155,"column":5}},"line":138},"21":{"name":"getBalance","decl":{"start":{"line":158,"column":18},"end":{"line":158,"column":28}},"loc":{"start":{"line":158,"column":31},"end":{"line":160,"column":3}},"line":158},"22":{"name":"(anonymous_22)","decl":{"start":{"line":167,"column":0},"end":{"line":167,"column":1}},"loc":{"start":{"line":167,"column":12},"end":{"line":192,"column":1}},"line":167},"23":{"name":"_callee5","decl":{"start":{"line":170,"column":35},"end":{"line":170,"column":43}},"loc":{"start":{"line":170,"column":46},"end":{"line":187,"column":3}},"line":170},"24":{"name":"_callee5$","decl":{"start":{"line":171,"column":44},"end":{"line":171,"column":53}},"loc":{"start":{"line":171,"column":65},"end":{"line":186,"column":5}},"line":171},"25":{"name":"getCustomers","decl":{"start":{"line":189,"column":18},"end":{"line":189,"column":30}},"loc":{"start":{"line":189,"column":33},"end":{"line":191,"column":3}},"line":189},"26":{"name":"(anonymous_26)","decl":{"start":{"line":198,"column":0},"end":{"line":198,"column":1}},"loc":{"start":{"line":198,"column":12},"end":{"line":234,"column":1}},"line":198},"27":{"name":"_callee6","decl":{"start":{"line":201,"column":35},"end":{"line":201,"column":43}},"loc":{"start":{"line":201,"column":55},"end":{"line":229,"column":3}},"line":201},"28":{"name":"_callee6$","decl":{"start":{"line":203,"column":44},"end":{"line":203,"column":53}},"loc":{"start":{"line":203,"column":65},"end":{"line":228,"column":5}},"line":203},"29":{"name":"webhook","decl":{"start":{"line":231,"column":18},"end":{"line":231,"column":25}},"loc":{"start":{"line":231,"column":36},"end":{"line":233,"column":3}},"line":231},"30":{"name":"getEvent","decl":{"start":{"line":238,"column":24},"end":{"line":238,"column":32}},"loc":{"start":{"line":238,"column":45},"end":{"line":250,"column":1}},"line":238},"31":{"name":"(anonymous_31)","decl":{"start":{"line":240,"column":36},"end":{"line":240,"column":37}},"loc":{"start":{"line":240,"column":58},"end":{"line":246,"column":5}},"line":240}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":176},"end":{"line":10,"column":263}},"type":"if","locations":[{"start":{"line":10,"column":176},"end":{"line":10,"column":263}},{"start":{"line":10,"column":176},"end":{"line":10,"column":263}}],"line":10},"1":{"loc":{"start":{"line":14,"column":13},"end":{"line":14,"column":110}},"type":"cond-expr","locations":[{"start":{"line":14,"column":55},"end":{"line":14,"column":81}},{"start":{"line":14,"column":84},"end":{"line":14,"column":110}}],"line":14},"2":{"loc":{"start":{"line":28,"column":8},"end":{"line":41,"column":9}},"type":"switch","locations":[{"start":{"line":29,"column":10},"end":{"line":33,"column":15}},{"start":{"line":35,"column":10},"end":{"line":36,"column":60}},{"start":{"line":38,"column":10},"end":{"line":38,"column":17}},{"start":{"line":39,"column":10},"end":{"line":40,"column":35}}],"line":28},"3":{"loc":{"start":{"line":61,"column":8},"end":{"line":74,"column":9}},"type":"switch","locations":[{"start":{"line":62,"column":10},"end":{"line":66,"column":15}},{"start":{"line":68,"column":10},"end":{"line":69,"column":62}},{"start":{"line":71,"column":10},"end":{"line":71,"column":17}},{"start":{"line":72,"column":10},"end":{"line":73,"column":36}}],"line":61},"4":{"loc":{"start":{"line":95,"column":8},"end":{"line":120,"column":9}},"type":"switch","locations":[{"start":{"line":96,"column":10},"end":{"line":98,"column":41}},{"start":{"line":100,"column":10},"end":{"line":103,"column":42}},{"start":{"line":105,"column":10},"end":{"line":112,"column":15}},{"start":{"line":114,"column":10},"end":{"line":115,"column":62}},{"start":{"line":117,"column":10},"end":{"line":117,"column":17}},{"start":{"line":118,"column":10},"end":{"line":119,"column":36}}],"line":95},"5":{"loc":{"start":{"line":140,"column":8},"end":{"line":153,"column":9}},"type":"switch","locations":[{"start":{"line":141,"column":10},"end":{"line":145,"column":15}},{"start":{"line":147,"column":10},"end":{"line":148,"column":62}},{"start":{"line":150,"column":10},"end":{"line":150,"column":17}},{"start":{"line":151,"column":10},"end":{"line":152,"column":36}}],"line":140},"6":{"loc":{"start":{"line":173,"column":8},"end":{"line":184,"column":9}},"type":"switch","locations":[{"start":{"line":174,"column":10},"end":{"line":176,"column":43}},{"start":{"line":178,"column":10},"end":{"line":179,"column":62}},{"start":{"line":181,"column":10},"end":{"line":181,"column":17}},{"start":{"line":182,"column":10},"end":{"line":183,"column":36}}],"line":173},"7":{"loc":{"start":{"line":205,"column":8},"end":{"line":226,"column":9}},"type":"switch","locations":[{"start":{"line":206,"column":10},"end":{"line":210,"column":96}},{"start":{"line":212,"column":10},"end":{"line":216,"column":18}},{"start":{"line":218,"column":10},"end":{"line":221,"column":31}},{"start":{"line":223,"column":10},"end":{"line":223,"column":18}},{"start":{"line":224,"column":10},"end":{"line":225,"column":36}}],"line":205},"8":{"loc":{"start":{"line":241,"column":6},"end":{"line":245,"column":7}},"type":"if","locations":[{"start":{"line":241,"column":6},"end":{"line":245,"column":7}},{"start":{"line":241,"column":6},"end":{"line":245,"column":7}}],"line":241},"9":{"loc":{"start":{"line":241,"column":10},"end":{"line":241,"column":23}},"type":"binary-expr","locations":[{"start":{"line":241,"column":10},"end":{"line":241,"column":14}},{"start":{"line":241,"column":18},"end":{"line":241,"column":23}}],"line":241},"10":{"loc":{"start":{"line":242,"column":19},"end":{"line":242,"column":47}},"type":"cond-expr","locations":[{"start":{"line":242,"column":32},"end":{"line":242,"column":42}},{"start":{"line":242,"column":45},"end":{"line":242,"column":47}}],"line":242}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":6,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":1,"21":1,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":1,"33":1,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":1,"43":0,"44":1,"45":1,"46":1,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":1,"61":0,"62":1,"63":1,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":1,"73":0,"74":1,"75":1,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":1,"85":0,"86":1,"87":1,"88":1,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":1,"105":0,"106":1,"107":1,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":1},"f":{"0":0,"1":6,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0},"b":{"0":[0,0],"1":[0,1],"2":[0,0,0,0],"3":[0,0,0,0],"4":[0,0,0,0,0,0],"5":[0,0,0,0],"6":[0,0,0,0],"7":[0,0,0,0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"inputSourceMap":{"version":3,"sources":["stripe.js"],"names":["SECRET","process","env","STRIPE_ENV","STRIPE_LIVE_SECRET","STRIPE_TEST_SECRET","stripe","require","maxNetworkRetries","createCustomer","email","customers","create","createSource","customer","id","source","createCharge","amount","currency","charges","getBalance","balance","retrieve","stripeAccount","STRIPE_ACCOUNT","getCustomers","list","webhook","req","done","sig","headers","webhooks","constructEvent","body","STRIPE_WEBHOOK_SECRET","event","getEvent","events","err","type","message"],"mappings":"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","sourceRoot":"C:\\Users\\Dxenu\\Desktop\\users-cubed-api-next\\app\\lib\\payments","sourcesContent":["import { STRIPE_TEST_SECRET, STRIPE_LIVE_SECRET, STRIPE_ACCOUNT, STRIPE_WEBHOOK_SECRET } from '../../config'\r\nconst SECRET = process.env.STRIPE_ENV === 'production' ? STRIPE_LIVE_SECRET : STRIPE_TEST_SECRET\r\nconst stripe = require('stripe')(SECRET, {\r\n  maxNetworkRetries: 2\r\n})\r\n\r\nexport const createCustomer = async (email) => {\r\n  return await stripe.customers.create({\r\n    email\r\n  })\r\n}\r\n\r\nexport const createSource = async (customer) => {\r\n  return await stripe.customers.createSource(customer.id, {\r\n    source: 'tok_visa'\r\n  })\r\n}\r\n\r\nexport const createCharge = async (email, amount, currency) => {\r\n  const customer = await createCustomer(email)\r\n  const source = await createSource(customer)\r\n  return await stripe.charges.create({\r\n    amount,\r\n    currency,\r\n    customer: source.customer\r\n  })\r\n}\r\n\r\nexport const getBalance = async () => {\r\n  return await stripe.balance\r\n    .retrieve({\r\n      stripeAccount: STRIPE_ACCOUNT\r\n    })\r\n}\r\n\r\nexport const getCustomers = async () => {\r\n  return await stripe.customers.list()\r\n}\r\n\r\nexport const webhook = async (req, done) => {\r\n  const sig = req.headers['stripe-signature']\r\n  try {\r\n    const event = await stripe.webhooks.constructEvent(req.body, sig, STRIPE_WEBHOOK_SECRET)\r\n    done(event)\r\n  } catch (err) {\r\n    done(err)\r\n  }\r\n}\r\n\r\nexport const getEvent = (body, done) => {\r\n  try {\r\n    stripe.events.retrieve(body.id, (err, event) => {\r\n      if (!err && event) {\r\n        done(null, event.type ? event.type : '')\r\n      } else {\r\n        done(err.message)\r\n      }\r\n    })\r\n  } catch (err) {\r\n    done(err.message)\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"88a385f2296ea4202e7ab43b4a0be73d34e80822","contentHash":"49757d3cf2ea77f0e26b898e687a9505a9ee945d6f0f4a1d31a257bf88e44bb5"}}